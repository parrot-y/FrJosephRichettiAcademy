;/*FB_PKG_DELIM*/

__d("WAWebWindowsHybridAppActivationBridge",["WAWebApi","WAWebApiParse","WAWebExecApiCmd"],(function(a,b,c,d,e,f,g){a=function(){function a(a){var b=this;this.initialize=function(){var a;(a=b.$1)==null||a.addEventListener("handleAppActivationViaProtocolEvent",b.handleAppActivationViaProtocolEvent);b.$1.subscribe(null)};this.handleAppActivationViaProtocolEvent=function(a){a=a.toString();a=d("WAWebApiParse").parseAPICmd(a);a.resultType!==d("WAWebApi").APICmd.INVALID&&c("WAWebExecApiCmd")({cmdData:a,isExternal:!0})};this.$1=a}var b=a.prototype;b.cleanup=function(){var a;(a=this.$1)==null||a.removeEventListener("handleAppActivationViaProtocolEvent",this.handleAppActivationViaProtocolEvent)};return a}();g.WindowsHybridAppActivationBridge=a}),98);
__d("WAWebHybridABPropsConfigs",[],(function(a,b,c,d,e,f){"use strict";a={add_to_call_in_chat_thread:[11700,"int",0,0],ai_chat_meta_ai_banner_m2_enabled:[18784,"bool",!1,!0],ai_chat_meta_ai_glasses_banner_enabled:[20405,"bool",!1,!0],ai_rich_response_forward_receiving_enabled:[16682,"bool",!1,!0],ai_search_bar_2025_redesign_enabled:[16208,"bool",!1,!1],ai_search_experience_enabled:[8025,"bool",!1,!1],ai_search_experience_web_enabled:[18740,"bool",!1,!0],ai_search_max_num_suggestions:[8076,"int",5,5],ai_search_meta_ai_send_button_enabled:[20603,"bool",!0,!0],ai_search_null_state_convo_starter_suggestions_update_interval:[17623,"int",86400,86400],ai_search_null_state_enabled:[8026,"bool",!0,!0],ai_search_null_state_row_count:[8407,"int",3,3],ai_search_null_state_update_interval:[8100,"int",86400,86400],ai_simplified_profile_page_enabled:[17104,"bool",!1,!1],call_offer_failed_soft_landing_screen_version:[10559,"int",0,1],calling_32p_version:[7709,"int",0,3],calling_audio_share_version:[6598,"int",0,0],calling_lid_version:[3358,"int",0,0],calling_ux_logging_bitmap:[8175,"int",0,0],calls_tab_username_global_search_enabled:[17698,"bool",!1,!1],camera_error_banners_version:[10584,"int",0,1],camera_health_check_delay:[8739,"int",5e3,5e3],camera_health_check_period:[8740,"int",2e3,2e3],ctwa_tos_filtering_enabled:[976,"bool",!1,!1],custom_notification_tones:[18884,"bool",!1,!1],data_sharing_transparency_indicator_duration:[5990,"int",604800,604800],dau_fix_delay_presence_on_focus:[18189,"bool",!1,!1],disclosure_for_the_marketing_message_body_links_enabled:[12994,"bool",!1,!1],educational_dialogs_button_enabled:[14676,"bool",!1,!1],enable_3p_contacts_share:[10889,"bool",!0,!0],enable_3p_contacts_share_hybrid:[20849,"bool",!1,!0],enable_auto_add_call_link_creator:[15184,"bool",!1,!1],enable_av_downgrade_1on1:[18165,"bool",!1,!1],enable_avatars_on_web_companion:[18081,"bool",!1,!1],enable_cached_media_manager:[4812,"bool",!0,!0],enable_call_control_m5:[8524,"bool",!1,!1],enable_call_link_call_log_aggregation:[16523,"bool",!1,!1],enable_call_links_push_notification:[13679,"bool",!1,!1],enable_calling_phone_number_privacy:[17731,"bool",!1,!1],enable_calling_username:[13359,"bool",!1,!1],enable_favorite_contacts_in_jump_list:[11507,"bool",!1,!0],enable_force_voip_logging:[7300,"bool",!1,!1],enable_grid_layout_tile_unification:[18066,"bool",!1,!1],enable_hybrid_call_links_creation:[15502,"bool",!0,!0],enable_hybrid_call_links_join:[15501,"bool",!0,!0],enable_hybrid_video_transcoding:[19895,"bool",!1,!1],enable_hybrid_video_transcoding_for_valid_mp4:[20070,"bool",!1,!1],enable_lazy_loading_of_call_view_elements:[5053,"bool",!1,!1],enable_lid_call_link:[8180,"bool",!1,!1],enable_new_call_link_representation:[16589,"bool",!1,!1],enable_new_ongoing_call_cell_ui:[11426,"bool",!1,!0],enable_rate_app_prompt:[19894,"bool",!1,!1],enable_schedule_call_from_calls_tab:[15213,"bool",!1,!1],enable_sharing_files_from_web_windows_hybrid:[21184,"bool",!1,!0],enable_silent_offer:[3235,"bool",!1,!0],enable_tooltip_for_media_hub:[21535,"bool",!1,!1],enable_turn_on_call_notification_reminders:[5360,"bool",!1,!0],enable_unified_call_buttons_in_chat:[13497,"bool",!1,!1],enable_upcoming_schedule_call_events_in_calls_tab:[15514,"bool",!1,!1],enable_uwp_device_switch_banner:[10416,"bool",!1,!0],enable_uwp_screen_share_teaching_tip:[6264,"bool",!0,!0],enable_uwp_share_any_window:[4801,"bool",!1,!1],enable_uwp_swap_video_stream:[10241,"bool",!0,!0],enable_video_metrics_fix:[20520,"bool",!1,!1],enable_waiting_room_admin_ui:[21676,"bool",!1,!1],enable_waiting_room_ui:[19819,"bool",!1,!1],enable_web_calling:[15461,"bool",!1,!1],enable_windows_hybrid_jumplist_contacts:[21057,"bool",!1,!0],enable_windows_jumplist_hybrid:[20899,"bool",!1,!0],files_media_hub_web:[14751,"bool",!1,!1],files_media_hub_web_max_length:[17233,"int",5e3,5e3],files_media_hub_web_variant:[16511,"int",0,0],group_call_max_participants:[4190,"int",32,32],group_create_add_using_lid_jids:[16192,"bool",!1,!1],group_history_message_count_limit:[18405,"int",100,100],group_history_message_count_receiver_upper_limit:[19811,"int",100,100],group_history_messages_time_limit_receiver_enforcement_secs:[21313,"int",1209600,1209600],group_history_notice_receive:[15722,"bool",!1,!1],group_history_receive:[15311,"bool",!1,!1],group_history_receiver_floating_banner:[21568,"bool",!1,!1],group_history_send:[15313,"bool",!1,!1],group_history_settings:[21261,"bool",!1,!1],group_history_settings_toggle_ui:[21481,"bool",!1,!1],group_history_support_history_sync_receiver_pre_chat:[20658,"bool",!1,!1],hand_raise_receiver_enabled:[13540,"bool",!1,!1],heartbeat_interval_s:[1430,"int",10,5],hybrid_educational_dialog_start_at:[14675,"string"," "," "],hybrid_educational_dialogs_enabled:[14674,"bool",!1,!1],in_app_bug_reporting_description_min_chars:[17295,"int",10,10],is_meta_employee_or_internal_tester:[1777,"bool",!1,!1],kaleidoscope_thumbnail_validation:[18114,"bool",!1,!0],lobby_timeout_min:[1565,"int",0,1],max_group_size_for_long_ringtone:[4710,"int",0,0],max_num_participants_for_ss:[3694,"int",8,8],max_number_of_frequently_used_contacts_shared_with_device:[10977,"int",15,15],max_number_of_recent_contacts_shared_with_device:[10978,"int",15,15],md_syncd_logging_spec_enabled:[14499,"bool",!1,!1],member_name_tag_db_enabled:[16551,"bool",!0,!0],member_name_tag_receiver_enabled:[13523,"bool",!1,!0],member_name_tag_sender_enabled:[13524,"bool",!1,!0],message_capping_upsell_version:[19781,"int",0,0],mm_data_sharing_disclosure_enabled:[5869,"bool",!1,!1],mm_data_sharing_disclosure_enabled_companion_history_sync:[21288,"bool",!1,!0],mm_signal_sharing_collection_window_logging_enabled:[18126,"bool",!1,!1],mm_signal_sharing_verification_system_lid_enabled:[16727,"bool",!0,!0],mm_user_controls_entry_points_update_m1_menu:[20381,"bool",!1,!0],new_chat_msg_capping_first_warning_threshold_percentage:[18967,"int",50,50],noise_pq_mode:[20161,"int",0,0],optimized_delivery_block_and_report_entry_points_allowlist_web:[18736,"string","",""],optimized_delivery_multiple_collection_windows_enabled:[14588,"bool",!1,!0],optimized_delivery_signal_collection_config:[10302,"string","{}",'{"consented_collection_window_in_hours":168,"non_consented_collection_window_in_hours":168,"consented_types_allowlist":[0,1,2,3,4,5,6,7,8,9,10,11,12],"non_consented_types_allowlist":[0,1,2,3,4,5,6,7,8,9,10,11,12]}'],optimized_delivery_signal_collection_enabled:[9348,"bool",!1,!0],optimized_delivery_signal_collection_on_companions_enabled:[15884,"bool",!1,!1],optimized_delivery_tokens_storage_config:[10303,"string","{}",'{"store_consented_token_enabled":true,"store_non_consented_token_enabled":true}'],payments_br_pix_on_web:[16156,"bool",!1,!1],pending_group_requests_persistent_banner:[20545,"bool",!1,!0],position_of_me_contact_shared_with_device:[10979,"int",3,3],prefer_lid_for_chatd_login:[19191,"bool",!1,!1],reactions_receiver_enabled:[13542,"bool",!1,!1],recent_contacts_shared_first:[10980,"bool",!0,!0],report_call_replayer_id:[1834,"bool",!1,!1],schedule_call_show_join_button_time_interval_mins:[16253,"int",5,5],schedule_call_show_upcoming_banner_time_interval_mins:[16254,"int",1440,1440],shimmed_links_in_the_marketing_message_body_enabled:[12995,"bool",!1,!1],should_prewarm_voip_application_settings:[17966,"bool",!1,!1],show_integrity_screensharing_friction_ui:[16411,"bool",!1,!0],show_integrity_screensharing_friction_ui_logging_enabled:[17158,"bool",!1,!0],smoothie_performance_css_dom:[18995,"bool",!1,!1],smoothie_performance_resize_followup:[18992,"bool",!1,!1],unified_calling_entry_point_desktop_type:[21591,"int",0,0],unified_session_log_call_event:[8582,"bool",!1,!1],unify_end_call_events:[2856,"bool",!1,!1],username_contact_display:[4746,"bool",!1,!0],username_lid_migration_calling:[21890,"bool",!1,!1],username_max_length:[20459,"int",35,35],username_min_length:[20494,"int",3,3],username_search:[15956,"bool",!1,!0],uwp_voip_incoming_call_notification_version:[7541,"int",0,0],voice_chat_companion_experience_version:[17052,"int",0,0],voip_call_coordinator_version:[9502,"int",0,0],wa_capping_local_data_logic_update:[21348,"bool",!1,!0],wa_individual_new_chat_msg_capping_enabled:[20865,"bool",!1,!0],wa_individual_new_chat_msg_capping_fetch_ttl_seconds:[20649,"int",3600,3600],wa_individual_new_chat_msg_capping_limit:[17845,"int",0,0],wa_individual_new_chat_msg_capping_mv_get_subscription_v2:[20667,"bool",!1,!0],wa_individual_new_chat_msg_capping_ote_reason:[19942,"bool",!1,!0],wa_individual_new_chat_msg_fci_staleness_ttl_in_seconds:[21410,"int",120,120],wa_individual_new_chat_msg_latest_rampup_date:[20601,"int",0,0],web_channel_video_server_transcode_upload:[19920,"bool",!1,!1],web_chat_info_action_buttons_refresh:[14664,"bool",!1,!0],web_ip_token_enabled:[20043,"bool",!1,!1],webview2_disable_gpu_acceleration:[18262,"bool",!1,!1],webview2_enable_offline_support:[21793,"bool",!1,!1],win_call_log_send_outgoing_syncd_mutations:[5308,"bool",!1,!0],win_enable_ss_button_audio:[9633,"bool",!1,!1],win_hybrid_force_persistent_storage_permission:[20260,"bool",!0,!0],win_network_state_watchdog_interval:[7737,"int",30,30],windows_graceful_degradation_version:[8454,"int",0,0],windows_ss_capture_driver_type:[10434,"int",0,0],winrt_renderer:[10966,"bool",!0,!0]};f.ABPropConfigs=a}),66);
__d("WAWebHybridABProps",["WALogger","WAWebABPropsCache","WAWebHybridABPropsConfigs"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){var b=d("WAWebABPropsCache").getAllABPropsMap(),c=Object.values(d("WAWebHybridABPropsConfigs").ABPropConfigs).map(function(c){var e=b.get(c[0]);if(e==null){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[abprops] missing config for hybrid abprop ",""])),c[0]);return null}return a&&e.configValue===c[2]?null:e}).filter(Boolean);return c}function a(){var a=new Map();i(!1).forEach(function(b){b.configExpoKey!=null&&a.set(b.configExpoKey,b.configCode)});return a}g.getAllHybridAbProps=i;g.getAllHybridExpoKeys=a}),98);
__d("WAWebWindowsHybridBridgeAbProps",["WALogger","WAWebABPropsCache","WAWebABPropsLocalStorage","WAWebBackendApi","WAWebHybridABProps","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h;a=function(){function a(a){var c=this;this.$2=!1;this.$4=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b;c.$3==null&&(c.$3=d("WAWebHybridABProps").getAllHybridExpoKeys());a=a.toString();b=(b=c.$3)==null?void 0:b.get(a);if(b==null){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[abprops][windows hybrid] unknown exposure key: ",""])),a);return}d("WAWebABPropsCache").saveExposure(b);c.$1.acknowledgeExposure(a)});return function(b){return a.apply(this,arguments)}}();this.$5=function(a){c.$3=null;var b=d("WAWebABPropsLocalStorage").getABKey();if(a!==b){a=d("WAWebHybridABProps").getAllHybridAbProps(!1);c.$1.setConfigs(b,JSON.stringify(a))}};this.$1=a}var c=a.prototype;c.initialize=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=this;if(this.$2)return;this.$2=!0;yield d("WAWebABPropsCache").waitForABPropConfigsReady();this.$1.addEventListener("exposureLogged",this.$4);this.$1.subscribe(null);var b=(yield this.$1.getVersion());d("WAWebBackendApi").frontendFireAndForget("addAbPropsUpdateListener",function(){a.$5(null)});this.$5(b)});function c(){return a.apply(this,arguments)}return c}();return a}();g.WindowsHybridBridgeAbProps=a}),98);
__d("WAWebWindowsHybridBridgeAdv",["WABase64","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){a=function(){function a(a){this.$1=a}var c=a.prototype;c.verifySignatureAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){b=(yield this.$1.verify(d("WABase64").encodeB64(b),d("WABase64").encodeB64(c),d("WABase64").encodeB64(a)));return b});function c(b,c,d){return a.apply(this,arguments)}return c}();return a}();g.WindowsHybridBridgeAdv=a}),98);
__d("WAWebWindowsHybridBridgeBrowserExtensions",["asyncToGeneratorRuntime"],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=a}var c=a.prototype;c.getBrowserExtensionsInfoAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield this.$1.getBrowserExtensionsInfoAsync());return JSON.parse(a)});function c(){return a.apply(this,arguments)}return c}();c.enableBrowserExtensionAsync=function(a,b){return this.$1.enableBrowserExtensionAsync(a,b)};c.removeBrowserExtensionAsync=function(a){return this.$1.removeBrowserExtensionAsync(a)};c.hasBootstrappedSuccessfully=function(){return this.$1.hasBootstrappedSuccessfully()};c.getZoomBrowserExtensionInfoAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield this.$1.getZoomBrowserExtensionInfoAsync());return JSON.parse(a)});function c(){return a.apply(this,arguments)}return c}();c.enableZoomBrowserExtensionAsync=function(a){return this.$1.enableZoomBrowserExtensionAsync(a)};c.removeZoomBrowserExtensionAsync=function(){return this.$1.removeZoomBrowserExtensionAsync()};c.installZoomBrowserExtensionAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield this.$1.installZoomBrowserExtensionAsync());return JSON.parse(a)});function c(){return a.apply(this,arguments)}return c}();return a}();f.WindowsHybridBridgeBrowserExtensions=a}),66);
__d("WAWebSetWindowsPushConfig",["WADeprecatedSendIq","WADeprecatedWapParser","WALogger","WAWap","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j=new(c("WADeprecatedWapParser"))("setPushConfig",function(a){if(!a.hasChild("error")){d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["setPushConfig: success"]))).tags("push-notification");return}a=a.child("error");var b=a.attrInt("code");a=a.attrString("text");d("WALogger").WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(["setPushConfig: server response with ",", ",""])),b,a).tags("push-notification");return{errorCode:b,errorText:a}});function a(a,b){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b===void 0&&(b="uwp_beta");a=d("WAWap").wap("iq",{to:d("WAWap").S_WHATSAPP_NET,type:"set",xmlns:"urn:xmpp:whatsapp:push",id:d("WAWap").generateId()},d("WAWap").wap("config",{id:d("WAWap").CUSTOM_STRING(a),platform:"wns",version:l(b)}));b=(yield d("WADeprecatedSendIq").deprecatedSendIq(a,j));if(!b.success){a=b.errorCode;var c=b.errorText;return{errorCode:a,errorText:c}}return b.result});return k.apply(this,arguments)}function l(a){if(a==="uwp_hybrid_dogfooding")return"uwp_hybrid_dogfooding";switch(a){case"uwp_alpha":return"uwp_alpha";case"uwp_beta":return"uwp_beta";case"uwp_public":return d("WAWap").DROP_ATTR;case"uwp_hybrid_dogfooding":return"uwp_hybrid_dogfooding";default:return"uwp_beta"}}g.setWindowsPushConfig=a}),98);
__d("WAWebWindowsHybridBridgeConnection",["WAComms","WALogger","WAPromiseDelays","WAResolvable","WAWebCallCollection","WAWebEventsWaitForMainStreamReadyMd","WAWebEventsWaitForOfflineDeliveryEnd","WAWebSetWindowsPushConfig","WAWebSocketConstants","WAWebSocketModel","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v;a=function(){function a(a){var e=this;this.$2=!1;this.$3=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.data.toString();a=(a=a.channel)==null?void 0:a.toString();d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleUpdateNotificationsTokenEvent"]))).devConsole(b,a);yield c("WAWebEventsWaitForMainStreamReadyMd")();yield d("WAWebSetWindowsPushConfig").setWindowsPushConfig(b,a);e.$1.handleConnectionState(!0);e.$1.acknowledgeNotificationsToken(b,a)});return function(b){return a.apply(this,arguments)}}();this.$4=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent"])));try{var a;if(!e.$2&&(((a=d("WAComms").getComms())==null?void 0:a.socket)==null||d("WAWebSocketModel").Socket.stream===d("WAWebSocketConstants").SOCKET_STREAM.DISCONNECTED)){d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: socket already closed"])));e.$1.handleConnectionState(!1);return}yield e.$6();yield d("WAPromiseDelays").delayMs(3e4);d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: offline resume complete"])));if(c("WAWebCallCollection").activeCall!=null){d("WALogger").LOG(l||(l=babelHelpers.taggedTemplateLiteralLoose(["voip: WindowsHybridBridgeConnection:handleDisconnectEvent: awaiting active call completion"])));var b=new(d("WAResolvable").Resolvable)();a=function(){c("WAWebCallCollection").activeCall==null&&b.resolve()};c("WAWebCallCollection").on("change:activeCall",a);yield b.promise;c("WAWebCallCollection").off("change:activeCall",a);d("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["voip: WindowsHybridBridgeConnection:handleDisconnectEvent: active call completed"])))}else d("WALogger").LOG(n||(n=babelHelpers.taggedTemplateLiteralLoose(["voip: WindowsHybridBridgeConnection:handleDisconnectEvent: no active call"])));d("WAComms").closeSocketAndPause();d("WALogger").LOG(o||(o=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: socket closed"])));e.$1.handleConnectionState(!1)}catch(a){d("WALogger").ERROR(p||(p=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: failed to close socket: ",""])),a)}});this.$5=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WALogger").LOG(q||(q=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection.handleConnectEvent"])));if(e.$2){d("WALogger").LOG(r||(r=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleConnectEvent: socket already opening"])));return}try{var a;a=((a=d("WAComms").getComms())==null?void 0:a.socket)!=null;a||(e.$2=!0,d("WAComms").closeSocketAndResume(),d("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleConnectEvent: socket opened"]))));yield e.$6();d("WALogger").LOG(t||(t=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleConnectEvent: offline resume complete"])));e.$1.handleConnectionState(!0)}catch(a){d("WALogger").ERROR(u||(u=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleConnectEvent: failed to open socket: ",""])),a)}finally{e.$2=!1}});this.$1=a;this.$1.addEventListener("updateNotificationsTokenEvent",this.$3);this.$1.addEventListener("disconnectEvent",this.$4);this.$1.addEventListener("connectEvent",this.$5);this.$1.subscribe(null)}var e=a.prototype;e.$6=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield d("WAComms").waitForConnection(),d("WAWebEventsWaitForOfflineDeliveryEnd").isOfflineDeliveryEnd()||(d("WALogger").LOG(v||(v=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:waitForOfflineResume"]))),yield d("WAWebEventsWaitForOfflineDeliveryEnd").waitForOfflineDeliveryEnd())});function c(){return a.apply(this,arguments)}return c}();return a}();g.WindowsHybridBridgeConnection=a}),98);
__d("WAWebWindowsHybridBridgeContacts",["WALogger","WAWebBackendApi","WAWebContactsDbLidMigrationUtils","WAWebEventsWaitForMainStreamReadyMd","WAWebLidAwareContactsDB","WAWebSchemaContact_DO_NOT_USE_DIRECTLY","WAWebSyncBootstrap","asyncToGeneratorRuntime","filterNulls"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a,e,f){var g=this;this.$4="contacts";this.$5=new Set();this.$6=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=JSON.parse(a);if(a.length===0)return;a.forEach(function(a){return g.$5.add(a)});var b=(yield c("WAWebLidAwareContactsDB").bulkGet(a));b.forEach(function(a){return g.$5["delete"](a==null?void 0:a.id)});a=a.filter(function(a){return g.$5.has(a)});a.forEach(function(a){return g.$5["delete"](a)});void g.$1.updateContacts(a,JSON.stringify(c("filterNulls")(b)))});return function(b){return a.apply(this,arguments)}}();this.$7=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.count;a=a.includeVoipCallableOnly;try{b=(yield d("WAWebBackendApi").frontendSendAndReceive("getFrequentContacts",{count:b,includeVoipCallableOnly:a}));a=JSON.stringify(b);void g.$1.receiveFrequentContacts(a)}catch(a){void g.$1.receiveFrequentContacts(JSON.stringify([]))}});return function(b){return a.apply(this,arguments)}}();this.$1=a;this.$2=e;this.$3=f;a.addEventListener("requestUpdateEvent",this.$6);a.addEventListener("requestFrequentContactsEvent",this.$7);a.subscribe(null)}var e=a.prototype;e.initialize=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=this;c("WAWebLidAwareContactsDB").setUpdateListener(function(b){return a.$8(b)});yield c("WAWebEventsWaitForMainStreamReadyMd")();if(this.$3)return;if(c("WAWebSyncBootstrap").isSyncDBootstrapInProcess())return;this.$3=!0;try{var b=200,e=(yield d("WAWebSchemaContact_DO_NOT_USE_DIRECTLY").getContactTable().all({limit:b,offset:0}));do{var f;f=(f=e[e.length-1])==null?void 0:f.id;e=(yield d("WAWebContactsDbLidMigrationUtils").replacePnRowsWithLidData(e));yield this.$1.updateContacts([],JSON.stringify(e));e=(yield d("WAWebSchemaContact_DO_NOT_USE_DIRECTLY").getContactTable().greaterThan(["id"],f,{limit:b}))}while(e.length>0);this.$1.acknowledgeInitialSync()}catch(a){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[WinUi] setInitialData "," error ",""])),this.$4,a)}});function e(){return a.apply(this,arguments)}return e}();e.$8=function(a){var b=this;if(!this.$3)return;a=a.filter(function(a){return!b.$5.has(a)});if(a.length===0)return;a.forEach(function(a){return b.$5.add(a)});this.$2.invalidateContacts(a)};return a}();g.WindowsHybridBridgeContacts=a}),98);
__d("WAWebWindowsHybridBridgeDebugFeatures",["WALogger","WAWebBackendApi","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i=1e3;a=function(){function a(a){var b=this;this.$2=null;this.ping=function(a){var c,e=self.performance.now();c=(e-((c=b.$2)!=null?c:e)).toFixed(0);b.$2=e;d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeDebugFeatures:ping:"," diff:","ms"])),a,c);b.$1.pong(a.valueOf())};this.$1=a;(a=this.$1)==null||a.addEventListener("jsLogs",function(){b.saveJSLogs()});(a=this.$1)==null||a.addEventListener("requestWebLogStringEvent",function(a){void b.requestWebLogString(a)});(a=this.$1)==null||a.addEventListener("pingEvent",this.ping);this.$1.subscribe(null)}var c=a.prototype;c.startHangsMonitor=function(){this.$1.startHangsMonitor()};c.saveNativeLogs=function(){this.$1.saveNativeLogs()};c.requestNativeLogs=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){return this.$1.requestNativeLogs()});function c(){return a.apply(this,arguments)}return c}();c.saveJSLogs=function(){d("WAWebBackendApi").frontendFireAndForget("createDownloadDataForMdWebLogs")};c.limitStringSize=function(a,b){var c=new Blob([a],{type:"text/plain"});if(c.size>b){c=c.size-b;return a.substr(c)}return a};c.requestWebLogString=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield d("WAWebBackendApi").frontendSendAndReceive("getWebLogs"));b=this.limitStringSize(b,30*i);this.$1.sendWebLogString(a.toString(),b)});function c(b){return a.apply(this,arguments)}return c}();return a}();g.WindowsHybridBridgeDebugFeatures=a}),98);
__d("WAWebWindowsHybridBridgeLinksPreview",["asyncToGeneratorRuntime"],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=a}var c=a.prototype;c.getPreviewAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield this.$1.getPreviewAsync(a));return a==null||a===""?null:JSON.parse(a)});function c(b){return a.apply(this,arguments)}return c}();return a}();f.WindowsHybridBridgeLinksPreview=a}),66);
__d("WAWebWindowsHybridBridgeMediaFiles",[],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=a}var b=a.prototype;b.isCachedMediaFileExist=function(a,b){return this.$1.isCachedMediaFileExist(a,b)};b.tryOpenCachedMediaFile=function(a,b){return this.$1.tryOpenCachedMediaFileFile(a,b)};b.prepareForMediaFileSaving=function(a,b,c){return this.$1.prepareForMediaFileSaving(a,b,c)};b.waitTillMediaDownloadCompletes=function(a,b,c){return this.$1.waitTillMediaDownloadCompletes(a,b,c)};b.selectFolderForBulkMediaSaving=function(){return this.$1.selectFolderForBulkMediaSaving()};b.prepareForZipArchiveSavingAndUnarchiveToFolder=function(a,b,c,d){return this.$1.prepareForZipArchiveSavingAndUnarchiveToFolder(a,b,c,d)};b.requestFileSystemDirectoryHandle=function(a){return this.$1.requestFileSystemDirectoryHandle(a)};b.tryCopyCachedMediaFile=function(a){return this.$1.tryCopyCachedMediaFile(a)};b.tryCopyCachedMediaFiles=function(a){return this.$1.tryCopyCachedMediaFiles(a)};return a}();f.WAWebWindowsHybridBridgeMediaFiles=a}),66);
__d("WAWebWindowsHybridBridgeMediaTranscoder",["Promise","WALogger","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D;a=function(){function a(a,b){var c=this;this.$3=new Map();this.$4=new Map();this.$6=function(a){d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[onProgressChanged] sourceBufferId=",", percentage=",""])),a.sourceBufferId,a.percentage);var b=c.$4.get(a.sourceBufferId);b&&b(a.percentage)};this.$1=b;this.$2=a;this.$2.addEventListener("sharedbufferreceived",function(a){a=a;c.$5(a)});this.$1.addEventListener("onProgressChangedEvent",this.$6);this.$1.subscribe(null)}var e=a.prototype;e.requestSharedBufferForTranscoding=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){var f=this;d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[requestSharedBufferForTranscoding] Starting shared buffer request for requestId=",", bufferSize=",""])),a,e);var g=2*1024*1024*1024;if(e>=g){g="Buffer size "+e+" exceeds maximum allowed size of "+g+" bytes (2GB)";d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[requestSharedBufferForTranscoding] ",""])),g);throw c("err")(g)}try{g=new(D||(D=b("Promise")))(function(){var g=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,g){f.$3.set(a,b);d("WALogger").DEV(k||(k=babelHelpers.taggedTemplateLiteralLoose(["[requestSharedBufferForTranscoding] Added pending request for requestId=",""])),a);try{b=(yield f.$1.tryRequestSharedBufferForTranscodingAsync(a,e));!b?(f.$3["delete"](a),d("WALogger").ERROR(l||(l=babelHelpers.taggedTemplateLiteralLoose(["[requestSharedBufferForTranscoding] Failed to create shared buffer for requestId=",", bufferSize=",""])),a,e),g(c("err")("Failed to create shared buffer for transcoding"))):d("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["[requestSharedBufferForTranscoding] Shared buffer creation initiated successfully, waiting for buffer"])))}catch(b){f.$3["delete"](a),d("WALogger").ERROR(n||(n=babelHelpers.taggedTemplateLiteralLoose(["[requestSharedBufferForTranscoding] Error during shared buffer request: ",""])),String(b)),g(b)}});return function(a,b){return g.apply(this,arguments)}}());g=(yield g);return[g.additionalData.BufferId,g.buffer]}catch(a){d("WALogger").ERROR(o||(o=babelHelpers.taggedTemplateLiteralLoose(["[requestSharedBufferForTranscoding] Error awaiting shared buffer response: ",""])),String(a));throw a}});function e(b,c){return a.apply(this,arguments)}return e}();e.performVideoTranscodingFromSharedBuffer=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f){var g=this;d("WALogger").LOG(p||(p=babelHelpers.taggedTemplateLiteralLoose(["[performVideoTranscodingFromSharedBuffer] Starting video transcoding from sourceBufferId="," to resultBufferId="," with maxResultSize=",""])),a,e,f);var h=(yield new(D||(D=b("Promise")))(function(){var h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,h){g.$3.set(e,b);d("WALogger").DEV(q||(q=babelHelpers.taggedTemplateLiteralLoose(["[performVideoTranscodingFromSharedBuffer] Added pending request for resultBufferId=",""])),e);try{b=(yield g.$1.performVideoTranscodingFromSharedBuffer(a,e,f));!b?(g.$3["delete"](e),d("WALogger").ERROR(r||(r=babelHelpers.taggedTemplateLiteralLoose(["[performVideoTranscodingFromSharedBuffer] Video transcoding failed for sourceBufferId=",", resultBufferId="," with maxResultSize=",""])),a,e,f),h(c("err")("Video transcoding failed"))):d("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["[performVideoTranscodingFromSharedBuffer] Video transcoding initiated successfully, waiting for result buffer"])))}catch(a){g.$3["delete"](e),d("WALogger").ERROR(t||(t=babelHelpers.taggedTemplateLiteralLoose(["[performVideoTranscodingFromSharedBuffer] Error during video transcoding: ",""])),String(a)),h(a)}});return function(a,b){return h.apply(this,arguments)}}()));return[h.additionalData.BufferId,h.buffer]});function e(b,c,d){return a.apply(this,arguments)}return e}();e.getVideoPreviewFrameFromSharedBuffer=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){var f=this,g,h;d("WALogger").LOG(u||(u=babelHelpers.taggedTemplateLiteralLoose(["[getVideoPreviewFrameFromSharedBuffer] Starting video preview frame extraction from sourceBufferId="," to resultBufferId=",""])),a,e);var i=(yield new(D||(D=b("Promise")))(function(){var g=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,g){f.$3.set(e,b);d("WALogger").DEV(v||(v=babelHelpers.taggedTemplateLiteralLoose(["[getVideoPreviewFrameFromSharedBuffer] Added pending request for resultBufferId=",""])),e);try{b=(yield f.$1.getVideoPreviewFrameFromSharedBuffer(a,e));!b?(f.$3["delete"](e),d("WALogger").ERROR(w||(w=babelHelpers.taggedTemplateLiteralLoose(["[getVideoPreviewFrameFromSharedBuffer] Video preview frame extraction failed for sourceBufferId=",", resultBufferId=",""])),a,e),g(c("err")("Video preview frame extraction failed"))):d("WALogger").LOG(x||(x=babelHelpers.taggedTemplateLiteralLoose(["[getVideoPreviewFrameFromSharedBuffer] Video preview frame extraction initiated successfully, waiting for result buffer"])))}catch(a){f.$3["delete"](e),d("WALogger").ERROR(y||(y=babelHelpers.taggedTemplateLiteralLoose(["[getVideoPreviewFrameFromSharedBuffer] Error during video preview frame extraction: ",""])),String(a)),g(a)}});return function(a,b){return g.apply(this,arguments)}}()));g=(g=(g=i.additionalData)==null?void 0:g.Width)!=null?g:0;h=(h=(h=i.additionalData)==null?void 0:h.Height)!=null?h:0;return[i.additionalData.BufferId,i.buffer,g,h]});function e(b,c){return a.apply(this,arguments)}return e}();e.releaseSharedBuffer=function(a){d("WALogger").LOG(z||(z=babelHelpers.taggedTemplateLiteralLoose(["[releaseSharedBuffer] Releasing shared buffer with bufferId=",""])),a),this.$1.releaseSharedBuffer(a)};e.setProgressCallback=function(a,b){this.$4.set(a,b)};e.clearProgressCallback=function(a){this.$4["delete"](a)};e.$5=function(a){if(a.additionalData&&a.additionalData.Source==="MediaTranscodingService"){var b;b=(b=a.additionalData)==null?void 0:b.BufferId;d("WALogger").LOG(A||(A=babelHelpers.taggedTemplateLiteralLoose(["[onSharedBufferReceived] Received shared buffer for bufferId=",""])),b);if(b!=null){var c=this.$3.get(b);c?(this.$3["delete"](b),d("WALogger").DEV(B||(B=babelHelpers.taggedTemplateLiteralLoose(["[onSharedBufferReceived] Resolving pending request for bufferId=",""])),b),c({buffer:a.getBuffer(),additionalData:a.additionalData})):d("WALogger").DEV(C||(C=babelHelpers.taggedTemplateLiteralLoose(["[onSharedBufferReceived] No pending request found for bufferId=",""])),b)}}};return a}();g.WindowsHybridBridgeMediaTranscoder=a}),98);
__d("WAWebWindowsHybridBridgeNativeAppState",["$InternalEnum","WALogger","WAWebEventEmitter","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l=b("$InternalEnum")({Normal:"normal",MinimizedToTray:"minimizedToTray"});a=function(a,e){var f=this;this.$4=new(c("WAWebEventEmitter"))();this.$5=function(a){a=a.toString();var b=l.cast(a);b!=null?d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeNativeAppState:appStateChanged: ",""])),l.getName(b)):d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeNativeAppState:appStateChanged: invalid appStateId: ",""])),a);f.$3=b;f.$4.trigger("appStateChanged",f.isMinimizedToTray())};this.getAppState=function(){return f.$3};this.getEvents=function(){return f.$4};this.isMinimizedToTray=function(){return f.getAppState()===l.MinimizedToTray};this.takeAppLaunchTimeStamp=function(){return f.$2.takeAppLaunchTimeStamp()};this.getFirstAppRestoreTimeStamp=function(){return f.$2.getFirstAppRestoreTimeStamp()};this.getLastAppRestoreTimeStamp=function(){return f.$2.getLastAppRestoreTimeStamp()};this.detectNativeClockSkew=function(){return f.$2.detectNativeClockSkew(Date.now())};this.getAppStateAsync=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=f.$1.getAppState();a=a.toString();var b=l.cast(a);b!=null?d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeNativeAppState:getAppStateAsync: ",""])),l.getName(b)):d("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeNativeAppState:getAppStateAsync: invalid appState '","'"])),a);return b});this.$1=a;this.$2=e;this.$1.addEventListener("appStateChangedEvent",this.$5);this.$1.subscribe(null)};g.AppState=l;g.WindowsHybridBridgeNativeAppState=a}),98);
__d("WAWebWindowsHybridBridgePictures",["WAJids","WALogger","WAWebLidMigrationUtils","WAWebProfilePicThumbCollection","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;a=function(){function a(a){var c=this;this.$2=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=JSON.parse(a);for(a of a){var b;if(d("WAJids").validateGroupJid(a.id.toString())){var e=d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.get(a.id);(e==null?void 0:e.eurl)!==a.eurl&&c.$1.setProfilePictures(JSON.stringify([{eurl:e==null?void 0:e.eurl,id:a.id.toString()}]));continue}e=d("WAWebLidMigrationUtils").toPn(a.id);if(e==null){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[WindowsHybridBridgePictures] PN WID is null"])));continue}var f=d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.get(e);f==null&&e!=null&&(f=(yield d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.resyncPicturesByWid([e])));if(((b=f)==null?void 0:b.eurl)!==a.eurl){c.$1.setProfilePictures(JSON.stringify([{eurl:(b=f)==null?void 0:b.eurl,id:e.toString()}]));b=d("WAWebLidMigrationUtils").toLid(a.id);if(b==null){d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[WindowsHybridBridgePictures] LID WID is null for PN WID: ",""])),e);continue}c.$1.setProfilePictures(JSON.stringify([{eurl:(e=f)==null?void 0:e.eurl,id:b.toString()}]))}}});return function(b){return a.apply(this,arguments)}}();this.$1=a;a.addEventListener("verifyPictureEvent",this.$2);a.subscribe(null)}var c=a.prototype;c.notifyUpdate=function(a){if(a==null)return;if(d("WAJids").validateGroupJid(a.id.toString())){this.$1.setProfilePictures(JSON.stringify([{eurl:a.eurl,id:a.id.toString()}]));return}if(!a.id.isUser())return;var b=d("WAWebLidMigrationUtils").toPn(a.id),c=d("WAWebLidMigrationUtils").toLid(a.id);if(b==null){d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[WindowsHybridBridgePictures] PN WID is null"])));return}if(c==null){d("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["[WindowsHybridBridgePictures] LID WID is null for PN WID: ",""])),b);return}this.$1.setProfilePictures(JSON.stringify([{eurl:a.eurl,id:b.toString()}]));this.$1.setProfilePictures(JSON.stringify([{eurl:a.eurl,id:c.toString()}]))};return a}();g.WindowsHybridBridgePictures=a}),98);
__d("WAWebWindowsHybridBridgePreferences",["WAWebUserPrefsBase","WAWebUserPrefsKeys","WAWebUserPrefsLocalStorage","WAWebUserPrefsStore"],(function(a,b,c,d,e,f,g){var h="WANativePreferencesRevision";a=function(){function a(a){var b=this;this.$2=!1;this.$3=null;this.$4=new Set();this.initialize=function(){var a;if(b.$2)return;b.$4.add(String(d("WAWebUserPrefsKeys").UserPrefs.WindowsIsSystemTrayEnabled));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.SYSTEM_THEME_MODE));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.THEME));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.ME_DISPLAY_NAME));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LAST_PUSHNAME));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LID));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LAST_WID_MD));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LANG_FROM_PHONE));b.$4.add(String(d("WAWebUserPrefsKeys").UserPrefs.AbpropsWebRefreshId));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.ABPROPS_REFRESH_ID));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.ABPROPS));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LANG_FROM_USER));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.GLOBAL_MUTE_CALL_RINGTONE));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.GLOBAL_MUTE_CALL_NOTIFICATIONS));b.$4.add(String(d("WAWebUserPrefsKeys").UserPrefs.WindowsNotificationBannerSetting));b.$4.add(String(d("WAWebUserPrefsKeys").UserPrefs.WindowsTaskbarNotificationSetting));(a=b.$1)==null||a.addEventListener("everythingRequested",function(){var a=b.$5();b.$3!==a&&(b.$3=a,b.$6())});(a=b.$1)==null||a.subscribe(null);b.$2=!0};this.$1=a}var b=a.prototype;b.$5=function(){var a=c("WAWebUserPrefsStore").getUser(h),b=0;typeof a==="number"?b=a:typeof a==="string"&&(b=Number(a)||0);return b};b.$7=function(a){c("WAWebUserPrefsStore").setUser(h,a)};b.handleSettingChange=function(a,b){var c;if(!this.$4.has(a))return;var d=this.$5();(c=this.$1)==null||c.updateLocalSetting(a,JSON.stringify(b),++d);this.$7(d)};b.$6=function(){var a=this.$5(),b=[],e=[];for(var f of this.$4){var g=c("WAWebUserPrefsStore").getUser(f);if(g!=null){b.push(f);e.push(JSON.stringify(g));continue}g=d("WAWebUserPrefsBase").userPreferencesStoreBase.get(f);g!=null&&(b.push(f),e.push(JSON.stringify(g)));g=c("WAWebUserPrefsLocalStorage").getItemFromLocalStorage(f);g!=null&&(b.push(f),e.push(JSON.stringify(g)))}(g=this.$1)==null||g.updateAllLocalSettings(b,e,a)};b.clean=function(){var a;(a=this.$1)==null||a.clean()};return a}();g.WindowsHybridBridgePreferences=a}),98);
__d("WAWebWindowsHybridBridgeRateTheApp",["asyncToGeneratorRuntime"],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=a}var c=a.prototype;c.getStoreProductForCurrentApp=function(){return this.$1.getStoreProductForCurrentAppAsync()};c.requestRateAndApp=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield this.$1.requestRateAndReviewAppAsync());return JSON.parse(a)});function c(){return a.apply(this,arguments)}return c}();return a}();f.WAWebWindowsHybridBridgeRateTheApp=a}),66);
__d("WAWebWindowsScalingControlEventEmitter",["WAWebTypedEventEmitter"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){function b(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.isHybridAppZoomingEnabled=!0,babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.setIsHybridAppZoomingEnabled=function(a){this.isHybridAppZoomingEnabled=a};return b}(c("WAWebTypedEventEmitter"));b=new a();d=b;g["default"]=d}),98);
__d("WAWebWindowsHybridBridgeScalingControl",["WAWebWindowsScalingControlEventEmitter"],(function(a,b,c,d,e,f,g){a=function(){function a(a){this.$2=!1,this.$3=function(){c("WAWebWindowsScalingControlEventEmitter").trigger("requestZoomIn")},this.$4=function(){c("WAWebWindowsScalingControlEventEmitter").trigger("requestZoomOut")},this.$1=a}var b=a.prototype;b.initialize=function(){var a;if(this.$2)return;this.$2=!0;(a=this.$1)==null||a.addEventListener("zoomInRequested",this.$3);(a=this.$1)==null||a.addEventListener("zoomOutRequested",this.$4);(a=this.$1)==null||a.subscribe(null)};b.zoomIn=function(){this.$3()};b.zoomOut=function(){this.$4()};b.showScalingControl=function(a){var b;(b=this.$1)==null||b.showScalingControl(a)};return a}();g.WindowsHybridBridgeScalingControl=a}),98);
__d("WAWebWindowsUserPrefsMigrationEventEmitter",["WAWebTypedEventEmitter"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){function b(){return a.apply(this,arguments)||this}babelHelpers.inheritsLoose(b,a);return b}(c("WAWebTypedEventEmitter"));b=new a();d=b;g["default"]=d}),98);
__d("WAWebWindowsHybridBridgeSeamlessMigration",["WALogger","WAWebCmd","WAWebUserPrefsMeUser","WAWebWindowsUserPrefsMigrationEventEmitter","justknobx"],(function(a,b,c,d,e,f,g){var h,i,j,k;a=function(){function a(a){var b=this;this.$2=function(a){if(!b.$3())return;d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[SeamlessMigration] Received user preferences event ",""])),a);c("WAWebWindowsUserPrefsMigrationEventEmitter").trigger("storeUserPrefs",a)};this.$1=a;(a=this.$1)==null||a.subscribe(null);(a=this.$1)==null||a.addEventListener("SendUserPreferencesEvent",this.$2);this.initialize()}var b=a.prototype;b.initialize=function(){var a=this,b=c("justknobx")._("2741"),e=c("justknobx")._("2742");d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[SeamlessMigration] RequestIsSeamlessMigrationEnabledStateRequested "," and max retries ",""])),b,e);this.$1.executeLogout(b,e);d("WAWebCmd").Cmd.on("on_initial_chat_synced",function(){if(!a.$3())return;var b=d("WAWebUserPrefsMeUser").getMaybeMeDevicePn();b!=null&&a.$1.requestUserPrefsMigration(b.toJid())});b=c("justknobx")._("4754");d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[SeamlessMigration] RequestIsFilesCleanupEnabledStateRequested ",""])),b);if(b){e=c("justknobx")._("5099");d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["[SeamlessMigration] RequestFilesCleanupAfterDays ",""])),e);this.$1.requestFilesCleanup(e)}};b.$3=function(){return c("justknobx")._("303")};return a}();g.WindowsHybridBridgeSeamlessMigration=a}),98);
__d("WAWebWindowsHybridBridgeSharesheet",[],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=a}var b=a.prototype;b.shareFile=function(a,b){return this.$1.shareFile(a,b)};return a}();f.WAWebWindowsHybridBridgeSharesheet=a}),66);
__d("WAWebWindowsHybridBridgeSystemIntegrations",["WAWebEventEmitter","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){a=function(){function a(a){var b=this;this.events=new(c("WAWebEventEmitter"))();this.$2=function(a){var c=a.tag,d=a.action;a=a.additionalData;b.events.trigger("MessageNotificationAction",{key:c,action:d,additionalData:a})};this.$1=a;(a=this.$1)==null||a.addEventListener("MessageNotificationActionEvent",this.$2);(a=this.$1)==null||a.subscribe(null)}var d=a.prototype;d.closeMessageNotification=function(a,b){var c;(c=this.$1)==null||c.closeMessageNotification(a,b)};d.showMessageNotification=function(a,b,c,d,e,f,g,h,i,j,k,l){var m;(m=this.$1)==null||m.showMessageNotification(a,b!=null?b:"",c,d,e,f!=null?f:"",g,h,i!=null?i:"",j!=null?j:"",k,l)};d.isNotificationEnabledInSystem=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){return this.$1==null?!1:this.$1.isNotificationEnabledInSystem()});function c(){return a.apply(this,arguments)}return c}();d.updateTaskbarBadge=function(a){this.$1.updateTaskbarBadge(a)};d.getStartupTaskState=function(){return this.$1.getStartupTaskState()};d.updateStartupTask=function(a){this.$1.updateStartupTask(a)};d.updateCurrentWebAppScreen=function(a){this.$1.updateCurrentWebAppScreen(a)};d.playTone=function(a){this.$1.playTone(a)};return a}();g.WindowsHybridBridgeSystemIntegrations=a}),98);
__d("WAWebWindowsHybridBridgeTouchpadFix",["WAWebDebounce"],(function(a,b,c,d,e,f,g){a=function(){function a(a){var b=this;this.$2=c("WAWebDebounce")(function(a){if(a.deltaX<=0)return;a=a.target;a=a;var c=!1,d=0;while(a&&a!==document.body&&d<3){var e=self.getComputedStyle(a);if((e.overflowX==="auto"||e.overflowX==="scroll")&&a.scrollWidth>a.clientWidth){c=!0;break}e=a.parentElement;if(!e)break;a=e;d++}c||b.interruptManipulations()},500);this.$1=a}var b=a.prototype;b.interruptManipulations=function(){return this.$1.interruptManipulations()};b.init=function(){document.addEventListener("wheel",this.$2,{passive:!1})};return a}();g.WindowsHybridBridgeTouchpadFix=a}),98);
__d("WAWebSerializeVoipWapNode",["WABase64","WABinary","WAParsableWapNode","WAWap"],(function(a,b,c,d,e,f,g){function a(a){a=a instanceof d("WAParsableWapNode").ParsableWapNode?a.node():a;a=d("WAWap").encodeStanza(a);a=new(d("WABinary").Binary)(a);a.readUint8();a=a.readByteArrayView();return d("WABase64").encodeB64(a)}g.serializeVoipWapNode=a}),98);
__d("WAWebWindowsHybridBridgeVoip",["WABase64","WALogger","WAWebBackendApi","WAWebSerializeVoipWapNode","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N;a=function(){function a(a,b){var c=this;this.handleVoipReady=function(){var a;d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received voip ready event"])));d("WAWebBackendApi").frontendFireAndForget("addStartingLogoutListener",function(){return c.handleSignOut()});(a=c.$3)==null||a.onVoipReady()};this.sendSignalingXmpp=function(a){var b,e=a.peerJid,f=a.callId,g=a.payload;a=a.shouldEncryptBeforeSending;d("WALogger").DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received sendSignalingXmpp event: ",", ",", ",", ",""])),e,f,g,a);(b=c.$3)==null||b.onSignalingXmpp(e,f,g,a)};this.handleCallEvent=function(a){var b,e=a.eventType,f=a.userData;a=a.eventDataJson;d("WALogger").DEV(j||(j=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received handleCallEvent event: ",", ",", ",""])),e,f,a);(b=c.$3)==null||b.onCallEvent(e,f,a)};this.requestOpenChat=function(a){var b;d("WALogger").DEV(k||(k=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received requestOpenChat event: ",""])),a);(b=c.$3)==null||b.onRequestOpenChat(a)};this.requestDeviceJidList=function(a){var b;d("WALogger").DEV(l||(l=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received requestDeviceJidList event: ",""])),a);void ((b=c.$3)==null?void 0:b.onRequestDeviceJidList(a).then(function(b){var d;(d=c.$1)==null||d.handleDeviceJidList(a.toString(),b)}))};this.requestPhoneNumberJid=function(a){var b;d("WALogger").DEV(m||(m=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received requestPhoneNumberJid event: ",""])),a);void ((b=c.$3)==null||b.onRequestPhoneNumberJid==null?void 0:b.onRequestPhoneNumberJid(a).then(function(b){var d;(d=c.$1)==null||d.handlePhoneNumberJid(a.toString(),b)}))};this.requestLidJid=function(a){var b;d("WALogger").DEV(n||(n=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received requestLidJid event: ",""])),a);void ((b=c.$3)==null||b.onRequestLidJid==null?void 0:b.onRequestLidJid(a).then(function(b){var d;(d=c.$1)==null||d.handleLidJid(a.toString(),b)}))};this.callAgain=function(a){var b,e=a.peerJid;a=a.isVideoCall;d("WALogger").DEV(o||(o=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received callAgain event: ",", ",""])),e,a);(b=c.$3)==null||b.onCallAgain(e,a)};this.handleLidCallerDisplayInfo=function(a){var b;d("WALogger").DEV(p||(p=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received handleLidCallerDisplayInfo event: ",""])),a);(b=c.$3)==null||b.onLidCallerDisplayInfo(a)};this.$1=a;this.$2=b;this.$1.addEventListener("handleVoipReadyEvent",this.handleVoipReady);this.$1.addEventListener("handleVoipCallEvent",this.handleCallEvent);this.$1.addEventListener("handleSignalingXmppEvent",this.sendSignalingXmpp);this.$1.addEventListener("handleRequestOpenChatEvent",this.requestOpenChat);this.$1.addEventListener("handleRequestDeviceJidListEvent",this.requestDeviceJidList);this.$1.addEventListener("handleRequestPhoneNumberJidEvent",this.requestPhoneNumberJid);this.$1.addEventListener("handleRequestLidJidEvent",this.requestLidJid);this.$1.addEventListener("handleCallAgainEvent",this.callAgain);this.$1.addEventListener("handleLidCallerDisplayInfoEvent",this.handleLidCallerDisplayInfo);this.$1.subscribe(null)}var c=a.prototype;c.setHandlers=function(a){this.$3=a};c.cleanup=function(){this.$1.removeEventListener!=null&&(this.$1.removeEventListener("handleVoipReadyEvent",this.handleVoipReady),this.$1.removeEventListener("handleVoipCallEvent",this.handleCallEvent),this.$1.removeEventListener("handleSignalingXmppEvent",this.sendSignalingXmpp),this.$1.removeEventListener("handleRequestOpenChatEvent",this.requestOpenChat),this.$1.removeEventListener("handleRequestDeviceJidListEvent",this.requestDeviceJidList),this.$1.removeEventListener("handleRequestPhoneNumberJidEvent",this.requestPhoneNumberJid),this.$1.removeEventListener("handleRequestLidJidEvent",this.requestLidJid),this.$1.removeEventListener("handleCallAgainEvent",this.callAgain),this.$1.removeEventListener("handleLidCallerDisplayInfo",this.handleLidCallerDisplayInfo))};c.handleIncomingSignalingOffer=function(a,b,c,e,f,g,h,i,j){d("WALogger").DEV(q||(q=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleIncomingSignalingOffer called with:"]))).devConsole(arguments),this.$2.handleIncomingSignalingOffer(d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a),b,c,e,f,g,h,i,j?d("WABase64").encodeB64(j):null)};c.handleIncomingSignalingMessage=function(a,b,c,e,f,g,h,i){this.$2.handleIncomingSignalingMessage(d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a),b,c,e,f,g,h,i?d("WABase64").encodeB64(i):null)};c.handleIncomingSignalingAck=function(a,b,c,e,f){d("WALogger").DEV(r||(r=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleIncomingSignalingAck called with:"]))).devConsole(arguments),this.$2.handleIncomingSignalingAck(d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a),b,c,e,f?d("WABase64").encodeB64(f):null)};c.handleIncomingSignalingReceipt=function(a,b,c){d("WALogger").DEV(s||(s=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleIncomingSignalingReceipt called with:"]))).devConsole(arguments),this.$2.handleIncomingSignalingReceipt(d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a),b,c?d("WABase64").encodeB64(c):null)};c.resendOfferOnDecryptionFailure=function(a,b){d("WALogger").DEV(t||(t=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] resendOfferOnDecryptionFailure called with:"]))).devConsole(arguments),this.$2.resendOfferOnDecryptionFailure(a,b)};c.resendEncRekeyRetry=function(a,b){d("WALogger").DEV(u||(u=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] resendEncRekeyRetry called with:"]))).devConsole(arguments),this.$2.resendEncRekeyRetry(a,b)};c.notifyDeviceIdentityChangedOrDeleted=function(a,b){d("WALogger").DEV(v||(v=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] notifyDeviceIdentityChangedOrDeleted called with:"]))).devConsole(arguments),this.$2.notifyDeviceIdentityChangedOrDeleted(a,b)};c.handleWebViewReady=function(){var a;d("WALogger").DEV(w||(w=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleWebViewReady called"])));(a=this.$1)==null||a.handleWebViewReady()};c.voipInit=function(a,b,c){var e;d("WALogger").DEV(x||(x=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] voipInit called with:"]))).devConsole(arguments);(e=this.$1)==null||e.voipInit(a,b,c)};c.setHideMyIp=function(a){var b;d("WALogger").DEV(y||(y=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] setHideMyIp called with:"]))).devConsole(arguments);(b=this.$1)==null||b.setHideMyIp(a)};c.setChatNameAndIcon=function(a,b,c){var e;d("WALogger").DEV(z||(z=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] setChatNameAndIcon called"])));(e=this.$1)==null||e.setChatNameAndIcon(a,b,c)};c.handleSignOut=function(){var a;d("WALogger").DEV(A||(A=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleSignOut called"])));(a=this.$1)==null||a.handleSignOut()};c.startCall=function(a,b,c,e,f,g,h,i,j,k,l){var m;d("WALogger").DEV(B||(B=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] startCall called with:"]))).devConsole(arguments);(m=this.$1)==null||m.startCall(a.toString({legacy:!0}),b,c,e,f,g,h,i?d("WABase64").encodeB64(i):null,j,k,l)};c.startGroupCall=function(a,b,c,e,f,g,h,i,j,k,l,m,n,o){var p;d("WALogger").DEV(C||(C=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] startGroupCall called with:"]))).devConsole(arguments);(p=this.$1)==null||p.startGroupCall(a,b,c,e,f,g,h,i,j,k,l,m,n,o)};c.handleDeviceJidList=function(a,b){var c;d("WALogger").DEV(D||(D=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleDeviceJidList called with:"]))).devConsole(arguments);(c=this.$1)==null||c.handleDeviceJidList(a,b)};c.previewCallLink=function(a,b,c,e,f){var g;d("WALogger").DEV(E||(E=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] previewCallLink called with:"]))).devConsole(arguments);(g=this.$1)==null||g.previewCallLink(a,b,c,e,f)};c.previewAndJoinCallLink=function(a,b,c,e,f){var g;d("WALogger").DEV(F||(F=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] previewAndJoinCallLink called with:"]))).devConsole(arguments);(g=this.$1)==null||g.previewAndJoinCallLink(a,b,c,e,f)};c.endCall=function(a,b){var c;d("WALogger").DEV(G||(G=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] endCall called with:"]))).devConsole(arguments);(c=this.$1)==null||c.endCall(a,b)};c.rejectCallWithoutCallContext=function(a,b,c,e,f,g,h){var i;d("WALogger").DEV(H||(H=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] rejectCallWithoutCallContext called with:"]))).devConsole(arguments);(i=this.$1)==null||i.rejectCallWithoutCallContext(a,b,c,e,f,g,h)};c.joinOngoingCall=function(a,b,c,e,f,g,h,i,j,k,l,m,n,o,p,q){var r;d("WALogger").DEV(I||(I=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] joinOngoingCall called with:"]))).devConsole(arguments);(r=this.$1)==null||r.joinOngoingCall(a,b,c,e,f,g,h,i,j,k,l,m,n,o,p,q)};c.inviteToCall=function(a,b,c){var e;d("WALogger").DEV(J||(J=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] inviteToCall called with:"]))).devConsole(arguments);(e=this.$1)==null||e.inviteToCall(a,b,c)};c.simulateNativeAnr=function(a,b){var c;d("WALogger").DEV(K||(K=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] simulateNativeAnr called with:"]))).devConsole(arguments);(c=this.$1)==null||c.simulateNativeAnr(a,b)};c.requestCallInfo=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WALogger").DEV(L||(L=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] requestCallInfo called with:"]))).devConsole(arguments);var a=(yield this.$1.getCallInfo()),b=a.callInfoJsonBase64,c=a.error;return{callInfoJsonBase64:b,error:c}});function c(){return a.apply(this,arguments)}return c}();c.requestObtainDevicePermissionAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("WALogger").DEV(M||(M=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] requestObtainDevicePermissionAsync called with:"]))).devConsole(arguments);var b=(yield this.$1.requestObtainDevicePermissionAsync(a)),c=b.error,e=b.permissionGranted;return{error:c,permissionGranted:e}});function c(b){return a.apply(this,arguments)}return c}();c.requestDevicesCountAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("WALogger").DEV(N||(N=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] requestDevicesCountAsync called with:"]))).devConsole(arguments);var b=(yield this.$1.getDeviceCountAsync(a)),c=b.error,e=b.deviceCount;return{error:c,deviceCount:e}});function c(b){return a.apply(this,arguments)}return c}();return a}();g.VoipWinRTBridge=a}),98);
__d("WAWebWindowsHybridBridgeWam",["Promise","WALogger","WAWebCrashContextUtils","WAWebCrashLogWamEvent","WAWebWamCodegenWamEvent","WAWebWamEnumCrashApplicationState","WAWebWamEnumCrashType"],(function(a,b,c,d,e,f,g){var h,i,j,k;a=function(a){var c=this;this.$2=!1;this.initialize=function(){var a;if(c.$2)return;(a=c.$1)==null||a.addEventListener("eventsSaved",c.handleEvents);(a=c.$1)==null||a.subscribe(null);c.$2=!0};this.handleEvents=function(a){if(!c.$2){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received handleWamEvent while bridge is not initialized"])));return}d("WALogger").DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received handleWamEvent event: ",""])),a);a=JSON.parse(a);void (k||(k=b("Promise"))).all(a.map(function(a){if(a.id===d("WAWebCrashLogWamEvent").CrashLogWamEvent.prototype.id){var b=a[6],c=a[23],e=a[3],f=a[24],g=a[2];a[3]=d("WAWebCrashContextUtils").getCrashEventAppContext(b,g);if(b===d("WAWebWamEnumCrashType").CRASH_TYPE.DISPATCHER_NOT_RESPONDING&&c===d("WAWebWamEnumCrashApplicationState").CRASH_APPLICATION_STATE.FOREGROUND){g=f!=null?f:"unknown";d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["Native ","s ANR detected: ",""])),g,e).sendLogs("hybrid-native-anr-"+g+"s",{sampling:.01})}}return new(d("WAWebWamCodegenWamEvent").RawWamEvent)(a).commitAndWaitForFlush(!0)}))};this.$1=a};g.WindowsHybridBridgeWam=a}),98);
__d("WAWebWindowsHybridBridge",["WAWebBuildConstants","WAWebWindowsHybridAppActivationBridge","WAWebWindowsHybridBridgeAbProps","WAWebWindowsHybridBridgeAdv","WAWebWindowsHybridBridgeBrowserExtensions","WAWebWindowsHybridBridgeConnection","WAWebWindowsHybridBridgeContacts","WAWebWindowsHybridBridgeDebugFeatures","WAWebWindowsHybridBridgeLinksPreview","WAWebWindowsHybridBridgeMediaFiles","WAWebWindowsHybridBridgeMediaTranscoder","WAWebWindowsHybridBridgeNativeAppState","WAWebWindowsHybridBridgePictures","WAWebWindowsHybridBridgePreferences","WAWebWindowsHybridBridgeRateTheApp","WAWebWindowsHybridBridgeScalingControl","WAWebWindowsHybridBridgeSeamlessMigration","WAWebWindowsHybridBridgeSharesheet","WAWebWindowsHybridBridgeSystemIntegrations","WAWebWindowsHybridBridgeTouchpadFix","WAWebWindowsHybridBridgeVoip","WAWebWindowsHybridBridgeWam","cr:17220"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){a.hostObjects.options.defaultSyncProxy=!0;a.hostObjects.options.forceAsyncMethodMatches=[/Async$/,/AsyncWithSpeller$/];a.hostObjects.options.ignoreMemberNotFoundError=!0;var c=a.hostObjects.AbPropsBridge;c!=null&&(this.abProps=new(d("WAWebWindowsHybridBridgeAbProps").WindowsHybridBridgeAbProps)(c));c=a.hostObjects.WamBridge;c!=null&&(this.wam=new(d("WAWebWindowsHybridBridgeWam").WindowsHybridBridgeWam)(c));c=a.hostObjects.PreferencesBridge;c&&(this.$1=new(d("WAWebWindowsHybridBridgePreferences").WindowsHybridBridgePreferences)(c));c=a.hostObjects.ScalingControlBridge;c&&(this.scalingControl=new(d("WAWebWindowsHybridBridgeScalingControl").WindowsHybridBridgeScalingControl)(c));c=a.hostObjects.PicturesBridge;c&&(this.pictures=new(d("WAWebWindowsHybridBridgePictures").WindowsHybridBridgePictures)(c));c=a.hostObjects.DebugFeaturesBridge;var e=b("cr:17220")==null?void 0:b("cr:17220").debugFeaturesMock;c!=null?this.$4=new(d("WAWebWindowsHybridBridgeDebugFeatures").WindowsHybridBridgeDebugFeatures)(c):e!=null;c=a.hostObjects.VoipBridge;e=a.hostObjects.VoipSignalingBridge;c&&e&&(this.voip=new(d("WAWebWindowsHybridBridgeVoip").VoipWinRTBridge)(c,e));this.$5=new(d("WAWebWindowsHybridBridgeRateTheApp").WAWebWindowsHybridBridgeRateTheApp)(a.hostObjects.RateAppBridge);this.$3=new(d("WAWebWindowsHybridBridgeConnection").WindowsHybridBridgeConnection)(a.hostObjects.ConnectionBridge);this.$2=a.hostObjects.ClientKeyBridge;this.serverEncKeySaltBridge=a.hostObjects.ServerEncKeySaltBridge;this.touchpadFix=new(d("WAWebWindowsHybridBridgeTouchpadFix").WindowsHybridBridgeTouchpadFix)(a.hostObjects.TouchpadFix);this.linksPreview=new(d("WAWebWindowsHybridBridgeLinksPreview").WindowsHybridBridgeLinksPreview)(a.hostObjects.LinksPreviewBridge);try{c=a.hostObjects.sync.PopulatedContactsBridge;e=a.hostObjects.PopulatedContactsBridge;e!=null&&(this.contacts=new(d("WAWebWindowsHybridBridgeContacts").WindowsHybridBridgeContacts)(e,c,!0))}catch(b){e=a.hostObjects.ContactsBridge;e!=null&&(this.contacts=new(d("WAWebWindowsHybridBridgeContacts").WindowsHybridBridgeContacts)(e,a.hostObjects.sync.ContactsBridge,!1))}this.sqlite=a.hostObjects.SQLiteBridge;c=a.hostObjects.MediaFilesBridge;c!=null&&(this.mediaFiles=new(d("WAWebWindowsHybridBridgeMediaFiles").WAWebWindowsHybridBridgeMediaFiles)(c));e=a.hostObjects.SharesheetBridge;e!=null&&(this.sharesheetBridge=new(d("WAWebWindowsHybridBridgeSharesheet").WAWebWindowsHybridBridgeSharesheet)(e));c=a.hostObjects.AppActivationBridge;c!=null&&(this.appActivationBridge=new(d("WAWebWindowsHybridAppActivationBridge").WindowsHybridAppActivationBridge)(c));e=a.hostObjects.NativeAppStateBridge;c=a.hostObjects.sync.NativeAppStateBridge;e!=null&&(this.nativeAppStateBridge=new(d("WAWebWindowsHybridBridgeNativeAppState").WindowsHybridBridgeNativeAppState)(e,c));e=a.hostObjects.SystemIntegrationsBridge;e&&(this.systemIntegrationsBridge=new(d("WAWebWindowsHybridBridgeSystemIntegrations").WindowsHybridBridgeSystemIntegrations)(e));c=a.hostObjects.BrowserExtensionsBridge;c&&(this.browserExtensionsBridge=new(d("WAWebWindowsHybridBridgeBrowserExtensions").WindowsHybridBridgeBrowserExtensions)(c));e=a.hostObjects.SeamlessMigrationBridge;e&&(this.seamlessMigrationBridge=new(d("WAWebWindowsHybridBridgeSeamlessMigration").WindowsHybridBridgeSeamlessMigration)(e));c=a.hostObjects.MediaTranscodingBridge;c&&(this.mediaTranscodeBridge=new(d("WAWebWindowsHybridBridgeMediaTranscoder").WindowsHybridBridgeMediaTranscoder)(a,c));this.adv=new(d("WAWebWindowsHybridBridgeAdv").WindowsHybridBridgeAdv)(a.hostObjects.AdvBridge);(e=a.hostObjects.WebUpdateBridge)==null||e.updateWebRevision(d("WAWebBuildConstants").VERSION_TERTIARY)}var c=a.prototype;c.getPreferences=function(){var a;(a=this.$1)==null||a.initialize();return this.$1};c.getScalingControl=function(){var a;(a=this.scalingControl)==null||a.initialize();return this.scalingControl};c.getRateTheApp=function(){return this.$5};c.getClientKeyBridge=function(){return this.$2};c.getDebugFeatures=function(){return this.$4};return a}();g.WindowsHybridBridge=a}),98);
__d("WAWebWindowsHybridBridgeAbProps.v2558",["WAWebABPropsCache","WAWebABPropsLocalStorage","WAWebBackendApi","WAWebHybridABProps","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){a=function(){function a(a){var c=this;this.$2=!1;this.$3=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=parseInt(a,10);d("WAWebABPropsCache").saveExposure(a);c.$1.acknowledgeExposure(a.toString())});return function(b){return a.apply(this,arguments)}}();this.$4=function(a){var b=d("WAWebABPropsLocalStorage").getABKey();if(a!==b){a=d("WAWebHybridABProps").getAllHybridAbProps(!1);c.$1.setConfigs(b,JSON.stringify(a))}};this.$1=a}var c=a.prototype;c.initialize=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=this;if(this.$2)return;this.$2=!0;yield d("WAWebABPropsCache").waitForABPropConfigsReady();this.$1.addEventListener("exposureLogged",this.$3);this.$1.subscribe(null);var b=(yield this.$1.getVersion());d("WAWebBackendApi").frontendFireAndForget("addAbPropsUpdateListener",function(){a.$4(null)});this.$4(b)});function c(){return a.apply(this,arguments)}return c}();return a}();g.WindowsHybridBridgeAbProps_v2558=a}),98);
__d("WAWebWindowsHybridBridgeConnection.v2558",["WAComms","WALogger","WAWebEventsWaitForMainStreamReadyMd","WAWebEventsWaitForOfflineDeliveryEnd","WAWebSetWindowsPushConfig","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r;a=function(){function a(a){var e=this;this.$2=!1;this.$3=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.toString();d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleUpdateNotificationsTokenEvent"]))).devConsole(a);yield c("WAWebEventsWaitForMainStreamReadyMd")();yield d("WAWebSetWindowsPushConfig").setWindowsPushConfig(b);e.$1.acknowledgeNotificationsToken(b)});return function(b){return a.apply(this,arguments)}}();this.$4=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent"])));try{yield e.$6(),d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: offline resume complete"]))),d("WAComms").closeSocketAndPause(),d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: socket closed"]))),e.$1.handleConnectionState(!1)}catch(a){d("WALogger").ERROR(l||(l=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: failed to close socket: ",""])),a)}});this.$5=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection.handleConnectEvent"])));if(e.$2){d("WALogger").LOG(n||(n=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleConnectEvent: socket already opening"])));return}try{var a;a=((a=d("WAComms").getComms())==null?void 0:a.socket)!=null;a||(e.$2=!0,d("WAComms").closeSocketAndResume(),d("WALogger").LOG(o||(o=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleConnectEvent: socket opened"]))));yield e.$6();d("WALogger").LOG(p||(p=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleConnectEvent: offline resume complete"])));e.$1.handleConnectionState(!0)}catch(a){d("WALogger").ERROR(q||(q=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleConnectEvent: failed to open socket: ",""])),a)}finally{e.$2=!1}});this.$1=a;this.$1.addEventListener("updateNotificationsTokenEvent",this.$3);this.$1.addEventListener("disconnectEvent",this.$4);this.$1.addEventListener("connectEvent",this.$5);this.$1.subscribe(null)}var e=a.prototype;e.$6=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield d("WAComms").waitForConnection(),d("WAWebEventsWaitForOfflineDeliveryEnd").isOfflineDeliveryEnd()||(d("WALogger").LOG(r||(r=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:waitForOfflineResume"]))),yield d("WAWebEventsWaitForOfflineDeliveryEnd").waitForOfflineDeliveryEnd())});function c(){return a.apply(this,arguments)}return c}();return a}();g.WindowsHybridBridgeConnection_v2558=a}),98);
__d("WAWebWindowsHybridBridgeContacts.v2558",["WALogger","WAWebContactsDbLidMigrationUtils","WAWebEventsWaitForMainStreamReadyMd","WAWebLidAwareContactsDB","WAWebSchemaContact_DO_NOT_USE_DIRECTLY","WAWebSyncBootstrap","asyncToGeneratorRuntime","filterNulls"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a,d,e){var f=this;this.$4="contacts";this.$5=new Set();this.$6=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=JSON.parse(a);if(a.length===0)return;a.forEach(function(a){return f.$5.add(a)});var b=(yield c("WAWebLidAwareContactsDB").bulkGet(a));b.forEach(function(a){return f.$5["delete"](a==null?void 0:a.id)});a=a.filter(function(a){return f.$5.has(a)});a.forEach(function(a){return f.$5["delete"](a)});void f.$1.updateContacts(a,JSON.stringify(c("filterNulls")(b)))});return function(b){return a.apply(this,arguments)}}();this.$1=a;this.$2=d;this.$3=e;a.addEventListener("requestUpdateEvent",this.$6);a.subscribe(null)}var e=a.prototype;e.initialize=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=this;c("WAWebLidAwareContactsDB").setUpdateListener(function(b){return a.$7(b)});yield c("WAWebEventsWaitForMainStreamReadyMd")();if(this.$3)return;if(c("WAWebSyncBootstrap").isSyncDBootstrapInProcess())return;this.$3=!0;try{var b=200,e=(yield d("WAWebSchemaContact_DO_NOT_USE_DIRECTLY").getContactTable().all({limit:b,offset:0}));do{var f;f=(f=e[e.length-1])==null?void 0:f.id;e=(yield d("WAWebContactsDbLidMigrationUtils").replacePnRowsWithLidData(e));yield this.$1.updateContacts([],JSON.stringify(e));e=(yield d("WAWebSchemaContact_DO_NOT_USE_DIRECTLY").getContactTable().greaterThan(["id"],f,{limit:b}))}while(e.length>0);this.$1.acknowledgeInitialSync()}catch(a){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[WinUi] setInitialData "," error ",""])),this.$4,a)}});function e(){return a.apply(this,arguments)}return e}();e.$7=function(a){var b=this;if(!this.$3)return;a=a.filter(function(a){return!b.$5.has(a)});if(a.length===0)return;a.forEach(function(a){return b.$5.add(a)});this.$2.invalidateContacts(a)};return a}();g.WindowsHybridBridgeContacts_v2558=a}),98);
__d("WAWebWindowsHybridBridgeDebugFeatures.v2558",["WALogger","WAWebBackendApi","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i=1e3;a=function(){function a(a){var b=this;this.ping=function(a){d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeDebugFeatures:ping:",""])),a),b.$1.pong(a.valueOf())};this.$1=a;(a=this.$1)==null||a.addEventListener("jsLogs",function(){b.saveJSLogs()});(a=this.$1)==null||a.addEventListener("requestWebLogStringEvent",function(a){void b.requestWebLogString(a)});(a=this.$1)==null||a.addEventListener("pingEvent",this.ping);this.$1.subscribe(null)}var c=a.prototype;c.startHangsMonitor=function(){};c.saveNativeLogs=function(){this.$1.saveNativeLogs()};c.requestNativeLogs=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){return this.$1.requestNativeLogs()});function c(){return a.apply(this,arguments)}return c}();c.saveJSLogs=function(){d("WAWebBackendApi").frontendFireAndForget("createDownloadDataForMdWebLogs")};c.limitStringSize=function(a,b){var c=new Blob([a],{type:"text/plain"});if(c.size>b){c=c.size-b;return a.substr(c)}return a};c.requestWebLogString=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield d("WAWebBackendApi").frontendSendAndReceive("getWebLogs"));b=this.limitStringSize(b,30*i);this.$1.sendWebLogString(a.toString(),b)});function c(b){return a.apply(this,arguments)}return c}();return a}();g.WindowsHybridBridgeDebugFeatures_v2558=a}),98);
__d("WAWebWindowsHybridBridgePictures.v2558",["WAWebProfilePicThumbCollection","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var c=this;this.$2=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=JSON.parse(a);for(a of a){var b,e=d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.get(a.id);e==null&&(e=(yield d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.resyncPicturesByWid([a.id])));if(((b=e)==null?void 0:b.eurl)!==a.eurl){c.$1.setProfilePictures(JSON.stringify([{eurl:(b=e)==null?void 0:b.eurl,id:a.id.toString()}]))}}});return function(b){return a.apply(this,arguments)}}();this.$1=a;a.addEventListener("verifyPictureEvent",this.$2);a.subscribe(null)}var c=a.prototype;c.notifyUpdate=function(a){if(a==null)return;this.$1.setProfilePictures(JSON.stringify([{eurl:a.eurl,id:a.id.toString()}]))};return a}();g.WindowsHybridBridgePictures_v2558=a}),98);
__d("WAWebWindowsHybridBridgePreferences.v2558",["WAWebUserPrefsBase","WAWebUserPrefsKeys","WAWebUserPrefsStore"],(function(a,b,c,d,e,f,g){var h="WANativePreferencesRevision";a=function(){function a(a){var b=this;this.$2=!1;this.$3=null;this.$4=new Set();this.initialize=function(){var a;if(b.$2)return;b.$4.add(String(d("WAWebUserPrefsKeys").UserPrefs.WindowsIsSystemTrayEnabled));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.SYSTEM_THEME_MODE));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.THEME));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.ME_DISPLAY_NAME));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LAST_PUSHNAME));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LID));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LAST_WID_MD));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LANG_FROM_PHONE));b.$4.add(String(d("WAWebUserPrefsKeys").UserPrefs.AbpropsWebRefreshId));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.ABPROPS_REFRESH_ID));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.ABPROPS));(a=b.$1)==null||a.addEventListener("everythingRequested",function(){var a=b.$5();b.$3!==a&&(b.$3=a,b.$6())});(a=b.$1)==null||a.subscribe(null);b.$2=!0};this.$1=a}var b=a.prototype;b.$5=function(){var a=c("WAWebUserPrefsStore").getUser(h),b=0;typeof a==="number"?b=a:typeof a==="string"&&(b=Number(a)||0);return b};b.$7=function(a){c("WAWebUserPrefsStore").setUser(h,a)};b.handleSettingChange=function(a,b){var c;if(!this.$4.has(a))return;var d=this.$5();(c=this.$1)==null||c.updateLocalSetting(a,JSON.stringify(b),++d);this.$7(d)};b.$6=function(){var a=this.$5(),b=[],e=[];for(var f of this.$4){var g=c("WAWebUserPrefsStore").getUser(f);if(g!=null){b.push(f);e.push(JSON.stringify(g));continue}g=d("WAWebUserPrefsBase").userPreferencesStoreBase.get(f);g!=null&&(b.push(f),e.push(JSON.stringify(g)))}(g=this.$1)==null||g.updateAllLocalSettings(b,e,a)};b.clean=function(){var a;(a=this.$1)==null||a.clean()};return a}();g.WindowsHybridBridgePreferences_v2558=a}),98);
__d("WAWebWindowsHybridBridgeRateTheApp.v2558",["asyncToGeneratorRuntime"],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=a}var c=a.prototype;c.getStoreProductForCurrentApp=function(){return this.$1.getStoreProductForCurrentAppAsync()};c.requestRateAndApp=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield this.$1.requestRateAndReviewAppAsync());return JSON.parse(a)});function c(){return a.apply(this,arguments)}return c}();return a}();f.WAWebWindowsHybridBridgeRateTheApp_v2558=a}),66);
__d("WAWebWindowsHybridBridgeScalingControl.v2558",["WAWebWindowsScalingControlEventEmitter"],(function(a,b,c,d,e,f,g){a=function(){function a(a){this.$2=!1,this.$3=function(){c("WAWebWindowsScalingControlEventEmitter").trigger("requestZoomIn")},this.$4=function(){c("WAWebWindowsScalingControlEventEmitter").trigger("requestZoomOut")},this.$1=a}var b=a.prototype;b.initialize=function(){var a;if(this.$2)return;this.$2=!0;(a=this.$1)==null||a.addEventListener("zoomInRequested",this.$3);(a=this.$1)==null||a.addEventListener("zoomOutRequested",this.$4);(a=this.$1)==null||a.subscribe(null)};b.zoomIn=function(){this.$3()};b.zoomOut=function(){this.$4()};b.showScalingControl=function(a){var b;(b=this.$1)==null||b.showScalingControl(a)};return a}();g.WindowsHybridBridgeScalingControl_v2558=a}),98);
__d("WAWebWindowsHybridBridgeTouchpadFix.v2558",["WAWebDebounce"],(function(a,b,c,d,e,f,g){a=function(){function a(a){var b=this;this.$2=c("WAWebDebounce")(function(a){if(a.deltaX<=0)return;a=a.target;a=a;var c=!1,d=0;while(a&&a!==document.body&&d<3){var e=self.getComputedStyle(a);if((e.overflowX==="auto"||e.overflowX==="scroll")&&a.scrollWidth>a.clientWidth){c=!0;break}e=a.parentElement;if(!e)break;a=e;d++}c||b.interruptManipulations()},500);this.$1=a}var b=a.prototype;b.interruptManipulations=function(){return this.$1.interruptManipulations()};b.init=function(){document.addEventListener("wheel",this.$2,{passive:!1})};return a}();g.WindowsHybridBridgeTouchpadFix_v2558=a}),98);
__d("WAWebWindowsHybridBridgeVoip.v2558",["WABase64","WALogger","WAWebBackendApi","WAWebSerializeVoipWapNode","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E;a=function(){function a(a,b){var c=this;this.previewAndJoinCallLink=null;this.handleLidCallerDisplayInfo=null;this.handleVoipReady=function(){var a;d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received voip ready event"])));d("WAWebBackendApi").frontendFireAndForget("addStartingLogoutListener",function(){return c.handleSignOut()});(a=c.$3)==null||a.onVoipReady()};this.sendSignalingXmpp=function(a){var b,e=a.peerJid,f=a.callId,g=a.payload;a=a.shouldEncryptBeforeSending;d("WALogger").DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received sendSignalingXmpp event: ",", ",", ",", ",""])),e,f,g,a);(b=c.$3)==null||b.onSignalingXmpp(e,f,g,a)};this.handleCallEvent=function(a){var b,e=a.eventType,f=a.userData;a=a.eventDataJson;d("WALogger").DEV(j||(j=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received handleCallEvent event: ",", ",", ",""])),e,f,a);(b=c.$3)==null||b.onCallEvent(e,f,a)};this.requestOpenChat=function(a){var b;d("WALogger").DEV(k||(k=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received requestOpenChat event: ",""])),a);(b=c.$3)==null||b.onRequestOpenChat(a)};this.callAgain=function(a){var b,e=a.peerJid;a=a.isVideoCall;d("WALogger").DEV(l||(l=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received callAgain event: ",", ",""])),e,a);(b=c.$3)==null||b.onCallAgain(e,a)};this.$1=a;this.$2=b;this.$1.addEventListener("handleVoipReadyEvent",this.handleVoipReady);this.$1.addEventListener("handleVoipCallEvent",this.handleCallEvent);this.$1.addEventListener("handleSignalingXmppEvent",this.sendSignalingXmpp);this.$1.addEventListener("handleRequestOpenChatEvent",this.requestOpenChat);this.$1.addEventListener("handleCallAgainEvent",this.callAgain);this.$1.subscribe(null)}var c=a.prototype;c.setHandlers=function(a){this.$3=a};c.cleanup=function(){this.$1.removeEventListener!=null&&(this.$1.removeEventListener("handleVoipReadyEvent",this.handleVoipReady),this.$1.removeEventListener("handleVoipCallEvent",this.handleCallEvent),this.$1.removeEventListener("handleSignalingXmppEvent",this.sendSignalingXmpp),this.$1.removeEventListener("handleRequestOpenChatEvent",this.requestOpenChat),this.$1.removeEventListener("handleCallAgainEvent",this.callAgain))};c.joinOngoingCall=function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){};c.inviteToCall=function(a,b,c){};c.handleIncomingSignalingOffer=function(a,b,c,e,f,g,h,i,j){d("WALogger").DEV(m||(m=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleIncomingSignalingOffer called with:"]))).devConsole(arguments),this.$2.handleIncomingSignalingOffer(d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a),b,c,e,f,g,h,i,j?d("WABase64").encodeB64(j):null)};c.handleIncomingSignalingMessage=function(a,b,c,e,f,g,h,i){this.$2.handleIncomingSignalingMessage(d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a),b,c,e,f,g,h,i?d("WABase64").encodeB64(i):null)};c.handleIncomingSignalingAck=function(a,b,c,e,f){d("WALogger").DEV(n||(n=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleIncomingSignalingAck called with:"]))).devConsole(arguments),this.$2.handleIncomingSignalingAck(d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a),b,c,e,f?d("WABase64").encodeB64(f):null)};c.handleIncomingSignalingReceipt=function(a,b,c){d("WALogger").DEV(o||(o=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleIncomingSignalingReceipt called with:"]))).devConsole(arguments),this.$2.handleIncomingSignalingReceipt(d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a),b,c?d("WABase64").encodeB64(c):null)};c.resendOfferOnDecryptionFailure=function(a,b){d("WALogger").DEV(p||(p=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] resendOfferOnDecryptionFailure called with:"]))).devConsole(arguments),this.$2.resendOfferOnDecryptionFailure(a,b)};c.resendEncRekeyRetry=function(a,b){d("WALogger").DEV(q||(q=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] resendEncRekeyRetry called with:"]))).devConsole(arguments),this.$2.resendEncRekeyRetry(a,b)};c.notifyDeviceIdentityChangedOrDeleted=function(a,b){d("WALogger").DEV(r||(r=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] notifyDeviceIdentityChangedOrDeleted called with:"]))).devConsole(arguments),this.$2.notifyDeviceIdentityChangedOrDeleted(a,b)};c.handleWebViewReady=function(){var a;d("WALogger").DEV(s||(s=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleWebViewReady called"])));(a=this.$1)==null||a.handleWebViewReady()};c.voipInit=function(a,b,c){var e;d("WALogger").DEV(t||(t=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] voipInit called with:"]))).devConsole(arguments);(e=this.$1)==null||e.voipInit(a,b,c)};c.setHideMyIp=function(a){var b;d("WALogger").DEV(u||(u=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] setHideMyIp called with:"]))).devConsole(arguments);(b=this.$1)==null||b.setHideMyIp(a)};c.setChatNameAndIcon=function(a,b,c){var e;d("WALogger").DEV(v||(v=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] setChatNameAndIcon called"])));(e=this.$1)==null||e.setChatNameAndIcon(a,b,c)};c.handleSignOut=function(){var a;d("WALogger").DEV(w||(w=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleSignOut called"])));(a=this.$1)==null||a.handleSignOut()};c.startCall=function(a,b,c,e,f,g,h,i,j,k,l){var m;d("WALogger").DEV(x||(x=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] startCall called with:"]))).devConsole(arguments);(m=this.$1)==null||m.startCall(a.toString({legacy:!0}),b,c,e,f,g,h,i?d("WABase64").encodeB64(i):null)};c.startGroupCall=function(a,b,c,e,f,g,h,i,j,k,l,m,n,o){var p;d("WALogger").DEV(y||(y=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] startGroupCall called with:"]))).devConsole(arguments);(p=this.$1)==null||p.startGroupCall(a,b,c,e,f,g,h,i,j,k,l)};c.handleDeviceJidList=function(a,b){};c.previewCallLink=function(a,b,c,e,f){var g;d("WALogger").DEV(z||(z=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] previewCallLink called with:"]))).devConsole(arguments);(g=this.$1)==null||g.previewCallLink(a,b,c)};c.endCall=function(a,b){var c;d("WALogger").DEV(A||(A=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] endCall called with:"]))).devConsole(arguments);(c=this.$1)==null||c.endCall(a,b)};c.rejectCallWithoutCallContext=function(a,b,c,e,f,g,h){var i;d("WALogger").DEV(B||(B=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] rejectCallWithoutCallContext called with:"]))).devConsole(arguments);(i=this.$1)==null||i.rejectCallWithoutCallContext(a,b,c,e,f,g,h)};c.requestCallInfo=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WALogger").DEV(C||(C=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] requestCallInfo called with:"]))).devConsole(arguments);var a=(yield this.$1.getCallInfo()),b=a.callInfoJsonBase64,c=a.error;return{callInfoJsonBase64:b,error:c}});function c(){return a.apply(this,arguments)}return c}();c.requestObtainDevicePermissionAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("WALogger").DEV(D||(D=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] requestObtainDevicePermissionAsync called with:"]))).devConsole(arguments);var b=(yield this.$1.requestObtainDevicePermissionAsync(a)),c=b.error,e=b.permissionGranted;return{error:c,permissionGranted:e}});function c(b){return a.apply(this,arguments)}return c}();c.requestDevicesCountAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("WALogger").DEV(E||(E=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] requestDevicesCountAsync called with:"]))).devConsole(arguments);var b=(yield this.$1.getDeviceCountAsync(a)),c=b.error,e=b.deviceCount;return{error:c,deviceCount:e}});function c(b){return a.apply(this,arguments)}return c}();return a}();g.VoipWinRTBridge_v2558=a}),98);
__d("WAWebWindowsHybridBridgeWam.v2558",["Promise","WALogger","WAWebWamCodegenWamEvent"],(function(a,b,c,d,e,f,g){var h,i,j;a=function(a){var c=this;this.$2=!1;this.initialize=function(){var a;if(c.$2)return;(a=c.$1)==null||a.addEventListener("eventsSaved",c.handleEvents);(a=c.$1)==null||a.subscribe(null);c.$2=!0};this.handleEvents=function(a){if(!c.$2){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received handleWamEvent while bridge is not initialized"])));return}d("WALogger").DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received handleWamEvent event: ",""])),a);a=JSON.parse(a);void (j||(j=b("Promise"))).all(a.map(function(a){return new(d("WAWebWamCodegenWamEvent").RawWamEvent)(a).commitAndWaitForFlush(!0)}))};this.$1=a};g.WindowsHybridBridgeWam_v2558=a}),98);
__d("WAWebWindowsHybridBridge.v2558",["WAWebWindowsHybridBridgeAbProps.v2558","WAWebWindowsHybridBridgeConnection.v2558","WAWebWindowsHybridBridgeContacts.v2558","WAWebWindowsHybridBridgeDebugFeatures.v2558","WAWebWindowsHybridBridgePictures.v2558","WAWebWindowsHybridBridgePreferences.v2558","WAWebWindowsHybridBridgeRateTheApp.v2558","WAWebWindowsHybridBridgeScalingControl.v2558","WAWebWindowsHybridBridgeTouchpadFix.v2558","WAWebWindowsHybridBridgeVoip.v2558","WAWebWindowsHybridBridgeWam.v2558","cr:17220"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.mediaFiles=null;this.nativeAppStateBridge=null;this.systemIntegrationsBridge=null;this.linksPreview=null;this.browserExtensionsBridge=null;this.seamlessMigrationBridge=null;this.mediaTranscodeBridge=null;this.adv=null;this.sharesheetBridge=null;this.appActivationBridge=null;this.serverEncKeySaltBridge=null;a.hostObjects.options.defaultSyncProxy=!0;a.hostObjects.options.forceAsyncMethodMatches=[/Async$/,/AsyncWithSpeller$/];a.hostObjects.options.ignoreMemberNotFoundError=!0;var c=a.hostObjects.AbPropsBridge;c!=null&&(this.abProps=new(d("WAWebWindowsHybridBridgeAbProps.v2558").WindowsHybridBridgeAbProps_v2558)(c));c=a.hostObjects.WamBridge;c!=null&&(this.wam=new(d("WAWebWindowsHybridBridgeWam.v2558").WindowsHybridBridgeWam_v2558)(c));c=a.hostObjects.PreferencesBridge;c&&(this.$1=new(d("WAWebWindowsHybridBridgePreferences.v2558").WindowsHybridBridgePreferences_v2558)(c));c=a.hostObjects.ScalingControlBridge;c&&(this.scalingControl=new(d("WAWebWindowsHybridBridgeScalingControl.v2558").WindowsHybridBridgeScalingControl_v2558)(c));c=a.hostObjects.PicturesBridge;c&&(this.pictures=new(d("WAWebWindowsHybridBridgePictures.v2558").WindowsHybridBridgePictures_v2558)(c));c=a.hostObjects.DebugFeaturesBridge;var e=b("cr:17220")==null?void 0:b("cr:17220").debugFeaturesMock;c!=null?this.$4=new(d("WAWebWindowsHybridBridgeDebugFeatures.v2558").WindowsHybridBridgeDebugFeatures_v2558)(c):e!=null;c=a.hostObjects.VoipBridge;e=a.hostObjects.VoipSignalingBridge;c&&e&&(this.voip=new(d("WAWebWindowsHybridBridgeVoip.v2558").VoipWinRTBridge_v2558)(c,e));this.$5=new(d("WAWebWindowsHybridBridgeRateTheApp.v2558").WAWebWindowsHybridBridgeRateTheApp_v2558)(a.hostObjects.RateAppBridge);this.$3=new(d("WAWebWindowsHybridBridgeConnection.v2558").WindowsHybridBridgeConnection_v2558)(a.hostObjects.ConnectionBridge);this.$2=a.hostObjects.ClientKeyBridge;this.touchpadFix=new(d("WAWebWindowsHybridBridgeTouchpadFix.v2558").WindowsHybridBridgeTouchpadFix_v2558)(a.hostObjects.TouchpadFix);try{c=a.hostObjects.PopulatedContactsBridge;c!=null&&(this.contacts=new(d("WAWebWindowsHybridBridgeContacts.v2558").WindowsHybridBridgeContacts_v2558)(c,a.hostObjects.sync.PopulatedContactsBridge,!0))}catch(b){e=a.hostObjects.ContactsBridge;e!=null&&(this.contacts=new(d("WAWebWindowsHybridBridgeContacts.v2558").WindowsHybridBridgeContacts_v2558)(e,a.hostObjects.sync.ContactsBridge,!1))}this.sqlite=a.hostObjects.SQLiteBridge}var c=a.prototype;c.getPreferences=function(){var a;(a=this.$1)==null||a.initialize();return this.$1};c.getScalingControl=function(){var a;(a=this.scalingControl)==null||a.initialize();return this.scalingControl};c.getRateTheApp=function(){return this.$5};c.getClientKeyBridge=function(){return this.$2};c.getDebugFeatures=function(){return this.$4};return a}();g.WindowsHybridBridge_v2558=a}),98);
__d("WAWebWindowsHybridBridgeAbProps.v2559",["WAWebABPropsCache","WAWebABPropsLocalStorage","WAWebBackendApi","WAWebHybridABProps","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){a=function(){function a(a){var c=this;this.$2=!1;this.$3=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=parseInt(a,10);d("WAWebABPropsCache").saveExposure(a);c.$1.acknowledgeExposure(a.toString())});return function(b){return a.apply(this,arguments)}}();this.$4=function(a){var b=d("WAWebABPropsLocalStorage").getABKey();if(a!==b){a=d("WAWebHybridABProps").getAllHybridAbProps(!1);c.$1.setConfigs(b,JSON.stringify(a))}};this.$1=a}var c=a.prototype;c.initialize=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=this;if(this.$2)return;this.$2=!0;yield d("WAWebABPropsCache").waitForABPropConfigsReady();this.$1.addEventListener("exposureLogged",this.$3);this.$1.subscribe(null);var b=(yield this.$1.getVersion());d("WAWebBackendApi").frontendFireAndForget("addAbPropsUpdateListener",function(){a.$4(null)});this.$4(b)});function c(){return a.apply(this,arguments)}return c}();return a}();g.WindowsHybridBridgeAbProps_v2559=a}),98);
__d("WAWebWindowsHybridBridgeConnection.v2559",["WAComms","WALogger","WAWebEventsWaitForMainStreamReadyMd","WAWebEventsWaitForOfflineDeliveryEnd","WAWebSetWindowsPushConfig","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r;a=function(){function a(a){var e=this;this.$2=!1;this.$3=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.data.toString();a=(a=a.channel)==null?void 0:a.toString();d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleUpdateNotificationsTokenEvent"]))).devConsole(b,a);yield c("WAWebEventsWaitForMainStreamReadyMd")();yield d("WAWebSetWindowsPushConfig").setWindowsPushConfig(b,a);e.$1.acknowledgeNotificationsToken(b,a)});return function(b){return a.apply(this,arguments)}}();this.$4=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent"])));try{yield e.$6(),d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: offline resume complete"]))),d("WAComms").closeSocketAndPause(),d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: socket closed"]))),e.$1.handleConnectionState(!1)}catch(a){d("WALogger").ERROR(l||(l=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: failed to close socket: ",""])),a)}});this.$5=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection.handleConnectEvent"])));if(e.$2){d("WALogger").LOG(n||(n=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleConnectEvent: socket already opening"])));return}try{var a;a=((a=d("WAComms").getComms())==null?void 0:a.socket)!=null;a||(e.$2=!0,d("WAComms").closeSocketAndResume(),d("WALogger").LOG(o||(o=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleConnectEvent: socket opened"]))));yield e.$6();d("WALogger").LOG(p||(p=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleConnectEvent: offline resume complete"])));e.$1.handleConnectionState(!0)}catch(a){d("WALogger").ERROR(q||(q=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleConnectEvent: failed to open socket: ",""])),a)}finally{e.$2=!1}});this.$1=a;this.$1.addEventListener("updateNotificationsTokenEvent",this.$3);this.$1.addEventListener("disconnectEvent",this.$4);this.$1.addEventListener("connectEvent",this.$5);this.$1.subscribe(null)}var e=a.prototype;e.$6=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield d("WAComms").waitForConnection(),d("WAWebEventsWaitForOfflineDeliveryEnd").isOfflineDeliveryEnd()||(d("WALogger").LOG(r||(r=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:waitForOfflineResume"]))),yield d("WAWebEventsWaitForOfflineDeliveryEnd").waitForOfflineDeliveryEnd())});function c(){return a.apply(this,arguments)}return c}();return a}();g.WindowsHybridBridgeConnection_v2559=a}),98);
__d("WAWebWindowsHybridBridgeContacts.v2559",["WALogger","WAWebContactsDbLidMigrationUtils","WAWebEventsWaitForMainStreamReadyMd","WAWebLidAwareContactsDB","WAWebSchemaContact_DO_NOT_USE_DIRECTLY","WAWebSyncBootstrap","asyncToGeneratorRuntime","filterNulls"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a,d,e){var f=this;this.$4="contacts";this.$5=new Set();this.$6=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=JSON.parse(a);if(a.length===0)return;a.forEach(function(a){return f.$5.add(a)});var b=(yield c("WAWebLidAwareContactsDB").bulkGet(a));b.forEach(function(a){return f.$5["delete"](a==null?void 0:a.id)});a=a.filter(function(a){return f.$5.has(a)});a.forEach(function(a){return f.$5["delete"](a)});void f.$1.updateContacts(a,JSON.stringify(c("filterNulls")(b)))});return function(b){return a.apply(this,arguments)}}();this.$1=a;this.$2=d;this.$3=e;a.addEventListener("requestUpdateEvent",this.$6);a.subscribe(null)}var e=a.prototype;e.initialize=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=this;c("WAWebLidAwareContactsDB").setUpdateListener(function(b){return a.$7(b)});yield c("WAWebEventsWaitForMainStreamReadyMd")();if(this.$3)return;if(c("WAWebSyncBootstrap").isSyncDBootstrapInProcess())return;this.$3=!0;try{var b=200,e=(yield d("WAWebSchemaContact_DO_NOT_USE_DIRECTLY").getContactTable().all({limit:b,offset:0}));do{var f;f=(f=e[e.length-1])==null?void 0:f.id;e=(yield d("WAWebContactsDbLidMigrationUtils").replacePnRowsWithLidData(e));yield this.$1.updateContacts([],JSON.stringify(e));e=(yield d("WAWebSchemaContact_DO_NOT_USE_DIRECTLY").getContactTable().greaterThan(["id"],f,{limit:b}))}while(e.length>0);this.$1.acknowledgeInitialSync()}catch(a){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[WinUi] setInitialData "," error ",""])),this.$4,a)}});function e(){return a.apply(this,arguments)}return e}();e.$7=function(a){var b=this;if(!this.$3)return;a=a.filter(function(a){return!b.$5.has(a)});if(a.length===0)return;a.forEach(function(a){return b.$5.add(a)});this.$2.invalidateContacts(a)};return a}();g.WindowsHybridBridgeContacts_v2559=a}),98);
__d("WAWebWindowsHybridBridgeDebugFeatures.v2559",["WALogger","WAWebBackendApi","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i=1e3;a=function(){function a(a){var b=this;this.ping=function(a){d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeDebugFeatures:ping:",""])),a),b.$1.pong(a.valueOf())};this.$1=a;(a=this.$1)==null||a.addEventListener("jsLogs",function(){b.saveJSLogs()});(a=this.$1)==null||a.addEventListener("requestWebLogStringEvent",function(a){void b.requestWebLogString(a)});(a=this.$1)==null||a.addEventListener("pingEvent",this.ping);this.$1.subscribe(null)}var c=a.prototype;c.startHangsMonitor=function(){};c.saveNativeLogs=function(){this.$1.saveNativeLogs()};c.requestNativeLogs=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){return this.$1.requestNativeLogs()});function c(){return a.apply(this,arguments)}return c}();c.saveJSLogs=function(){d("WAWebBackendApi").frontendFireAndForget("createDownloadDataForMdWebLogs")};c.limitStringSize=function(a,b){var c=new Blob([a],{type:"text/plain"});if(c.size>b){c=c.size-b;return a.substr(c)}return a};c.requestWebLogString=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield d("WAWebBackendApi").frontendSendAndReceive("getWebLogs"));b=this.limitStringSize(b,30*i);this.$1.sendWebLogString(a.toString(),b)});function c(b){return a.apply(this,arguments)}return c}();return a}();g.WindowsHybridBridgeDebugFeatures_v2559=a}),98);
__d("WAWebWindowsHybridBridgePictures.v2559",["WAWebProfilePicThumbCollection","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var c=this;this.$2=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=JSON.parse(a);for(a of a){var b,e=d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.get(a.id);e==null&&(e=(yield d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.resyncPicturesByWid([a.id])));if(((b=e)==null?void 0:b.eurl)!==a.eurl){c.$1.setProfilePictures(JSON.stringify([{eurl:(b=e)==null?void 0:b.eurl,id:a.id.toString()}]))}}});return function(b){return a.apply(this,arguments)}}();this.$1=a;a.addEventListener("verifyPictureEvent",this.$2);a.subscribe(null)}var c=a.prototype;c.notifyUpdate=function(a){if(a==null)return;this.$1.setProfilePictures(JSON.stringify([{eurl:a.eurl,id:a.id.toString()}]))};return a}();g.WindowsHybridBridgePictures_v2559=a}),98);
__d("WAWebWindowsHybridBridgePreferences.v2559",["WAWebUserPrefsBase","WAWebUserPrefsKeys","WAWebUserPrefsStore"],(function(a,b,c,d,e,f,g){var h="WANativePreferencesRevision";a=function(){function a(a){var b=this;this.$2=!1;this.$3=null;this.$4=new Set();this.initialize=function(){var a;if(b.$2)return;b.$4.add(String(d("WAWebUserPrefsKeys").UserPrefs.WindowsIsSystemTrayEnabled));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.SYSTEM_THEME_MODE));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.THEME));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.ME_DISPLAY_NAME));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LAST_PUSHNAME));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LID));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LAST_WID_MD));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LANG_FROM_PHONE));b.$4.add(String(d("WAWebUserPrefsKeys").UserPrefs.AbpropsWebRefreshId));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.ABPROPS_REFRESH_ID));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.ABPROPS));(a=b.$1)==null||a.addEventListener("everythingRequested",function(){var a=b.$5();b.$3!==a&&(b.$3=a,b.$6())});(a=b.$1)==null||a.subscribe(null);b.$2=!0};this.$1=a}var b=a.prototype;b.$5=function(){var a=c("WAWebUserPrefsStore").getUser(h),b=0;typeof a==="number"?b=a:typeof a==="string"&&(b=Number(a)||0);return b};b.$7=function(a){c("WAWebUserPrefsStore").setUser(h,a)};b.handleSettingChange=function(a,b){var c;if(!this.$4.has(a))return;var d=this.$5();(c=this.$1)==null||c.updateLocalSetting(a,JSON.stringify(b),++d);this.$7(d)};b.$6=function(){var a=this.$5(),b=[],e=[];for(var f of this.$4){var g=c("WAWebUserPrefsStore").getUser(f);if(g!=null){b.push(f);e.push(JSON.stringify(g));continue}g=d("WAWebUserPrefsBase").userPreferencesStoreBase.get(f);g!=null&&(b.push(f),e.push(JSON.stringify(g)))}(g=this.$1)==null||g.updateAllLocalSettings(b,e,a)};b.clean=function(){var a;(a=this.$1)==null||a.clean()};return a}();g.WindowsHybridBridgePreferences_v2559=a}),98);
__d("WAWebWindowsHybridBridgeRateTheApp.v2559",["asyncToGeneratorRuntime"],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=a}var c=a.prototype;c.getStoreProductForCurrentApp=function(){return this.$1.getStoreProductForCurrentAppAsync()};c.requestRateAndApp=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield this.$1.requestRateAndReviewAppAsync());return JSON.parse(a)});function c(){return a.apply(this,arguments)}return c}();return a}();f.WAWebWindowsHybridBridgeRateTheApp_v2559=a}),66);
__d("WAWebWindowsHybridBridgeScalingControl.v2559",["WAWebWindowsScalingControlEventEmitter"],(function(a,b,c,d,e,f,g){a=function(){function a(a){this.$2=!1,this.$3=function(){c("WAWebWindowsScalingControlEventEmitter").trigger("requestZoomIn")},this.$4=function(){c("WAWebWindowsScalingControlEventEmitter").trigger("requestZoomOut")},this.$1=a}var b=a.prototype;b.initialize=function(){var a;if(this.$2)return;this.$2=!0;(a=this.$1)==null||a.addEventListener("zoomInRequested",this.$3);(a=this.$1)==null||a.addEventListener("zoomOutRequested",this.$4);(a=this.$1)==null||a.subscribe(null)};b.zoomIn=function(){this.$3()};b.zoomOut=function(){this.$4()};b.showScalingControl=function(a){var b;(b=this.$1)==null||b.showScalingControl(a)};return a}();g.WindowsHybridBridgeScalingControl_v2559=a}),98);
__d("WAWebWindowsHybridBridgeTouchpadFix.v2559",["WAWebDebounce"],(function(a,b,c,d,e,f,g){a=function(){function a(a){var b=this;this.$2=c("WAWebDebounce")(function(a){if(a.deltaX<=0)return;a=a.target;a=a;var c=!1,d=0;while(a&&a!==document.body&&d<3){var e=self.getComputedStyle(a);if((e.overflowX==="auto"||e.overflowX==="scroll")&&a.scrollWidth>a.clientWidth){c=!0;break}e=a.parentElement;if(!e)break;a=e;d++}c||b.interruptManipulations()},500);this.$1=a}var b=a.prototype;b.interruptManipulations=function(){return this.$1.interruptManipulations()};b.init=function(){document.addEventListener("wheel",this.$2,{passive:!1})};return a}();g.WindowsHybridBridgeTouchpadFix_v2559=a}),98);
__d("WAWebWindowsHybridBridgeVoip.v2559",["WABase64","WALogger","WAWebBackendApi","WAWebSerializeVoipWapNode","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E;a=function(){function a(a,b){var c=this;this.previewAndJoinCallLink=null;this.handleLidCallerDisplayInfo=null;this.handleVoipReady=function(){var a;d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received voip ready event"])));d("WAWebBackendApi").frontendFireAndForget("addStartingLogoutListener",function(){return c.handleSignOut()});(a=c.$3)==null||a.onVoipReady()};this.sendSignalingXmpp=function(a){var b,e=a.peerJid,f=a.callId,g=a.payload;a=a.shouldEncryptBeforeSending;d("WALogger").DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received sendSignalingXmpp event: ",", ",", ",", ",""])),e,f,g,a);(b=c.$3)==null||b.onSignalingXmpp(e,f,g,a)};this.handleCallEvent=function(a){var b,e=a.eventType,f=a.userData;a=a.eventDataJson;d("WALogger").DEV(j||(j=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received handleCallEvent event: ",", ",", ",""])),e,f,a);(b=c.$3)==null||b.onCallEvent(e,f,a)};this.requestOpenChat=function(a){var b;d("WALogger").DEV(k||(k=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received requestOpenChat event: ",""])),a);(b=c.$3)==null||b.onRequestOpenChat(a)};this.callAgain=function(a){var b,e=a.peerJid;a=a.isVideoCall;d("WALogger").DEV(l||(l=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received callAgain event: ",", ",""])),e,a);(b=c.$3)==null||b.onCallAgain(e,a)};this.$1=a;this.$2=b;this.$1.addEventListener("handleVoipReadyEvent",this.handleVoipReady);this.$1.addEventListener("handleVoipCallEvent",this.handleCallEvent);this.$1.addEventListener("handleSignalingXmppEvent",this.sendSignalingXmpp);this.$1.addEventListener("handleRequestOpenChatEvent",this.requestOpenChat);this.$1.addEventListener("handleCallAgainEvent",this.callAgain);this.$1.subscribe(null)}var c=a.prototype;c.setHandlers=function(a){this.$3=a};c.cleanup=function(){this.$1.removeEventListener!=null&&(this.$1.removeEventListener("handleVoipReadyEvent",this.handleVoipReady),this.$1.removeEventListener("handleVoipCallEvent",this.handleCallEvent),this.$1.removeEventListener("handleSignalingXmppEvent",this.sendSignalingXmpp),this.$1.removeEventListener("handleRequestOpenChatEvent",this.requestOpenChat),this.$1.removeEventListener("handleCallAgainEvent",this.callAgain))};c.joinOngoingCall=function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){};c.inviteToCall=function(a,b,c){};c.handleIncomingSignalingOffer=function(a,b,c,e,f,g,h,i,j){d("WALogger").DEV(m||(m=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleIncomingSignalingOffer called with:"]))).devConsole(arguments),this.$2.handleIncomingSignalingOffer(d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a),b,c,e,f,g,h,i,j?d("WABase64").encodeB64(j):null)};c.handleIncomingSignalingMessage=function(a,b,c,e,f,g,h,i){this.$2.handleIncomingSignalingMessage(d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a),b,c,e,f,g,h,i?d("WABase64").encodeB64(i):null)};c.handleIncomingSignalingAck=function(a,b,c,e,f){d("WALogger").DEV(n||(n=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleIncomingSignalingAck called with:"]))).devConsole(arguments),this.$2.handleIncomingSignalingAck(d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a),b,c,e,f?d("WABase64").encodeB64(f):null)};c.handleIncomingSignalingReceipt=function(a,b,c){d("WALogger").DEV(o||(o=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleIncomingSignalingReceipt called with:"]))).devConsole(arguments),this.$2.handleIncomingSignalingReceipt(d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a),b,c?d("WABase64").encodeB64(c):null)};c.resendOfferOnDecryptionFailure=function(a,b){d("WALogger").DEV(p||(p=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] resendOfferOnDecryptionFailure called with:"]))).devConsole(arguments),this.$2.resendOfferOnDecryptionFailure(a,b)};c.resendEncRekeyRetry=function(a,b){d("WALogger").DEV(q||(q=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] resendEncRekeyRetry called with:"]))).devConsole(arguments),this.$2.resendEncRekeyRetry(a,b)};c.notifyDeviceIdentityChangedOrDeleted=function(a,b){d("WALogger").DEV(r||(r=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] notifyDeviceIdentityChangedOrDeleted called with:"]))).devConsole(arguments),this.$2.notifyDeviceIdentityChangedOrDeleted(a,b)};c.handleWebViewReady=function(){var a;d("WALogger").DEV(s||(s=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleWebViewReady called"])));(a=this.$1)==null||a.handleWebViewReady()};c.voipInit=function(a,b,c){var e;d("WALogger").DEV(t||(t=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] voipInit called with:"]))).devConsole(arguments);(e=this.$1)==null||e.voipInit(a,b,c)};c.setHideMyIp=function(a){var b;d("WALogger").DEV(u||(u=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] setHideMyIp called with:"]))).devConsole(arguments);(b=this.$1)==null||b.setHideMyIp(a)};c.setChatNameAndIcon=function(a,b,c){var e;d("WALogger").DEV(v||(v=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] setChatNameAndIcon called"])));(e=this.$1)==null||e.setChatNameAndIcon(a,b,c)};c.handleSignOut=function(){var a;d("WALogger").DEV(w||(w=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleSignOut called"])));(a=this.$1)==null||a.handleSignOut()};c.startCall=function(a,b,c,e,f,g,h,i,j,k,l){var m;d("WALogger").DEV(x||(x=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] startCall called with:"]))).devConsole(arguments);(m=this.$1)==null||m.startCall(a.toString({legacy:!0}),b,c,e,f,g,h,i?d("WABase64").encodeB64(i):null)};c.startGroupCall=function(a,b,c,e,f,g,h,i,j,k,l,m,n,o){var p;d("WALogger").DEV(y||(y=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] startGroupCall called with:"]))).devConsole(arguments);(p=this.$1)==null||p.startGroupCall(a,b,c,e,f,g,h,i,j,k,l)};c.handleDeviceJidList=function(a,b){};c.previewCallLink=function(a,b,c,e,f){var g;d("WALogger").DEV(z||(z=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] previewCallLink called with:"]))).devConsole(arguments);(g=this.$1)==null||g.previewCallLink(a,b,c)};c.endCall=function(a,b){var c;d("WALogger").DEV(A||(A=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] endCall called with:"]))).devConsole(arguments);(c=this.$1)==null||c.endCall(a,b)};c.rejectCallWithoutCallContext=function(a,b,c,e,f,g,h){var i;d("WALogger").DEV(B||(B=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] rejectCallWithoutCallContext called with:"]))).devConsole(arguments);(i=this.$1)==null||i.rejectCallWithoutCallContext(a,b,c,e,f,g,h)};c.requestCallInfo=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WALogger").DEV(C||(C=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] requestCallInfo called with:"]))).devConsole(arguments);var a=(yield this.$1.getCallInfo()),b=a.callInfoJsonBase64,c=a.error;return{callInfoJsonBase64:b,error:c}});function c(){return a.apply(this,arguments)}return c}();c.requestObtainDevicePermissionAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("WALogger").DEV(D||(D=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] requestObtainDevicePermissionAsync called with:"]))).devConsole(arguments);var b=(yield this.$1.requestObtainDevicePermissionAsync(a)),c=b.error,e=b.permissionGranted;return{error:c,permissionGranted:e}});function c(b){return a.apply(this,arguments)}return c}();c.requestDevicesCountAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("WALogger").DEV(E||(E=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] requestDevicesCountAsync called with:"]))).devConsole(arguments);var b=(yield this.$1.getDeviceCountAsync(a)),c=b.error,e=b.deviceCount;return{error:c,deviceCount:e}});function c(b){return a.apply(this,arguments)}return c}();return a}();g.VoipWinRTBridge_v2559=a}),98);
__d("WAWebWindowsHybridBridgeWam.v2559",["Promise","WALogger","WAWebWamCodegenWamEvent"],(function(a,b,c,d,e,f,g){var h,i,j;a=function(a){var c=this;this.$2=!1;this.initialize=function(){var a;if(c.$2)return;(a=c.$1)==null||a.addEventListener("eventsSaved",c.handleEvents);(a=c.$1)==null||a.subscribe(null);c.$2=!0};this.handleEvents=function(a){if(!c.$2){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received handleWamEvent while bridge is not initialized"])));return}d("WALogger").DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received handleWamEvent event: ",""])),a);a=JSON.parse(a);void (j||(j=b("Promise"))).all(a.map(function(a){return new(d("WAWebWamCodegenWamEvent").RawWamEvent)(a).commitAndWaitForFlush(!0)}))};this.$1=a};g.WindowsHybridBridgeWam_v2559=a}),98);
__d("WAWebWindowsHybridBridge.v2559",["WAWebWindowsHybridBridgeAbProps.v2559","WAWebWindowsHybridBridgeConnection.v2559","WAWebWindowsHybridBridgeContacts.v2559","WAWebWindowsHybridBridgeDebugFeatures.v2559","WAWebWindowsHybridBridgePictures.v2559","WAWebWindowsHybridBridgePreferences.v2559","WAWebWindowsHybridBridgeRateTheApp.v2559","WAWebWindowsHybridBridgeScalingControl.v2559","WAWebWindowsHybridBridgeTouchpadFix.v2559","WAWebWindowsHybridBridgeVoip.v2559","WAWebWindowsHybridBridgeWam.v2559","cr:17220"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.mediaFiles=null;this.nativeAppStateBridge=null;this.systemIntegrationsBridge=null;this.linksPreview=null;this.browserExtensionsBridge=null;this.seamlessMigrationBridge=null;this.mediaTranscodeBridge=null;this.adv=null;this.sharesheetBridge=null;this.appActivationBridge=null;this.serverEncKeySaltBridge=null;a.hostObjects.options.defaultSyncProxy=!0;a.hostObjects.options.forceAsyncMethodMatches=[/Async$/,/AsyncWithSpeller$/];a.hostObjects.options.ignoreMemberNotFoundError=!0;var c=a.hostObjects.AbPropsBridge;c!=null&&(this.abProps=new(d("WAWebWindowsHybridBridgeAbProps.v2559").WindowsHybridBridgeAbProps_v2559)(c));c=a.hostObjects.WamBridge;c!=null&&(this.wam=new(d("WAWebWindowsHybridBridgeWam.v2559").WindowsHybridBridgeWam_v2559)(c));c=a.hostObjects.PreferencesBridge;c&&(this.$1=new(d("WAWebWindowsHybridBridgePreferences.v2559").WindowsHybridBridgePreferences_v2559)(c));c=a.hostObjects.ScalingControlBridge;c&&(this.scalingControl=new(d("WAWebWindowsHybridBridgeScalingControl.v2559").WindowsHybridBridgeScalingControl_v2559)(c));c=a.hostObjects.PicturesBridge;c&&(this.pictures=new(d("WAWebWindowsHybridBridgePictures.v2559").WindowsHybridBridgePictures_v2559)(c));c=a.hostObjects.DebugFeaturesBridge;var e=b("cr:17220")==null?void 0:b("cr:17220").debugFeaturesMock;c!=null?this.$4=new(d("WAWebWindowsHybridBridgeDebugFeatures.v2559").WindowsHybridBridgeDebugFeatures_v2559)(c):e!=null;c=a.hostObjects.VoipBridge;e=a.hostObjects.VoipSignalingBridge;c&&e&&(this.voip=new(d("WAWebWindowsHybridBridgeVoip.v2559").VoipWinRTBridge_v2559)(c,e));this.$5=new(d("WAWebWindowsHybridBridgeRateTheApp.v2559").WAWebWindowsHybridBridgeRateTheApp_v2559)(a.hostObjects.RateAppBridge);this.$3=new(d("WAWebWindowsHybridBridgeConnection.v2559").WindowsHybridBridgeConnection_v2559)(a.hostObjects.ConnectionBridge);this.$2=a.hostObjects.ClientKeyBridge;this.touchpadFix=new(d("WAWebWindowsHybridBridgeTouchpadFix.v2559").WindowsHybridBridgeTouchpadFix_v2559)(a.hostObjects.TouchpadFix);try{c=a.hostObjects.PopulatedContactsBridge;c!=null&&(this.contacts=new(d("WAWebWindowsHybridBridgeContacts.v2559").WindowsHybridBridgeContacts_v2559)(c,a.hostObjects.sync.PopulatedContactsBridge,!0))}catch(b){e=a.hostObjects.ContactsBridge;e!=null&&(this.contacts=new(d("WAWebWindowsHybridBridgeContacts.v2559").WindowsHybridBridgeContacts_v2559)(e,a.hostObjects.sync.ContactsBridge,!1))}this.sqlite=a.hostObjects.SQLiteBridge}var c=a.prototype;c.getPreferences=function(){var a;(a=this.$1)==null||a.initialize();return this.$1};c.getScalingControl=function(){var a;(a=this.scalingControl)==null||a.initialize();return this.scalingControl};c.getRateTheApp=function(){return this.$5};c.getClientKeyBridge=function(){return this.$2};c.getDebugFeatures=function(){return this.$4};return a}();g.WindowsHybridBridge_v2559=a}),98);
__d("WAWebWindowsHybridBridgeAbProps.v2560",["WAWebABPropsCache","WAWebABPropsLocalStorage","WAWebBackendApi","WAWebHybridABProps","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){a=function(){function a(a){var c=this;this.$2=!1;this.$3=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=parseInt(a,10);d("WAWebABPropsCache").saveExposure(a);c.$1.acknowledgeExposure(a.toString())});return function(b){return a.apply(this,arguments)}}();this.$4=function(a){var b=d("WAWebABPropsLocalStorage").getABKey();if(a!==b){a=d("WAWebHybridABProps").getAllHybridAbProps(!1);c.$1.setConfigs(b,JSON.stringify(a))}};this.$1=a}var c=a.prototype;c.initialize=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=this;if(this.$2)return;this.$2=!0;yield d("WAWebABPropsCache").waitForABPropConfigsReady();this.$1.addEventListener("exposureLogged",this.$3);this.$1.subscribe(null);var b=(yield this.$1.getVersion());d("WAWebBackendApi").frontendFireAndForget("addAbPropsUpdateListener",function(){a.$4(null)});this.$4(b)});function c(){return a.apply(this,arguments)}return c}();return a}();g.WindowsHybridBridgeAbProps_v2560=a}),98);
__d("WAWebWindowsHybridBridgeConnection.v2560",["WAComms","WALogger","WAWebEventsWaitForMainStreamReadyMd","WAWebEventsWaitForOfflineDeliveryEnd","WAWebSetWindowsPushConfig","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r;a=function(){function a(a){var e=this;this.$2=!1;this.$3=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.data.toString();a=(a=a.channel)==null?void 0:a.toString();d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleUpdateNotificationsTokenEvent"]))).devConsole(b,a);yield c("WAWebEventsWaitForMainStreamReadyMd")();yield d("WAWebSetWindowsPushConfig").setWindowsPushConfig(b,a);e.$1.acknowledgeNotificationsToken(b,a)});return function(b){return a.apply(this,arguments)}}();this.$4=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent"])));try{yield e.$6(),d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: offline resume complete"]))),d("WAComms").closeSocketAndPause(),d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: socket closed"]))),e.$1.handleConnectionState(!1)}catch(a){d("WALogger").ERROR(l||(l=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: failed to close socket: ",""])),a)}});this.$5=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection.handleConnectEvent"])));if(e.$2){d("WALogger").LOG(n||(n=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleConnectEvent: socket already opening"])));return}try{var a;a=((a=d("WAComms").getComms())==null?void 0:a.socket)!=null;a||(e.$2=!0,d("WAComms").closeSocketAndResume(),d("WALogger").LOG(o||(o=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleConnectEvent: socket opened"]))));yield e.$6();d("WALogger").LOG(p||(p=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleConnectEvent: offline resume complete"])));e.$1.handleConnectionState(!0)}catch(a){d("WALogger").ERROR(q||(q=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleConnectEvent: failed to open socket: ",""])),a)}finally{e.$2=!1}});this.$1=a;this.$1.addEventListener("updateNotificationsTokenEvent",this.$3);this.$1.addEventListener("disconnectEvent",this.$4);this.$1.addEventListener("connectEvent",this.$5);this.$1.subscribe(null)}var e=a.prototype;e.$6=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield d("WAComms").waitForConnection(),d("WAWebEventsWaitForOfflineDeliveryEnd").isOfflineDeliveryEnd()||(d("WALogger").LOG(r||(r=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:waitForOfflineResume"]))),yield d("WAWebEventsWaitForOfflineDeliveryEnd").waitForOfflineDeliveryEnd())});function c(){return a.apply(this,arguments)}return c}();return a}();g.WindowsHybridBridgeConnection_v2560=a}),98);
__d("WAWebWindowsHybridBridgeContacts.v2560",["WALogger","WAWebContactsDbLidMigrationUtils","WAWebEventsWaitForMainStreamReadyMd","WAWebLidAwareContactsDB","WAWebSchemaContact_DO_NOT_USE_DIRECTLY","WAWebSyncBootstrap","asyncToGeneratorRuntime","filterNulls"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a,d,e){var f=this;this.$4="contacts";this.$5=new Set();this.$6=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=JSON.parse(a);if(a.length===0)return;a.forEach(function(a){return f.$5.add(a)});var b=(yield c("WAWebLidAwareContactsDB").bulkGet(a));b.forEach(function(a){return f.$5["delete"](a==null?void 0:a.id)});a=a.filter(function(a){return f.$5.has(a)});a.forEach(function(a){return f.$5["delete"](a)});void f.$1.updateContacts(a,JSON.stringify(c("filterNulls")(b)))});return function(b){return a.apply(this,arguments)}}();this.$1=a;this.$2=d;this.$3=e;a.addEventListener("requestUpdateEvent",this.$6);a.subscribe(null)}var e=a.prototype;e.initialize=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=this;c("WAWebLidAwareContactsDB").setUpdateListener(function(b){return a.$7(b)});yield c("WAWebEventsWaitForMainStreamReadyMd")();if(this.$3)return;if(c("WAWebSyncBootstrap").isSyncDBootstrapInProcess())return;this.$3=!0;try{var b=200,e=(yield d("WAWebSchemaContact_DO_NOT_USE_DIRECTLY").getContactTable().all({limit:b,offset:0}));do{var f;f=(f=e[e.length-1])==null?void 0:f.id;e=(yield d("WAWebContactsDbLidMigrationUtils").replacePnRowsWithLidData(e));yield this.$1.updateContacts([],JSON.stringify(e));e=(yield d("WAWebSchemaContact_DO_NOT_USE_DIRECTLY").getContactTable().greaterThan(["id"],f,{limit:b}))}while(e.length>0);this.$1.acknowledgeInitialSync()}catch(a){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[WinUi] setInitialData "," error ",""])),this.$4,a)}});function e(){return a.apply(this,arguments)}return e}();e.$7=function(a){var b=this;if(!this.$3)return;a=a.filter(function(a){return!b.$5.has(a)});if(a.length===0)return;a.forEach(function(a){return b.$5.add(a)});this.$2.invalidateContacts(a)};return a}();g.WindowsHybridBridgeContacts_v2560=a}),98);
__d("WAWebWindowsHybridBridgeDebugFeatures.v2560",["WALogger","WAWebBackendApi","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i=1e3;a=function(){function a(a){var b=this;this.ping=function(a){d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeDebugFeatures:ping:",""])),a),b.$1.pong(a.valueOf())};this.$1=a;(a=this.$1)==null||a.addEventListener("jsLogs",function(){b.saveJSLogs()});(a=this.$1)==null||a.addEventListener("requestWebLogStringEvent",function(a){void b.requestWebLogString(a)});(a=this.$1)==null||a.addEventListener("pingEvent",this.ping);this.$1.subscribe(null)}var c=a.prototype;c.startHangsMonitor=function(){};c.saveNativeLogs=function(){this.$1.saveNativeLogs()};c.requestNativeLogs=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){return this.$1.requestNativeLogs()});function c(){return a.apply(this,arguments)}return c}();c.saveJSLogs=function(){d("WAWebBackendApi").frontendFireAndForget("createDownloadDataForMdWebLogs")};c.limitStringSize=function(a,b){var c=new Blob([a],{type:"text/plain"});if(c.size>b){c=c.size-b;return a.substr(c)}return a};c.requestWebLogString=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield d("WAWebBackendApi").frontendSendAndReceive("getWebLogs"));b=this.limitStringSize(b,30*i);this.$1.sendWebLogString(a.toString(),b)});function c(b){return a.apply(this,arguments)}return c}();return a}();g.WindowsHybridBridgeDebugFeatures_v2560=a}),98);
__d("WAWebWindowsHybridBridgePictures.v2560",["WAWebProfilePicThumbCollection","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var c=this;this.$2=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=JSON.parse(a);for(a of a){var b,e=d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.get(a.id);e==null&&(e=(yield d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.resyncPicturesByWid([a.id])));if(((b=e)==null?void 0:b.eurl)!==a.eurl){c.$1.setProfilePictures(JSON.stringify([{eurl:(b=e)==null?void 0:b.eurl,id:a.id.toString()}]))}}});return function(b){return a.apply(this,arguments)}}();this.$1=a;a.addEventListener("verifyPictureEvent",this.$2);a.subscribe(null)}var c=a.prototype;c.notifyUpdate=function(a){if(a==null)return;this.$1.setProfilePictures(JSON.stringify([{eurl:a.eurl,id:a.id.toString()}]))};return a}();g.WindowsHybridBridgePictures_v2560=a}),98);
__d("WAWebWindowsHybridBridgePreferences.v2560",["WAWebUserPrefsBase","WAWebUserPrefsKeys","WAWebUserPrefsStore"],(function(a,b,c,d,e,f,g){var h="WANativePreferencesRevision";a=function(){function a(a){var b=this;this.$2=!1;this.$3=null;this.$4=new Set();this.initialize=function(){var a;if(b.$2)return;b.$4.add(String(d("WAWebUserPrefsKeys").UserPrefs.WindowsIsSystemTrayEnabled));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.SYSTEM_THEME_MODE));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.THEME));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.ME_DISPLAY_NAME));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LAST_PUSHNAME));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LID));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LAST_WID_MD));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LANG_FROM_PHONE));b.$4.add(String(d("WAWebUserPrefsKeys").UserPrefs.AbpropsWebRefreshId));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.ABPROPS_REFRESH_ID));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.ABPROPS));(a=b.$1)==null||a.addEventListener("everythingRequested",function(){var a=b.$5();b.$3!==a&&(b.$3=a,b.$6())});(a=b.$1)==null||a.subscribe(null);b.$2=!0};this.$1=a}var b=a.prototype;b.$5=function(){var a=c("WAWebUserPrefsStore").getUser(h),b=0;typeof a==="number"?b=a:typeof a==="string"&&(b=Number(a)||0);return b};b.$7=function(a){c("WAWebUserPrefsStore").setUser(h,a)};b.handleSettingChange=function(a,b){var c;if(!this.$4.has(a))return;var d=this.$5();(c=this.$1)==null||c.updateLocalSetting(a,JSON.stringify(b),++d);this.$7(d)};b.$6=function(){var a=this.$5(),b=[],e=[];for(var f of this.$4){var g=c("WAWebUserPrefsStore").getUser(f);if(g!=null){b.push(f);e.push(JSON.stringify(g));continue}g=d("WAWebUserPrefsBase").userPreferencesStoreBase.get(f);g!=null&&(b.push(f),e.push(JSON.stringify(g)))}(g=this.$1)==null||g.updateAllLocalSettings(b,e,a)};b.clean=function(){var a;(a=this.$1)==null||a.clean()};return a}();g.WindowsHybridBridgePreferences_v2560=a}),98);
__d("WAWebWindowsHybridBridgeRateTheApp.v2560",["asyncToGeneratorRuntime"],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=a}var c=a.prototype;c.getStoreProductForCurrentApp=function(){return this.$1.getStoreProductForCurrentAppAsync()};c.requestRateAndApp=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield this.$1.requestRateAndReviewAppAsync());return JSON.parse(a)});function c(){return a.apply(this,arguments)}return c}();return a}();f.WAWebWindowsHybridBridgeRateTheApp_v2560=a}),66);
__d("WAWebWindowsHybridBridgeScalingControl.v2560",["WAWebWindowsScalingControlEventEmitter"],(function(a,b,c,d,e,f,g){a=function(){function a(a){this.$2=!1,this.$3=function(){c("WAWebWindowsScalingControlEventEmitter").trigger("requestZoomIn")},this.$4=function(){c("WAWebWindowsScalingControlEventEmitter").trigger("requestZoomOut")},this.$1=a}var b=a.prototype;b.initialize=function(){var a;if(this.$2)return;this.$2=!0;(a=this.$1)==null||a.addEventListener("zoomInRequested",this.$3);(a=this.$1)==null||a.addEventListener("zoomOutRequested",this.$4);(a=this.$1)==null||a.subscribe(null)};b.zoomIn=function(){this.$3()};b.zoomOut=function(){this.$4()};b.showScalingControl=function(a){var b;(b=this.$1)==null||b.showScalingControl(a)};return a}();g.WindowsHybridBridgeScalingControl_v2560=a}),98);
__d("WAWebWindowsHybridBridgeTouchpadFix.v2560",["WAWebDebounce"],(function(a,b,c,d,e,f,g){a=function(){function a(a){var b=this;this.$2=c("WAWebDebounce")(function(a){if(a.deltaX<=0)return;a=a.target;a=a;var c=!1,d=0;while(a&&a!==document.body&&d<3){var e=self.getComputedStyle(a);if((e.overflowX==="auto"||e.overflowX==="scroll")&&a.scrollWidth>a.clientWidth){c=!0;break}e=a.parentElement;if(!e)break;a=e;d++}c||b.interruptManipulations()},500);this.$1=a}var b=a.prototype;b.interruptManipulations=function(){return this.$1.interruptManipulations()};b.init=function(){document.addEventListener("wheel",this.$2,{passive:!1})};return a}();g.WindowsHybridBridgeTouchpadFix_v2560=a}),98);
__d("WAWebWindowsHybridBridgeVoip.v2560",["WABase64","WALogger","WAWebBackendApi","WAWebSerializeVoipWapNode","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H;a=function(){function a(a,b){var c=this;this.previewAndJoinCallLink=null;this.handleLidCallerDisplayInfo=null;this.handleVoipReady=function(){var a;d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received voip ready event"])));d("WAWebBackendApi").frontendFireAndForget("addStartingLogoutListener",function(){return c.handleSignOut()});(a=c.$3)==null||a.onVoipReady()};this.sendSignalingXmpp=function(a){var b,e=a.peerJid,f=a.callId,g=a.payload;a=a.shouldEncryptBeforeSending;d("WALogger").DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received sendSignalingXmpp event: ",", ",", ",", ",""])),e,f,g,a);(b=c.$3)==null||b.onSignalingXmpp(e,f,g,a)};this.handleCallEvent=function(a){var b,e=a.eventType,f=a.userData;a=a.eventDataJson;d("WALogger").DEV(j||(j=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received handleCallEvent event: ",", ",", ",""])),e,f,a);(b=c.$3)==null||b.onCallEvent(e,f,a)};this.requestOpenChat=function(a){var b;d("WALogger").DEV(k||(k=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received requestOpenChat event: ",""])),a);(b=c.$3)==null||b.onRequestOpenChat(a)};this.requestDeviceJidList=function(a){var b;d("WALogger").DEV(l||(l=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received requestDeviceJidList event: ",""])),a);void ((b=c.$3)==null?void 0:b.onRequestDeviceJidList(a).then(function(b){var d;(d=c.$1)==null||d.handleDeviceJidList(a,b)}))};this.callAgain=function(a){var b,e=a.peerJid;a=a.isVideoCall;d("WALogger").DEV(m||(m=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received callAgain event: ",", ",""])),e,a);(b=c.$3)==null||b.onCallAgain(e,a)};this.$1=a;this.$2=b;this.$1.addEventListener("handleVoipReadyEvent",this.handleVoipReady);this.$1.addEventListener("handleVoipCallEvent",this.handleCallEvent);this.$1.addEventListener("handleSignalingXmppEvent",this.sendSignalingXmpp);this.$1.addEventListener("handleRequestOpenChatEvent",this.requestOpenChat);this.$1.addEventListener("handleRequestDeviceJidListEvent",this.requestDeviceJidList);this.$1.addEventListener("handleCallAgainEvent",this.callAgain);this.$1.subscribe(null)}var c=a.prototype;c.setHandlers=function(a){this.$3=a};c.cleanup=function(){this.$1.removeEventListener!=null&&(this.$1.removeEventListener("handleVoipReadyEvent",this.handleVoipReady),this.$1.removeEventListener("handleVoipCallEvent",this.handleCallEvent),this.$1.removeEventListener("handleSignalingXmppEvent",this.sendSignalingXmpp),this.$1.removeEventListener("handleRequestOpenChatEvent",this.requestOpenChat),this.$1.removeEventListener("handleRequestDeviceJidListEvent",this.requestDeviceJidList),this.$1.removeEventListener("handleCallAgainEvent",this.callAgain))};c.handleIncomingSignalingOffer=function(a,b,c,e,f,g,h,i,j){d("WALogger").DEV(n||(n=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleIncomingSignalingOffer called with:"]))).devConsole(arguments),this.$2.handleIncomingSignalingOffer(d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a),b,c,e,f,g,h,i,j?d("WABase64").encodeB64(j):null)};c.handleIncomingSignalingMessage=function(a,b,c,e,f,g,h,i){this.$2.handleIncomingSignalingMessage(d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a),b,c,e,f,g,h,i?d("WABase64").encodeB64(i):null)};c.handleIncomingSignalingAck=function(a,b,c,e,f){d("WALogger").DEV(o||(o=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleIncomingSignalingAck called with:"]))).devConsole(arguments),this.$2.handleIncomingSignalingAck(d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a),b,c,e,f?d("WABase64").encodeB64(f):null)};c.handleIncomingSignalingReceipt=function(a,b,c){d("WALogger").DEV(p||(p=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleIncomingSignalingReceipt called with:"]))).devConsole(arguments),this.$2.handleIncomingSignalingReceipt(d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a),b,c?d("WABase64").encodeB64(c):null)};c.resendOfferOnDecryptionFailure=function(a,b){d("WALogger").DEV(q||(q=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] resendOfferOnDecryptionFailure called with:"]))).devConsole(arguments),this.$2.resendOfferOnDecryptionFailure(a,b)};c.resendEncRekeyRetry=function(a,b){d("WALogger").DEV(r||(r=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] resendEncRekeyRetry called with:"]))).devConsole(arguments),this.$2.resendEncRekeyRetry(a,b)};c.notifyDeviceIdentityChangedOrDeleted=function(a,b){d("WALogger").DEV(s||(s=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] notifyDeviceIdentityChangedOrDeleted called with:"]))).devConsole(arguments),this.$2.notifyDeviceIdentityChangedOrDeleted(a,b)};c.handleWebViewReady=function(){var a;d("WALogger").DEV(t||(t=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleWebViewReady called"])));(a=this.$1)==null||a.handleWebViewReady()};c.voipInit=function(a,b,c){var e;d("WALogger").DEV(u||(u=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] voipInit called with:"]))).devConsole(arguments);(e=this.$1)==null||e.voipInit(a,b,c)};c.setHideMyIp=function(a){var b;d("WALogger").DEV(v||(v=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] setHideMyIp called with:"]))).devConsole(arguments);(b=this.$1)==null||b.setHideMyIp(a)};c.setChatNameAndIcon=function(a,b,c){var e;d("WALogger").DEV(w||(w=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] setChatNameAndIcon called"])));(e=this.$1)==null||e.setChatNameAndIcon(a,b,c)};c.handleSignOut=function(){var a;d("WALogger").DEV(x||(x=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleSignOut called"])));(a=this.$1)==null||a.handleSignOut()};c.startCall=function(a,b,c,e,f,g,h,i,j,k,l){var m;d("WALogger").DEV(y||(y=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] startCall called with:"]))).devConsole(arguments);(m=this.$1)==null||m.startCall(a.toString({legacy:!0}),b,c,e,f,g,h,i?d("WABase64").encodeB64(i):null)};c.startGroupCall=function(a,b,c,e,f,g,h,i,j,k,l,m,n,o){var p;d("WALogger").DEV(z||(z=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] startGroupCall called with:"]))).devConsole(arguments);(p=this.$1)==null||p.startGroupCall(a,b,c,e,f,g,h,i,j,k,l)};c.handleDeviceJidList=function(a,b){var c;d("WALogger").DEV(A||(A=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleDeviceJidList called with:"]))).devConsole(arguments);(c=this.$1)==null||c.handleDeviceJidList(a,b)};c.previewCallLink=function(a,b,c,e,f){var g;d("WALogger").DEV(B||(B=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] previewCallLink called with:"]))).devConsole(arguments);(g=this.$1)==null||g.previewCallLink(a,b,c)};c.endCall=function(a,b){var c;d("WALogger").DEV(C||(C=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] endCall called with:"]))).devConsole(arguments);(c=this.$1)==null||c.endCall(a,b)};c.rejectCallWithoutCallContext=function(a,b,c,e,f,g,h){var i;d("WALogger").DEV(D||(D=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] rejectCallWithoutCallContext called with:"]))).devConsole(arguments);(i=this.$1)==null||i.rejectCallWithoutCallContext(a,b,c,e,f,g,h)};c.joinOngoingCall=function(a,b,c,e,f,g,h,i,j,k,l,m,n,o,p,q){var r;d("WALogger").DEV(E||(E=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] joinOngoingCall called with:"]))).devConsole(arguments);(r=this.$1)==null||r.joinOngoingCall(a,b,c,e,f,g,h,i,j,k,l,m,n,o,p)};c.inviteToCall=function(a,b,c){};c.requestCallInfo=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WALogger").DEV(F||(F=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] requestCallInfo called with:"]))).devConsole(arguments);var a=(yield this.$1.getCallInfo()),b=a.callInfoJsonBase64,c=a.error;return{callInfoJsonBase64:b,error:c}});function c(){return a.apply(this,arguments)}return c}();c.requestObtainDevicePermissionAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("WALogger").DEV(G||(G=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] requestObtainDevicePermissionAsync called with:"]))).devConsole(arguments);var b=(yield this.$1.requestObtainDevicePermissionAsync(a)),c=b.error,e=b.permissionGranted;return{error:c,permissionGranted:e}});function c(b){return a.apply(this,arguments)}return c}();c.requestDevicesCountAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("WALogger").DEV(H||(H=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] requestDevicesCountAsync called with:"]))).devConsole(arguments);var b=(yield this.$1.getDeviceCountAsync(a)),c=b.error,e=b.deviceCount;return{error:c,deviceCount:e}});function c(b){return a.apply(this,arguments)}return c}();return a}();g.VoipWinRTBridge_v2560=a}),98);
__d("WAWebWindowsHybridBridgeWam.v2560",["Promise","WALogger","WAWebWamCodegenWamEvent"],(function(a,b,c,d,e,f,g){var h,i,j;a=function(a){var c=this;this.$2=!1;this.initialize=function(){var a;if(c.$2)return;(a=c.$1)==null||a.addEventListener("eventsSaved",c.handleEvents);(a=c.$1)==null||a.subscribe(null);c.$2=!0};this.handleEvents=function(a){if(!c.$2){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received handleWamEvent while bridge is not initialized"])));return}d("WALogger").DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received handleWamEvent event: ",""])),a);a=JSON.parse(a);void (j||(j=b("Promise"))).all(a.map(function(a){return new(d("WAWebWamCodegenWamEvent").RawWamEvent)(a).commitAndWaitForFlush(!0)}))};this.$1=a};g.WindowsHybridBridgeWam_v2560=a}),98);
__d("WAWebWindowsHybridBridge.v2560",["WAWebWindowsHybridBridgeAbProps.v2560","WAWebWindowsHybridBridgeConnection.v2560","WAWebWindowsHybridBridgeContacts.v2560","WAWebWindowsHybridBridgeDebugFeatures.v2560","WAWebWindowsHybridBridgePictures.v2560","WAWebWindowsHybridBridgePreferences.v2560","WAWebWindowsHybridBridgeRateTheApp.v2560","WAWebWindowsHybridBridgeScalingControl.v2560","WAWebWindowsHybridBridgeTouchpadFix.v2560","WAWebWindowsHybridBridgeVoip.v2560","WAWebWindowsHybridBridgeWam.v2560","cr:17220"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.mediaFiles=null;this.nativeAppStateBridge=null;this.systemIntegrationsBridge=null;this.linksPreview=null;this.browserExtensionsBridge=null;this.seamlessMigrationBridge=null;this.mediaTranscodeBridge=null;this.adv=null;this.sharesheetBridge=null;this.appActivationBridge=null;this.serverEncKeySaltBridge=null;a.hostObjects.options.defaultSyncProxy=!0;a.hostObjects.options.forceAsyncMethodMatches=[/Async$/,/AsyncWithSpeller$/];a.hostObjects.options.ignoreMemberNotFoundError=!0;var c=a.hostObjects.AbPropsBridge;c!=null&&(this.abProps=new(d("WAWebWindowsHybridBridgeAbProps.v2560").WindowsHybridBridgeAbProps_v2560)(c));c=a.hostObjects.WamBridge;c!=null&&(this.wam=new(d("WAWebWindowsHybridBridgeWam.v2560").WindowsHybridBridgeWam_v2560)(c));c=a.hostObjects.PreferencesBridge;c&&(this.$1=new(d("WAWebWindowsHybridBridgePreferences.v2560").WindowsHybridBridgePreferences_v2560)(c));c=a.hostObjects.ScalingControlBridge;c&&(this.scalingControl=new(d("WAWebWindowsHybridBridgeScalingControl.v2560").WindowsHybridBridgeScalingControl_v2560)(c));c=a.hostObjects.PicturesBridge;c&&(this.pictures=new(d("WAWebWindowsHybridBridgePictures.v2560").WindowsHybridBridgePictures_v2560)(c));c=a.hostObjects.DebugFeaturesBridge;var e=b("cr:17220")==null?void 0:b("cr:17220").debugFeaturesMock;c!=null?this.$4=new(d("WAWebWindowsHybridBridgeDebugFeatures.v2560").WindowsHybridBridgeDebugFeatures_v2560)(c):e!=null;c=a.hostObjects.VoipBridge;e=a.hostObjects.VoipSignalingBridge;c&&e&&(this.voip=new(d("WAWebWindowsHybridBridgeVoip.v2560").VoipWinRTBridge_v2560)(c,e));this.$5=new(d("WAWebWindowsHybridBridgeRateTheApp.v2560").WAWebWindowsHybridBridgeRateTheApp_v2560)(a.hostObjects.RateAppBridge);this.$3=new(d("WAWebWindowsHybridBridgeConnection.v2560").WindowsHybridBridgeConnection_v2560)(a.hostObjects.ConnectionBridge);this.$2=a.hostObjects.ClientKeyBridge;this.touchpadFix=new(d("WAWebWindowsHybridBridgeTouchpadFix.v2560").WindowsHybridBridgeTouchpadFix_v2560)(a.hostObjects.TouchpadFix);try{c=a.hostObjects.PopulatedContactsBridge;c!=null&&(this.contacts=new(d("WAWebWindowsHybridBridgeContacts.v2560").WindowsHybridBridgeContacts_v2560)(c,a.hostObjects.sync.PopulatedContactsBridge,!0))}catch(b){e=a.hostObjects.ContactsBridge;e!=null&&(this.contacts=new(d("WAWebWindowsHybridBridgeContacts.v2560").WindowsHybridBridgeContacts_v2560)(e,a.hostObjects.sync.ContactsBridge,!1))}this.sqlite=a.hostObjects.SQLiteBridge}var c=a.prototype;c.getPreferences=function(){var a;(a=this.$1)==null||a.initialize();return this.$1};c.getScalingControl=function(){var a;(a=this.scalingControl)==null||a.initialize();return this.scalingControl};c.getRateTheApp=function(){return this.$5};c.getClientKeyBridge=function(){return this.$2};c.getDebugFeatures=function(){return this.$4};return a}();g.WindowsHybridBridge_v2560=a}),98);
__d("WAWebWindowsHybridAppActivationBridge.v2562",["WAWebApi","WAWebApiParse","WAWebExecApiCmd"],(function(a,b,c,d,e,f,g){a=function(){function a(a){this.handleAppActivationViaProtocolEvent=function(a){a=a.toString();a=d("WAWebApiParse").parseAPICmd(a);a.resultType!==d("WAWebApi").APICmd.INVALID&&c("WAWebExecApiCmd")({cmdData:a,isExternal:!0})};this.$1=a;(a=this.$1)==null||a.addEventListener("handleAppActivationViaProtocolEvent",this.handleAppActivationViaProtocolEvent);this.$1.subscribe(null)}var b=a.prototype;b.initialize=function(){};b.cleanup=function(){var a;(a=this.$1)==null||a.removeEventListener("handleAppActivationViaProtocolEvent",this.handleAppActivationViaProtocolEvent)};return a}();g.WindowsHybridAppActivationBridge_v2562=a}),98);
__d("WAWebWindowsHybridBridgeAbProps.v2562",["WAWebABPropsCache","WAWebABPropsLocalStorage","WAWebBackendApi","WAWebHybridABProps","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){a=function(){function a(a){var c=this;this.$2=!1;this.$3=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=parseInt(a,10);d("WAWebABPropsCache").saveExposure(a);c.$1.acknowledgeExposure(a.toString())});return function(b){return a.apply(this,arguments)}}();this.$4=function(a){var b=d("WAWebABPropsLocalStorage").getABKey();if(a!==b){a=d("WAWebHybridABProps").getAllHybridAbProps(!1);c.$1.setConfigs(b,JSON.stringify(a))}};this.$1=a}var c=a.prototype;c.initialize=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=this;if(this.$2)return;this.$2=!0;yield d("WAWebABPropsCache").waitForABPropConfigsReady();this.$1.addEventListener("exposureLogged",this.$3);this.$1.subscribe(null);var b=(yield this.$1.getVersion());d("WAWebBackendApi").frontendFireAndForget("addAbPropsUpdateListener",function(){a.$4(null)});this.$4(b)});function c(){return a.apply(this,arguments)}return c}();return a}();g.WindowsHybridBridgeAbProps_v2562=a}),98);
__d("WAWebWindowsHybridBridgeConnection.v2562",["WAComms","WALogger","WAWebEventsWaitForMainStreamReadyMd","WAWebEventsWaitForOfflineDeliveryEnd","WAWebSetWindowsPushConfig","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r;a=function(){function a(a){var e=this;this.$2=!1;this.$3=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.data.toString();a=(a=a.channel)==null?void 0:a.toString();d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleUpdateNotificationsTokenEvent"]))).devConsole(b,a);yield c("WAWebEventsWaitForMainStreamReadyMd")();yield d("WAWebSetWindowsPushConfig").setWindowsPushConfig(b,a);e.$1.acknowledgeNotificationsToken(b,a)});return function(b){return a.apply(this,arguments)}}();this.$4=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent"])));try{yield e.$6(),d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: offline resume complete"]))),d("WAComms").closeSocketAndPause(),d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: socket closed"]))),e.$1.handleConnectionState(!1)}catch(a){d("WALogger").ERROR(l||(l=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: failed to close socket: ",""])),a)}});this.$5=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection.handleConnectEvent"])));if(e.$2){d("WALogger").LOG(n||(n=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleConnectEvent: socket already opening"])));return}try{var a;a=((a=d("WAComms").getComms())==null?void 0:a.socket)!=null;a||(e.$2=!0,d("WAComms").closeSocketAndResume(),d("WALogger").LOG(o||(o=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleConnectEvent: socket opened"]))));yield e.$6();d("WALogger").LOG(p||(p=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleConnectEvent: offline resume complete"])));e.$1.handleConnectionState(!0)}catch(a){d("WALogger").ERROR(q||(q=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleConnectEvent: failed to open socket: ",""])),a)}finally{e.$2=!1}});this.$1=a;this.$1.addEventListener("updateNotificationsTokenEvent",this.$3);this.$1.addEventListener("disconnectEvent",this.$4);this.$1.addEventListener("connectEvent",this.$5);this.$1.subscribe(null)}var e=a.prototype;e.$6=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield d("WAComms").waitForConnection(),d("WAWebEventsWaitForOfflineDeliveryEnd").isOfflineDeliveryEnd()||(d("WALogger").LOG(r||(r=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:waitForOfflineResume"]))),yield d("WAWebEventsWaitForOfflineDeliveryEnd").waitForOfflineDeliveryEnd())});function c(){return a.apply(this,arguments)}return c}();return a}();g.WindowsHybridBridgeConnection_v2562=a}),98);
__d("WAWebWindowsHybridBridgeContacts.v2562",["WALogger","WAWebContactsDbLidMigrationUtils","WAWebEventsWaitForMainStreamReadyMd","WAWebLidAwareContactsDB","WAWebSchemaContact_DO_NOT_USE_DIRECTLY","WAWebSyncBootstrap","asyncToGeneratorRuntime","filterNulls"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a,d,e){var f=this;this.$4="contacts";this.$5=new Set();this.$6=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=JSON.parse(a);if(a.length===0)return;a.forEach(function(a){return f.$5.add(a)});var b=(yield c("WAWebLidAwareContactsDB").bulkGet(a));b.forEach(function(a){return f.$5["delete"](a==null?void 0:a.id)});a=a.filter(function(a){return f.$5.has(a)});a.forEach(function(a){return f.$5["delete"](a)});void f.$1.updateContacts(a,JSON.stringify(c("filterNulls")(b)))});return function(b){return a.apply(this,arguments)}}();this.$1=a;this.$2=d;this.$3=e;a.addEventListener("requestUpdateEvent",this.$6);a.subscribe(null)}var e=a.prototype;e.initialize=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=this;c("WAWebLidAwareContactsDB").setUpdateListener(function(b){return a.$7(b)});yield c("WAWebEventsWaitForMainStreamReadyMd")();if(this.$3)return;if(c("WAWebSyncBootstrap").isSyncDBootstrapInProcess())return;this.$3=!0;try{var b=200,e=(yield d("WAWebSchemaContact_DO_NOT_USE_DIRECTLY").getContactTable().all({limit:b,offset:0}));do{var f;f=(f=e[e.length-1])==null?void 0:f.id;e=(yield d("WAWebContactsDbLidMigrationUtils").replacePnRowsWithLidData(e));yield this.$1.updateContacts([],JSON.stringify(e));e=(yield d("WAWebSchemaContact_DO_NOT_USE_DIRECTLY").getContactTable().greaterThan(["id"],f,{limit:b}))}while(e.length>0);this.$1.acknowledgeInitialSync()}catch(a){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[WinUi] setInitialData "," error ",""])),this.$4,a)}});function e(){return a.apply(this,arguments)}return e}();e.$7=function(a){var b=this;if(!this.$3)return;a=a.filter(function(a){return!b.$5.has(a)});if(a.length===0)return;a.forEach(function(a){return b.$5.add(a)});this.$2.invalidateContacts(a)};return a}();g.WindowsHybridBridgeContacts_v2562=a}),98);
__d("WAWebWindowsHybridBridgeDebugFeatures.v2562",["WALogger","WAWebBackendApi","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i=1e3;a=function(){function a(a){var b=this;this.ping=function(a){d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeDebugFeatures:ping:",""])),a),b.$1.pong(a.valueOf())};this.$1=a;(a=this.$1)==null||a.addEventListener("jsLogs",function(){b.saveJSLogs()});(a=this.$1)==null||a.addEventListener("requestWebLogStringEvent",function(a){void b.requestWebLogString(a)});(a=this.$1)==null||a.addEventListener("pingEvent",this.ping);this.$1.subscribe(null)}var c=a.prototype;c.startHangsMonitor=function(){};c.saveNativeLogs=function(){this.$1.saveNativeLogs()};c.requestNativeLogs=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){return this.$1.requestNativeLogs()});function c(){return a.apply(this,arguments)}return c}();c.saveJSLogs=function(){d("WAWebBackendApi").frontendFireAndForget("createDownloadDataForMdWebLogs")};c.limitStringSize=function(a,b){var c=new Blob([a],{type:"text/plain"});if(c.size>b){c=c.size-b;return a.substr(c)}return a};c.requestWebLogString=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield d("WAWebBackendApi").frontendSendAndReceive("getWebLogs"));b=this.limitStringSize(b,30*i);this.$1.sendWebLogString(a.toString(),b)});function c(b){return a.apply(this,arguments)}return c}();return a}();g.WindowsHybridBridgeDebugFeatures_v2562=a}),98);
__d("WAWebWindowsHybridBridgeMediaFiles.v2562",[],(function(a,b,c,d,e,f,g){a=function(){function a(a){this.$1=a}var b=a.prototype;b.isCachedMediaFileExist=function(a,b){return this.$1.isCachedMediaFileExist(a,b)};b.tryOpenCachedMediaFile=function(a,b){return this.$1.tryOpenCachedMediaFileFile(a,b)};b.prepareForMediaFileSaving=function(a,b,c){return this.$1.prepareForMediaFileSaving(a,b,c)};b.waitTillMediaDownloadCompletes=function(a,b,c){return this.$1.waitTillMediaDownloadCompletes(a,b,c)};return a}();g.WAWebWindowsHybridBridgeMediaFiles_v2562=a}),98);
__d("WAWebWindowsHybridBridgePictures.v2562",["WAWebProfilePicThumbCollection","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var c=this;this.$2=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=JSON.parse(a);for(a of a){var b,e=d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.get(a.id);e==null&&(e=(yield d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.resyncPicturesByWid([a.id])));if(((b=e)==null?void 0:b.eurl)!==a.eurl){c.$1.setProfilePictures(JSON.stringify([{eurl:(b=e)==null?void 0:b.eurl,id:a.id.toString()}]))}}});return function(b){return a.apply(this,arguments)}}();this.$1=a;a.addEventListener("verifyPictureEvent",this.$2);a.subscribe(null)}var c=a.prototype;c.notifyUpdate=function(a){if(a==null)return;this.$1.setProfilePictures(JSON.stringify([{eurl:a.eurl,id:a.id.toString()}]))};return a}();g.WindowsHybridBridgePictures_v2562=a}),98);
__d("WAWebWindowsHybridBridgePreferences.v2562",["WAWebUserPrefsBase","WAWebUserPrefsKeys","WAWebUserPrefsLocalStorage","WAWebUserPrefsStore"],(function(a,b,c,d,e,f,g){var h="WANativePreferencesRevision";a=function(){function a(a){var b=this;this.$2=!1;this.$3=null;this.$4=new Set();this.initialize=function(){var a;if(b.$2)return;b.$4.add(String(d("WAWebUserPrefsKeys").UserPrefs.WindowsIsSystemTrayEnabled));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.SYSTEM_THEME_MODE));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.THEME));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.ME_DISPLAY_NAME));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LAST_PUSHNAME));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LID));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LAST_WID_MD));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LANG_FROM_PHONE));b.$4.add(String(d("WAWebUserPrefsKeys").UserPrefs.AbpropsWebRefreshId));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.ABPROPS_REFRESH_ID));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.ABPROPS));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LANG_FROM_USER));(a=b.$1)==null||a.addEventListener("everythingRequested",function(){var a=b.$5();b.$3!==a&&(b.$3=a,b.$6())});(a=b.$1)==null||a.subscribe(null);b.$2=!0};this.$1=a}var b=a.prototype;b.$5=function(){var a=c("WAWebUserPrefsStore").getUser(h),b=0;typeof a==="number"?b=a:typeof a==="string"&&(b=Number(a)||0);return b};b.$7=function(a){c("WAWebUserPrefsStore").setUser(h,a)};b.handleSettingChange=function(a,b){var c;if(!this.$4.has(a))return;var d=this.$5();(c=this.$1)==null||c.updateLocalSetting(a,JSON.stringify(b),++d);this.$7(d)};b.$6=function(){var a=this.$5(),b=[],e=[];for(var f of this.$4){var g=c("WAWebUserPrefsStore").getUser(f);if(g!=null){b.push(f);e.push(JSON.stringify(g));continue}g=d("WAWebUserPrefsBase").userPreferencesStoreBase.get(f);g!=null&&(b.push(f),e.push(JSON.stringify(g)));g=c("WAWebUserPrefsLocalStorage").getItemFromLocalStorage(f);g!=null&&(b.push(f),e.push(JSON.stringify(g)))}(g=this.$1)==null||g.updateAllLocalSettings(b,e,a)};b.clean=function(){var a;(a=this.$1)==null||a.clean()};return a}();g.WindowsHybridBridgePreferences_v2562=a}),98);
__d("WAWebWindowsHybridBridgeRateTheApp.v2562",["asyncToGeneratorRuntime"],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=a}var c=a.prototype;c.getStoreProductForCurrentApp=function(){return this.$1.getStoreProductForCurrentAppAsync()};c.requestRateAndApp=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield this.$1.requestRateAndReviewAppAsync());return JSON.parse(a)});function c(){return a.apply(this,arguments)}return c}();return a}();f.WAWebWindowsHybridBridgeRateTheApp_v2562=a}),66);
__d("WAWebWindowsHybridBridgeScalingControl.v2562",["WAWebWindowsScalingControlEventEmitter"],(function(a,b,c,d,e,f,g){a=function(){function a(a){this.$2=!1,this.$3=function(){c("WAWebWindowsScalingControlEventEmitter").trigger("requestZoomIn")},this.$4=function(){c("WAWebWindowsScalingControlEventEmitter").trigger("requestZoomOut")},this.$1=a}var b=a.prototype;b.initialize=function(){var a;if(this.$2)return;this.$2=!0;(a=this.$1)==null||a.addEventListener("zoomInRequested",this.$3);(a=this.$1)==null||a.addEventListener("zoomOutRequested",this.$4);(a=this.$1)==null||a.subscribe(null)};b.zoomIn=function(){this.$3()};b.zoomOut=function(){this.$4()};b.showScalingControl=function(a){var b;(b=this.$1)==null||b.showScalingControl(a)};return a}();g.WindowsHybridBridgeScalingControl_v2562=a}),98);
__d("WAWebWindowsHybridBridgeTouchpadFix.v2562",["WAWebDebounce"],(function(a,b,c,d,e,f,g){a=function(){function a(a){var b=this;this.$2=c("WAWebDebounce")(function(a){if(a.deltaX<=0)return;a=a.target;a=a;var c=!1,d=0;while(a&&a!==document.body&&d<3){var e=self.getComputedStyle(a);if((e.overflowX==="auto"||e.overflowX==="scroll")&&a.scrollWidth>a.clientWidth){c=!0;break}e=a.parentElement;if(!e)break;a=e;d++}c||b.interruptManipulations()},500);this.$1=a}var b=a.prototype;b.interruptManipulations=function(){return this.$1.interruptManipulations()};b.init=function(){document.addEventListener("wheel",this.$2,{passive:!1})};return a}();g.WindowsHybridBridgeTouchpadFix_v2562=a}),98);
__d("WAWebWindowsHybridBridgeVoip.v2562",["WABase64","WALogger","WAWebBackendApi","WAWebSerializeVoipWapNode","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I;a=function(){function a(a,b){var c=this;this.handleLidCallerDisplayInfo=null;this.handleVoipReady=function(){var a;d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received voip ready event"])));d("WAWebBackendApi").frontendFireAndForget("addStartingLogoutListener",function(){return c.handleSignOut()});(a=c.$3)==null||a.onVoipReady()};this.sendSignalingXmpp=function(a){var b,e=a.peerJid,f=a.callId,g=a.payload;a=a.shouldEncryptBeforeSending;d("WALogger").DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received sendSignalingXmpp event: ",", ",", ",", ",""])),e,f,g,a);(b=c.$3)==null||b.onSignalingXmpp(e,f,g,a)};this.handleCallEvent=function(a){var b,e=a.eventType,f=a.userData;a=a.eventDataJson;d("WALogger").DEV(j||(j=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received handleCallEvent event: ",", ",", ",""])),e,f,a);(b=c.$3)==null||b.onCallEvent(e,f,a)};this.requestOpenChat=function(a){var b;d("WALogger").DEV(k||(k=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received requestOpenChat event: ",""])),a);(b=c.$3)==null||b.onRequestOpenChat(a)};this.requestDeviceJidList=function(a){var b;d("WALogger").DEV(l||(l=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received requestDeviceJidList event: ",""])),a);void ((b=c.$3)==null?void 0:b.onRequestDeviceJidList(a).then(function(b){var d;(d=c.$1)==null||d.handleDeviceJidList(a.toString(),b)}))};this.callAgain=function(a){var b,e=a.peerJid;a=a.isVideoCall;d("WALogger").DEV(m||(m=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received callAgain event: ",", ",""])),e,a);(b=c.$3)==null||b.onCallAgain(e,a)};this.$1=a;this.$2=b;this.$1.addEventListener("handleVoipReadyEvent",this.handleVoipReady);this.$1.addEventListener("handleVoipCallEvent",this.handleCallEvent);this.$1.addEventListener("handleSignalingXmppEvent",this.sendSignalingXmpp);this.$1.addEventListener("handleRequestOpenChatEvent",this.requestOpenChat);this.$1.addEventListener("handleRequestDeviceJidListEvent",this.requestDeviceJidList);this.$1.addEventListener("handleCallAgainEvent",this.callAgain);this.$1.subscribe(null)}var c=a.prototype;c.setHandlers=function(a){this.$3=a};c.cleanup=function(){this.$1.removeEventListener!=null&&(this.$1.removeEventListener("handleVoipReadyEvent",this.handleVoipReady),this.$1.removeEventListener("handleVoipCallEvent",this.handleCallEvent),this.$1.removeEventListener("handleSignalingXmppEvent",this.sendSignalingXmpp),this.$1.removeEventListener("handleRequestOpenChatEvent",this.requestOpenChat),this.$1.removeEventListener("handleRequestDeviceJidListEvent",this.requestDeviceJidList),this.$1.removeEventListener("handleCallAgainEvent",this.callAgain))};c.handleIncomingSignalingOffer=function(a,b,c,e,f,g,h,i,j){d("WALogger").DEV(n||(n=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleIncomingSignalingOffer called with:"]))).devConsole(arguments),this.$2.handleIncomingSignalingOffer(d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a),b,c,e,f,g,h,i,j?d("WABase64").encodeB64(j):null)};c.handleIncomingSignalingMessage=function(a,b,c,e,f,g,h,i){this.$2.handleIncomingSignalingMessage(d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a),b,c,e,f,g,h,i?d("WABase64").encodeB64(i):null)};c.handleIncomingSignalingAck=function(a,b,c,e,f){d("WALogger").DEV(o||(o=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleIncomingSignalingAck called with:"]))).devConsole(arguments),this.$2.handleIncomingSignalingAck(d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a),b,c,e,f?d("WABase64").encodeB64(f):null)};c.handleIncomingSignalingReceipt=function(a,b,c){d("WALogger").DEV(p||(p=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleIncomingSignalingReceipt called with:"]))).devConsole(arguments),this.$2.handleIncomingSignalingReceipt(d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a),b,c?d("WABase64").encodeB64(c):null)};c.resendOfferOnDecryptionFailure=function(a,b){d("WALogger").DEV(q||(q=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] resendOfferOnDecryptionFailure called with:"]))).devConsole(arguments),this.$2.resendOfferOnDecryptionFailure(a,b)};c.resendEncRekeyRetry=function(a,b){d("WALogger").DEV(r||(r=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] resendEncRekeyRetry called with:"]))).devConsole(arguments),this.$2.resendEncRekeyRetry(a,b)};c.notifyDeviceIdentityChangedOrDeleted=function(a,b){d("WALogger").DEV(s||(s=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] notifyDeviceIdentityChangedOrDeleted called with:"]))).devConsole(arguments),this.$2.notifyDeviceIdentityChangedOrDeleted(a,b)};c.handleWebViewReady=function(){var a;d("WALogger").DEV(t||(t=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleWebViewReady called"])));(a=this.$1)==null||a.handleWebViewReady()};c.voipInit=function(a,b,c){var e;d("WALogger").DEV(u||(u=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] voipInit called with:"]))).devConsole(arguments);(e=this.$1)==null||e.voipInit(a,b,c)};c.setHideMyIp=function(a){var b;d("WALogger").DEV(v||(v=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] setHideMyIp called with:"]))).devConsole(arguments);(b=this.$1)==null||b.setHideMyIp(a)};c.setChatNameAndIcon=function(a,b,c){var e;d("WALogger").DEV(w||(w=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] setChatNameAndIcon called"])));(e=this.$1)==null||e.setChatNameAndIcon(a,b,c)};c.handleSignOut=function(){var a;d("WALogger").DEV(x||(x=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleSignOut called"])));(a=this.$1)==null||a.handleSignOut()};c.startCall=function(a,b,c,e,f,g,h,i,j,k,l){var m;d("WALogger").DEV(y||(y=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] startCall called with:"]))).devConsole(arguments);(m=this.$1)==null||m.startCall(a.toString({legacy:!0}),b,c,e,f,g,h,i?d("WABase64").encodeB64(i):null)};c.startGroupCall=function(a,b,c,e,f,g,h,i,j,k,l,m,n,o){var p;d("WALogger").DEV(z||(z=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] startGroupCall called with:"]))).devConsole(arguments);(p=this.$1)==null||p.startGroupCall(a,b,c,e,f,g,h,i,j,k,l)};c.handleDeviceJidList=function(a,b){var c;d("WALogger").DEV(A||(A=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleDeviceJidList called with:"]))).devConsole(arguments);(c=this.$1)==null||c.handleDeviceJidList(a,b)};c.previewCallLink=function(a,b,c,e,f){var g;d("WALogger").DEV(B||(B=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] previewCallLink called with:"]))).devConsole(arguments);(g=this.$1)==null||g.previewCallLink(a,b,c)};c.previewAndJoinCallLink=function(a,b,c,e,f){var g;d("WALogger").DEV(C||(C=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] previewAndJoinCallLink called with:"]))).devConsole(arguments);(g=this.$1)==null||g.previewAndJoinCallLink(a,b,c)};c.endCall=function(a,b){var c;d("WALogger").DEV(D||(D=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] endCall called with:"]))).devConsole(arguments);(c=this.$1)==null||c.endCall(a,b)};c.rejectCallWithoutCallContext=function(a,b,c,e,f,g,h){var i;d("WALogger").DEV(E||(E=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] rejectCallWithoutCallContext called with:"]))).devConsole(arguments);(i=this.$1)==null||i.rejectCallWithoutCallContext(a,b,c,e,f,g,h)};c.joinOngoingCall=function(a,b,c,e,f,g,h,i,j,k,l,m,n,o,p,q){var r;d("WALogger").DEV(F||(F=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] joinOngoingCall called with:"]))).devConsole(arguments);(r=this.$1)==null||r.joinOngoingCall(a,b,c,e,f,g,h,i,j,k,l,m,n,o,p)};c.inviteToCall=function(a,b,c){};c.requestCallInfo=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WALogger").DEV(G||(G=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] requestCallInfo called with:"]))).devConsole(arguments);var a=(yield this.$1.getCallInfo()),b=a.callInfoJsonBase64,c=a.error;return{callInfoJsonBase64:b,error:c}});function c(){return a.apply(this,arguments)}return c}();c.requestObtainDevicePermissionAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("WALogger").DEV(H||(H=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] requestObtainDevicePermissionAsync called with:"]))).devConsole(arguments);var b=(yield this.$1.requestObtainDevicePermissionAsync(a)),c=b.error,e=b.permissionGranted;return{error:c,permissionGranted:e}});function c(b){return a.apply(this,arguments)}return c}();c.requestDevicesCountAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("WALogger").DEV(I||(I=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] requestDevicesCountAsync called with:"]))).devConsole(arguments);var b=(yield this.$1.getDeviceCountAsync(a)),c=b.error,e=b.deviceCount;return{error:c,deviceCount:e}});function c(b){return a.apply(this,arguments)}return c}();return a}();g.VoipWinRTBridge_v2562=a}),98);
__d("WAWebWindowsHybridBridgeWam.v2562",["Promise","WALogger","WAWebWamCodegenWamEvent"],(function(a,b,c,d,e,f,g){var h,i,j;a=function(a){var c=this;this.$2=!1;this.initialize=function(){var a;if(c.$2)return;(a=c.$1)==null||a.addEventListener("eventsSaved",c.handleEvents);(a=c.$1)==null||a.subscribe(null);c.$2=!0};this.handleEvents=function(a){if(!c.$2){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received handleWamEvent while bridge is not initialized"])));return}d("WALogger").DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received handleWamEvent event: ",""])),a);a=JSON.parse(a);void (j||(j=b("Promise"))).all(a.map(function(a){return new(d("WAWebWamCodegenWamEvent").RawWamEvent)(a).commitAndWaitForFlush(!0)}))};this.$1=a};g.WindowsHybridBridgeWam_v2562=a}),98);
__d("WAWebWindowsHybridBridge.v2562",["WAWebWindowsHybridAppActivationBridge.v2562","WAWebWindowsHybridBridgeAbProps.v2562","WAWebWindowsHybridBridgeConnection.v2562","WAWebWindowsHybridBridgeContacts.v2562","WAWebWindowsHybridBridgeDebugFeatures.v2562","WAWebWindowsHybridBridgeMediaFiles.v2562","WAWebWindowsHybridBridgePictures.v2562","WAWebWindowsHybridBridgePreferences.v2562","WAWebWindowsHybridBridgeRateTheApp.v2562","WAWebWindowsHybridBridgeScalingControl.v2562","WAWebWindowsHybridBridgeTouchpadFix.v2562","WAWebWindowsHybridBridgeVoip.v2562","WAWebWindowsHybridBridgeWam.v2562","cr:17220"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.nativeAppStateBridge=null;this.systemIntegrationsBridge=null;this.linksPreview=null;this.browserExtensionsBridge=null;this.seamlessMigrationBridge=null;this.mediaTranscodeBridge=null;this.adv=null;this.sharesheetBridge=null;this.serverEncKeySaltBridge=null;a.hostObjects.options.defaultSyncProxy=!0;a.hostObjects.options.forceAsyncMethodMatches=[/Async$/,/AsyncWithSpeller$/];a.hostObjects.options.ignoreMemberNotFoundError=!0;var c=a.hostObjects.AbPropsBridge;c!=null&&(this.abProps=new(d("WAWebWindowsHybridBridgeAbProps.v2562").WindowsHybridBridgeAbProps_v2562)(c));c=a.hostObjects.WamBridge;c!=null&&(this.wam=new(d("WAWebWindowsHybridBridgeWam.v2562").WindowsHybridBridgeWam_v2562)(c));c=a.hostObjects.PreferencesBridge;c&&(this.$1=new(d("WAWebWindowsHybridBridgePreferences.v2562").WindowsHybridBridgePreferences_v2562)(c));c=a.hostObjects.ScalingControlBridge;c&&(this.scalingControl=new(d("WAWebWindowsHybridBridgeScalingControl.v2562").WindowsHybridBridgeScalingControl_v2562)(c));c=a.hostObjects.PicturesBridge;c&&(this.pictures=new(d("WAWebWindowsHybridBridgePictures.v2562").WindowsHybridBridgePictures_v2562)(c));c=a.hostObjects.DebugFeaturesBridge;var e=b("cr:17220")==null?void 0:b("cr:17220").debugFeaturesMock;c!=null?this.$4=new(d("WAWebWindowsHybridBridgeDebugFeatures.v2562").WindowsHybridBridgeDebugFeatures_v2562)(c):e!=null;c=a.hostObjects.VoipBridge;e=a.hostObjects.VoipSignalingBridge;c&&e&&(this.voip=new(d("WAWebWindowsHybridBridgeVoip.v2562").VoipWinRTBridge_v2562)(c,e));this.$5=new(d("WAWebWindowsHybridBridgeRateTheApp.v2562").WAWebWindowsHybridBridgeRateTheApp_v2562)(a.hostObjects.RateAppBridge);this.$3=new(d("WAWebWindowsHybridBridgeConnection.v2562").WindowsHybridBridgeConnection_v2562)(a.hostObjects.ConnectionBridge);this.$2=a.hostObjects.ClientKeyBridge;this.touchpadFix=new(d("WAWebWindowsHybridBridgeTouchpadFix.v2562").WindowsHybridBridgeTouchpadFix_v2562)(a.hostObjects.TouchpadFix);try{c=a.hostObjects.PopulatedContactsBridge;c!=null&&(this.contacts=new(d("WAWebWindowsHybridBridgeContacts.v2562").WindowsHybridBridgeContacts_v2562)(c,a.hostObjects.sync.PopulatedContactsBridge,!0))}catch(b){e=a.hostObjects.ContactsBridge;e!=null&&(this.contacts=new(d("WAWebWindowsHybridBridgeContacts.v2562").WindowsHybridBridgeContacts_v2562)(e,a.hostObjects.sync.ContactsBridge,!1))}this.sqlite=a.hostObjects.SQLiteBridge;c=a.hostObjects.MediaFilesBridge;c!=null&&(this.mediaFiles=new(d("WAWebWindowsHybridBridgeMediaFiles.v2562").WAWebWindowsHybridBridgeMediaFiles_v2562)(c));e=a.hostObjects.AppActivationBridge;e!=null&&(this.appActivationBridge=new(d("WAWebWindowsHybridAppActivationBridge.v2562").WindowsHybridAppActivationBridge_v2562)(e))}var c=a.prototype;c.getPreferences=function(){var a;(a=this.$1)==null||a.initialize();return this.$1};c.getScalingControl=function(){var a;(a=this.scalingControl)==null||a.initialize();return this.scalingControl};c.getRateTheApp=function(){return this.$5};c.getClientKeyBridge=function(){return this.$2};c.getDebugFeatures=function(){return this.$4};return a}();g.WindowsHybridBridge_v2562=a}),98);
__d("WAWebWindowsHybridAppActivationBridge.v2563",["WAWebApi","WAWebApiParse","WAWebExecApiCmd"],(function(a,b,c,d,e,f,g){a=function(){function a(a){this.handleAppActivationViaProtocolEvent=function(a){a=a.toString();a=d("WAWebApiParse").parseAPICmd(a);a.resultType!==d("WAWebApi").APICmd.INVALID&&c("WAWebExecApiCmd")({cmdData:a,isExternal:!0})};this.$1=a;(a=this.$1)==null||a.addEventListener("handleAppActivationViaProtocolEvent",this.handleAppActivationViaProtocolEvent);this.$1.subscribe(null)}var b=a.prototype;b.initialize=function(){};b.cleanup=function(){var a;(a=this.$1)==null||a.removeEventListener("handleAppActivationViaProtocolEvent",this.handleAppActivationViaProtocolEvent)};return a}();g.WindowsHybridAppActivationBridge_v2563=a}),98);
__d("WAWebWindowsHybridBridgeAbProps.v2563",["WAWebABPropsCache","WAWebABPropsLocalStorage","WAWebBackendApi","WAWebHybridABProps","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){a=function(){function a(a){var c=this;this.$2=!1;this.$3=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=parseInt(a,10);d("WAWebABPropsCache").saveExposure(a);c.$1.acknowledgeExposure(a.toString())});return function(b){return a.apply(this,arguments)}}();this.$4=function(a){var b=d("WAWebABPropsLocalStorage").getABKey();if(a!==b){a=d("WAWebHybridABProps").getAllHybridAbProps(!1);c.$1.setConfigs(b,JSON.stringify(a))}};this.$1=a}var c=a.prototype;c.initialize=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=this;if(this.$2)return;this.$2=!0;yield d("WAWebABPropsCache").waitForABPropConfigsReady();this.$1.addEventListener("exposureLogged",this.$3);this.$1.subscribe(null);var b=(yield this.$1.getVersion());d("WAWebBackendApi").frontendFireAndForget("addAbPropsUpdateListener",function(){a.$4(null)});this.$4(b)});function c(){return a.apply(this,arguments)}return c}();return a}();g.WindowsHybridBridgeAbProps_v2563=a}),98);
__d("WAWebWindowsHybridBridgeConnection.v2563",["WAComms","WALogger","WAResolvable","WAWebCallCollection","WAWebEventsWaitForMainStreamReadyMd","WAWebEventsWaitForOfflineDeliveryEnd","WAWebSetWindowsPushConfig","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t;a=function(){function a(a){var e=this;this.$2=!1;this.$3=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.data.toString();a=(a=a.channel)==null?void 0:a.toString();d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleUpdateNotificationsTokenEvent"]))).devConsole(b,a);yield c("WAWebEventsWaitForMainStreamReadyMd")();yield d("WAWebSetWindowsPushConfig").setWindowsPushConfig(b,a);e.$1.acknowledgeNotificationsToken(b,a)});return function(b){return a.apply(this,arguments)}}();this.$4=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent"])));try{yield e.$6();d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: offline resume complete"])));if(c("WAWebCallCollection").activeCall!=null){d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: awaiting active call completion"])));var a=new(d("WAResolvable").Resolvable)(),b=function(){c("WAWebCallCollection").activeCall==null&&a.resolve()};c("WAWebCallCollection").on("change:activeCall",b);yield a.promise;c("WAWebCallCollection").off("change:activeCall",b);d("WALogger").LOG(l||(l=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: active call completed"])))}d("WAComms").closeSocketAndPause();d("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: socket closed"])));e.$1.handleConnectionState(!1)}catch(a){d("WALogger").ERROR(n||(n=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: failed to close socket: ",""])),a)}});this.$5=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WALogger").LOG(o||(o=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection.handleConnectEvent"])));if(e.$2){d("WALogger").LOG(p||(p=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleConnectEvent: socket already opening"])));return}try{var a;a=((a=d("WAComms").getComms())==null?void 0:a.socket)!=null;a||(e.$2=!0,d("WAComms").closeSocketAndResume(),d("WALogger").LOG(q||(q=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleConnectEvent: socket opened"]))));yield e.$6();d("WALogger").LOG(r||(r=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleConnectEvent: offline resume complete"])));e.$1.handleConnectionState(!0)}catch(a){d("WALogger").ERROR(s||(s=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleConnectEvent: failed to open socket: ",""])),a)}finally{e.$2=!1}});this.$1=a;this.$1.addEventListener("updateNotificationsTokenEvent",this.$3);this.$1.addEventListener("disconnectEvent",this.$4);this.$1.addEventListener("connectEvent",this.$5);this.$1.subscribe(null)}var e=a.prototype;e.$6=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield d("WAComms").waitForConnection(),d("WAWebEventsWaitForOfflineDeliveryEnd").isOfflineDeliveryEnd()||(d("WALogger").LOG(t||(t=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:waitForOfflineResume"]))),yield d("WAWebEventsWaitForOfflineDeliveryEnd").waitForOfflineDeliveryEnd())});function c(){return a.apply(this,arguments)}return c}();return a}();g.WindowsHybridBridgeConnection_v2563=a}),98);
__d("WAWebWindowsHybridBridgeContacts.v2563",["WALogger","WAWebContactsDbLidMigrationUtils","WAWebEventsWaitForMainStreamReadyMd","WAWebLidAwareContactsDB","WAWebSchemaContact_DO_NOT_USE_DIRECTLY","WAWebSyncBootstrap","asyncToGeneratorRuntime","filterNulls"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a,d,e){var f=this;this.$4="contacts";this.$5=new Set();this.$6=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=JSON.parse(a);if(a.length===0)return;a.forEach(function(a){return f.$5.add(a)});var b=(yield c("WAWebLidAwareContactsDB").bulkGet(a));b.forEach(function(a){return f.$5["delete"](a==null?void 0:a.id)});a=a.filter(function(a){return f.$5.has(a)});a.forEach(function(a){return f.$5["delete"](a)});void f.$1.updateContacts(a,JSON.stringify(c("filterNulls")(b)))});return function(b){return a.apply(this,arguments)}}();this.$1=a;this.$2=d;this.$3=e;a.addEventListener("requestUpdateEvent",this.$6);a.subscribe(null)}var e=a.prototype;e.initialize=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=this;c("WAWebLidAwareContactsDB").setUpdateListener(function(b){return a.$7(b)});yield c("WAWebEventsWaitForMainStreamReadyMd")();if(this.$3)return;if(c("WAWebSyncBootstrap").isSyncDBootstrapInProcess())return;this.$3=!0;try{var b=200,e=(yield d("WAWebSchemaContact_DO_NOT_USE_DIRECTLY").getContactTable().all({limit:b,offset:0}));do{var f;f=(f=e[e.length-1])==null?void 0:f.id;e=(yield d("WAWebContactsDbLidMigrationUtils").replacePnRowsWithLidData(e));yield this.$1.updateContacts([],JSON.stringify(e));e=(yield d("WAWebSchemaContact_DO_NOT_USE_DIRECTLY").getContactTable().greaterThan(["id"],f,{limit:b}))}while(e.length>0);this.$1.acknowledgeInitialSync()}catch(a){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[WinUi] setInitialData "," error ",""])),this.$4,a)}});function e(){return a.apply(this,arguments)}return e}();e.$7=function(a){var b=this;if(!this.$3)return;a=a.filter(function(a){return!b.$5.has(a)});if(a.length===0)return;a.forEach(function(a){return b.$5.add(a)});this.$2.invalidateContacts(a)};return a}();g.WindowsHybridBridgeContacts_v2563=a}),98);
__d("WAWebWindowsHybridBridgeDebugFeatures.v2563",["WALogger","WAWebBackendApi","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i=1e3;a=function(){function a(a){var b=this;this.ping=function(a){d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeDebugFeatures:ping:",""])),a),b.$1.pong(a.valueOf())};this.$1=a;(a=this.$1)==null||a.addEventListener("jsLogs",function(){b.saveJSLogs()});(a=this.$1)==null||a.addEventListener("requestWebLogStringEvent",function(a){void b.requestWebLogString(a)});(a=this.$1)==null||a.addEventListener("pingEvent",this.ping);this.$1.subscribe(null)}var c=a.prototype;c.startHangsMonitor=function(){};c.saveNativeLogs=function(){this.$1.saveNativeLogs()};c.requestNativeLogs=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){return this.$1.requestNativeLogs()});function c(){return a.apply(this,arguments)}return c}();c.saveJSLogs=function(){d("WAWebBackendApi").frontendFireAndForget("createDownloadDataForMdWebLogs")};c.limitStringSize=function(a,b){var c=new Blob([a],{type:"text/plain"});if(c.size>b){c=c.size-b;return a.substr(c)}return a};c.requestWebLogString=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield d("WAWebBackendApi").frontendSendAndReceive("getWebLogs"));b=this.limitStringSize(b,30*i);this.$1.sendWebLogString(a.toString(),b)});function c(b){return a.apply(this,arguments)}return c}();return a}();g.WindowsHybridBridgeDebugFeatures_v2563=a}),98);
__d("WAWebWindowsHybridBridgeMediaFiles.v2563",[],(function(a,b,c,d,e,f,g){a=function(){function a(a){this.$1=a}var b=a.prototype;b.isCachedMediaFileExist=function(a,b){return this.$1.isCachedMediaFileExist(a,b)};b.tryOpenCachedMediaFile=function(a,b){return this.$1.tryOpenCachedMediaFileFile(a,b)};b.prepareForMediaFileSaving=function(a,b,c){return this.$1.prepareForMediaFileSaving(a,b,c)};b.waitTillMediaDownloadCompletes=function(a,b,c){return this.$1.waitTillMediaDownloadCompletes(a,b,c)};return a}();g.WAWebWindowsHybridBridgeMediaFiles_v2563=a}),98);
__d("WAWebWindowsHybridBridgePictures.v2563",["WAWebProfilePicThumbCollection","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var c=this;this.$2=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=JSON.parse(a);for(a of a){var b,e=d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.get(a.id);e==null&&(e=(yield d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.resyncPicturesByWid([a.id])));if(((b=e)==null?void 0:b.eurl)!==a.eurl){c.$1.setProfilePictures(JSON.stringify([{eurl:(b=e)==null?void 0:b.eurl,id:a.id.toString()}]))}}});return function(b){return a.apply(this,arguments)}}();this.$1=a;a.addEventListener("verifyPictureEvent",this.$2);a.subscribe(null)}var c=a.prototype;c.notifyUpdate=function(a){if(a==null)return;this.$1.setProfilePictures(JSON.stringify([{eurl:a.eurl,id:a.id.toString()}]))};return a}();g.WindowsHybridBridgePictures_v2563=a}),98);
__d("WAWebWindowsHybridBridgePreferences.v2563",["WAWebUserPrefsBase","WAWebUserPrefsKeys","WAWebUserPrefsLocalStorage","WAWebUserPrefsStore"],(function(a,b,c,d,e,f,g){var h="WANativePreferencesRevision";a=function(){function a(a){var b=this;this.$2=!1;this.$3=null;this.$4=new Set();this.initialize=function(){var a;if(b.$2)return;b.$4.add(String(d("WAWebUserPrefsKeys").UserPrefs.WindowsIsSystemTrayEnabled));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.SYSTEM_THEME_MODE));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.THEME));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.ME_DISPLAY_NAME));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LAST_PUSHNAME));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LID));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LAST_WID_MD));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LANG_FROM_PHONE));b.$4.add(String(d("WAWebUserPrefsKeys").UserPrefs.AbpropsWebRefreshId));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.ABPROPS_REFRESH_ID));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.ABPROPS));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LANG_FROM_USER));(a=b.$1)==null||a.addEventListener("everythingRequested",function(){var a=b.$5();b.$3!==a&&(b.$3=a,b.$6())});(a=b.$1)==null||a.subscribe(null);b.$2=!0};this.$1=a}var b=a.prototype;b.$5=function(){var a=c("WAWebUserPrefsStore").getUser(h),b=0;typeof a==="number"?b=a:typeof a==="string"&&(b=Number(a)||0);return b};b.$7=function(a){c("WAWebUserPrefsStore").setUser(h,a)};b.handleSettingChange=function(a,b){var c;if(!this.$4.has(a))return;var d=this.$5();(c=this.$1)==null||c.updateLocalSetting(a,JSON.stringify(b),++d);this.$7(d)};b.$6=function(){var a=this.$5(),b=[],e=[];for(var f of this.$4){var g=c("WAWebUserPrefsStore").getUser(f);if(g!=null){b.push(f);e.push(JSON.stringify(g));continue}g=d("WAWebUserPrefsBase").userPreferencesStoreBase.get(f);g!=null&&(b.push(f),e.push(JSON.stringify(g)));g=c("WAWebUserPrefsLocalStorage").getItemFromLocalStorage(f);g!=null&&(b.push(f),e.push(JSON.stringify(g)))}(g=this.$1)==null||g.updateAllLocalSettings(b,e,a)};b.clean=function(){var a;(a=this.$1)==null||a.clean()};return a}();g.WindowsHybridBridgePreferences_v2563=a}),98);
__d("WAWebWindowsHybridBridgeRateTheApp.v2563",["asyncToGeneratorRuntime"],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=a}var c=a.prototype;c.getStoreProductForCurrentApp=function(){return this.$1.getStoreProductForCurrentAppAsync()};c.requestRateAndApp=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield this.$1.requestRateAndReviewAppAsync());return JSON.parse(a)});function c(){return a.apply(this,arguments)}return c}();return a}();f.WAWebWindowsHybridBridgeRateTheApp_v2563=a}),66);
__d("WAWebWindowsHybridBridgeScalingControl.v2563",["WAWebWindowsScalingControlEventEmitter"],(function(a,b,c,d,e,f,g){a=function(){function a(a){this.$2=!1,this.$3=function(){c("WAWebWindowsScalingControlEventEmitter").trigger("requestZoomIn")},this.$4=function(){c("WAWebWindowsScalingControlEventEmitter").trigger("requestZoomOut")},this.$1=a}var b=a.prototype;b.initialize=function(){var a;if(this.$2)return;this.$2=!0;(a=this.$1)==null||a.addEventListener("zoomInRequested",this.$3);(a=this.$1)==null||a.addEventListener("zoomOutRequested",this.$4);(a=this.$1)==null||a.subscribe(null)};b.zoomIn=function(){this.$3()};b.zoomOut=function(){this.$4()};b.showScalingControl=function(a){var b;(b=this.$1)==null||b.showScalingControl(a)};return a}();g.WindowsHybridBridgeScalingControl_v2563=a}),98);
__d("WAWebWindowsHybridBridgeTouchpadFix.v2563",["WAWebDebounce"],(function(a,b,c,d,e,f,g){a=function(){function a(a){var b=this;this.$2=c("WAWebDebounce")(function(a){if(a.deltaX<=0)return;a=a.target;a=a;var c=!1,d=0;while(a&&a!==document.body&&d<3){var e=self.getComputedStyle(a);if((e.overflowX==="auto"||e.overflowX==="scroll")&&a.scrollWidth>a.clientWidth){c=!0;break}e=a.parentElement;if(!e)break;a=e;d++}c||b.interruptManipulations()},500);this.$1=a}var b=a.prototype;b.interruptManipulations=function(){return this.$1.interruptManipulations()};b.init=function(){document.addEventListener("wheel",this.$2,{passive:!1})};return a}();g.WindowsHybridBridgeTouchpadFix_v2563=a}),98);
__d("WAWebWindowsHybridBridgeVoip.v2563",["WABase64","WALogger","WAWebBackendApi","WAWebSerializeVoipWapNode","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I;a=function(){function a(a,b){var c=this;this.handleVoipReady=function(){var a;d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received voip ready event"])));d("WAWebBackendApi").frontendFireAndForget("addStartingLogoutListener",function(){return c.handleSignOut()});(a=c.$3)==null||a.onVoipReady()};this.sendSignalingXmpp=function(a){var b,e=a.peerJid,f=a.callId,g=a.payload;a=a.shouldEncryptBeforeSending;d("WALogger").DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received sendSignalingXmpp event: ",", ",", ",", ",""])),e,f,g,a);(b=c.$3)==null||b.onSignalingXmpp(e,f,g,a)};this.handleCallEvent=function(a){var b,e=a.eventType,f=a.userData;a=a.eventDataJson;d("WALogger").DEV(j||(j=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received handleCallEvent event: ",", ",", ",""])),e,f,a);(b=c.$3)==null||b.onCallEvent(e,f,a)};this.requestOpenChat=function(a){var b;d("WALogger").DEV(k||(k=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received requestOpenChat event: ",""])),a);(b=c.$3)==null||b.onRequestOpenChat(a)};this.requestDeviceJidList=function(a){var b;d("WALogger").DEV(l||(l=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received requestDeviceJidList event: ",""])),a);void ((b=c.$3)==null?void 0:b.onRequestDeviceJidList(a).then(function(b){var d;(d=c.$1)==null||d.handleDeviceJidList(a.toString(),b)}))};this.callAgain=function(a){var b,e=a.peerJid;a=a.isVideoCall;d("WALogger").DEV(m||(m=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received callAgain event: ",", ",""])),e,a);(b=c.$3)==null||b.onCallAgain(e,a)};this.$1=a;this.$2=b;this.$1.addEventListener("handleVoipReadyEvent",this.handleVoipReady);this.$1.addEventListener("handleVoipCallEvent",this.handleCallEvent);this.$1.addEventListener("handleSignalingXmppEvent",this.sendSignalingXmpp);this.$1.addEventListener("handleRequestOpenChatEvent",this.requestOpenChat);this.$1.addEventListener("handleRequestDeviceJidListEvent",this.requestDeviceJidList);this.$1.addEventListener("handleCallAgainEvent",this.callAgain);this.$1.subscribe(null)}var c=a.prototype;c.setHandlers=function(a){this.$3=a};c.cleanup=function(){this.$1.removeEventListener!=null&&(this.$1.removeEventListener("handleVoipReadyEvent",this.handleVoipReady),this.$1.removeEventListener("handleVoipCallEvent",this.handleCallEvent),this.$1.removeEventListener("handleSignalingXmppEvent",this.sendSignalingXmpp),this.$1.removeEventListener("handleRequestOpenChatEvent",this.requestOpenChat),this.$1.removeEventListener("handleRequestDeviceJidListEvent",this.requestDeviceJidList),this.$1.removeEventListener("handleCallAgainEvent",this.callAgain))};c.handleIncomingSignalingOffer=function(a,b,c,e,f,g,h,i,j){d("WALogger").DEV(n||(n=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleIncomingSignalingOffer called with:"]))).devConsole(arguments),this.$2.handleIncomingSignalingOffer(d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a),b,c,e,f,g,h,i,j?d("WABase64").encodeB64(j):null)};c.handleIncomingSignalingMessage=function(a,b,c,e,f,g,h,i){this.$2.handleIncomingSignalingMessage(d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a),b,c,e,f,g,h,i?d("WABase64").encodeB64(i):null)};c.handleIncomingSignalingAck=function(a,b,c,e,f){d("WALogger").DEV(o||(o=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleIncomingSignalingAck called with:"]))).devConsole(arguments),this.$2.handleIncomingSignalingAck(d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a),b,c,e,f?d("WABase64").encodeB64(f):null)};c.handleIncomingSignalingReceipt=function(a,b,c){d("WALogger").DEV(p||(p=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleIncomingSignalingReceipt called with:"]))).devConsole(arguments),this.$2.handleIncomingSignalingReceipt(d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a),b,c?d("WABase64").encodeB64(c):null)};c.resendOfferOnDecryptionFailure=function(a,b){d("WALogger").DEV(q||(q=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] resendOfferOnDecryptionFailure called with:"]))).devConsole(arguments),this.$2.resendOfferOnDecryptionFailure(a,b)};c.resendEncRekeyRetry=function(a,b){d("WALogger").DEV(r||(r=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] resendEncRekeyRetry called with:"]))).devConsole(arguments),this.$2.resendEncRekeyRetry(a,b)};c.notifyDeviceIdentityChangedOrDeleted=function(a,b){d("WALogger").DEV(s||(s=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] notifyDeviceIdentityChangedOrDeleted called with:"]))).devConsole(arguments),this.$2.notifyDeviceIdentityChangedOrDeleted(a,b)};c.handleWebViewReady=function(){var a;d("WALogger").DEV(t||(t=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleWebViewReady called"])));(a=this.$1)==null||a.handleWebViewReady()};c.voipInit=function(a,b,c){var e;d("WALogger").DEV(u||(u=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] voipInit called with:"]))).devConsole(arguments);(e=this.$1)==null||e.voipInit(a,b,c)};c.setHideMyIp=function(a){var b;d("WALogger").DEV(v||(v=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] setHideMyIp called with:"]))).devConsole(arguments);(b=this.$1)==null||b.setHideMyIp(a)};c.setChatNameAndIcon=function(a,b,c){var e;d("WALogger").DEV(w||(w=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] setChatNameAndIcon called"])));(e=this.$1)==null||e.setChatNameAndIcon(a,b,c)};c.handleSignOut=function(){var a;d("WALogger").DEV(x||(x=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleSignOut called"])));(a=this.$1)==null||a.handleSignOut()};c.startCall=function(a,b,c,e,f,g,h,i,j,k,l){var m;d("WALogger").DEV(y||(y=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] startCall called with:"]))).devConsole(arguments);(m=this.$1)==null||m.startCall(a.toString({legacy:!0}),b,c,e,f,g,h,i?d("WABase64").encodeB64(i):null)};c.startGroupCall=function(a,b,c,e,f,g,h,i,j,k,l,m,n,o){var p;d("WALogger").DEV(z||(z=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] startGroupCall called with:"]))).devConsole(arguments);(p=this.$1)==null||p.startGroupCall(a,b,c,e,f,g,h,i,j,k,l)};c.handleDeviceJidList=function(a,b){var c;d("WALogger").DEV(A||(A=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleDeviceJidList called with:"]))).devConsole(arguments);(c=this.$1)==null||c.handleDeviceJidList(a,b)};c.previewCallLink=function(a,b,c,e,f){var g;d("WALogger").DEV(B||(B=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] previewCallLink called with:"]))).devConsole(arguments);(g=this.$1)==null||g.previewCallLink(a,b,c)};c.previewAndJoinCallLink=function(a,b,c,e,f){var g;d("WALogger").DEV(C||(C=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] previewAndJoinCallLink called with:"]))).devConsole(arguments);(g=this.$1)==null||g.previewAndJoinCallLink(a,b,c)};c.endCall=function(a,b){var c;d("WALogger").DEV(D||(D=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] endCall called with:"]))).devConsole(arguments);(c=this.$1)==null||c.endCall(a,b)};c.rejectCallWithoutCallContext=function(a,b,c,e,f,g,h){var i;d("WALogger").DEV(E||(E=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] rejectCallWithoutCallContext called with:"]))).devConsole(arguments);(i=this.$1)==null||i.rejectCallWithoutCallContext(a,b,c,e,f,g,h)};c.joinOngoingCall=function(a,b,c,e,f,g,h,i,j,k,l,m,n,o,p,q){var r;d("WALogger").DEV(F||(F=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] joinOngoingCall called with:"]))).devConsole(arguments);(r=this.$1)==null||r.joinOngoingCall(a,b,c,e,f,g,h,i,j,k,l,m,n,o,p)};c.inviteToCall=function(a,b,c){};c.requestCallInfo=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WALogger").DEV(G||(G=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] requestCallInfo called with:"]))).devConsole(arguments);var a=(yield this.$1.getCallInfo()),b=a.callInfoJsonBase64,c=a.error;return{callInfoJsonBase64:b,error:c}});function c(){return a.apply(this,arguments)}return c}();c.requestObtainDevicePermissionAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("WALogger").DEV(H||(H=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] requestObtainDevicePermissionAsync called with:"]))).devConsole(arguments);var b=(yield this.$1.requestObtainDevicePermissionAsync(a)),c=b.error,e=b.permissionGranted;return{error:c,permissionGranted:e}});function c(b){return a.apply(this,arguments)}return c}();c.requestDevicesCountAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("WALogger").DEV(I||(I=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] requestDevicesCountAsync called with:"]))).devConsole(arguments);var b=(yield this.$1.getDeviceCountAsync(a)),c=b.error,e=b.deviceCount;return{error:c,deviceCount:e}});function c(b){return a.apply(this,arguments)}return c}();return a}();g.VoipWinRTBridge_v2563=a}),98);
__d("WAWebWindowsHybridBridgeWam.v2563",["Promise","WALogger","WAWebWamCodegenWamEvent"],(function(a,b,c,d,e,f,g){var h,i,j;a=function(a){var c=this;this.$2=!1;this.initialize=function(){var a;if(c.$2)return;(a=c.$1)==null||a.addEventListener("eventsSaved",c.handleEvents);(a=c.$1)==null||a.subscribe(null);c.$2=!0};this.handleEvents=function(a){if(!c.$2){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received handleWamEvent while bridge is not initialized"])));return}d("WALogger").DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received handleWamEvent event: ",""])),a);a=JSON.parse(a);void (j||(j=b("Promise"))).all(a.map(function(a){return new(d("WAWebWamCodegenWamEvent").RawWamEvent)(a).commitAndWaitForFlush(!0)}))};this.$1=a};g.WindowsHybridBridgeWam_v2563=a}),98);
__d("WAWebWindowsHybridBridge.v2563",["WAWebWindowsHybridAppActivationBridge.v2563","WAWebWindowsHybridBridgeAbProps.v2563","WAWebWindowsHybridBridgeConnection.v2563","WAWebWindowsHybridBridgeContacts.v2563","WAWebWindowsHybridBridgeDebugFeatures.v2563","WAWebWindowsHybridBridgeMediaFiles.v2563","WAWebWindowsHybridBridgePictures.v2563","WAWebWindowsHybridBridgePreferences.v2563","WAWebWindowsHybridBridgeRateTheApp.v2563","WAWebWindowsHybridBridgeScalingControl.v2563","WAWebWindowsHybridBridgeTouchpadFix.v2563","WAWebWindowsHybridBridgeVoip.v2563","WAWebWindowsHybridBridgeWam.v2563","cr:17220"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.nativeAppStateBridge=null;this.systemIntegrationsBridge=null;this.linksPreview=null;this.browserExtensionsBridge=null;this.seamlessMigrationBridge=null;this.mediaTranscodeBridge=null;this.adv=null;this.sharesheetBridge=null;this.serverEncKeySaltBridge=null;a.hostObjects.options.defaultSyncProxy=!0;a.hostObjects.options.forceAsyncMethodMatches=[/Async$/,/AsyncWithSpeller$/];a.hostObjects.options.ignoreMemberNotFoundError=!0;var c=a.hostObjects.AbPropsBridge;c!=null&&(this.abProps=new(d("WAWebWindowsHybridBridgeAbProps.v2563").WindowsHybridBridgeAbProps_v2563)(c));c=a.hostObjects.WamBridge;c!=null&&(this.wam=new(d("WAWebWindowsHybridBridgeWam.v2563").WindowsHybridBridgeWam_v2563)(c));c=a.hostObjects.PreferencesBridge;c&&(this.$1=new(d("WAWebWindowsHybridBridgePreferences.v2563").WindowsHybridBridgePreferences_v2563)(c));c=a.hostObjects.ScalingControlBridge;c&&(this.scalingControl=new(d("WAWebWindowsHybridBridgeScalingControl.v2563").WindowsHybridBridgeScalingControl_v2563)(c));c=a.hostObjects.PicturesBridge;c&&(this.pictures=new(d("WAWebWindowsHybridBridgePictures.v2563").WindowsHybridBridgePictures_v2563)(c));c=a.hostObjects.DebugFeaturesBridge;var e=b("cr:17220")==null?void 0:b("cr:17220").debugFeaturesMock;c!=null?this.$4=new(d("WAWebWindowsHybridBridgeDebugFeatures.v2563").WindowsHybridBridgeDebugFeatures_v2563)(c):e!=null;c=a.hostObjects.VoipBridge;e=a.hostObjects.VoipSignalingBridge;c&&e&&(this.voip=new(d("WAWebWindowsHybridBridgeVoip.v2563").VoipWinRTBridge_v2563)(c,e));this.$5=new(d("WAWebWindowsHybridBridgeRateTheApp.v2563").WAWebWindowsHybridBridgeRateTheApp_v2563)(a.hostObjects.RateAppBridge);this.$3=new(d("WAWebWindowsHybridBridgeConnection.v2563").WindowsHybridBridgeConnection_v2563)(a.hostObjects.ConnectionBridge);this.$2=a.hostObjects.ClientKeyBridge;this.touchpadFix=new(d("WAWebWindowsHybridBridgeTouchpadFix.v2563").WindowsHybridBridgeTouchpadFix_v2563)(a.hostObjects.TouchpadFix);try{c=a.hostObjects.PopulatedContactsBridge;c!=null&&(this.contacts=new(d("WAWebWindowsHybridBridgeContacts.v2563").WindowsHybridBridgeContacts_v2563)(c,a.hostObjects.sync.PopulatedContactsBridge,!0))}catch(b){e=a.hostObjects.ContactsBridge;e!=null&&(this.contacts=new(d("WAWebWindowsHybridBridgeContacts.v2563").WindowsHybridBridgeContacts_v2563)(e,a.hostObjects.sync.ContactsBridge,!1))}this.sqlite=a.hostObjects.SQLiteBridge;c=a.hostObjects.MediaFilesBridge;c!=null&&(this.mediaFiles=new(d("WAWebWindowsHybridBridgeMediaFiles.v2563").WAWebWindowsHybridBridgeMediaFiles_v2563)(c));e=a.hostObjects.AppActivationBridge;e!=null&&(this.appActivationBridge=new(d("WAWebWindowsHybridAppActivationBridge.v2563").WindowsHybridAppActivationBridge_v2563)(e))}var c=a.prototype;c.getPreferences=function(){var a;(a=this.$1)==null||a.initialize();return this.$1};c.getScalingControl=function(){var a;(a=this.scalingControl)==null||a.initialize();return this.scalingControl};c.getRateTheApp=function(){return this.$5};c.getClientKeyBridge=function(){return this.$2};c.getDebugFeatures=function(){return this.$4};return a}();g.WindowsHybridBridge_v2563=a}),98);
__d("WAWebWindowsHybridAppActivationBridge.v2564",["WAWebApi","WAWebApiParse","WAWebExecApiCmd"],(function(a,b,c,d,e,f,g){a=function(){function a(a){this.handleAppActivationViaProtocolEvent=function(a){a=a.toString();a=d("WAWebApiParse").parseAPICmd(a);a.resultType!==d("WAWebApi").APICmd.INVALID&&c("WAWebExecApiCmd")({cmdData:a,isExternal:!0})};this.$1=a;(a=this.$1)==null||a.addEventListener("handleAppActivationViaProtocolEvent",this.handleAppActivationViaProtocolEvent);this.$1.subscribe(null)}var b=a.prototype;b.initialize=function(){};b.cleanup=function(){var a;(a=this.$1)==null||a.removeEventListener("handleAppActivationViaProtocolEvent",this.handleAppActivationViaProtocolEvent)};return a}();g.WindowsHybridAppActivationBridge_v2564=a}),98);
__d("WAWebWindowsHybridBridgeAbProps.v2564",["WAWebABPropsCache","WAWebABPropsLocalStorage","WAWebBackendApi","WAWebHybridABProps","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){a=function(){function a(a){var c=this;this.$2=!1;this.$3=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=parseInt(a,10);d("WAWebABPropsCache").saveExposure(a);c.$1.acknowledgeExposure(a.toString())});return function(b){return a.apply(this,arguments)}}();this.$4=function(a){var b=d("WAWebABPropsLocalStorage").getABKey();if(a!==b){a=d("WAWebHybridABProps").getAllHybridAbProps(!1);c.$1.setConfigs(b,JSON.stringify(a))}};this.$1=a}var c=a.prototype;c.initialize=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=this;if(this.$2)return;this.$2=!0;yield d("WAWebABPropsCache").waitForABPropConfigsReady();this.$1.addEventListener("exposureLogged",this.$3);this.$1.subscribe(null);var b=(yield this.$1.getVersion());d("WAWebBackendApi").frontendFireAndForget("addAbPropsUpdateListener",function(){a.$4(null)});this.$4(b)});function c(){return a.apply(this,arguments)}return c}();return a}();g.WindowsHybridBridgeAbProps_v2564=a}),98);
__d("WAWebWindowsHybridBridgeConnection.v2564",["WAComms","WALogger","WAResolvable","WAWebCallCollection","WAWebEventsWaitForMainStreamReadyMd","WAWebEventsWaitForOfflineDeliveryEnd","WAWebSetWindowsPushConfig","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t;a=function(){function a(a){var e=this;this.$2=!1;this.$3=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.data.toString();a=(a=a.channel)==null?void 0:a.toString();d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleUpdateNotificationsTokenEvent"]))).devConsole(b,a);yield c("WAWebEventsWaitForMainStreamReadyMd")();yield d("WAWebSetWindowsPushConfig").setWindowsPushConfig(b,a);e.$1.acknowledgeNotificationsToken(b,a)});return function(b){return a.apply(this,arguments)}}();this.$4=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent"])));try{yield e.$6();d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: offline resume complete"])));if(c("WAWebCallCollection").activeCall!=null){d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: awaiting active call completion"])));var a=new(d("WAResolvable").Resolvable)(),b=function(){c("WAWebCallCollection").activeCall==null&&a.resolve()};c("WAWebCallCollection").on("change:activeCall",b);yield a.promise;c("WAWebCallCollection").off("change:activeCall",b);d("WALogger").LOG(l||(l=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: active call completed"])))}d("WAComms").closeSocketAndPause();d("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: socket closed"])));e.$1.handleConnectionState(!1)}catch(a){d("WALogger").ERROR(n||(n=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: failed to close socket: ",""])),a)}});this.$5=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WALogger").LOG(o||(o=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection.handleConnectEvent"])));if(e.$2){d("WALogger").LOG(p||(p=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleConnectEvent: socket already opening"])));return}try{var a;a=((a=d("WAComms").getComms())==null?void 0:a.socket)!=null;a||(e.$2=!0,d("WAComms").closeSocketAndResume(),d("WALogger").LOG(q||(q=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleConnectEvent: socket opened"]))));yield e.$6();d("WALogger").LOG(r||(r=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleConnectEvent: offline resume complete"])));e.$1.handleConnectionState(!0)}catch(a){d("WALogger").ERROR(s||(s=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleConnectEvent: failed to open socket: ",""])),a)}finally{e.$2=!1}});this.$1=a;this.$1.addEventListener("updateNotificationsTokenEvent",this.$3);this.$1.addEventListener("disconnectEvent",this.$4);this.$1.addEventListener("connectEvent",this.$5);this.$1.subscribe(null)}var e=a.prototype;e.$6=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield d("WAComms").waitForConnection(),d("WAWebEventsWaitForOfflineDeliveryEnd").isOfflineDeliveryEnd()||(d("WALogger").LOG(t||(t=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:waitForOfflineResume"]))),yield d("WAWebEventsWaitForOfflineDeliveryEnd").waitForOfflineDeliveryEnd())});function c(){return a.apply(this,arguments)}return c}();return a}();g.WindowsHybridBridgeConnection_v2564=a}),98);
__d("WAWebWindowsHybridBridgeContacts.v2564",["WALogger","WAWebContactsDbLidMigrationUtils","WAWebEventsWaitForMainStreamReadyMd","WAWebLidAwareContactsDB","WAWebSchemaContact_DO_NOT_USE_DIRECTLY","WAWebSyncBootstrap","asyncToGeneratorRuntime","filterNulls"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a,d,e){var f=this;this.$4="contacts";this.$5=new Set();this.$6=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=JSON.parse(a);if(a.length===0)return;a.forEach(function(a){return f.$5.add(a)});var b=(yield c("WAWebLidAwareContactsDB").bulkGet(a));b.forEach(function(a){return f.$5["delete"](a==null?void 0:a.id)});a=a.filter(function(a){return f.$5.has(a)});a.forEach(function(a){return f.$5["delete"](a)});void f.$1.updateContacts(a,JSON.stringify(c("filterNulls")(b)))});return function(b){return a.apply(this,arguments)}}();this.$1=a;this.$2=d;this.$3=e;a.addEventListener("requestUpdateEvent",this.$6);a.subscribe(null)}var e=a.prototype;e.initialize=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=this;c("WAWebLidAwareContactsDB").setUpdateListener(function(b){return a.$7(b)});yield c("WAWebEventsWaitForMainStreamReadyMd")();if(this.$3)return;if(c("WAWebSyncBootstrap").isSyncDBootstrapInProcess())return;this.$3=!0;try{var b=200,e=(yield d("WAWebSchemaContact_DO_NOT_USE_DIRECTLY").getContactTable().all({limit:b,offset:0}));do{var f;f=(f=e[e.length-1])==null?void 0:f.id;e=(yield d("WAWebContactsDbLidMigrationUtils").replacePnRowsWithLidData(e));yield this.$1.updateContacts([],JSON.stringify(e));e=(yield d("WAWebSchemaContact_DO_NOT_USE_DIRECTLY").getContactTable().greaterThan(["id"],f,{limit:b}))}while(e.length>0);this.$1.acknowledgeInitialSync()}catch(a){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[WinUi] setInitialData "," error ",""])),this.$4,a)}});function e(){return a.apply(this,arguments)}return e}();e.$7=function(a){var b=this;if(!this.$3)return;a=a.filter(function(a){return!b.$5.has(a)});if(a.length===0)return;a.forEach(function(a){return b.$5.add(a)});this.$2.invalidateContacts(a)};return a}();g.WindowsHybridBridgeContacts_v2564=a}),98);
__d("WAWebWindowsHybridBridgeDebugFeatures.v2564",["WALogger","WAWebBackendApi","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i=1e3;a=function(){function a(a){var b=this;this.ping=function(a){d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeDebugFeatures:ping:",""])),a),b.$1.pong(a.valueOf())};this.$1=a;(a=this.$1)==null||a.addEventListener("jsLogs",function(){b.saveJSLogs()});(a=this.$1)==null||a.addEventListener("requestWebLogStringEvent",function(a){void b.requestWebLogString(a)});(a=this.$1)==null||a.addEventListener("pingEvent",this.ping);this.$1.subscribe(null)}var c=a.prototype;c.startHangsMonitor=function(){};c.saveNativeLogs=function(){this.$1.saveNativeLogs()};c.requestNativeLogs=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){return this.$1.requestNativeLogs()});function c(){return a.apply(this,arguments)}return c}();c.saveJSLogs=function(){d("WAWebBackendApi").frontendFireAndForget("createDownloadDataForMdWebLogs")};c.limitStringSize=function(a,b){var c=new Blob([a],{type:"text/plain"});if(c.size>b){c=c.size-b;return a.substr(c)}return a};c.requestWebLogString=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield d("WAWebBackendApi").frontendSendAndReceive("getWebLogs"));b=this.limitStringSize(b,30*i);this.$1.sendWebLogString(a.toString(),b)});function c(b){return a.apply(this,arguments)}return c}();return a}();g.WindowsHybridBridgeDebugFeatures_v2564=a}),98);
__d("WAWebWindowsHybridBridgeMediaFiles.v2564",[],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=a}var b=a.prototype;b.isCachedMediaFileExist=function(a,b){return this.$1.isCachedMediaFileExist(a,b)};b.tryOpenCachedMediaFile=function(a,b){return this.$1.tryOpenCachedMediaFileFile(a,b)};b.prepareForMediaFileSaving=function(a,b,c){return this.$1.prepareForMediaFileSaving(a,b,c)};b.waitTillMediaDownloadCompletes=function(a,b,c){return this.$1.waitTillMediaDownloadCompletes(a,b,c)};return a}();f.WAWebWindowsHybridBridgeMediaFiles_v2564=a}),66);
__d("WAWebWindowsHybridBridgeNativeAppState.v2564",["$InternalEnum","WALogger","WAWebEventEmitter","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l=b("$InternalEnum")({Normal:"normal",MinimizedToTray:"minimizedToTray"});function m(a){return+a||0}a=function(a){function c(c){var e;e=a.call(this)||this;e.$WindowsHybridBridgeNativeAppState_v2564$p_3=function(a){a=a.toString();var b=l.cast(a);b!=null?d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeNativeAppState:appStateChanged: ",""])),l.getName(b)):d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeNativeAppState:appStateChanged: invalid appStateId: ",""])),a);e.$WindowsHybridBridgeNativeAppState_v2564$p_2=b};e.getAppState=function(){return e.$WindowsHybridBridgeNativeAppState_v2564$p_2};e.getEvents=function(){return e};e.takeAppLaunchTimeStamp=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){return m(yield e.$WindowsHybridBridgeNativeAppState_v2564$p_1.takeAppLaunchTimeStamp())});e.getFirstAppRestoreTimeStamp=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){return m(yield e.$WindowsHybridBridgeNativeAppState_v2564$p_1.getAppRestoreTimeStamp())});e.getLastAppRestoreTimeStamp=function(){return 0};e.detectNativeClockSkew=function(){return null};e.isMinimizedToTray=function(){return e.getAppState()===l.MinimizedToTray};e.getAppStateAsync=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=e.$WindowsHybridBridgeNativeAppState_v2564$p_1.getAppState();a=a.toString();var b=l.cast(a);b!=null?d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeNativeAppState:getAppStateAsync: ",""])),l.getName(b)):d("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeNativeAppState:getAppStateAsync: invalid appState '","'"])),a);return b});e.$WindowsHybridBridgeNativeAppState_v2564$p_1=c;e.$WindowsHybridBridgeNativeAppState_v2564$p_1.addEventListener("appStateChangedEvent",e.$WindowsHybridBridgeNativeAppState_v2564$p_3);e.$WindowsHybridBridgeNativeAppState_v2564$p_1.subscribe(null);return e}babelHelpers.inheritsLoose(c,a);return c}(c("WAWebEventEmitter"));g.AppState_v2564=l;g.WindowsHybridBridgeNativeAppState_v2564=a}),98);
__d("WAWebWindowsHybridBridgePictures.v2564",["WAWebProfilePicThumbCollection","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var c=this;this.$2=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=JSON.parse(a);for(a of a){var b,e=d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.get(a.id);e==null&&(e=(yield d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.resyncPicturesByWid([a.id])));if(((b=e)==null?void 0:b.eurl)!==a.eurl){c.$1.setProfilePictures(JSON.stringify([{eurl:(b=e)==null?void 0:b.eurl,id:a.id.toString()}]))}}});return function(b){return a.apply(this,arguments)}}();this.$1=a;a.addEventListener("verifyPictureEvent",this.$2);a.subscribe(null)}var c=a.prototype;c.notifyUpdate=function(a){if(a==null)return;this.$1.setProfilePictures(JSON.stringify([{eurl:a.eurl,id:a.id.toString()}]))};return a}();g.WindowsHybridBridgePictures_v2564=a}),98);
__d("WAWebWindowsHybridBridgePreferences.v2564",["WAWebUserPrefsBase","WAWebUserPrefsKeys","WAWebUserPrefsLocalStorage","WAWebUserPrefsStore"],(function(a,b,c,d,e,f,g){var h="WANativePreferencesRevision";a=function(){function a(a){var b=this;this.$2=!1;this.$3=null;this.$4=new Set();this.initialize=function(){var a;if(b.$2)return;b.$4.add(String(d("WAWebUserPrefsKeys").UserPrefs.WindowsIsSystemTrayEnabled));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.SYSTEM_THEME_MODE));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.THEME));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.ME_DISPLAY_NAME));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LAST_PUSHNAME));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LID));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LAST_WID_MD));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LANG_FROM_PHONE));b.$4.add(String(d("WAWebUserPrefsKeys").UserPrefs.AbpropsWebRefreshId));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.ABPROPS_REFRESH_ID));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.ABPROPS));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LANG_FROM_USER));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.GLOBAL_MUTE_CALL_RINGTONE));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.GLOBAL_MUTE_CALL_NOTIFICATIONS));(a=b.$1)==null||a.addEventListener("everythingRequested",function(){var a=b.$5();b.$3!==a&&(b.$3=a,b.$6())});(a=b.$1)==null||a.subscribe(null);b.$2=!0};this.$1=a}var b=a.prototype;b.$5=function(){var a=c("WAWebUserPrefsStore").getUser(h),b=0;typeof a==="number"?b=a:typeof a==="string"&&(b=Number(a)||0);return b};b.$7=function(a){c("WAWebUserPrefsStore").setUser(h,a)};b.handleSettingChange=function(a,b){var c;if(!this.$4.has(a))return;var d=this.$5();(c=this.$1)==null||c.updateLocalSetting(a,JSON.stringify(b),++d);this.$7(d)};b.$6=function(){var a=this.$5(),b=[],e=[];for(var f of this.$4){var g=c("WAWebUserPrefsStore").getUser(f);if(g!=null){b.push(f);e.push(JSON.stringify(g));continue}g=d("WAWebUserPrefsBase").userPreferencesStoreBase.get(f);g!=null&&(b.push(f),e.push(JSON.stringify(g)));g=c("WAWebUserPrefsLocalStorage").getItemFromLocalStorage(f);g!=null&&(b.push(f),e.push(JSON.stringify(g)))}(g=this.$1)==null||g.updateAllLocalSettings(b,e,a)};b.clean=function(){var a;(a=this.$1)==null||a.clean()};return a}();g.WindowsHybridBridgePreferences_v2564=a}),98);
__d("WAWebWindowsHybridBridgeRateTheApp.v2564",["asyncToGeneratorRuntime"],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=a}var c=a.prototype;c.getStoreProductForCurrentApp=function(){return this.$1.getStoreProductForCurrentAppAsync()};c.requestRateAndApp=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield this.$1.requestRateAndReviewAppAsync());return JSON.parse(a)});function c(){return a.apply(this,arguments)}return c}();return a}();f.WAWebWindowsHybridBridgeRateTheApp_v2564=a}),66);
__d("WAWebWindowsHybridBridgeScalingControl.v2564",["WAWebWindowsScalingControlEventEmitter"],(function(a,b,c,d,e,f,g){a=function(){function a(a){this.$2=!1,this.$3=function(){c("WAWebWindowsScalingControlEventEmitter").trigger("requestZoomIn")},this.$4=function(){c("WAWebWindowsScalingControlEventEmitter").trigger("requestZoomOut")},this.$1=a}var b=a.prototype;b.initialize=function(){var a;if(this.$2)return;this.$2=!0;(a=this.$1)==null||a.addEventListener("zoomInRequested",this.$3);(a=this.$1)==null||a.addEventListener("zoomOutRequested",this.$4);(a=this.$1)==null||a.subscribe(null)};b.zoomIn=function(){this.$3()};b.zoomOut=function(){this.$4()};b.showScalingControl=function(a){var b;(b=this.$1)==null||b.showScalingControl(a)};return a}();g.WindowsHybridBridgeScalingControl_v2564=a}),98);
__d("WAWebWindowsHybridBridgeTouchpadFix.v2564",["WAWebDebounce"],(function(a,b,c,d,e,f,g){a=function(){function a(a){var b=this;this.$2=c("WAWebDebounce")(function(a){if(a.deltaX<=0)return;a=a.target;a=a;var c=!1,d=0;while(a&&a!==document.body&&d<3){var e=self.getComputedStyle(a);if((e.overflowX==="auto"||e.overflowX==="scroll")&&a.scrollWidth>a.clientWidth){c=!0;break}e=a.parentElement;if(!e)break;a=e;d++}c||b.interruptManipulations()},500);this.$1=a}var b=a.prototype;b.interruptManipulations=function(){return this.$1.interruptManipulations()};b.init=function(){document.addEventListener("wheel",this.$2,{passive:!1})};return a}();g.WindowsHybridBridgeTouchpadFix_v2564=a}),98);
__d("WAWebWindowsHybridBridgeVoip.v2564",["WABase64","WALogger","WAWebBackendApi","WAWebSerializeVoipWapNode","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J;a=function(){function a(a,b){var c=this;this.handleVoipReady=function(){var a;d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received voip ready event"])));d("WAWebBackendApi").frontendFireAndForget("addStartingLogoutListener",function(){return c.handleSignOut()});(a=c.$3)==null||a.onVoipReady()};this.sendSignalingXmpp=function(a){var b,e=a.peerJid,f=a.callId,g=a.payload;a=a.shouldEncryptBeforeSending;d("WALogger").DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received sendSignalingXmpp event: ",", ",", ",", ",""])),e,f,g,a);(b=c.$3)==null||b.onSignalingXmpp(e,f,g,a)};this.handleCallEvent=function(a){var b,e=a.eventType,f=a.userData;a=a.eventDataJson;d("WALogger").DEV(j||(j=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received handleCallEvent event: ",", ",", ",""])),e,f,a);(b=c.$3)==null||b.onCallEvent(e,f,a)};this.requestOpenChat=function(a){var b;d("WALogger").DEV(k||(k=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received requestOpenChat event: ",""])),a);(b=c.$3)==null||b.onRequestOpenChat(a)};this.requestDeviceJidList=function(a){var b;d("WALogger").DEV(l||(l=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received requestDeviceJidList event: ",""])),a);void ((b=c.$3)==null?void 0:b.onRequestDeviceJidList(a).then(function(b){var d;(d=c.$1)==null||d.handleDeviceJidList(a.toString(),b)}))};this.callAgain=function(a){var b,e=a.peerJid;a=a.isVideoCall;d("WALogger").DEV(m||(m=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received callAgain event: ",", ",""])),e,a);(b=c.$3)==null||b.onCallAgain(e,a)};this.handleLidCallerDisplayInfo=function(a){var b;d("WALogger").DEV(n||(n=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received handleLidCallerDisplayInfo event: ",""])),a);(b=c.$3)==null||b.onLidCallerDisplayInfo(a)};this.$1=a;this.$2=b;this.$1.addEventListener("handleVoipReadyEvent",this.handleVoipReady);this.$1.addEventListener("handleVoipCallEvent",this.handleCallEvent);this.$1.addEventListener("handleSignalingXmppEvent",this.sendSignalingXmpp);this.$1.addEventListener("handleRequestOpenChatEvent",this.requestOpenChat);this.$1.addEventListener("handleRequestDeviceJidListEvent",this.requestDeviceJidList);this.$1.addEventListener("handleCallAgainEvent",this.callAgain);this.$1.addEventListener("handleLidCallerDisplayInfoEvent",this.handleLidCallerDisplayInfo);this.$1.subscribe(null)}var c=a.prototype;c.setHandlers=function(a){this.$3=a};c.cleanup=function(){this.$1.removeEventListener!=null&&(this.$1.removeEventListener("handleVoipReadyEvent",this.handleVoipReady),this.$1.removeEventListener("handleVoipCallEvent",this.handleCallEvent),this.$1.removeEventListener("handleSignalingXmppEvent",this.sendSignalingXmpp),this.$1.removeEventListener("handleRequestOpenChatEvent",this.requestOpenChat),this.$1.removeEventListener("handleRequestDeviceJidListEvent",this.requestDeviceJidList),this.$1.removeEventListener("handleCallAgainEvent",this.callAgain),this.$1.removeEventListener("handleLidCallerDisplayInfo",this.handleLidCallerDisplayInfo))};c.handleIncomingSignalingOffer=function(a,b,c,e,f,g,h,i,j){d("WALogger").DEV(o||(o=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleIncomingSignalingOffer called with:"]))).devConsole(arguments),this.$2.handleIncomingSignalingOffer(d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a),b,c,e,f,g,h,i,j?d("WABase64").encodeB64(j):null)};c.handleIncomingSignalingMessage=function(a,b,c,e,f,g,h,i){this.$2.handleIncomingSignalingMessage(d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a),b,c,e,f,g,h,i?d("WABase64").encodeB64(i):null)};c.handleIncomingSignalingAck=function(a,b,c,e,f){d("WALogger").DEV(p||(p=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleIncomingSignalingAck called with:"]))).devConsole(arguments),this.$2.handleIncomingSignalingAck(d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a),b,c,e,f?d("WABase64").encodeB64(f):null)};c.handleIncomingSignalingReceipt=function(a,b,c){d("WALogger").DEV(q||(q=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleIncomingSignalingReceipt called with:"]))).devConsole(arguments),this.$2.handleIncomingSignalingReceipt(d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a),b,c?d("WABase64").encodeB64(c):null)};c.resendOfferOnDecryptionFailure=function(a,b){d("WALogger").DEV(r||(r=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] resendOfferOnDecryptionFailure called with:"]))).devConsole(arguments),this.$2.resendOfferOnDecryptionFailure(a,b)};c.resendEncRekeyRetry=function(a,b){d("WALogger").DEV(s||(s=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] resendEncRekeyRetry called with:"]))).devConsole(arguments),this.$2.resendEncRekeyRetry(a,b)};c.notifyDeviceIdentityChangedOrDeleted=function(a,b){d("WALogger").DEV(t||(t=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] notifyDeviceIdentityChangedOrDeleted called with:"]))).devConsole(arguments),this.$2.notifyDeviceIdentityChangedOrDeleted(a,b)};c.handleWebViewReady=function(){var a;d("WALogger").DEV(u||(u=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleWebViewReady called"])));(a=this.$1)==null||a.handleWebViewReady()};c.voipInit=function(a,b,c){var e;d("WALogger").DEV(v||(v=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] voipInit called with:"]))).devConsole(arguments);(e=this.$1)==null||e.voipInit(a,b,c)};c.setHideMyIp=function(a){var b;d("WALogger").DEV(w||(w=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] setHideMyIp called with:"]))).devConsole(arguments);(b=this.$1)==null||b.setHideMyIp(a)};c.setChatNameAndIcon=function(a,b,c){var e;d("WALogger").DEV(x||(x=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] setChatNameAndIcon called"])));(e=this.$1)==null||e.setChatNameAndIcon(a,b,c)};c.handleSignOut=function(){var a;d("WALogger").DEV(y||(y=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleSignOut called"])));(a=this.$1)==null||a.handleSignOut()};c.startCall=function(a,b,c,e,f,g,h,i,j,k,l){var m;d("WALogger").DEV(z||(z=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] startCall called with:"]))).devConsole(arguments);(m=this.$1)==null||m.startCall(a.toString({legacy:!0}),b,c,e,f,g,h,i?d("WABase64").encodeB64(i):null)};c.startGroupCall=function(a,b,c,e,f,g,h,i,j,k,l,m,n,o){var p;d("WALogger").DEV(A||(A=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] startGroupCall called with:"]))).devConsole(arguments);(p=this.$1)==null||p.startGroupCall(a,b,c,e,f,g,h,i,j,k,l)};c.handleDeviceJidList=function(a,b){var c;d("WALogger").DEV(B||(B=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleDeviceJidList called with:"]))).devConsole(arguments);(c=this.$1)==null||c.handleDeviceJidList(a,b)};c.previewCallLink=function(a,b,c,e,f){var g;d("WALogger").DEV(C||(C=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] previewCallLink called with:"]))).devConsole(arguments);(g=this.$1)==null||g.previewCallLink(a,b,c)};c.previewAndJoinCallLink=function(a,b,c,e,f){var g;d("WALogger").DEV(D||(D=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] previewAndJoinCallLink called with:"]))).devConsole(arguments);(g=this.$1)==null||g.previewAndJoinCallLink(a,b,c)};c.endCall=function(a,b){var c;d("WALogger").DEV(E||(E=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] endCall called with:"]))).devConsole(arguments);(c=this.$1)==null||c.endCall(a,b)};c.rejectCallWithoutCallContext=function(a,b,c,e,f,g,h){var i;d("WALogger").DEV(F||(F=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] rejectCallWithoutCallContext called with:"]))).devConsole(arguments);(i=this.$1)==null||i.rejectCallWithoutCallContext(a,b,c,e,f,g,h)};c.joinOngoingCall=function(a,b,c,e,f,g,h,i,j,k,l,m,n,o,p,q){var r;d("WALogger").DEV(G||(G=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] joinOngoingCall called with:"]))).devConsole(arguments);(r=this.$1)==null||r.joinOngoingCall(a,b,c,e,f,g,h,i,j,k,l,m,n,o,p)};c.inviteToCall=function(a,b,c){};c.requestCallInfo=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WALogger").DEV(H||(H=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] requestCallInfo called with:"]))).devConsole(arguments);var a=(yield this.$1.getCallInfo()),b=a.callInfoJsonBase64,c=a.error;return{callInfoJsonBase64:b,error:c}});function c(){return a.apply(this,arguments)}return c}();c.requestObtainDevicePermissionAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("WALogger").DEV(I||(I=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] requestObtainDevicePermissionAsync called with:"]))).devConsole(arguments);var b=(yield this.$1.requestObtainDevicePermissionAsync(a)),c=b.error,e=b.permissionGranted;return{error:c,permissionGranted:e}});function c(b){return a.apply(this,arguments)}return c}();c.requestDevicesCountAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("WALogger").DEV(J||(J=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] requestDevicesCountAsync called with:"]))).devConsole(arguments);var b=(yield this.$1.getDeviceCountAsync(a)),c=b.error,e=b.deviceCount;return{error:c,deviceCount:e}});function c(b){return a.apply(this,arguments)}return c}();return a}();g.VoipWinRTBridge_v2564=a}),98);
__d("WAWebWindowsHybridBridgeWam.v2564",["Promise","WALogger","WAWebWamCodegenWamEvent"],(function(a,b,c,d,e,f,g){var h,i,j;a=function(a){var c=this;this.$2=!1;this.initialize=function(){var a;if(c.$2)return;(a=c.$1)==null||a.addEventListener("eventsSaved",c.handleEvents);(a=c.$1)==null||a.subscribe(null);c.$2=!0};this.handleEvents=function(a){if(!c.$2){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received handleWamEvent while bridge is not initialized"])));return}d("WALogger").DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received handleWamEvent event: ",""])),a);a=JSON.parse(a);void (j||(j=b("Promise"))).all(a.map(function(a){return new(d("WAWebWamCodegenWamEvent").RawWamEvent)(a).commitAndWaitForFlush(!0)}))};this.$1=a};g.WindowsHybridBridgeWam_v2564=a}),98);
__d("WAWebWindowsHybridBridge.v2564",["WAWebWindowsHybridAppActivationBridge.v2564","WAWebWindowsHybridBridgeAbProps.v2564","WAWebWindowsHybridBridgeConnection.v2564","WAWebWindowsHybridBridgeContacts.v2564","WAWebWindowsHybridBridgeDebugFeatures.v2564","WAWebWindowsHybridBridgeMediaFiles.v2564","WAWebWindowsHybridBridgeNativeAppState.v2564","WAWebWindowsHybridBridgePictures.v2564","WAWebWindowsHybridBridgePreferences.v2564","WAWebWindowsHybridBridgeRateTheApp.v2564","WAWebWindowsHybridBridgeScalingControl.v2564","WAWebWindowsHybridBridgeTouchpadFix.v2564","WAWebWindowsHybridBridgeVoip.v2564","WAWebWindowsHybridBridgeWam.v2564","cr:17220"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.systemIntegrationsBridge=null;this.linksPreview=null;this.browserExtensionsBridge=null;this.seamlessMigrationBridge=null;this.mediaTranscodeBridge=null;this.adv=null;this.sharesheetBridge=null;this.serverEncKeySaltBridge=null;a.hostObjects.options.defaultSyncProxy=!0;a.hostObjects.options.forceAsyncMethodMatches=[/Async$/,/AsyncWithSpeller$/];a.hostObjects.options.ignoreMemberNotFoundError=!0;var c=a.hostObjects.AbPropsBridge;c!=null&&(this.abProps=new(d("WAWebWindowsHybridBridgeAbProps.v2564").WindowsHybridBridgeAbProps_v2564)(c));c=a.hostObjects.WamBridge;c!=null&&(this.wam=new(d("WAWebWindowsHybridBridgeWam.v2564").WindowsHybridBridgeWam_v2564)(c));c=a.hostObjects.PreferencesBridge;c&&(this.$1=new(d("WAWebWindowsHybridBridgePreferences.v2564").WindowsHybridBridgePreferences_v2564)(c));c=a.hostObjects.ScalingControlBridge;c&&(this.scalingControl=new(d("WAWebWindowsHybridBridgeScalingControl.v2564").WindowsHybridBridgeScalingControl_v2564)(c));c=a.hostObjects.PicturesBridge;c&&(this.pictures=new(d("WAWebWindowsHybridBridgePictures.v2564").WindowsHybridBridgePictures_v2564)(c));c=a.hostObjects.DebugFeaturesBridge;var e=b("cr:17220")==null?void 0:b("cr:17220").debugFeaturesMock;c!=null?this.$4=new(d("WAWebWindowsHybridBridgeDebugFeatures.v2564").WindowsHybridBridgeDebugFeatures_v2564)(c):e!=null;c=a.hostObjects.VoipBridge;e=a.hostObjects.VoipSignalingBridge;c&&e&&(this.voip=new(d("WAWebWindowsHybridBridgeVoip.v2564").VoipWinRTBridge_v2564)(c,e));this.$5=new(d("WAWebWindowsHybridBridgeRateTheApp.v2564").WAWebWindowsHybridBridgeRateTheApp_v2564)(a.hostObjects.RateAppBridge);this.$3=new(d("WAWebWindowsHybridBridgeConnection.v2564").WindowsHybridBridgeConnection_v2564)(a.hostObjects.ConnectionBridge);this.$2=a.hostObjects.ClientKeyBridge;this.touchpadFix=new(d("WAWebWindowsHybridBridgeTouchpadFix.v2564").WindowsHybridBridgeTouchpadFix_v2564)(a.hostObjects.TouchpadFix);try{c=a.hostObjects.PopulatedContactsBridge;c!=null&&(this.contacts=new(d("WAWebWindowsHybridBridgeContacts.v2564").WindowsHybridBridgeContacts_v2564)(c,a.hostObjects.sync.PopulatedContactsBridge,!0))}catch(b){e=a.hostObjects.ContactsBridge;e!=null&&(this.contacts=new(d("WAWebWindowsHybridBridgeContacts.v2564").WindowsHybridBridgeContacts_v2564)(e,a.hostObjects.sync.ContactsBridge,!1))}this.sqlite=a.hostObjects.SQLiteBridge;c=a.hostObjects.MediaFilesBridge;c!=null&&(this.mediaFiles=new(d("WAWebWindowsHybridBridgeMediaFiles.v2564").WAWebWindowsHybridBridgeMediaFiles_v2564)(c));e=a.hostObjects.AppActivationBridge;e!=null&&(this.appActivationBridge=new(d("WAWebWindowsHybridAppActivationBridge.v2564").WindowsHybridAppActivationBridge_v2564)(e));c=a.hostObjects.NativeAppStateBridge;c!=null&&(this.nativeAppStateBridge=new(d("WAWebWindowsHybridBridgeNativeAppState.v2564").WindowsHybridBridgeNativeAppState_v2564)(c))}var c=a.prototype;c.getPreferences=function(){var a;(a=this.$1)==null||a.initialize();return this.$1};c.getScalingControl=function(){var a;(a=this.scalingControl)==null||a.initialize();return this.scalingControl};c.getRateTheApp=function(){return this.$5};c.getClientKeyBridge=function(){return this.$2};c.getDebugFeatures=function(){return this.$4};return a}();g.WindowsHybridBridge_v2564=a}),98);
__d("WAWebWindowsHybridAppActivationBridge.v2566",["WAWebApi","WAWebApiParse","WAWebExecApiCmd"],(function(a,b,c,d,e,f,g){a=function(){function a(a){this.handleAppActivationViaProtocolEvent=function(a){a=a.toString();a=d("WAWebApiParse").parseAPICmd(a);a.resultType!==d("WAWebApi").APICmd.INVALID&&c("WAWebExecApiCmd")({cmdData:a,isExternal:!0})};this.$1=a;(a=this.$1)==null||a.addEventListener("handleAppActivationViaProtocolEvent",this.handleAppActivationViaProtocolEvent);this.$1.subscribe(null)}var b=a.prototype;b.initialize=function(){};b.cleanup=function(){var a;(a=this.$1)==null||a.removeEventListener("handleAppActivationViaProtocolEvent",this.handleAppActivationViaProtocolEvent)};return a}();g.WindowsHybridAppActivationBridge_v2566=a}),98);
__d("WAWebWindowsHybridBridgeAbProps.v2566",["WAWebABPropsCache","WAWebABPropsLocalStorage","WAWebBackendApi","WAWebHybridABProps","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){a=function(){function a(a){var c=this;this.$2=!1;this.$3=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=parseInt(a,10);d("WAWebABPropsCache").saveExposure(a);c.$1.acknowledgeExposure(a.toString())});return function(b){return a.apply(this,arguments)}}();this.$4=function(a){var b=d("WAWebABPropsLocalStorage").getABKey();if(a!==b){a=d("WAWebHybridABProps").getAllHybridAbProps(!1);c.$1.setConfigs(b,JSON.stringify(a))}};this.$1=a}var c=a.prototype;c.initialize=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=this;if(this.$2)return;this.$2=!0;yield d("WAWebABPropsCache").waitForABPropConfigsReady();this.$1.addEventListener("exposureLogged",this.$3);this.$1.subscribe(null);var b=(yield this.$1.getVersion());d("WAWebBackendApi").frontendFireAndForget("addAbPropsUpdateListener",function(){a.$4(null)});this.$4(b)});function c(){return a.apply(this,arguments)}return c}();return a}();g.WindowsHybridBridgeAbProps_v2566=a}),98);
__d("WAWebWindowsHybridBridgeConnection.v2566",["WAComms","WALogger","WAPromiseDelays","WAResolvable","WAWebCallCollection","WAWebEventsWaitForMainStreamReadyMd","WAWebEventsWaitForOfflineDeliveryEnd","WAWebSetWindowsPushConfig","WAWebSocketConstants","WAWebSocketModel","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u;a=function(){function a(a){var e=this;this.$2=!1;this.$3=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.data.toString();a=(a=a.channel)==null?void 0:a.toString();d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleUpdateNotificationsTokenEvent"]))).devConsole(b,a);yield c("WAWebEventsWaitForMainStreamReadyMd")();yield d("WAWebSetWindowsPushConfig").setWindowsPushConfig(b,a);e.$1.handleConnectionState(!0);e.$1.acknowledgeNotificationsToken(b,a)});return function(b){return a.apply(this,arguments)}}();this.$4=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent"])));try{var a;if(!e.$2&&(((a=d("WAComms").getComms())==null?void 0:a.socket)==null||d("WAWebSocketModel").Socket.stream===d("WAWebSocketConstants").SOCKET_STREAM.DISCONNECTED)){d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: socket already closed"])));e.$1.handleConnectionState(!1);return}yield e.$6();yield d("WAPromiseDelays").delayMs(3e4);d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: offline resume complete"])));if(c("WAWebCallCollection").activeCall!=null){d("WALogger").LOG(l||(l=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: awaiting active call completion"])));var b=new(d("WAResolvable").Resolvable)();a=function(){c("WAWebCallCollection").activeCall==null&&b.resolve()};c("WAWebCallCollection").on("change:activeCall",a);yield b.promise;c("WAWebCallCollection").off("change:activeCall",a);d("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: active call completed"])))}d("WAComms").closeSocketAndPause();d("WALogger").LOG(n||(n=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: socket closed"])));e.$1.handleConnectionState(!1)}catch(a){d("WALogger").ERROR(o||(o=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: failed to close socket: ",""])),a)}});this.$5=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WALogger").LOG(p||(p=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection.handleConnectEvent"])));if(e.$2){d("WALogger").LOG(q||(q=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleConnectEvent: socket already opening"])));return}try{var a;a=((a=d("WAComms").getComms())==null?void 0:a.socket)!=null;a||(e.$2=!0,d("WAComms").closeSocketAndResume(),d("WALogger").LOG(r||(r=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleConnectEvent: socket opened"]))));yield e.$6();d("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleConnectEvent: offline resume complete"])));e.$1.handleConnectionState(!0)}catch(a){d("WALogger").ERROR(t||(t=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleConnectEvent: failed to open socket: ",""])),a)}finally{e.$2=!1}});this.$1=a;this.$1.addEventListener("updateNotificationsTokenEvent",this.$3);this.$1.addEventListener("disconnectEvent",this.$4);this.$1.addEventListener("connectEvent",this.$5);this.$1.subscribe(null)}var e=a.prototype;e.$6=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield d("WAComms").waitForConnection(),d("WAWebEventsWaitForOfflineDeliveryEnd").isOfflineDeliveryEnd()||(d("WALogger").LOG(u||(u=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:waitForOfflineResume"]))),yield d("WAWebEventsWaitForOfflineDeliveryEnd").waitForOfflineDeliveryEnd())});function c(){return a.apply(this,arguments)}return c}();return a}();g.WindowsHybridBridgeConnection_v2566=a}),98);
__d("WAWebWindowsHybridBridgeContacts.v2566",["WALogger","WAWebContactsDbLidMigrationUtils","WAWebEventsWaitForMainStreamReadyMd","WAWebLidAwareContactsDB","WAWebSchemaContact_DO_NOT_USE_DIRECTLY","WAWebSyncBootstrap","asyncToGeneratorRuntime","filterNulls"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a,d,e){var f=this;this.$4="contacts";this.$5=new Set();this.$6=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=JSON.parse(a);if(a.length===0)return;a.forEach(function(a){return f.$5.add(a)});var b=(yield c("WAWebLidAwareContactsDB").bulkGet(a));b.forEach(function(a){return f.$5["delete"](a==null?void 0:a.id)});a=a.filter(function(a){return f.$5.has(a)});a.forEach(function(a){return f.$5["delete"](a)});void f.$1.updateContacts(a,JSON.stringify(c("filterNulls")(b)))});return function(b){return a.apply(this,arguments)}}();this.$1=a;this.$2=d;this.$3=e;a.addEventListener("requestUpdateEvent",this.$6);a.subscribe(null)}var e=a.prototype;e.initialize=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=this;c("WAWebLidAwareContactsDB").setUpdateListener(function(b){return a.$7(b)});yield c("WAWebEventsWaitForMainStreamReadyMd")();if(this.$3)return;if(c("WAWebSyncBootstrap").isSyncDBootstrapInProcess())return;this.$3=!0;try{var b=200,e=(yield d("WAWebSchemaContact_DO_NOT_USE_DIRECTLY").getContactTable().all({limit:b,offset:0}));do{var f;f=(f=e[e.length-1])==null?void 0:f.id;e=(yield d("WAWebContactsDbLidMigrationUtils").replacePnRowsWithLidData(e));yield this.$1.updateContacts([],JSON.stringify(e));e=(yield d("WAWebSchemaContact_DO_NOT_USE_DIRECTLY").getContactTable().greaterThan(["id"],f,{limit:b}))}while(e.length>0);this.$1.acknowledgeInitialSync()}catch(a){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[WinUi] setInitialData "," error ",""])),this.$4,a)}});function e(){return a.apply(this,arguments)}return e}();e.$7=function(a){var b=this;if(!this.$3)return;a=a.filter(function(a){return!b.$5.has(a)});if(a.length===0)return;a.forEach(function(a){return b.$5.add(a)});this.$2.invalidateContacts(a)};return a}();g.WindowsHybridBridgeContacts_v2566=a}),98);
__d("WAWebWindowsHybridBridgeDebugFeatures.v2566",["WALogger","WAWebBackendApi","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i=1e3;a=function(){function a(a){var b=this;this.ping=function(a){d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeDebugFeatures:ping:",""])),a),b.$1.pong(a.valueOf())};this.$1=a;(a=this.$1)==null||a.addEventListener("jsLogs",function(){b.saveJSLogs()});(a=this.$1)==null||a.addEventListener("requestWebLogStringEvent",function(a){void b.requestWebLogString(a)});(a=this.$1)==null||a.addEventListener("pingEvent",this.ping);this.$1.subscribe(null)}var c=a.prototype;c.startHangsMonitor=function(){};c.saveNativeLogs=function(){this.$1.saveNativeLogs()};c.requestNativeLogs=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){return this.$1.requestNativeLogs()});function c(){return a.apply(this,arguments)}return c}();c.saveJSLogs=function(){d("WAWebBackendApi").frontendFireAndForget("createDownloadDataForMdWebLogs")};c.limitStringSize=function(a,b){var c=new Blob([a],{type:"text/plain"});if(c.size>b){c=c.size-b;return a.substr(c)}return a};c.requestWebLogString=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield d("WAWebBackendApi").frontendSendAndReceive("getWebLogs"));b=this.limitStringSize(b,30*i);this.$1.sendWebLogString(a.toString(),b)});function c(b){return a.apply(this,arguments)}return c}();return a}();g.WindowsHybridBridgeDebugFeatures_v2566=a}),98);
__d("WAWebWindowsHybridBridgeMediaFiles.v2566",[],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=a}var b=a.prototype;b.isCachedMediaFileExist=function(a,b){return this.$1.isCachedMediaFileExist(a,b)};b.tryOpenCachedMediaFile=function(a,b){return this.$1.tryOpenCachedMediaFileFile(a,b)};b.prepareForMediaFileSaving=function(a,b,c){return this.$1.prepareForMediaFileSaving(a,b,c)};b.waitTillMediaDownloadCompletes=function(a,b,c){return this.$1.waitTillMediaDownloadCompletes(a,b,c)};b.selectFolderForBulkMediaSaving=function(){return this.$1.selectFolderForBulkMediaSaving()};b.prepareForZipArchiveSavingAndUnarchiveToFolder=function(a,b,c,d){return this.$1.prepareForZipArchiveSavingAndUnarchiveToFolder(a,b,c,d)};return a}();f.WAWebWindowsHybridBridgeMediaFiles_v2566=a}),66);
__d("WAWebWindowsHybridBridgeNativeAppState.v2566",["$InternalEnum","WALogger","WAWebEventEmitter","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l=b("$InternalEnum")({Normal:"normal",MinimizedToTray:"minimizedToTray"});a=function(a){function c(c,e){var f;f=a.call(this)||this;f.$WindowsHybridBridgeNativeAppState_v2566$p_4=function(a){a=a.toString();var b=l.cast(a);b!=null?d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeNativeAppState:appStateChanged: ",""])),l.getName(b)):d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeNativeAppState:appStateChanged: invalid appStateId: ",""])),a);f.$WindowsHybridBridgeNativeAppState_v2566$p_3=b;f.trigger("appStateChanged",f.isMinimizedToTray())};f.getAppState=function(){return f.$WindowsHybridBridgeNativeAppState_v2566$p_3};f.getEvents=function(){return f};f.isMinimizedToTray=function(){return f.getAppState()===l.MinimizedToTray};f.takeAppLaunchTimeStamp=function(){return f.$WindowsHybridBridgeNativeAppState_v2566$p_2.takeAppLaunchTimeStamp()};f.getFirstAppRestoreTimeStamp=function(){return f.$WindowsHybridBridgeNativeAppState_v2566$p_2.getFirstAppRestoreTimeStamp()};f.getLastAppRestoreTimeStamp=function(){return f.$WindowsHybridBridgeNativeAppState_v2566$p_2.getLastAppRestoreTimeStamp()};f.detectNativeClockSkew=function(){return f.$WindowsHybridBridgeNativeAppState_v2566$p_2.detectNativeClockSkew(Date.now())};f.getAppStateAsync=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=f.$WindowsHybridBridgeNativeAppState_v2566$p_1.getAppState();a=a.toString();var b=l.cast(a);b!=null?d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeNativeAppState:getAppStateAsync: ",""])),l.getName(b)):d("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeNativeAppState:getAppStateAsync: invalid appState '","'"])),a);return b});f.$WindowsHybridBridgeNativeAppState_v2566$p_1=c;f.$WindowsHybridBridgeNativeAppState_v2566$p_2=e;f.$WindowsHybridBridgeNativeAppState_v2566$p_1.addEventListener("appStateChangedEvent",f.$WindowsHybridBridgeNativeAppState_v2566$p_4);f.$WindowsHybridBridgeNativeAppState_v2566$p_1.subscribe(null);return f}babelHelpers.inheritsLoose(c,a);return c}(c("WAWebEventEmitter"));g.AppState_v2566=l;g.WindowsHybridBridgeNativeAppState_v2566=a}),98);
__d("WAWebWindowsHybridBridgePictures.v2566",["WAJids","WALogger","WAWebLidMigrationUtils","WAWebProfilePicThumbCollection","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;a=function(){function a(a){var c=this;this.$2=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=JSON.parse(a);for(a of a){var b;if(d("WAJids").validateGroupJid(a.id.toString())){var e=d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.get(a.id);(e==null?void 0:e.eurl)!==a.eurl&&c.$1.setProfilePictures(JSON.stringify([{eurl:e==null?void 0:e.eurl,id:a.id.toString()}]));continue}e=d("WAWebLidMigrationUtils").toPn(a.id);if(e==null){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[WindowsHybridBridgePictures] PN WID is null"])));continue}var f=d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.get(e);f==null&&e!=null&&(f=(yield d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.resyncPicturesByWid([e])));if(((b=f)==null?void 0:b.eurl)!==a.eurl){c.$1.setProfilePictures(JSON.stringify([{eurl:(b=f)==null?void 0:b.eurl,id:e.toString()}]));b=d("WAWebLidMigrationUtils").toLid(a.id);if(b==null){d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[WindowsHybridBridgePictures] LID WID is null for PN WID: ",""])),e);continue}c.$1.setProfilePictures(JSON.stringify([{eurl:(e=f)==null?void 0:e.eurl,id:b.toString()}]))}}});return function(b){return a.apply(this,arguments)}}();this.$1=a;a.addEventListener("verifyPictureEvent",this.$2);a.subscribe(null)}var c=a.prototype;c.notifyUpdate=function(a){if(a==null)return;if(d("WAJids").validateGroupJid(a.id.toString())){this.$1.setProfilePictures(JSON.stringify([{eurl:a.eurl,id:a.id.toString()}]));return}var b=d("WAWebLidMigrationUtils").toPn(a.id),c=d("WAWebLidMigrationUtils").toLid(a.id);if(b==null){d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[WindowsHybridBridgePictures] PN WID is null"])));return}if(c==null){d("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["[WindowsHybridBridgePictures] LID WID is null for PN WID: ",""])),b);return}this.$1.setProfilePictures(JSON.stringify([{eurl:a.eurl,id:b.toString()}]));this.$1.setProfilePictures(JSON.stringify([{eurl:a.eurl,id:c.toString()}]))};return a}();g.WindowsHybridBridgePictures_v2566=a}),98);
__d("WAWebWindowsHybridBridgePreferences.v2566",["WAWebUserPrefsBase","WAWebUserPrefsKeys","WAWebUserPrefsLocalStorage","WAWebUserPrefsStore"],(function(a,b,c,d,e,f,g){var h="WANativePreferencesRevision";a=function(){function a(a){var b=this;this.$2=!1;this.$3=null;this.$4=new Set();this.initialize=function(){var a;if(b.$2)return;b.$4.add(String(d("WAWebUserPrefsKeys").UserPrefs.WindowsIsSystemTrayEnabled));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.SYSTEM_THEME_MODE));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.THEME));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.ME_DISPLAY_NAME));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LAST_PUSHNAME));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LID));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LAST_WID_MD));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LANG_FROM_PHONE));b.$4.add(String(d("WAWebUserPrefsKeys").UserPrefs.AbpropsWebRefreshId));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.ABPROPS_REFRESH_ID));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.ABPROPS));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LANG_FROM_USER));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.GLOBAL_MUTE_CALL_RINGTONE));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.GLOBAL_MUTE_CALL_NOTIFICATIONS));(a=b.$1)==null||a.addEventListener("everythingRequested",function(){var a=b.$5();b.$3!==a&&(b.$3=a,b.$6())});(a=b.$1)==null||a.subscribe(null);b.$2=!0};this.$1=a}var b=a.prototype;b.$5=function(){var a=c("WAWebUserPrefsStore").getUser(h),b=0;typeof a==="number"?b=a:typeof a==="string"&&(b=Number(a)||0);return b};b.$7=function(a){c("WAWebUserPrefsStore").setUser(h,a)};b.handleSettingChange=function(a,b){var c;if(!this.$4.has(a))return;var d=this.$5();(c=this.$1)==null||c.updateLocalSetting(a,JSON.stringify(b),++d);this.$7(d)};b.$6=function(){var a=this.$5(),b=[],e=[];for(var f of this.$4){var g=c("WAWebUserPrefsStore").getUser(f);if(g!=null){b.push(f);e.push(JSON.stringify(g));continue}g=d("WAWebUserPrefsBase").userPreferencesStoreBase.get(f);g!=null&&(b.push(f),e.push(JSON.stringify(g)));g=c("WAWebUserPrefsLocalStorage").getItemFromLocalStorage(f);g!=null&&(b.push(f),e.push(JSON.stringify(g)))}(g=this.$1)==null||g.updateAllLocalSettings(b,e,a)};b.clean=function(){var a;(a=this.$1)==null||a.clean()};return a}();g.WindowsHybridBridgePreferences_v2566=a}),98);
__d("WAWebWindowsHybridBridgeRateTheApp.v2566",["asyncToGeneratorRuntime"],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=a}var c=a.prototype;c.getStoreProductForCurrentApp=function(){return this.$1.getStoreProductForCurrentAppAsync()};c.requestRateAndApp=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield this.$1.requestRateAndReviewAppAsync());return JSON.parse(a)});function c(){return a.apply(this,arguments)}return c}();return a}();f.WAWebWindowsHybridBridgeRateTheApp_v2566=a}),66);
__d("WAWebWindowsHybridBridgeScalingControl.v2566",["WAWebWindowsScalingControlEventEmitter"],(function(a,b,c,d,e,f,g){a=function(){function a(a){this.$2=!1,this.$3=function(){c("WAWebWindowsScalingControlEventEmitter").trigger("requestZoomIn")},this.$4=function(){c("WAWebWindowsScalingControlEventEmitter").trigger("requestZoomOut")},this.$1=a}var b=a.prototype;b.initialize=function(){var a;if(this.$2)return;this.$2=!0;(a=this.$1)==null||a.addEventListener("zoomInRequested",this.$3);(a=this.$1)==null||a.addEventListener("zoomOutRequested",this.$4);(a=this.$1)==null||a.subscribe(null)};b.zoomIn=function(){this.$3()};b.zoomOut=function(){this.$4()};b.showScalingControl=function(a){var b;(b=this.$1)==null||b.showScalingControl(a)};return a}();g.WindowsHybridBridgeScalingControl_v2566=a}),98);
__d("WAWebWindowsHybridBridgeTouchpadFix.v2566",["WAWebDebounce"],(function(a,b,c,d,e,f,g){a=function(){function a(a){var b=this;this.$2=c("WAWebDebounce")(function(a){if(a.deltaX<=0)return;a=a.target;a=a;var c=!1,d=0;while(a&&a!==document.body&&d<3){var e=self.getComputedStyle(a);if((e.overflowX==="auto"||e.overflowX==="scroll")&&a.scrollWidth>a.clientWidth){c=!0;break}e=a.parentElement;if(!e)break;a=e;d++}c||b.interruptManipulations()},500);this.$1=a}var b=a.prototype;b.interruptManipulations=function(){return this.$1.interruptManipulations()};b.init=function(){document.addEventListener("wheel",this.$2,{passive:!1})};return a}();g.WindowsHybridBridgeTouchpadFix_v2566=a}),98);
__d("WAWebWindowsHybridBridgeVoip.v2566",["WABase64","WALogger","WAWebBackendApi","WAWebSerializeVoipWapNode","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J;a=function(){function a(a,b){var c=this;this.handleVoipReady=function(){var a;d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received voip ready event"])));d("WAWebBackendApi").frontendFireAndForget("addStartingLogoutListener",function(){return c.handleSignOut()});(a=c.$3)==null||a.onVoipReady()};this.sendSignalingXmpp=function(a){var b,e=a.peerJid,f=a.callId,g=a.payload;a=a.shouldEncryptBeforeSending;d("WALogger").DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received sendSignalingXmpp event: ",", ",", ",", ",""])),e,f,g,a);(b=c.$3)==null||b.onSignalingXmpp(e,f,g,a)};this.handleCallEvent=function(a){var b,e=a.eventType,f=a.userData;a=a.eventDataJson;d("WALogger").DEV(j||(j=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received handleCallEvent event: ",", ",", ",""])),e,f,a);(b=c.$3)==null||b.onCallEvent(e,f,a)};this.requestOpenChat=function(a){var b;d("WALogger").DEV(k||(k=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received requestOpenChat event: ",""])),a);(b=c.$3)==null||b.onRequestOpenChat(a)};this.requestDeviceJidList=function(a){var b;d("WALogger").DEV(l||(l=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received requestDeviceJidList event: ",""])),a);void ((b=c.$3)==null?void 0:b.onRequestDeviceJidList(a).then(function(b){var d;(d=c.$1)==null||d.handleDeviceJidList(a.toString(),b)}))};this.callAgain=function(a){var b,e=a.peerJid;a=a.isVideoCall;d("WALogger").DEV(m||(m=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received callAgain event: ",", ",""])),e,a);(b=c.$3)==null||b.onCallAgain(e,a)};this.handleLidCallerDisplayInfo=function(a){var b;d("WALogger").DEV(n||(n=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received handleLidCallerDisplayInfo event: ",""])),a);(b=c.$3)==null||b.onLidCallerDisplayInfo(a)};this.$1=a;this.$2=b;this.$1.addEventListener("handleVoipReadyEvent",this.handleVoipReady);this.$1.addEventListener("handleVoipCallEvent",this.handleCallEvent);this.$1.addEventListener("handleSignalingXmppEvent",this.sendSignalingXmpp);this.$1.addEventListener("handleRequestOpenChatEvent",this.requestOpenChat);this.$1.addEventListener("handleRequestDeviceJidListEvent",this.requestDeviceJidList);this.$1.addEventListener("handleCallAgainEvent",this.callAgain);this.$1.addEventListener("handleLidCallerDisplayInfoEvent",this.handleLidCallerDisplayInfo);this.$1.subscribe(null)}var c=a.prototype;c.setHandlers=function(a){this.$3=a};c.cleanup=function(){this.$1.removeEventListener!=null&&(this.$1.removeEventListener("handleVoipReadyEvent",this.handleVoipReady),this.$1.removeEventListener("handleVoipCallEvent",this.handleCallEvent),this.$1.removeEventListener("handleSignalingXmppEvent",this.sendSignalingXmpp),this.$1.removeEventListener("handleRequestOpenChatEvent",this.requestOpenChat),this.$1.removeEventListener("handleRequestDeviceJidListEvent",this.requestDeviceJidList),this.$1.removeEventListener("handleCallAgainEvent",this.callAgain),this.$1.removeEventListener("handleLidCallerDisplayInfo",this.handleLidCallerDisplayInfo))};c.handleIncomingSignalingOffer=function(a,b,c,e,f,g,h,i,j){d("WALogger").DEV(o||(o=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleIncomingSignalingOffer called with:"]))).devConsole(arguments),this.$2.handleIncomingSignalingOffer(d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a),b,c,e,f,g,h,i,j?d("WABase64").encodeB64(j):null)};c.handleIncomingSignalingMessage=function(a,b,c,e,f,g,h,i){this.$2.handleIncomingSignalingMessage(d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a),b,c,e,f,g,h,i?d("WABase64").encodeB64(i):null)};c.handleIncomingSignalingAck=function(a,b,c,e,f){d("WALogger").DEV(p||(p=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleIncomingSignalingAck called with:"]))).devConsole(arguments),this.$2.handleIncomingSignalingAck(d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a),b,c,e,f?d("WABase64").encodeB64(f):null)};c.handleIncomingSignalingReceipt=function(a,b,c){d("WALogger").DEV(q||(q=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleIncomingSignalingReceipt called with:"]))).devConsole(arguments),this.$2.handleIncomingSignalingReceipt(d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a),b,c?d("WABase64").encodeB64(c):null)};c.resendOfferOnDecryptionFailure=function(a,b){d("WALogger").DEV(r||(r=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] resendOfferOnDecryptionFailure called with:"]))).devConsole(arguments),this.$2.resendOfferOnDecryptionFailure(a,b)};c.resendEncRekeyRetry=function(a,b){d("WALogger").DEV(s||(s=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] resendEncRekeyRetry called with:"]))).devConsole(arguments),this.$2.resendEncRekeyRetry(a,b)};c.notifyDeviceIdentityChangedOrDeleted=function(a,b){d("WALogger").DEV(t||(t=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] notifyDeviceIdentityChangedOrDeleted called with:"]))).devConsole(arguments),this.$2.notifyDeviceIdentityChangedOrDeleted(a,b)};c.handleWebViewReady=function(){var a;d("WALogger").DEV(u||(u=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleWebViewReady called"])));(a=this.$1)==null||a.handleWebViewReady()};c.voipInit=function(a,b,c){var e;d("WALogger").DEV(v||(v=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] voipInit called with:"]))).devConsole(arguments);(e=this.$1)==null||e.voipInit(a,b,c)};c.setHideMyIp=function(a){var b;d("WALogger").DEV(w||(w=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] setHideMyIp called with:"]))).devConsole(arguments);(b=this.$1)==null||b.setHideMyIp(a)};c.setChatNameAndIcon=function(a,b,c){var e;d("WALogger").DEV(x||(x=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] setChatNameAndIcon called"])));(e=this.$1)==null||e.setChatNameAndIcon(a,b,c)};c.handleSignOut=function(){var a;d("WALogger").DEV(y||(y=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleSignOut called"])));(a=this.$1)==null||a.handleSignOut()};c.startCall=function(a,b,c,e,f,g,h,i,j,k,l){var m;d("WALogger").DEV(z||(z=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] startCall called with:"]))).devConsole(arguments);(m=this.$1)==null||m.startCall(a.toString({legacy:!0}),b,c,e,f,g,h,i?d("WABase64").encodeB64(i):null)};c.startGroupCall=function(a,b,c,e,f,g,h,i,j,k,l,m,n,o){var p;d("WALogger").DEV(A||(A=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] startGroupCall called with:"]))).devConsole(arguments);(p=this.$1)==null||p.startGroupCall(a,b,c,e,f,g,h,i,j,k,l)};c.handleDeviceJidList=function(a,b){var c;d("WALogger").DEV(B||(B=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleDeviceJidList called with:"]))).devConsole(arguments);(c=this.$1)==null||c.handleDeviceJidList(a,b)};c.previewCallLink=function(a,b,c,e,f){var g;d("WALogger").DEV(C||(C=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] previewCallLink called with:"]))).devConsole(arguments);(g=this.$1)==null||g.previewCallLink(a,b,c)};c.previewAndJoinCallLink=function(a,b,c,e,f){var g;d("WALogger").DEV(D||(D=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] previewAndJoinCallLink called with:"]))).devConsole(arguments);(g=this.$1)==null||g.previewAndJoinCallLink(a,b,c)};c.endCall=function(a,b){var c;d("WALogger").DEV(E||(E=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] endCall called with:"]))).devConsole(arguments);(c=this.$1)==null||c.endCall(a,b)};c.rejectCallWithoutCallContext=function(a,b,c,e,f,g,h){var i;d("WALogger").DEV(F||(F=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] rejectCallWithoutCallContext called with:"]))).devConsole(arguments);(i=this.$1)==null||i.rejectCallWithoutCallContext(a,b,c,e,f,g,h)};c.joinOngoingCall=function(a,b,c,e,f,g,h,i,j,k,l,m,n,o,p,q){var r;d("WALogger").DEV(G||(G=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] joinOngoingCall called with:"]))).devConsole(arguments);(r=this.$1)==null||r.joinOngoingCall(a,b,c,e,f,g,h,i,j,k,l,m,n,o,p)};c.inviteToCall=function(a,b,c){};c.requestCallInfo=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WALogger").DEV(H||(H=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] requestCallInfo called with:"]))).devConsole(arguments);var a=(yield this.$1.getCallInfo()),b=a.callInfoJsonBase64,c=a.error;return{callInfoJsonBase64:b,error:c}});function c(){return a.apply(this,arguments)}return c}();c.requestObtainDevicePermissionAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("WALogger").DEV(I||(I=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] requestObtainDevicePermissionAsync called with:"]))).devConsole(arguments);var b=(yield this.$1.requestObtainDevicePermissionAsync(a)),c=b.error,e=b.permissionGranted;return{error:c,permissionGranted:e}});function c(b){return a.apply(this,arguments)}return c}();c.requestDevicesCountAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("WALogger").DEV(J||(J=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] requestDevicesCountAsync called with:"]))).devConsole(arguments);var b=(yield this.$1.getDeviceCountAsync(a)),c=b.error,e=b.deviceCount;return{error:c,deviceCount:e}});function c(b){return a.apply(this,arguments)}return c}();return a}();g.VoipWinRTBridge_v2566=a}),98);
__d("WAWebWindowsHybridBridgeWam.v2566",["Promise","WALogger","WAWebWamCodegenWamEvent"],(function(a,b,c,d,e,f,g){var h,i,j;a=function(a){var c=this;this.$2=!1;this.initialize=function(){var a;if(c.$2)return;(a=c.$1)==null||a.addEventListener("eventsSaved",c.handleEvents);(a=c.$1)==null||a.subscribe(null);c.$2=!0};this.handleEvents=function(a){if(!c.$2){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received handleWamEvent while bridge is not initialized"])));return}d("WALogger").DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received handleWamEvent event: ",""])),a);a=JSON.parse(a);void (j||(j=b("Promise"))).all(a.map(function(a){return new(d("WAWebWamCodegenWamEvent").RawWamEvent)(a).commitAndWaitForFlush(!0)}))};this.$1=a};g.WindowsHybridBridgeWam_v2566=a}),98);
__d("WAWebWindowsHybridBridge.v2566",["WAWebWindowsHybridAppActivationBridge.v2566","WAWebWindowsHybridBridgeAbProps.v2566","WAWebWindowsHybridBridgeConnection.v2566","WAWebWindowsHybridBridgeContacts.v2566","WAWebWindowsHybridBridgeDebugFeatures.v2566","WAWebWindowsHybridBridgeMediaFiles.v2566","WAWebWindowsHybridBridgeNativeAppState.v2566","WAWebWindowsHybridBridgePictures.v2566","WAWebWindowsHybridBridgePreferences.v2566","WAWebWindowsHybridBridgeRateTheApp.v2566","WAWebWindowsHybridBridgeScalingControl.v2566","WAWebWindowsHybridBridgeTouchpadFix.v2566","WAWebWindowsHybridBridgeVoip.v2566","WAWebWindowsHybridBridgeWam.v2566","cr:17220"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.systemIntegrationsBridge=null;this.linksPreview=null;this.browserExtensionsBridge=null;this.seamlessMigrationBridge=null;this.mediaTranscodeBridge=null;this.adv=null;this.sharesheetBridge=null;this.serverEncKeySaltBridge=null;a.hostObjects.options.defaultSyncProxy=!0;a.hostObjects.options.forceAsyncMethodMatches=[/Async$/,/AsyncWithSpeller$/];a.hostObjects.options.ignoreMemberNotFoundError=!0;var c=a.hostObjects.AbPropsBridge;c!=null&&(this.abProps=new(d("WAWebWindowsHybridBridgeAbProps.v2566").WindowsHybridBridgeAbProps_v2566)(c));c=a.hostObjects.WamBridge;c!=null&&(this.wam=new(d("WAWebWindowsHybridBridgeWam.v2566").WindowsHybridBridgeWam_v2566)(c));c=a.hostObjects.PreferencesBridge;c&&(this.$1=new(d("WAWebWindowsHybridBridgePreferences.v2566").WindowsHybridBridgePreferences_v2566)(c));c=a.hostObjects.ScalingControlBridge;c&&(this.scalingControl=new(d("WAWebWindowsHybridBridgeScalingControl.v2566").WindowsHybridBridgeScalingControl_v2566)(c));c=a.hostObjects.PicturesBridge;c&&(this.pictures=new(d("WAWebWindowsHybridBridgePictures.v2566").WindowsHybridBridgePictures_v2566)(c));c=a.hostObjects.DebugFeaturesBridge;var e=b("cr:17220")==null?void 0:b("cr:17220").debugFeaturesMock;c!=null?this.$4=new(d("WAWebWindowsHybridBridgeDebugFeatures.v2566").WindowsHybridBridgeDebugFeatures_v2566)(c):e!=null;c=a.hostObjects.VoipBridge;e=a.hostObjects.VoipSignalingBridge;c&&e&&(this.voip=new(d("WAWebWindowsHybridBridgeVoip.v2566").VoipWinRTBridge_v2566)(c,e));this.$5=new(d("WAWebWindowsHybridBridgeRateTheApp.v2566").WAWebWindowsHybridBridgeRateTheApp_v2566)(a.hostObjects.RateAppBridge);this.$3=new(d("WAWebWindowsHybridBridgeConnection.v2566").WindowsHybridBridgeConnection_v2566)(a.hostObjects.ConnectionBridge);this.$2=a.hostObjects.ClientKeyBridge;this.touchpadFix=new(d("WAWebWindowsHybridBridgeTouchpadFix.v2566").WindowsHybridBridgeTouchpadFix_v2566)(a.hostObjects.TouchpadFix);try{c=a.hostObjects.PopulatedContactsBridge;c!=null&&(this.contacts=new(d("WAWebWindowsHybridBridgeContacts.v2566").WindowsHybridBridgeContacts_v2566)(c,a.hostObjects.sync.PopulatedContactsBridge,!0))}catch(b){e=a.hostObjects.ContactsBridge;e!=null&&(this.contacts=new(d("WAWebWindowsHybridBridgeContacts.v2566").WindowsHybridBridgeContacts_v2566)(e,a.hostObjects.sync.ContactsBridge,!1))}this.sqlite=a.hostObjects.SQLiteBridge;c=a.hostObjects.MediaFilesBridge;c!=null&&(this.mediaFiles=new(d("WAWebWindowsHybridBridgeMediaFiles.v2566").WAWebWindowsHybridBridgeMediaFiles_v2566)(c));e=a.hostObjects.AppActivationBridge;e!=null&&(this.appActivationBridge=new(d("WAWebWindowsHybridAppActivationBridge.v2566").WindowsHybridAppActivationBridge_v2566)(e));c=a.hostObjects.NativeAppStateBridge;e=a.hostObjects.sync.NativeAppStateBridge;c!=null&&(this.nativeAppStateBridge=new(d("WAWebWindowsHybridBridgeNativeAppState.v2566").WindowsHybridBridgeNativeAppState_v2566)(c,e))}var c=a.prototype;c.getPreferences=function(){var a;(a=this.$1)==null||a.initialize();return this.$1};c.getScalingControl=function(){var a;(a=this.scalingControl)==null||a.initialize();return this.scalingControl};c.getRateTheApp=function(){return this.$5};c.getClientKeyBridge=function(){return this.$2};c.getDebugFeatures=function(){return this.$4};return a}();g.WindowsHybridBridge_v2566=a}),98);
__d("WAWebWindowsHybridAppActivationBridge.v2567",["WAWebApi","WAWebApiParse","WAWebExecApiCmd"],(function(a,b,c,d,e,f,g){a=function(){function a(a){this.handleAppActivationViaProtocolEvent=function(a){a=a.toString();a=d("WAWebApiParse").parseAPICmd(a);a.resultType!==d("WAWebApi").APICmd.INVALID&&c("WAWebExecApiCmd")({cmdData:a,isExternal:!0})};this.$1=a;(a=this.$1)==null||a.addEventListener("handleAppActivationViaProtocolEvent",this.handleAppActivationViaProtocolEvent);this.$1.subscribe(null)}var b=a.prototype;b.initialize=function(){};b.cleanup=function(){var a;(a=this.$1)==null||a.removeEventListener("handleAppActivationViaProtocolEvent",this.handleAppActivationViaProtocolEvent)};return a}();g.WindowsHybridAppActivationBridge_v2567=a}),98);
__d("WAWebWindowsHybridBridgeAbProps.v2567",["WAWebABPropsCache","WAWebABPropsLocalStorage","WAWebBackendApi","WAWebHybridABProps","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){a=function(){function a(a){var c=this;this.$2=!1;this.$3=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=parseInt(a,10);d("WAWebABPropsCache").saveExposure(a);c.$1.acknowledgeExposure(a.toString())});return function(b){return a.apply(this,arguments)}}();this.$4=function(a){var b=d("WAWebABPropsLocalStorage").getABKey();if(a!==b){a=d("WAWebHybridABProps").getAllHybridAbProps(!1);c.$1.setConfigs(b,JSON.stringify(a))}};this.$1=a}var c=a.prototype;c.initialize=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=this;if(this.$2)return;this.$2=!0;yield d("WAWebABPropsCache").waitForABPropConfigsReady();this.$1.addEventListener("exposureLogged",this.$3);this.$1.subscribe(null);var b=(yield this.$1.getVersion());d("WAWebBackendApi").frontendFireAndForget("addAbPropsUpdateListener",function(){a.$4(null)});this.$4(b)});function c(){return a.apply(this,arguments)}return c}();return a}();g.WindowsHybridBridgeAbProps_v2567=a}),98);
__d("WAWebWindowsHybridBridgeConnection.v2567",["WAComms","WALogger","WAPromiseDelays","WAResolvable","WAWebCallCollection","WAWebEventsWaitForMainStreamReadyMd","WAWebEventsWaitForOfflineDeliveryEnd","WAWebSetWindowsPushConfig","WAWebSocketConstants","WAWebSocketModel","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u;a=function(){function a(a){var e=this;this.$2=!1;this.$3=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.data.toString();a=(a=a.channel)==null?void 0:a.toString();d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleUpdateNotificationsTokenEvent"]))).devConsole(b,a);yield c("WAWebEventsWaitForMainStreamReadyMd")();yield d("WAWebSetWindowsPushConfig").setWindowsPushConfig(b,a);e.$1.acknowledgeNotificationsToken(b,a)});return function(b){return a.apply(this,arguments)}}();this.$4=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent"])));try{var a;if(!e.$2&&(((a=d("WAComms").getComms())==null?void 0:a.socket)==null||d("WAWebSocketModel").Socket.stream===d("WAWebSocketConstants").SOCKET_STREAM.DISCONNECTED)){d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: socket already closed"])));e.$1.handleConnectionState(!1);return}yield e.$6();yield d("WAPromiseDelays").delayMs(3e4);d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: offline resume complete"])));if(c("WAWebCallCollection").activeCall!=null){d("WALogger").LOG(l||(l=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: awaiting active call completion"])));var b=new(d("WAResolvable").Resolvable)();a=function(){c("WAWebCallCollection").activeCall==null&&b.resolve()};c("WAWebCallCollection").on("change:activeCall",a);yield b.promise;c("WAWebCallCollection").off("change:activeCall",a);d("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: active call completed"])))}d("WAComms").closeSocketAndPause();d("WALogger").LOG(n||(n=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: socket closed"])));e.$1.handleConnectionState(!1)}catch(a){d("WALogger").ERROR(o||(o=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: failed to close socket: ",""])),a)}});this.$5=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WALogger").LOG(p||(p=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection.handleConnectEvent"])));if(e.$2){d("WALogger").LOG(q||(q=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleConnectEvent: socket already opening"])));return}try{var a;a=((a=d("WAComms").getComms())==null?void 0:a.socket)!=null;a||(e.$2=!0,d("WAComms").closeSocketAndResume(),d("WALogger").LOG(r||(r=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleConnectEvent: socket opened"]))));yield e.$6();d("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleConnectEvent: offline resume complete"])));e.$1.handleConnectionState(!0)}catch(a){d("WALogger").ERROR(t||(t=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleConnectEvent: failed to open socket: ",""])),a)}finally{e.$2=!1}});this.$1=a;this.$1.addEventListener("updateNotificationsTokenEvent",this.$3);this.$1.addEventListener("disconnectEvent",this.$4);this.$1.addEventListener("connectEvent",this.$5);this.$1.subscribe(null)}var e=a.prototype;e.$6=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield d("WAComms").waitForConnection(),d("WAWebEventsWaitForOfflineDeliveryEnd").isOfflineDeliveryEnd()||(d("WALogger").LOG(u||(u=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:waitForOfflineResume"]))),yield d("WAWebEventsWaitForOfflineDeliveryEnd").waitForOfflineDeliveryEnd())});function c(){return a.apply(this,arguments)}return c}();return a}();g.WindowsHybridBridgeConnection_v2567=a}),98);
__d("WAWebWindowsHybridBridgeContacts.v2567",["WALogger","WAWebContactsDbLidMigrationUtils","WAWebEventsWaitForMainStreamReadyMd","WAWebLidAwareContactsDB","WAWebSchemaContact_DO_NOT_USE_DIRECTLY","WAWebSyncBootstrap","asyncToGeneratorRuntime","filterNulls"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a,d,e){var f=this;this.$4="contacts";this.$5=new Set();this.$6=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=JSON.parse(a);if(a.length===0)return;a.forEach(function(a){return f.$5.add(a)});var b=(yield c("WAWebLidAwareContactsDB").bulkGet(a));b.forEach(function(a){return f.$5["delete"](a==null?void 0:a.id)});a=a.filter(function(a){return f.$5.has(a)});a.forEach(function(a){return f.$5["delete"](a)});void f.$1.updateContacts(a,JSON.stringify(c("filterNulls")(b)))});return function(b){return a.apply(this,arguments)}}();this.$1=a;this.$2=d;this.$3=e;a.addEventListener("requestUpdateEvent",this.$6);a.subscribe(null)}var e=a.prototype;e.initialize=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=this;c("WAWebLidAwareContactsDB").setUpdateListener(function(b){return a.$7(b)});yield c("WAWebEventsWaitForMainStreamReadyMd")();if(this.$3)return;if(c("WAWebSyncBootstrap").isSyncDBootstrapInProcess())return;this.$3=!0;try{var b=200,e=(yield d("WAWebSchemaContact_DO_NOT_USE_DIRECTLY").getContactTable().all({limit:b,offset:0}));do{var f;f=(f=e[e.length-1])==null?void 0:f.id;e=(yield d("WAWebContactsDbLidMigrationUtils").replacePnRowsWithLidData(e));yield this.$1.updateContacts([],JSON.stringify(e));e=(yield d("WAWebSchemaContact_DO_NOT_USE_DIRECTLY").getContactTable().greaterThan(["id"],f,{limit:b}))}while(e.length>0);this.$1.acknowledgeInitialSync()}catch(a){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[WinUi] setInitialData "," error ",""])),this.$4,a)}});function e(){return a.apply(this,arguments)}return e}();e.$7=function(a){var b=this;if(!this.$3)return;a=a.filter(function(a){return!b.$5.has(a)});if(a.length===0)return;a.forEach(function(a){return b.$5.add(a)});this.$2.invalidateContacts(a)};return a}();g.WindowsHybridBridgeContacts_v2567=a}),98);
__d("WAWebWindowsHybridBridgeDebugFeatures.v2567",["WALogger","WAWebBackendApi","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i=1e3;a=function(){function a(a){var b=this;this.ping=function(a){d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeDebugFeatures:ping:",""])),a),b.$1.pong(a.valueOf())};this.$1=a;(a=this.$1)==null||a.addEventListener("jsLogs",function(){b.saveJSLogs()});(a=this.$1)==null||a.addEventListener("requestWebLogStringEvent",function(a){void b.requestWebLogString(a)});(a=this.$1)==null||a.addEventListener("pingEvent",this.ping);this.$1.subscribe(null)}var c=a.prototype;c.startHangsMonitor=function(){};c.saveNativeLogs=function(){this.$1.saveNativeLogs()};c.requestNativeLogs=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){return this.$1.requestNativeLogs()});function c(){return a.apply(this,arguments)}return c}();c.saveJSLogs=function(){d("WAWebBackendApi").frontendFireAndForget("createDownloadDataForMdWebLogs")};c.limitStringSize=function(a,b){var c=new Blob([a],{type:"text/plain"});if(c.size>b){c=c.size-b;return a.substr(c)}return a};c.requestWebLogString=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield d("WAWebBackendApi").frontendSendAndReceive("getWebLogs"));b=this.limitStringSize(b,30*i);this.$1.sendWebLogString(a.toString(),b)});function c(b){return a.apply(this,arguments)}return c}();return a}();g.WindowsHybridBridgeDebugFeatures_v2567=a}),98);
__d("WAWebWindowsHybridBridgeMediaFiles.v2567",[],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=a}var b=a.prototype;b.isCachedMediaFileExist=function(a,b){return this.$1.isCachedMediaFileExist(a,b)};b.tryOpenCachedMediaFile=function(a,b){return this.$1.tryOpenCachedMediaFileFile(a,b)};b.prepareForMediaFileSaving=function(a,b,c){return this.$1.prepareForMediaFileSaving(a,b,c)};b.waitTillMediaDownloadCompletes=function(a,b,c){return this.$1.waitTillMediaDownloadCompletes(a,b,c)};b.selectFolderForBulkMediaSaving=function(){return this.$1.selectFolderForBulkMediaSaving()};b.prepareForZipArchiveSavingAndUnarchiveToFolder=function(a,b,c,d){return this.$1.prepareForZipArchiveSavingAndUnarchiveToFolder(a,b,c,d)};b.requestFileSystemDirectoryHandle=function(a){return this.$1.requestFileSystemDirectoryHandle(a)};return a}();f.WAWebWindowsHybridBridgeMediaFiles_v2567=a}),66);
__d("WAWebWindowsHybridBridgeNativeAppState.v2567",["$InternalEnum","WALogger","WAWebEventEmitter","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l=b("$InternalEnum")({Normal:"normal",MinimizedToTray:"minimizedToTray"});a=function(a,e){var f=this;this.$4=new(c("WAWebEventEmitter"))();this.$5=function(a){a=a.toString();var b=l.cast(a);b!=null?d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeNativeAppState:appStateChanged: ",""])),l.getName(b)):d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeNativeAppState:appStateChanged: invalid appStateId: ",""])),a);f.$3=b;f.$4.trigger("appStateChanged",f.isMinimizedToTray())};this.getAppState=function(){return f.$3};this.getEvents=function(){return f.$4};this.isMinimizedToTray=function(){return f.getAppState()===l.MinimizedToTray};this.takeAppLaunchTimeStamp=function(){return f.$2.takeAppLaunchTimeStamp()};this.getFirstAppRestoreTimeStamp=function(){return f.$2.getFirstAppRestoreTimeStamp()};this.getLastAppRestoreTimeStamp=function(){return f.$2.getLastAppRestoreTimeStamp()};this.detectNativeClockSkew=function(){return f.$2.detectNativeClockSkew(Date.now())};this.getAppStateAsync=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=f.$1.getAppState();a=a.toString();var b=l.cast(a);b!=null?d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeNativeAppState:getAppStateAsync: ",""])),l.getName(b)):d("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeNativeAppState:getAppStateAsync: invalid appState '","'"])),a);return b});this.$1=a;this.$2=e;this.$1.addEventListener("appStateChangedEvent",this.$5);this.$1.subscribe(null)};g.AppState_v2567=l;g.WindowsHybridBridgeNativeAppState_v2567=a}),98);
__d("WAWebWindowsHybridBridgePictures.v2567",["WAJids","WALogger","WAWebLidMigrationUtils","WAWebProfilePicThumbCollection","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;a=function(){function a(a){var c=this;this.$2=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=JSON.parse(a);for(a of a){var b;if(d("WAJids").validateGroupJid(a.id.toString())){var e=d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.get(a.id);(e==null?void 0:e.eurl)!==a.eurl&&c.$1.setProfilePictures(JSON.stringify([{eurl:e==null?void 0:e.eurl,id:a.id.toString()}]));continue}e=d("WAWebLidMigrationUtils").toPn(a.id);if(e==null){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[WindowsHybridBridgePictures] PN WID is null"])));continue}var f=d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.get(e);f==null&&e!=null&&(f=(yield d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.resyncPicturesByWid([e])));if(((b=f)==null?void 0:b.eurl)!==a.eurl){c.$1.setProfilePictures(JSON.stringify([{eurl:(b=f)==null?void 0:b.eurl,id:e.toString()}]));b=d("WAWebLidMigrationUtils").toLid(a.id);if(b==null){d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[WindowsHybridBridgePictures] LID WID is null for PN WID: ",""])),e);continue}c.$1.setProfilePictures(JSON.stringify([{eurl:(e=f)==null?void 0:e.eurl,id:b.toString()}]))}}});return function(b){return a.apply(this,arguments)}}();this.$1=a;a.addEventListener("verifyPictureEvent",this.$2);a.subscribe(null)}var c=a.prototype;c.notifyUpdate=function(a){if(a==null)return;if(d("WAJids").validateGroupJid(a.id.toString())){this.$1.setProfilePictures(JSON.stringify([{eurl:a.eurl,id:a.id.toString()}]));return}if(!a.id.isUser())return;var b=d("WAWebLidMigrationUtils").toPn(a.id),c=d("WAWebLidMigrationUtils").toLid(a.id);if(b==null){d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[WindowsHybridBridgePictures] PN WID is null"])));return}if(c==null){d("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["[WindowsHybridBridgePictures] LID WID is null for PN WID: ",""])),b);return}this.$1.setProfilePictures(JSON.stringify([{eurl:a.eurl,id:b.toString()}]));this.$1.setProfilePictures(JSON.stringify([{eurl:a.eurl,id:c.toString()}]))};return a}();g.WindowsHybridBridgePictures_v2567=a}),98);
__d("WAWebWindowsHybridBridgePreferences.v2567",["WAWebUserPrefsBase","WAWebUserPrefsKeys","WAWebUserPrefsLocalStorage","WAWebUserPrefsStore"],(function(a,b,c,d,e,f,g){var h="WANativePreferencesRevision";a=function(){function a(a){var b=this;this.$2=!1;this.$3=null;this.$4=new Set();this.initialize=function(){var a;if(b.$2)return;b.$4.add(String(d("WAWebUserPrefsKeys").UserPrefs.WindowsIsSystemTrayEnabled));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.SYSTEM_THEME_MODE));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.THEME));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.ME_DISPLAY_NAME));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LAST_PUSHNAME));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LID));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LAST_WID_MD));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LANG_FROM_PHONE));b.$4.add(String(d("WAWebUserPrefsKeys").UserPrefs.AbpropsWebRefreshId));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.ABPROPS_REFRESH_ID));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.ABPROPS));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LANG_FROM_USER));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.GLOBAL_MUTE_CALL_RINGTONE));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.GLOBAL_MUTE_CALL_NOTIFICATIONS));b.$4.add(String(d("WAWebUserPrefsKeys").UserPrefs.WindowsNotificationBannerSetting));b.$4.add(String(d("WAWebUserPrefsKeys").UserPrefs.WindowsTaskbarNotificationSetting));(a=b.$1)==null||a.addEventListener("everythingRequested",function(){var a=b.$5();b.$3!==a&&(b.$3=a,b.$6())});(a=b.$1)==null||a.subscribe(null);b.$2=!0};this.$1=a}var b=a.prototype;b.$5=function(){var a=c("WAWebUserPrefsStore").getUser(h),b=0;typeof a==="number"?b=a:typeof a==="string"&&(b=Number(a)||0);return b};b.$7=function(a){c("WAWebUserPrefsStore").setUser(h,a)};b.handleSettingChange=function(a,b){var c;if(!this.$4.has(a))return;var d=this.$5();(c=this.$1)==null||c.updateLocalSetting(a,JSON.stringify(b),++d);this.$7(d)};b.$6=function(){var a=this.$5(),b=[],e=[];for(var f of this.$4){var g=c("WAWebUserPrefsStore").getUser(f);if(g!=null){b.push(f);e.push(JSON.stringify(g));continue}g=d("WAWebUserPrefsBase").userPreferencesStoreBase.get(f);g!=null&&(b.push(f),e.push(JSON.stringify(g)));g=c("WAWebUserPrefsLocalStorage").getItemFromLocalStorage(f);g!=null&&(b.push(f),e.push(JSON.stringify(g)))}(g=this.$1)==null||g.updateAllLocalSettings(b,e,a)};b.clean=function(){var a;(a=this.$1)==null||a.clean()};return a}();g.WindowsHybridBridgePreferences_v2567=a}),98);
__d("WAWebWindowsHybridBridgeRateTheApp.v2567",["asyncToGeneratorRuntime"],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=a}var c=a.prototype;c.getStoreProductForCurrentApp=function(){return this.$1.getStoreProductForCurrentAppAsync()};c.requestRateAndApp=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield this.$1.requestRateAndReviewAppAsync());return JSON.parse(a)});function c(){return a.apply(this,arguments)}return c}();return a}();f.WAWebWindowsHybridBridgeRateTheApp_v2567=a}),66);
__d("WAWebWindowsHybridBridgeScalingControl.v2567",["WAWebWindowsScalingControlEventEmitter"],(function(a,b,c,d,e,f,g){a=function(){function a(a){this.$2=!1,this.$3=function(){c("WAWebWindowsScalingControlEventEmitter").trigger("requestZoomIn")},this.$4=function(){c("WAWebWindowsScalingControlEventEmitter").trigger("requestZoomOut")},this.$1=a}var b=a.prototype;b.initialize=function(){var a;if(this.$2)return;this.$2=!0;(a=this.$1)==null||a.addEventListener("zoomInRequested",this.$3);(a=this.$1)==null||a.addEventListener("zoomOutRequested",this.$4);(a=this.$1)==null||a.subscribe(null)};b.zoomIn=function(){this.$3()};b.zoomOut=function(){this.$4()};b.showScalingControl=function(a){var b;(b=this.$1)==null||b.showScalingControl(a)};return a}();g.WindowsHybridBridgeScalingControl_v2567=a}),98);
__d("WAWebWindowsHybridBridgeSystemIntegrations.v2567",["WAWebEventEmitter","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){a=function(){function a(a){var b=this;this.events=new(c("WAWebEventEmitter"))();this.$2=function(a){var c=a.tag,d=a.action;a=a.additionalData;b.events.trigger("MessageNotificationAction",{key:c,action:d,additionalData:a})};this.$1=a;(a=this.$1)==null||a.addEventListener("MessageNotificationActionEvent",this.$2);(a=this.$1)==null||a.subscribe(null)}var d=a.prototype;d.closeMessageNotification=function(a,b){var c;(c=this.$1)==null||c.closeMessageNotification(a,b)};d.showMessageNotification=function(a,b,c,d,e,f,g,h,i,j,k){var l;(l=this.$1)==null||l.showMessageNotification(a,b!=null?b:"",c,d,e,f!=null?f:"",g,h,i!=null?i:"",j!=null?j:"",k)};d.isNotificationEnabledInSystem=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){return this.$1==null?!1:this.$1.isNotificationEnabledInSystem()});function c(){return a.apply(this,arguments)}return c}();d.updateTaskbarBadge=function(a){this.$1.updateTaskbarBadge(a)};d.getStartupTaskState=function(){return this.$1.getStartupTaskState()};d.updateStartupTask=function(a){this.$1.updateStartupTask(a)};return a}();g.WindowsHybridBridgeSystemIntegrations_v2567=a}),98);
__d("WAWebWindowsHybridBridgeTouchpadFix.v2567",["WAWebDebounce"],(function(a,b,c,d,e,f,g){a=function(){function a(a){var b=this;this.$2=c("WAWebDebounce")(function(a){if(a.deltaX<=0)return;a=a.target;a=a;var c=!1,d=0;while(a&&a!==document.body&&d<3){var e=self.getComputedStyle(a);if((e.overflowX==="auto"||e.overflowX==="scroll")&&a.scrollWidth>a.clientWidth){c=!0;break}e=a.parentElement;if(!e)break;a=e;d++}c||b.interruptManipulations()},500);this.$1=a}var b=a.prototype;b.interruptManipulations=function(){return this.$1.interruptManipulations()};b.init=function(){document.addEventListener("wheel",this.$2,{passive:!1})};return a}();g.WindowsHybridBridgeTouchpadFix_v2567=a}),98);
__d("WAWebWindowsHybridBridgeVoip.v2567",["WABase64","WALogger","WAWebBackendApi","WAWebSerializeVoipWapNode","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L;a=function(){function a(a,b){var c=this;this.handleVoipReady=function(){var a;d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received voip ready event"])));d("WAWebBackendApi").frontendFireAndForget("addStartingLogoutListener",function(){return c.handleSignOut()});(a=c.$3)==null||a.onVoipReady()};this.sendSignalingXmpp=function(a){var b,e=a.peerJid,f=a.callId,g=a.payload;a=a.shouldEncryptBeforeSending;d("WALogger").DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received sendSignalingXmpp event: ",", ",", ",", ",""])),e,f,g,a);(b=c.$3)==null||b.onSignalingXmpp(e,f,g,a)};this.handleCallEvent=function(a){var b,e=a.eventType,f=a.userData;a=a.eventDataJson;d("WALogger").DEV(j||(j=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received handleCallEvent event: ",", ",", ",""])),e,f,a);(b=c.$3)==null||b.onCallEvent(e,f,a)};this.requestOpenChat=function(a){var b;d("WALogger").DEV(k||(k=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received requestOpenChat event: ",""])),a);(b=c.$3)==null||b.onRequestOpenChat(a)};this.requestDeviceJidList=function(a){var b;d("WALogger").DEV(l||(l=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received requestDeviceJidList event: ",""])),a);void ((b=c.$3)==null?void 0:b.onRequestDeviceJidList(a).then(function(b){var d;(d=c.$1)==null||d.handleDeviceJidList(a.toString(),b)}))};this.requestPhoneNumberJid=function(a){var b;d("WALogger").DEV(m||(m=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received requestPhoneNumberJid event: ",""])),a);void ((b=c.$3)==null||b.onRequestPhoneNumberJid==null?void 0:b.onRequestPhoneNumberJid(a).then(function(b){var d;(d=c.$1)==null||d.handlePhoneNumberJid(a.toString(),b)}))};this.requestLidJid=function(a){var b;d("WALogger").DEV(n||(n=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received requestLidJid event: ",""])),a);void ((b=c.$3)==null||b.onRequestLidJid==null?void 0:b.onRequestLidJid(a).then(function(b){var d;(d=c.$1)==null||d.handleLidJid(a.toString(),b)}))};this.callAgain=function(a){var b,e=a.peerJid;a=a.isVideoCall;d("WALogger").DEV(o||(o=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received callAgain event: ",", ",""])),e,a);(b=c.$3)==null||b.onCallAgain(e,a)};this.handleLidCallerDisplayInfo=function(a){var b;d("WALogger").DEV(p||(p=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received handleLidCallerDisplayInfo event: ",""])),a);(b=c.$3)==null||b.onLidCallerDisplayInfo(a)};this.$1=a;this.$2=b;this.$1.addEventListener("handleVoipReadyEvent",this.handleVoipReady);this.$1.addEventListener("handleVoipCallEvent",this.handleCallEvent);this.$1.addEventListener("handleSignalingXmppEvent",this.sendSignalingXmpp);this.$1.addEventListener("handleRequestOpenChatEvent",this.requestOpenChat);this.$1.addEventListener("handleRequestDeviceJidListEvent",this.requestDeviceJidList);this.$1.addEventListener("handleRequestPhoneNumberJidEvent",this.requestPhoneNumberJid);this.$1.addEventListener("handleRequestLidJidEvent",this.requestLidJid);this.$1.addEventListener("handleCallAgainEvent",this.callAgain);this.$1.addEventListener("handleLidCallerDisplayInfoEvent",this.handleLidCallerDisplayInfo);this.$1.subscribe(null)}var c=a.prototype;c.setHandlers=function(a){this.$3=a};c.cleanup=function(){this.$1.removeEventListener!=null&&(this.$1.removeEventListener("handleVoipReadyEvent",this.handleVoipReady),this.$1.removeEventListener("handleVoipCallEvent",this.handleCallEvent),this.$1.removeEventListener("handleSignalingXmppEvent",this.sendSignalingXmpp),this.$1.removeEventListener("handleRequestOpenChatEvent",this.requestOpenChat),this.$1.removeEventListener("handleRequestDeviceJidListEvent",this.requestDeviceJidList),this.$1.removeEventListener("handleRequestPhoneNumberJidEvent",this.requestPhoneNumberJid),this.$1.removeEventListener("handleRequestLidJidEvent",this.requestLidJid),this.$1.removeEventListener("handleCallAgainEvent",this.callAgain),this.$1.removeEventListener("handleLidCallerDisplayInfo",this.handleLidCallerDisplayInfo))};c.handleIncomingSignalingOffer=function(a,b,c,e,f,g,h,i,j){d("WALogger").DEV(q||(q=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleIncomingSignalingOffer called with:"]))).devConsole(arguments),this.$2.handleIncomingSignalingOffer(d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a),b,c,e,f,g,h,i,j?d("WABase64").encodeB64(j):null)};c.handleIncomingSignalingMessage=function(a,b,c,e,f,g,h,i){this.$2.handleIncomingSignalingMessage(d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a),b,c,e,f,g,h,i?d("WABase64").encodeB64(i):null)};c.handleIncomingSignalingAck=function(a,b,c,e,f){d("WALogger").DEV(r||(r=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleIncomingSignalingAck called with:"]))).devConsole(arguments),this.$2.handleIncomingSignalingAck(d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a),b,c,e,f?d("WABase64").encodeB64(f):null)};c.handleIncomingSignalingReceipt=function(a,b,c){d("WALogger").DEV(s||(s=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleIncomingSignalingReceipt called with:"]))).devConsole(arguments),this.$2.handleIncomingSignalingReceipt(d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a),b,c?d("WABase64").encodeB64(c):null)};c.resendOfferOnDecryptionFailure=function(a,b){d("WALogger").DEV(t||(t=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] resendOfferOnDecryptionFailure called with:"]))).devConsole(arguments),this.$2.resendOfferOnDecryptionFailure(a,b)};c.resendEncRekeyRetry=function(a,b){d("WALogger").DEV(u||(u=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] resendEncRekeyRetry called with:"]))).devConsole(arguments),this.$2.resendEncRekeyRetry(a,b)};c.notifyDeviceIdentityChangedOrDeleted=function(a,b){d("WALogger").DEV(v||(v=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] notifyDeviceIdentityChangedOrDeleted called with:"]))).devConsole(arguments),this.$2.notifyDeviceIdentityChangedOrDeleted(a,b)};c.handleWebViewReady=function(){var a;d("WALogger").DEV(w||(w=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleWebViewReady called"])));(a=this.$1)==null||a.handleWebViewReady()};c.voipInit=function(a,b,c){var e;d("WALogger").DEV(x||(x=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] voipInit called with:"]))).devConsole(arguments);(e=this.$1)==null||e.voipInit(a,b,c)};c.setHideMyIp=function(a){var b;d("WALogger").DEV(y||(y=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] setHideMyIp called with:"]))).devConsole(arguments);(b=this.$1)==null||b.setHideMyIp(a)};c.setChatNameAndIcon=function(a,b,c){var e;d("WALogger").DEV(z||(z=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] setChatNameAndIcon called"])));(e=this.$1)==null||e.setChatNameAndIcon(a,b,c)};c.handleSignOut=function(){var a;d("WALogger").DEV(A||(A=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleSignOut called"])));(a=this.$1)==null||a.handleSignOut()};c.startCall=function(a,b,c,e,f,g,h,i,j,k,l){var m;d("WALogger").DEV(B||(B=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] startCall called with:"]))).devConsole(arguments);(m=this.$1)==null||m.startCall(a.toString({legacy:!0}),b,c,e,f,g,h,i?d("WABase64").encodeB64(i):null)};c.startGroupCall=function(a,b,c,e,f,g,h,i,j,k,l,m,n,o){var p;d("WALogger").DEV(C||(C=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] startGroupCall called with:"]))).devConsole(arguments);(p=this.$1)==null||p.startGroupCall(a,b,c,e,f,g,h,i,j,k,l)};c.handleDeviceJidList=function(a,b){var c;d("WALogger").DEV(D||(D=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleDeviceJidList called with:"]))).devConsole(arguments);(c=this.$1)==null||c.handleDeviceJidList(a,b)};c.previewCallLink=function(a,b,c,e,f){var g;d("WALogger").DEV(E||(E=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] previewCallLink called with:"]))).devConsole(arguments);(g=this.$1)==null||g.previewCallLink(a,b,c)};c.previewAndJoinCallLink=function(a,b,c,e,f){var g;d("WALogger").DEV(F||(F=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] previewAndJoinCallLink called with:"]))).devConsole(arguments);(g=this.$1)==null||g.previewAndJoinCallLink(a,b,c)};c.endCall=function(a,b){var c;d("WALogger").DEV(G||(G=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] endCall called with:"]))).devConsole(arguments);(c=this.$1)==null||c.endCall(a,b)};c.rejectCallWithoutCallContext=function(a,b,c,e,f,g,h){var i;d("WALogger").DEV(H||(H=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] rejectCallWithoutCallContext called with:"]))).devConsole(arguments);(i=this.$1)==null||i.rejectCallWithoutCallContext(a,b,c,e,f,g,h)};c.joinOngoingCall=function(a,b,c,e,f,g,h,i,j,k,l,m,n,o,p,q){var r;d("WALogger").DEV(I||(I=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] joinOngoingCall called with:"]))).devConsole(arguments);(r=this.$1)==null||r.joinOngoingCall(a,b,c,e,f,g,h,i,j,k,l,m,n,o,p)};c.inviteToCall=function(a,b,c){};c.requestCallInfo=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WALogger").DEV(J||(J=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] requestCallInfo called with:"]))).devConsole(arguments);var a=(yield this.$1.getCallInfo()),b=a.callInfoJsonBase64,c=a.error;return{callInfoJsonBase64:b,error:c}});function c(){return a.apply(this,arguments)}return c}();c.requestObtainDevicePermissionAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("WALogger").DEV(K||(K=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] requestObtainDevicePermissionAsync called with:"]))).devConsole(arguments);var b=(yield this.$1.requestObtainDevicePermissionAsync(a)),c=b.error,e=b.permissionGranted;return{error:c,permissionGranted:e}});function c(b){return a.apply(this,arguments)}return c}();c.requestDevicesCountAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("WALogger").DEV(L||(L=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] requestDevicesCountAsync called with:"]))).devConsole(arguments);var b=(yield this.$1.getDeviceCountAsync(a)),c=b.error,e=b.deviceCount;return{error:c,deviceCount:e}});function c(b){return a.apply(this,arguments)}return c}();return a}();g.VoipWinRTBridge_v2567=a}),98);
__d("WAWebWindowsHybridBridgeWam.v2567",["Promise","WALogger","WAWebWamCodegenWamEvent"],(function(a,b,c,d,e,f,g){var h,i,j;a=function(a){var c=this;this.$2=!1;this.initialize=function(){var a;if(c.$2)return;(a=c.$1)==null||a.addEventListener("eventsSaved",c.handleEvents);(a=c.$1)==null||a.subscribe(null);c.$2=!0};this.handleEvents=function(a){if(!c.$2){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received handleWamEvent while bridge is not initialized"])));return}d("WALogger").DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received handleWamEvent event: ",""])),a);a=JSON.parse(a);void (j||(j=b("Promise"))).all(a.map(function(a){return new(d("WAWebWamCodegenWamEvent").RawWamEvent)(a).commitAndWaitForFlush(!0)}))};this.$1=a};g.WindowsHybridBridgeWam_v2567=a}),98);
__d("WAWebWindowsHybridBridge.v2567",["WAWebWindowsHybridAppActivationBridge.v2567","WAWebWindowsHybridBridgeAbProps.v2567","WAWebWindowsHybridBridgeConnection.v2567","WAWebWindowsHybridBridgeContacts.v2567","WAWebWindowsHybridBridgeDebugFeatures.v2567","WAWebWindowsHybridBridgeMediaFiles.v2567","WAWebWindowsHybridBridgeNativeAppState.v2567","WAWebWindowsHybridBridgePictures.v2567","WAWebWindowsHybridBridgePreferences.v2567","WAWebWindowsHybridBridgeRateTheApp.v2567","WAWebWindowsHybridBridgeScalingControl.v2567","WAWebWindowsHybridBridgeSystemIntegrations.v2567","WAWebWindowsHybridBridgeTouchpadFix.v2567","WAWebWindowsHybridBridgeVoip.v2567","WAWebWindowsHybridBridgeWam.v2567","cr:17220"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.linksPreview=null;this.browserExtensionsBridge=null;this.seamlessMigrationBridge=null;this.mediaTranscodeBridge=null;this.adv=null;this.sharesheetBridge=null;this.serverEncKeySaltBridge=null;a.hostObjects.options.defaultSyncProxy=!0;a.hostObjects.options.forceAsyncMethodMatches=[/Async$/,/AsyncWithSpeller$/];a.hostObjects.options.ignoreMemberNotFoundError=!0;var c=a.hostObjects.AbPropsBridge;c!=null&&(this.abProps=new(d("WAWebWindowsHybridBridgeAbProps.v2567").WindowsHybridBridgeAbProps_v2567)(c));c=a.hostObjects.WamBridge;c!=null&&(this.wam=new(d("WAWebWindowsHybridBridgeWam.v2567").WindowsHybridBridgeWam_v2567)(c));c=a.hostObjects.PreferencesBridge;c&&(this.$1=new(d("WAWebWindowsHybridBridgePreferences.v2567").WindowsHybridBridgePreferences_v2567)(c));c=a.hostObjects.ScalingControlBridge;c&&(this.scalingControl=new(d("WAWebWindowsHybridBridgeScalingControl.v2567").WindowsHybridBridgeScalingControl_v2567)(c));c=a.hostObjects.PicturesBridge;c&&(this.pictures=new(d("WAWebWindowsHybridBridgePictures.v2567").WindowsHybridBridgePictures_v2567)(c));c=a.hostObjects.DebugFeaturesBridge;var e=b("cr:17220")==null?void 0:b("cr:17220").debugFeaturesMock;c!=null?this.$4=new(d("WAWebWindowsHybridBridgeDebugFeatures.v2567").WindowsHybridBridgeDebugFeatures_v2567)(c):e!=null;c=a.hostObjects.VoipBridge;e=a.hostObjects.VoipSignalingBridge;c&&e&&(this.voip=new(d("WAWebWindowsHybridBridgeVoip.v2567").VoipWinRTBridge_v2567)(c,e));this.$5=new(d("WAWebWindowsHybridBridgeRateTheApp.v2567").WAWebWindowsHybridBridgeRateTheApp_v2567)(a.hostObjects.RateAppBridge);this.$3=new(d("WAWebWindowsHybridBridgeConnection.v2567").WindowsHybridBridgeConnection_v2567)(a.hostObjects.ConnectionBridge);this.$2=a.hostObjects.ClientKeyBridge;this.touchpadFix=new(d("WAWebWindowsHybridBridgeTouchpadFix.v2567").WindowsHybridBridgeTouchpadFix_v2567)(a.hostObjects.TouchpadFix);try{c=a.hostObjects.PopulatedContactsBridge;c!=null&&(this.contacts=new(d("WAWebWindowsHybridBridgeContacts.v2567").WindowsHybridBridgeContacts_v2567)(c,a.hostObjects.sync.PopulatedContactsBridge,!0))}catch(b){e=a.hostObjects.ContactsBridge;e!=null&&(this.contacts=new(d("WAWebWindowsHybridBridgeContacts.v2567").WindowsHybridBridgeContacts_v2567)(e,a.hostObjects.sync.ContactsBridge,!1))}this.sqlite=a.hostObjects.SQLiteBridge;c=a.hostObjects.MediaFilesBridge;c!=null&&(this.mediaFiles=new(d("WAWebWindowsHybridBridgeMediaFiles.v2567").WAWebWindowsHybridBridgeMediaFiles_v2567)(c));e=a.hostObjects.AppActivationBridge;e!=null&&(this.appActivationBridge=new(d("WAWebWindowsHybridAppActivationBridge.v2567").WindowsHybridAppActivationBridge_v2567)(e));c=a.hostObjects.NativeAppStateBridge;e=a.hostObjects.sync.NativeAppStateBridge;c!=null&&(this.nativeAppStateBridge=new(d("WAWebWindowsHybridBridgeNativeAppState.v2567").WindowsHybridBridgeNativeAppState_v2567)(c,e));c=a.hostObjects.SystemIntegrationsBridge;c&&(this.systemIntegrationsBridge=new(d("WAWebWindowsHybridBridgeSystemIntegrations.v2567").WindowsHybridBridgeSystemIntegrations_v2567)(c))}var c=a.prototype;c.getPreferences=function(){var a;(a=this.$1)==null||a.initialize();return this.$1};c.getScalingControl=function(){var a;(a=this.scalingControl)==null||a.initialize();return this.scalingControl};c.getRateTheApp=function(){return this.$5};c.getClientKeyBridge=function(){return this.$2};c.getDebugFeatures=function(){return this.$4};return a}();g.WindowsHybridBridge_v2567=a}),98);
__d("WAWebWindowsHybridAppActivationBridge.v2569",["WAWebApi","WAWebApiParse","WAWebExecApiCmd"],(function(a,b,c,d,e,f,g){a=function(){function a(a){this.handleAppActivationViaProtocolEvent=function(a){a=a.toString();a=d("WAWebApiParse").parseAPICmd(a);a.resultType!==d("WAWebApi").APICmd.INVALID&&c("WAWebExecApiCmd")({cmdData:a,isExternal:!0})};this.$1=a;(a=this.$1)==null||a.addEventListener("handleAppActivationViaProtocolEvent",this.handleAppActivationViaProtocolEvent);this.$1.subscribe(null)}var b=a.prototype;b.initialize=function(){};b.cleanup=function(){var a;(a=this.$1)==null||a.removeEventListener("handleAppActivationViaProtocolEvent",this.handleAppActivationViaProtocolEvent)};return a}();g.WindowsHybridAppActivationBridge_v2569=a}),98);
__d("WAWebWindowsHybridBridgeAbProps.v2569",["WAWebABPropsCache","WAWebABPropsLocalStorage","WAWebBackendApi","WAWebHybridABProps","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){a=function(){function a(a){var c=this;this.$2=!1;this.$3=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=parseInt(a,10);d("WAWebABPropsCache").saveExposure(a);c.$1.acknowledgeExposure(a.toString())});return function(b){return a.apply(this,arguments)}}();this.$4=function(a){var b=d("WAWebABPropsLocalStorage").getABKey();if(a!==b){a=d("WAWebHybridABProps").getAllHybridAbProps(!1);c.$1.setConfigs(b,JSON.stringify(a))}};this.$1=a}var c=a.prototype;c.initialize=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=this;if(this.$2)return;this.$2=!0;yield d("WAWebABPropsCache").waitForABPropConfigsReady();this.$1.addEventListener("exposureLogged",this.$3);this.$1.subscribe(null);var b=(yield this.$1.getVersion());d("WAWebBackendApi").frontendFireAndForget("addAbPropsUpdateListener",function(){a.$4(null)});this.$4(b)});function c(){return a.apply(this,arguments)}return c}();return a}();g.WindowsHybridBridgeAbProps_v2569=a}),98);
__d("WAWebWindowsHybridBridgeConnection.v2569",["WAComms","WALogger","WAPromiseDelays","WAResolvable","WAWebCallCollection","WAWebEventsWaitForMainStreamReadyMd","WAWebEventsWaitForOfflineDeliveryEnd","WAWebSetWindowsPushConfig","WAWebSocketConstants","WAWebSocketModel","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u;a=function(){function a(a){var e=this;this.$2=!1;this.$3=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.data.toString();a=(a=a.channel)==null?void 0:a.toString();d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleUpdateNotificationsTokenEvent"]))).devConsole(b,a);yield c("WAWebEventsWaitForMainStreamReadyMd")();yield d("WAWebSetWindowsPushConfig").setWindowsPushConfig(b,a);e.$1.handleConnectionState(!0);e.$1.acknowledgeNotificationsToken(b,a)});return function(b){return a.apply(this,arguments)}}();this.$4=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent"])));try{var a;if(!e.$2&&(((a=d("WAComms").getComms())==null?void 0:a.socket)==null||d("WAWebSocketModel").Socket.stream===d("WAWebSocketConstants").SOCKET_STREAM.DISCONNECTED)){d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: socket already closed"])));e.$1.handleConnectionState(!1);return}yield e.$6();yield d("WAPromiseDelays").delayMs(3e4);d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: offline resume complete"])));if(c("WAWebCallCollection").activeCall!=null){d("WALogger").LOG(l||(l=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: awaiting active call completion"])));var b=new(d("WAResolvable").Resolvable)();a=function(){c("WAWebCallCollection").activeCall==null&&b.resolve()};c("WAWebCallCollection").on("change:activeCall",a);yield b.promise;c("WAWebCallCollection").off("change:activeCall",a);d("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: active call completed"])))}d("WAComms").closeSocketAndPause();d("WALogger").LOG(n||(n=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: socket closed"])));e.$1.handleConnectionState(!1)}catch(a){d("WALogger").ERROR(o||(o=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: failed to close socket: ",""])),a)}});this.$5=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WALogger").LOG(p||(p=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection.handleConnectEvent"])));if(e.$2){d("WALogger").LOG(q||(q=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleConnectEvent: socket already opening"])));return}try{var a;a=((a=d("WAComms").getComms())==null?void 0:a.socket)!=null;a||(e.$2=!0,d("WAComms").closeSocketAndResume(),d("WALogger").LOG(r||(r=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleConnectEvent: socket opened"]))));yield e.$6();d("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleConnectEvent: offline resume complete"])));e.$1.handleConnectionState(!0)}catch(a){d("WALogger").ERROR(t||(t=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleConnectEvent: failed to open socket: ",""])),a)}finally{e.$2=!1}});this.$1=a;this.$1.addEventListener("updateNotificationsTokenEvent",this.$3);this.$1.addEventListener("disconnectEvent",this.$4);this.$1.addEventListener("connectEvent",this.$5);this.$1.subscribe(null)}var e=a.prototype;e.$6=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield d("WAComms").waitForConnection(),d("WAWebEventsWaitForOfflineDeliveryEnd").isOfflineDeliveryEnd()||(d("WALogger").LOG(u||(u=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:waitForOfflineResume"]))),yield d("WAWebEventsWaitForOfflineDeliveryEnd").waitForOfflineDeliveryEnd())});function c(){return a.apply(this,arguments)}return c}();return a}();g.WindowsHybridBridgeConnection_v2569=a}),98);
__d("WAWebWindowsHybridBridgeContacts.v2569",["WALogger","WAWebBackendApi","WAWebContactsDbLidMigrationUtils","WAWebEventsWaitForMainStreamReadyMd","WAWebLidAwareContactsDB","WAWebSchemaContact_DO_NOT_USE_DIRECTLY","WAWebSyncBootstrap","asyncToGeneratorRuntime","filterNulls"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a,e,f){var g=this;this.$4="contacts";this.$5=new Set();this.$6=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=JSON.parse(a);if(a.length===0)return;a.forEach(function(a){return g.$5.add(a)});var b=(yield c("WAWebLidAwareContactsDB").bulkGet(a));b.forEach(function(a){return g.$5["delete"](a==null?void 0:a.id)});a=a.filter(function(a){return g.$5.has(a)});a.forEach(function(a){return g.$5["delete"](a)});void g.$1.updateContacts(a,JSON.stringify(c("filterNulls")(b)))});return function(b){return a.apply(this,arguments)}}();this.$7=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.count;a=a.includeVoipCallableOnly;try{b=(yield d("WAWebBackendApi").frontendSendAndReceive("getFrequentContacts",{count:b,includeVoipCallableOnly:a}));a=JSON.stringify(b);void g.$1.receiveFrequentContacts(a)}catch(a){void g.$1.receiveFrequentContacts(JSON.stringify([]))}});return function(b){return a.apply(this,arguments)}}();this.$1=a;this.$2=e;this.$3=f;a.addEventListener("requestUpdateEvent",this.$6);a.addEventListener("requestFrequentContactsEvent",this.$7);a.subscribe(null)}var e=a.prototype;e.initialize=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=this;c("WAWebLidAwareContactsDB").setUpdateListener(function(b){return a.$8(b)});yield c("WAWebEventsWaitForMainStreamReadyMd")();if(this.$3)return;if(c("WAWebSyncBootstrap").isSyncDBootstrapInProcess())return;this.$3=!0;try{var b=200,e=(yield d("WAWebSchemaContact_DO_NOT_USE_DIRECTLY").getContactTable().all({limit:b,offset:0}));do{var f;f=(f=e[e.length-1])==null?void 0:f.id;e=(yield d("WAWebContactsDbLidMigrationUtils").replacePnRowsWithLidData(e));yield this.$1.updateContacts([],JSON.stringify(e));e=(yield d("WAWebSchemaContact_DO_NOT_USE_DIRECTLY").getContactTable().greaterThan(["id"],f,{limit:b}))}while(e.length>0);this.$1.acknowledgeInitialSync()}catch(a){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[WinUi] setInitialData "," error ",""])),this.$4,a)}});function e(){return a.apply(this,arguments)}return e}();e.$8=function(a){var b=this;if(!this.$3)return;a=a.filter(function(a){return!b.$5.has(a)});if(a.length===0)return;a.forEach(function(a){return b.$5.add(a)});this.$2.invalidateContacts(a)};return a}();g.WindowsHybridBridgeContacts_v2569=a}),98);
__d("WAWebWindowsHybridBridgeDebugFeatures.v2569",["WALogger","WAWebBackendApi","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i=1e3;a=function(){function a(a){var b=this;this.ping=function(a){d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeDebugFeatures:ping:",""])),a),b.$1.pong(a.valueOf())};this.$1=a;(a=this.$1)==null||a.addEventListener("jsLogs",function(){b.saveJSLogs()});(a=this.$1)==null||a.addEventListener("requestWebLogStringEvent",function(a){void b.requestWebLogString(a)});(a=this.$1)==null||a.addEventListener("pingEvent",this.ping);this.$1.subscribe(null)}var c=a.prototype;c.startHangsMonitor=function(){this.$1.startHangsMonitor()};c.saveNativeLogs=function(){this.$1.saveNativeLogs()};c.requestNativeLogs=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){return this.$1.requestNativeLogs()});function c(){return a.apply(this,arguments)}return c}();c.saveJSLogs=function(){d("WAWebBackendApi").frontendFireAndForget("createDownloadDataForMdWebLogs")};c.limitStringSize=function(a,b){var c=new Blob([a],{type:"text/plain"});if(c.size>b){c=c.size-b;return a.substr(c)}return a};c.requestWebLogString=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield d("WAWebBackendApi").frontendSendAndReceive("getWebLogs"));b=this.limitStringSize(b,30*i);this.$1.sendWebLogString(a.toString(),b)});function c(b){return a.apply(this,arguments)}return c}();return a}();g.WindowsHybridBridgeDebugFeatures_v2569=a}),98);
__d("WAWebWindowsHybridBridgeLinksPreview.v2569",["asyncToGeneratorRuntime"],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=a}var c=a.prototype;c.getPreviewAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield this.$1.getPreviewAsync(a));return a==null||a===""?null:JSON.parse(a)});function c(b){return a.apply(this,arguments)}return c}();return a}();f.WindowsHybridBridgeLinksPreview_v2569=a}),66);
__d("WAWebWindowsHybridBridgeMediaFiles.v2569",[],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=a}var b=a.prototype;b.isCachedMediaFileExist=function(a,b){return this.$1.isCachedMediaFileExist(a,b)};b.tryOpenCachedMediaFile=function(a,b){return this.$1.tryOpenCachedMediaFileFile(a,b)};b.prepareForMediaFileSaving=function(a,b,c){return this.$1.prepareForMediaFileSaving(a,b,c)};b.waitTillMediaDownloadCompletes=function(a,b,c){return this.$1.waitTillMediaDownloadCompletes(a,b,c)};b.selectFolderForBulkMediaSaving=function(){return this.$1.selectFolderForBulkMediaSaving()};b.prepareForZipArchiveSavingAndUnarchiveToFolder=function(a,b,c,d){return this.$1.prepareForZipArchiveSavingAndUnarchiveToFolder(a,b,c,d)};b.requestFileSystemDirectoryHandle=function(a){return this.$1.requestFileSystemDirectoryHandle(a)};b.tryCopyCachedMediaFile=function(a){return this.$1.tryCopyCachedMediaFile(a)};b.tryCopyCachedMediaFiles=function(a){return this.$1.tryCopyCachedMediaFiles(a)};return a}();f.WAWebWindowsHybridBridgeMediaFiles_v2569=a}),66);
__d("WAWebWindowsHybridBridgeNativeAppState.v2569",["$InternalEnum","WALogger","WAWebEventEmitter","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l=b("$InternalEnum")({Normal:"normal",MinimizedToTray:"minimizedToTray"});a=function(a,e){var f=this;this.$4=new(c("WAWebEventEmitter"))();this.$5=function(a){a=a.toString();var b=l.cast(a);b!=null?d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeNativeAppState:appStateChanged: ",""])),l.getName(b)):d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeNativeAppState:appStateChanged: invalid appStateId: ",""])),a);f.$3=b;f.$4.trigger("appStateChanged",f.isMinimizedToTray())};this.getAppState=function(){return f.$3};this.getEvents=function(){return f.$4};this.isMinimizedToTray=function(){return f.getAppState()===l.MinimizedToTray};this.takeAppLaunchTimeStamp=function(){return f.$2.takeAppLaunchTimeStamp()};this.getFirstAppRestoreTimeStamp=function(){return f.$2.getFirstAppRestoreTimeStamp()};this.getLastAppRestoreTimeStamp=function(){return f.$2.getLastAppRestoreTimeStamp()};this.detectNativeClockSkew=function(){return f.$2.detectNativeClockSkew(Date.now())};this.getAppStateAsync=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=f.$1.getAppState();a=a.toString();var b=l.cast(a);b!=null?d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeNativeAppState:getAppStateAsync: ",""])),l.getName(b)):d("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeNativeAppState:getAppStateAsync: invalid appState '","'"])),a);return b});this.$1=a;this.$2=e;this.$1.addEventListener("appStateChangedEvent",this.$5);this.$1.subscribe(null)};g.AppState_v2569=l;g.WindowsHybridBridgeNativeAppState_v2569=a}),98);
__d("WAWebWindowsHybridBridgePictures.v2569",["WAJids","WALogger","WAWebLidMigrationUtils","WAWebProfilePicThumbCollection","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;a=function(){function a(a){var c=this;this.$2=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=JSON.parse(a);for(a of a){var b;if(d("WAJids").validateGroupJid(a.id.toString())){var e=d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.get(a.id);(e==null?void 0:e.eurl)!==a.eurl&&c.$1.setProfilePictures(JSON.stringify([{eurl:e==null?void 0:e.eurl,id:a.id.toString()}]));continue}e=d("WAWebLidMigrationUtils").toPn(a.id);if(e==null){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[WindowsHybridBridgePictures] PN WID is null"])));continue}var f=d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.get(e);f==null&&e!=null&&(f=(yield d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.resyncPicturesByWid([e])));if(((b=f)==null?void 0:b.eurl)!==a.eurl){c.$1.setProfilePictures(JSON.stringify([{eurl:(b=f)==null?void 0:b.eurl,id:e.toString()}]));b=d("WAWebLidMigrationUtils").toLid(a.id);if(b==null){d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[WindowsHybridBridgePictures] LID WID is null for PN WID: ",""])),e);continue}c.$1.setProfilePictures(JSON.stringify([{eurl:(e=f)==null?void 0:e.eurl,id:b.toString()}]))}}});return function(b){return a.apply(this,arguments)}}();this.$1=a;a.addEventListener("verifyPictureEvent",this.$2);a.subscribe(null)}var c=a.prototype;c.notifyUpdate=function(a){if(a==null)return;if(d("WAJids").validateGroupJid(a.id.toString())){this.$1.setProfilePictures(JSON.stringify([{eurl:a.eurl,id:a.id.toString()}]));return}if(!a.id.isUser())return;var b=d("WAWebLidMigrationUtils").toPn(a.id),c=d("WAWebLidMigrationUtils").toLid(a.id);if(b==null){d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[WindowsHybridBridgePictures] PN WID is null"])));return}if(c==null){d("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["[WindowsHybridBridgePictures] LID WID is null for PN WID: ",""])),b);return}this.$1.setProfilePictures(JSON.stringify([{eurl:a.eurl,id:b.toString()}]));this.$1.setProfilePictures(JSON.stringify([{eurl:a.eurl,id:c.toString()}]))};return a}();g.WindowsHybridBridgePictures_v2569=a}),98);
__d("WAWebWindowsHybridBridgePreferences.v2569",["WAWebUserPrefsBase","WAWebUserPrefsKeys","WAWebUserPrefsLocalStorage","WAWebUserPrefsStore"],(function(a,b,c,d,e,f,g){var h="WANativePreferencesRevision";a=function(){function a(a){var b=this;this.$2=!1;this.$3=null;this.$4=new Set();this.initialize=function(){var a;if(b.$2)return;b.$4.add(String(d("WAWebUserPrefsKeys").UserPrefs.WindowsIsSystemTrayEnabled));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.SYSTEM_THEME_MODE));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.THEME));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.ME_DISPLAY_NAME));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LAST_PUSHNAME));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LID));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LAST_WID_MD));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LANG_FROM_PHONE));b.$4.add(String(d("WAWebUserPrefsKeys").UserPrefs.AbpropsWebRefreshId));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.ABPROPS_REFRESH_ID));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.ABPROPS));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LANG_FROM_USER));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.GLOBAL_MUTE_CALL_RINGTONE));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.GLOBAL_MUTE_CALL_NOTIFICATIONS));b.$4.add(String(d("WAWebUserPrefsKeys").UserPrefs.WindowsNotificationBannerSetting));b.$4.add(String(d("WAWebUserPrefsKeys").UserPrefs.WindowsTaskbarNotificationSetting));(a=b.$1)==null||a.addEventListener("everythingRequested",function(){var a=b.$5();b.$3!==a&&(b.$3=a,b.$6())});(a=b.$1)==null||a.subscribe(null);b.$2=!0};this.$1=a}var b=a.prototype;b.$5=function(){var a=c("WAWebUserPrefsStore").getUser(h),b=0;typeof a==="number"?b=a:typeof a==="string"&&(b=Number(a)||0);return b};b.$7=function(a){c("WAWebUserPrefsStore").setUser(h,a)};b.handleSettingChange=function(a,b){var c;if(!this.$4.has(a))return;var d=this.$5();(c=this.$1)==null||c.updateLocalSetting(a,JSON.stringify(b),++d);this.$7(d)};b.$6=function(){var a=this.$5(),b=[],e=[];for(var f of this.$4){var g=c("WAWebUserPrefsStore").getUser(f);if(g!=null){b.push(f);e.push(JSON.stringify(g));continue}g=d("WAWebUserPrefsBase").userPreferencesStoreBase.get(f);g!=null&&(b.push(f),e.push(JSON.stringify(g)));g=c("WAWebUserPrefsLocalStorage").getItemFromLocalStorage(f);g!=null&&(b.push(f),e.push(JSON.stringify(g)))}(g=this.$1)==null||g.updateAllLocalSettings(b,e,a)};b.clean=function(){var a;(a=this.$1)==null||a.clean()};return a}();g.WindowsHybridBridgePreferences_v2569=a}),98);
__d("WAWebWindowsHybridBridgeRateTheApp.v2569",["asyncToGeneratorRuntime"],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=a}var c=a.prototype;c.getStoreProductForCurrentApp=function(){return this.$1.getStoreProductForCurrentAppAsync()};c.requestRateAndApp=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield this.$1.requestRateAndReviewAppAsync());return JSON.parse(a)});function c(){return a.apply(this,arguments)}return c}();return a}();f.WAWebWindowsHybridBridgeRateTheApp_v2569=a}),66);
__d("WAWebWindowsHybridBridgeScalingControl.v2569",["WAWebWindowsScalingControlEventEmitter"],(function(a,b,c,d,e,f,g){a=function(){function a(a){this.$2=!1,this.$3=function(){c("WAWebWindowsScalingControlEventEmitter").trigger("requestZoomIn")},this.$4=function(){c("WAWebWindowsScalingControlEventEmitter").trigger("requestZoomOut")},this.$1=a}var b=a.prototype;b.initialize=function(){var a;if(this.$2)return;this.$2=!0;(a=this.$1)==null||a.addEventListener("zoomInRequested",this.$3);(a=this.$1)==null||a.addEventListener("zoomOutRequested",this.$4);(a=this.$1)==null||a.subscribe(null)};b.zoomIn=function(){this.$3()};b.zoomOut=function(){this.$4()};b.showScalingControl=function(a){var b;(b=this.$1)==null||b.showScalingControl(a)};return a}();g.WindowsHybridBridgeScalingControl_v2569=a}),98);
__d("WAWebWindowsHybridBridgeSystemIntegrations.v2569",["WAWebEventEmitter","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){a=function(){function a(a){var b=this;this.events=new(c("WAWebEventEmitter"))();this.$2=function(a){var c=a.tag,d=a.action;a=a.additionalData;b.events.trigger("MessageNotificationAction",{key:c,action:d,additionalData:a})};this.$1=a;(a=this.$1)==null||a.addEventListener("MessageNotificationActionEvent",this.$2);(a=this.$1)==null||a.subscribe(null)}var d=a.prototype;d.closeMessageNotification=function(a,b){var c;(c=this.$1)==null||c.closeMessageNotification(a,b)};d.showMessageNotification=function(a,b,c,d,e,f,g,h,i,j,k){var l;(l=this.$1)==null||l.showMessageNotification(a,b!=null?b:"",c,d,e,f!=null?f:"",g,h,i!=null?i:"",j!=null?j:"",k)};d.isNotificationEnabledInSystem=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){return this.$1==null?!1:this.$1.isNotificationEnabledInSystem()});function c(){return a.apply(this,arguments)}return c}();d.updateTaskbarBadge=function(a){this.$1.updateTaskbarBadge(a)};d.getStartupTaskState=function(){return this.$1.getStartupTaskState()};d.updateStartupTask=function(a){this.$1.updateStartupTask(a)};return a}();g.WindowsHybridBridgeSystemIntegrations_v2569=a}),98);
__d("WAWebWindowsHybridBridgeTouchpadFix.v2569",["WAWebDebounce"],(function(a,b,c,d,e,f,g){a=function(){function a(a){var b=this;this.$2=c("WAWebDebounce")(function(a){if(a.deltaX<=0)return;a=a.target;a=a;var c=!1,d=0;while(a&&a!==document.body&&d<3){var e=self.getComputedStyle(a);if((e.overflowX==="auto"||e.overflowX==="scroll")&&a.scrollWidth>a.clientWidth){c=!0;break}e=a.parentElement;if(!e)break;a=e;d++}c||b.interruptManipulations()},500);this.$1=a}var b=a.prototype;b.interruptManipulations=function(){return this.$1.interruptManipulations()};b.init=function(){document.addEventListener("wheel",this.$2,{passive:!1})};return a}();g.WindowsHybridBridgeTouchpadFix_v2569=a}),98);
__d("WAWebWindowsHybridBridgeVoip.v2569",["WABase64","WALogger","WAWebBackendApi","WAWebSerializeVoipWapNode","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L;a=function(){function a(a,b){var c=this;this.handleVoipReady=function(){var a;d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received voip ready event"])));d("WAWebBackendApi").frontendFireAndForget("addStartingLogoutListener",function(){return c.handleSignOut()});(a=c.$3)==null||a.onVoipReady()};this.sendSignalingXmpp=function(a){var b,e=a.peerJid,f=a.callId,g=a.payload;a=a.shouldEncryptBeforeSending;d("WALogger").DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received sendSignalingXmpp event: ",", ",", ",", ",""])),e,f,g,a);(b=c.$3)==null||b.onSignalingXmpp(e,f,g,a)};this.handleCallEvent=function(a){var b,e=a.eventType,f=a.userData;a=a.eventDataJson;d("WALogger").DEV(j||(j=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received handleCallEvent event: ",", ",", ",""])),e,f,a);(b=c.$3)==null||b.onCallEvent(e,f,a)};this.requestOpenChat=function(a){var b;d("WALogger").DEV(k||(k=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received requestOpenChat event: ",""])),a);(b=c.$3)==null||b.onRequestOpenChat(a)};this.requestDeviceJidList=function(a){var b;d("WALogger").DEV(l||(l=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received requestDeviceJidList event: ",""])),a);void ((b=c.$3)==null?void 0:b.onRequestDeviceJidList(a).then(function(b){var d;(d=c.$1)==null||d.handleDeviceJidList(a.toString(),b)}))};this.requestPhoneNumberJid=function(a){var b;d("WALogger").DEV(m||(m=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received requestPhoneNumberJid event: ",""])),a);void ((b=c.$3)==null||b.onRequestPhoneNumberJid==null?void 0:b.onRequestPhoneNumberJid(a).then(function(b){var d;(d=c.$1)==null||d.handlePhoneNumberJid(a.toString(),b)}))};this.requestLidJid=function(a){var b;d("WALogger").DEV(n||(n=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received requestLidJid event: ",""])),a);void ((b=c.$3)==null||b.onRequestLidJid==null?void 0:b.onRequestLidJid(a).then(function(b){var d;(d=c.$1)==null||d.handleLidJid(a.toString(),b)}))};this.callAgain=function(a){var b,e=a.peerJid;a=a.isVideoCall;d("WALogger").DEV(o||(o=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received callAgain event: ",", ",""])),e,a);(b=c.$3)==null||b.onCallAgain(e,a)};this.handleLidCallerDisplayInfo=function(a){var b;d("WALogger").DEV(p||(p=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received handleLidCallerDisplayInfo event: ",""])),a);(b=c.$3)==null||b.onLidCallerDisplayInfo(a)};this.$1=a;this.$2=b;this.$1.addEventListener("handleVoipReadyEvent",this.handleVoipReady);this.$1.addEventListener("handleVoipCallEvent",this.handleCallEvent);this.$1.addEventListener("handleSignalingXmppEvent",this.sendSignalingXmpp);this.$1.addEventListener("handleRequestOpenChatEvent",this.requestOpenChat);this.$1.addEventListener("handleRequestDeviceJidListEvent",this.requestDeviceJidList);this.$1.addEventListener("handleRequestPhoneNumberJidEvent",this.requestPhoneNumberJid);this.$1.addEventListener("handleRequestLidJidEvent",this.requestLidJid);this.$1.addEventListener("handleCallAgainEvent",this.callAgain);this.$1.addEventListener("handleLidCallerDisplayInfoEvent",this.handleLidCallerDisplayInfo);this.$1.subscribe(null)}var c=a.prototype;c.setHandlers=function(a){this.$3=a};c.cleanup=function(){this.$1.removeEventListener!=null&&(this.$1.removeEventListener("handleVoipReadyEvent",this.handleVoipReady),this.$1.removeEventListener("handleVoipCallEvent",this.handleCallEvent),this.$1.removeEventListener("handleSignalingXmppEvent",this.sendSignalingXmpp),this.$1.removeEventListener("handleRequestOpenChatEvent",this.requestOpenChat),this.$1.removeEventListener("handleRequestDeviceJidListEvent",this.requestDeviceJidList),this.$1.removeEventListener("handleRequestPhoneNumberJidEvent",this.requestPhoneNumberJid),this.$1.removeEventListener("handleRequestLidJidEvent",this.requestLidJid),this.$1.removeEventListener("handleCallAgainEvent",this.callAgain),this.$1.removeEventListener("handleLidCallerDisplayInfo",this.handleLidCallerDisplayInfo))};c.handleIncomingSignalingOffer=function(a,b,c,e,f,g,h,i,j){d("WALogger").DEV(q||(q=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleIncomingSignalingOffer called with:"]))).devConsole(arguments),this.$2.handleIncomingSignalingOffer(d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a),b,c,e,f,g,h,i,j?d("WABase64").encodeB64(j):null)};c.handleIncomingSignalingMessage=function(a,b,c,e,f,g,h,i){this.$2.handleIncomingSignalingMessage(d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a),b,c,e,f,g,h,i?d("WABase64").encodeB64(i):null)};c.handleIncomingSignalingAck=function(a,b,c,e,f){d("WALogger").DEV(r||(r=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleIncomingSignalingAck called with:"]))).devConsole(arguments),this.$2.handleIncomingSignalingAck(d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a),b,c,e,f?d("WABase64").encodeB64(f):null)};c.handleIncomingSignalingReceipt=function(a,b,c){d("WALogger").DEV(s||(s=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleIncomingSignalingReceipt called with:"]))).devConsole(arguments),this.$2.handleIncomingSignalingReceipt(d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a),b,c?d("WABase64").encodeB64(c):null)};c.resendOfferOnDecryptionFailure=function(a,b){d("WALogger").DEV(t||(t=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] resendOfferOnDecryptionFailure called with:"]))).devConsole(arguments),this.$2.resendOfferOnDecryptionFailure(a,b)};c.resendEncRekeyRetry=function(a,b){d("WALogger").DEV(u||(u=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] resendEncRekeyRetry called with:"]))).devConsole(arguments),this.$2.resendEncRekeyRetry(a,b)};c.notifyDeviceIdentityChangedOrDeleted=function(a,b){d("WALogger").DEV(v||(v=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] notifyDeviceIdentityChangedOrDeleted called with:"]))).devConsole(arguments),this.$2.notifyDeviceIdentityChangedOrDeleted(a,b)};c.handleWebViewReady=function(){var a;d("WALogger").DEV(w||(w=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleWebViewReady called"])));(a=this.$1)==null||a.handleWebViewReady()};c.voipInit=function(a,b,c){var e;d("WALogger").DEV(x||(x=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] voipInit called with:"]))).devConsole(arguments);(e=this.$1)==null||e.voipInit(a,b,c)};c.setHideMyIp=function(a){var b;d("WALogger").DEV(y||(y=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] setHideMyIp called with:"]))).devConsole(arguments);(b=this.$1)==null||b.setHideMyIp(a)};c.setChatNameAndIcon=function(a,b,c){var e;d("WALogger").DEV(z||(z=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] setChatNameAndIcon called"])));(e=this.$1)==null||e.setChatNameAndIcon(a,b,c)};c.handleSignOut=function(){var a;d("WALogger").DEV(A||(A=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleSignOut called"])));(a=this.$1)==null||a.handleSignOut()};c.startCall=function(a,b,c,e,f,g,h,i,j,k,l){var m;d("WALogger").DEV(B||(B=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] startCall called with:"]))).devConsole(arguments);(m=this.$1)==null||m.startCall(a.toString({legacy:!0}),b,c,e,f,g,h,i?d("WABase64").encodeB64(i):null)};c.startGroupCall=function(a,b,c,e,f,g,h,i,j,k,l,m,n,o){var p;d("WALogger").DEV(C||(C=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] startGroupCall called with:"]))).devConsole(arguments);(p=this.$1)==null||p.startGroupCall(a,b,c,e,f,g,h,i,j,k,l)};c.handleDeviceJidList=function(a,b){var c;d("WALogger").DEV(D||(D=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleDeviceJidList called with:"]))).devConsole(arguments);(c=this.$1)==null||c.handleDeviceJidList(a,b)};c.previewCallLink=function(a,b,c,e,f){var g;d("WALogger").DEV(E||(E=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] previewCallLink called with:"]))).devConsole(arguments);(g=this.$1)==null||g.previewCallLink(a,b,c)};c.previewAndJoinCallLink=function(a,b,c,e,f){var g;d("WALogger").DEV(F||(F=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] previewAndJoinCallLink called with:"]))).devConsole(arguments);(g=this.$1)==null||g.previewAndJoinCallLink(a,b,c)};c.endCall=function(a,b){var c;d("WALogger").DEV(G||(G=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] endCall called with:"]))).devConsole(arguments);(c=this.$1)==null||c.endCall(a,b)};c.rejectCallWithoutCallContext=function(a,b,c,e,f,g,h){var i;d("WALogger").DEV(H||(H=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] rejectCallWithoutCallContext called with:"]))).devConsole(arguments);(i=this.$1)==null||i.rejectCallWithoutCallContext(a,b,c,e,f,g,h)};c.joinOngoingCall=function(a,b,c,e,f,g,h,i,j,k,l,m,n,o,p,q){var r;d("WALogger").DEV(I||(I=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] joinOngoingCall called with:"]))).devConsole(arguments);(r=this.$1)==null||r.joinOngoingCall(a,b,c,e,f,g,h,i,j,k,l,m,n,o,p)};c.inviteToCall=function(a,b,c){};c.requestCallInfo=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WALogger").DEV(J||(J=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] requestCallInfo called with:"]))).devConsole(arguments);var a=(yield this.$1.getCallInfo()),b=a.callInfoJsonBase64,c=a.error;return{callInfoJsonBase64:b,error:c}});function c(){return a.apply(this,arguments)}return c}();c.requestObtainDevicePermissionAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("WALogger").DEV(K||(K=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] requestObtainDevicePermissionAsync called with:"]))).devConsole(arguments);var b=(yield this.$1.requestObtainDevicePermissionAsync(a)),c=b.error,e=b.permissionGranted;return{error:c,permissionGranted:e}});function c(b){return a.apply(this,arguments)}return c}();c.requestDevicesCountAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("WALogger").DEV(L||(L=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] requestDevicesCountAsync called with:"]))).devConsole(arguments);var b=(yield this.$1.getDeviceCountAsync(a)),c=b.error,e=b.deviceCount;return{error:c,deviceCount:e}});function c(b){return a.apply(this,arguments)}return c}();return a}();g.VoipWinRTBridge_v2569=a}),98);
__d("WAWebWindowsHybridBridgeWam.v2569",["Promise","WALogger","WAWebWamCodegenWamEvent"],(function(a,b,c,d,e,f,g){var h,i,j;a=function(a){var c=this;this.$2=!1;this.initialize=function(){var a;if(c.$2)return;(a=c.$1)==null||a.addEventListener("eventsSaved",c.handleEvents);(a=c.$1)==null||a.subscribe(null);c.$2=!0};this.handleEvents=function(a){if(!c.$2){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received handleWamEvent while bridge is not initialized"])));return}d("WALogger").DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received handleWamEvent event: ",""])),a);a=JSON.parse(a);void (j||(j=b("Promise"))).all(a.map(function(a){return new(d("WAWebWamCodegenWamEvent").RawWamEvent)(a).commitAndWaitForFlush(!0)}))};this.$1=a};g.WindowsHybridBridgeWam_v2569=a}),98);
__d("WAWebWindowsHybridBridge.v2569",["WAWebWindowsHybridAppActivationBridge.v2569","WAWebWindowsHybridBridgeAbProps.v2569","WAWebWindowsHybridBridgeConnection.v2569","WAWebWindowsHybridBridgeContacts.v2569","WAWebWindowsHybridBridgeDebugFeatures.v2569","WAWebWindowsHybridBridgeLinksPreview.v2569","WAWebWindowsHybridBridgeMediaFiles.v2569","WAWebWindowsHybridBridgeNativeAppState.v2569","WAWebWindowsHybridBridgePictures.v2569","WAWebWindowsHybridBridgePreferences.v2569","WAWebWindowsHybridBridgeRateTheApp.v2569","WAWebWindowsHybridBridgeScalingControl.v2569","WAWebWindowsHybridBridgeSystemIntegrations.v2569","WAWebWindowsHybridBridgeTouchpadFix.v2569","WAWebWindowsHybridBridgeVoip.v2569","WAWebWindowsHybridBridgeWam.v2569","cr:17220"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.browserExtensionsBridge=null;this.seamlessMigrationBridge=null;this.mediaTranscodeBridge=null;this.adv=null;this.sharesheetBridge=null;this.serverEncKeySaltBridge=null;a.hostObjects.options.defaultSyncProxy=!0;a.hostObjects.options.forceAsyncMethodMatches=[/Async$/,/AsyncWithSpeller$/];a.hostObjects.options.ignoreMemberNotFoundError=!0;var c=a.hostObjects.AbPropsBridge;c!=null&&(this.abProps=new(d("WAWebWindowsHybridBridgeAbProps.v2569").WindowsHybridBridgeAbProps_v2569)(c));c=a.hostObjects.WamBridge;c!=null&&(this.wam=new(d("WAWebWindowsHybridBridgeWam.v2569").WindowsHybridBridgeWam_v2569)(c));c=a.hostObjects.PreferencesBridge;c&&(this.$1=new(d("WAWebWindowsHybridBridgePreferences.v2569").WindowsHybridBridgePreferences_v2569)(c));c=a.hostObjects.ScalingControlBridge;c&&(this.scalingControl=new(d("WAWebWindowsHybridBridgeScalingControl.v2569").WindowsHybridBridgeScalingControl_v2569)(c));c=a.hostObjects.PicturesBridge;c&&(this.pictures=new(d("WAWebWindowsHybridBridgePictures.v2569").WindowsHybridBridgePictures_v2569)(c));c=a.hostObjects.DebugFeaturesBridge;var e=b("cr:17220")==null?void 0:b("cr:17220").debugFeaturesMock;c!=null?this.$4=new(d("WAWebWindowsHybridBridgeDebugFeatures.v2569").WindowsHybridBridgeDebugFeatures_v2569)(c):e!=null;c=a.hostObjects.VoipBridge;e=a.hostObjects.VoipSignalingBridge;c&&e&&(this.voip=new(d("WAWebWindowsHybridBridgeVoip.v2569").VoipWinRTBridge_v2569)(c,e));this.$5=new(d("WAWebWindowsHybridBridgeRateTheApp.v2569").WAWebWindowsHybridBridgeRateTheApp_v2569)(a.hostObjects.RateAppBridge);this.$3=new(d("WAWebWindowsHybridBridgeConnection.v2569").WindowsHybridBridgeConnection_v2569)(a.hostObjects.ConnectionBridge);this.$2=a.hostObjects.ClientKeyBridge;this.touchpadFix=new(d("WAWebWindowsHybridBridgeTouchpadFix.v2569").WindowsHybridBridgeTouchpadFix_v2569)(a.hostObjects.TouchpadFix);this.linksPreview=new(d("WAWebWindowsHybridBridgeLinksPreview.v2569").WindowsHybridBridgeLinksPreview_v2569)(a.hostObjects.LinksPreviewBridge);try{c=a.hostObjects.PopulatedContactsBridge;c!=null&&(this.contacts=new(d("WAWebWindowsHybridBridgeContacts.v2569").WindowsHybridBridgeContacts_v2569)(c,a.hostObjects.sync.PopulatedContactsBridge,!0))}catch(b){e=a.hostObjects.ContactsBridge;e!=null&&(this.contacts=new(d("WAWebWindowsHybridBridgeContacts.v2569").WindowsHybridBridgeContacts_v2569)(e,a.hostObjects.sync.ContactsBridge,!1))}this.sqlite=a.hostObjects.SQLiteBridge;c=a.hostObjects.MediaFilesBridge;c!=null&&(this.mediaFiles=new(d("WAWebWindowsHybridBridgeMediaFiles.v2569").WAWebWindowsHybridBridgeMediaFiles_v2569)(c));e=a.hostObjects.AppActivationBridge;e!=null&&(this.appActivationBridge=new(d("WAWebWindowsHybridAppActivationBridge.v2569").WindowsHybridAppActivationBridge_v2569)(e));c=a.hostObjects.NativeAppStateBridge;e=a.hostObjects.sync.NativeAppStateBridge;c!=null&&(this.nativeAppStateBridge=new(d("WAWebWindowsHybridBridgeNativeAppState.v2569").WindowsHybridBridgeNativeAppState_v2569)(c,e));c=a.hostObjects.SystemIntegrationsBridge;c&&(this.systemIntegrationsBridge=new(d("WAWebWindowsHybridBridgeSystemIntegrations.v2569").WindowsHybridBridgeSystemIntegrations_v2569)(c))}var c=a.prototype;c.getPreferences=function(){var a;(a=this.$1)==null||a.initialize();return this.$1};c.getScalingControl=function(){var a;(a=this.scalingControl)==null||a.initialize();return this.scalingControl};c.getRateTheApp=function(){return this.$5};c.getClientKeyBridge=function(){return this.$2};c.getDebugFeatures=function(){return this.$4};return a}();g.WindowsHybridBridge_v2569=a}),98);
__d("WAWebWindowsHybridAppActivationBridge.v2570",["WAWebApi","WAWebApiParse","WAWebExecApiCmd"],(function(a,b,c,d,e,f,g){a=function(){function a(a){this.handleAppActivationViaProtocolEvent=function(a){a=a.toString();a=d("WAWebApiParse").parseAPICmd(a);a.resultType!==d("WAWebApi").APICmd.INVALID&&c("WAWebExecApiCmd")({cmdData:a,isExternal:!0})};this.$1=a;(a=this.$1)==null||a.addEventListener("handleAppActivationViaProtocolEvent",this.handleAppActivationViaProtocolEvent);this.$1.subscribe(null)}var b=a.prototype;b.initialize=function(){};b.cleanup=function(){var a;(a=this.$1)==null||a.removeEventListener("handleAppActivationViaProtocolEvent",this.handleAppActivationViaProtocolEvent)};return a}();g.WindowsHybridAppActivationBridge_v2570=a}),98);
__d("WAWebWindowsHybridBridgeAbProps.v2570",["WAWebABPropsCache","WAWebABPropsLocalStorage","WAWebBackendApi","WAWebHybridABProps","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){a=function(){function a(a){var c=this;this.$2=!1;this.$3=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=parseInt(a,10);d("WAWebABPropsCache").saveExposure(a);c.$1.acknowledgeExposure(a.toString())});return function(b){return a.apply(this,arguments)}}();this.$4=function(a){var b=d("WAWebABPropsLocalStorage").getABKey();if(a!==b){a=d("WAWebHybridABProps").getAllHybridAbProps(!1);c.$1.setConfigs(b,JSON.stringify(a))}};this.$1=a}var c=a.prototype;c.initialize=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=this;if(this.$2)return;this.$2=!0;yield d("WAWebABPropsCache").waitForABPropConfigsReady();this.$1.addEventListener("exposureLogged",this.$3);this.$1.subscribe(null);var b=(yield this.$1.getVersion());d("WAWebBackendApi").frontendFireAndForget("addAbPropsUpdateListener",function(){a.$4(null)});this.$4(b)});function c(){return a.apply(this,arguments)}return c}();return a}();g.WindowsHybridBridgeAbProps_v2570=a}),98);
__d("WAWebWindowsHybridBridgeConnection.v2570",["WAComms","WALogger","WAPromiseDelays","WAResolvable","WAWebCallCollection","WAWebEventsWaitForMainStreamReadyMd","WAWebEventsWaitForOfflineDeliveryEnd","WAWebSetWindowsPushConfig","WAWebSocketConstants","WAWebSocketModel","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u;a=function(){function a(a){var e=this;this.$2=!1;this.$3=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.data.toString();a=(a=a.channel)==null?void 0:a.toString();d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleUpdateNotificationsTokenEvent"]))).devConsole(b,a);yield c("WAWebEventsWaitForMainStreamReadyMd")();yield d("WAWebSetWindowsPushConfig").setWindowsPushConfig(b,a);e.$1.handleConnectionState(!0);e.$1.acknowledgeNotificationsToken(b,a)});return function(b){return a.apply(this,arguments)}}();this.$4=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent"])));try{var a;if(!e.$2&&(((a=d("WAComms").getComms())==null?void 0:a.socket)==null||d("WAWebSocketModel").Socket.stream===d("WAWebSocketConstants").SOCKET_STREAM.DISCONNECTED)){d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: socket already closed"])));e.$1.handleConnectionState(!1);return}yield e.$6();yield d("WAPromiseDelays").delayMs(3e4);d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: offline resume complete"])));if(c("WAWebCallCollection").activeCall!=null){d("WALogger").LOG(l||(l=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: awaiting active call completion"])));var b=new(d("WAResolvable").Resolvable)();a=function(){c("WAWebCallCollection").activeCall==null&&b.resolve()};c("WAWebCallCollection").on("change:activeCall",a);yield b.promise;c("WAWebCallCollection").off("change:activeCall",a);d("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: active call completed"])))}d("WAComms").closeSocketAndPause();d("WALogger").LOG(n||(n=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: socket closed"])));e.$1.handleConnectionState(!1)}catch(a){d("WALogger").ERROR(o||(o=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: failed to close socket: ",""])),a)}});this.$5=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WALogger").LOG(p||(p=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection.handleConnectEvent"])));if(e.$2){d("WALogger").LOG(q||(q=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleConnectEvent: socket already opening"])));return}try{var a;a=((a=d("WAComms").getComms())==null?void 0:a.socket)!=null;a||(e.$2=!0,d("WAComms").closeSocketAndResume(),d("WALogger").LOG(r||(r=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleConnectEvent: socket opened"]))));yield e.$6();d("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleConnectEvent: offline resume complete"])));e.$1.handleConnectionState(!0)}catch(a){d("WALogger").ERROR(t||(t=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleConnectEvent: failed to open socket: ",""])),a)}finally{e.$2=!1}});this.$1=a;this.$1.addEventListener("updateNotificationsTokenEvent",this.$3);this.$1.addEventListener("disconnectEvent",this.$4);this.$1.addEventListener("connectEvent",this.$5);this.$1.subscribe(null)}var e=a.prototype;e.$6=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield d("WAComms").waitForConnection(),d("WAWebEventsWaitForOfflineDeliveryEnd").isOfflineDeliveryEnd()||(d("WALogger").LOG(u||(u=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:waitForOfflineResume"]))),yield d("WAWebEventsWaitForOfflineDeliveryEnd").waitForOfflineDeliveryEnd())});function c(){return a.apply(this,arguments)}return c}();return a}();g.WindowsHybridBridgeConnection_v2570=a}),98);
__d("WAWebWindowsHybridBridgeContacts.v2570",["WALogger","WAWebBackendApi","WAWebContactsDbLidMigrationUtils","WAWebEventsWaitForMainStreamReadyMd","WAWebLidAwareContactsDB","WAWebSchemaContact_DO_NOT_USE_DIRECTLY","WAWebSyncBootstrap","asyncToGeneratorRuntime","filterNulls"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a,e,f){var g=this;this.$4="contacts";this.$5=new Set();this.$6=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=JSON.parse(a);if(a.length===0)return;a.forEach(function(a){return g.$5.add(a)});var b=(yield c("WAWebLidAwareContactsDB").bulkGet(a));b.forEach(function(a){return g.$5["delete"](a==null?void 0:a.id)});a=a.filter(function(a){return g.$5.has(a)});a.forEach(function(a){return g.$5["delete"](a)});void g.$1.updateContacts(a,JSON.stringify(c("filterNulls")(b)))});return function(b){return a.apply(this,arguments)}}();this.$7=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.count;a=a.includeVoipCallableOnly;try{b=(yield d("WAWebBackendApi").frontendSendAndReceive("getFrequentContacts",{count:b,includeVoipCallableOnly:a}));a=JSON.stringify(b);void g.$1.receiveFrequentContacts(a)}catch(a){void g.$1.receiveFrequentContacts(JSON.stringify([]))}});return function(b){return a.apply(this,arguments)}}();this.$1=a;this.$2=e;this.$3=f;a.addEventListener("requestUpdateEvent",this.$6);a.addEventListener("requestFrequentContactsEvent",this.$7);a.subscribe(null)}var e=a.prototype;e.initialize=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=this;c("WAWebLidAwareContactsDB").setUpdateListener(function(b){return a.$8(b)});yield c("WAWebEventsWaitForMainStreamReadyMd")();if(this.$3)return;if(c("WAWebSyncBootstrap").isSyncDBootstrapInProcess())return;this.$3=!0;try{var b=200,e=(yield d("WAWebSchemaContact_DO_NOT_USE_DIRECTLY").getContactTable().all({limit:b,offset:0}));do{var f;f=(f=e[e.length-1])==null?void 0:f.id;e=(yield d("WAWebContactsDbLidMigrationUtils").replacePnRowsWithLidData(e));yield this.$1.updateContacts([],JSON.stringify(e));e=(yield d("WAWebSchemaContact_DO_NOT_USE_DIRECTLY").getContactTable().greaterThan(["id"],f,{limit:b}))}while(e.length>0);this.$1.acknowledgeInitialSync()}catch(a){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[WinUi] setInitialData "," error ",""])),this.$4,a)}});function e(){return a.apply(this,arguments)}return e}();e.$8=function(a){var b=this;if(!this.$3)return;a=a.filter(function(a){return!b.$5.has(a)});if(a.length===0)return;a.forEach(function(a){return b.$5.add(a)});this.$2.invalidateContacts(a)};return a}();g.WindowsHybridBridgeContacts_v2570=a}),98);
__d("WAWebWindowsHybridBridgeDebugFeatures.v2570",["WALogger","WAWebBackendApi","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i=1e3;a=function(){function a(a){var b=this;this.ping=function(a){d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeDebugFeatures:ping:",""])),a),b.$1.pong(a.valueOf())};this.$1=a;(a=this.$1)==null||a.addEventListener("jsLogs",function(){b.saveJSLogs()});(a=this.$1)==null||a.addEventListener("requestWebLogStringEvent",function(a){void b.requestWebLogString(a)});(a=this.$1)==null||a.addEventListener("pingEvent",this.ping);this.$1.subscribe(null)}var c=a.prototype;c.startHangsMonitor=function(){this.$1.startHangsMonitor()};c.saveNativeLogs=function(){this.$1.saveNativeLogs()};c.requestNativeLogs=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){return this.$1.requestNativeLogs()});function c(){return a.apply(this,arguments)}return c}();c.saveJSLogs=function(){d("WAWebBackendApi").frontendFireAndForget("createDownloadDataForMdWebLogs")};c.limitStringSize=function(a,b){var c=new Blob([a],{type:"text/plain"});if(c.size>b){c=c.size-b;return a.substr(c)}return a};c.requestWebLogString=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield d("WAWebBackendApi").frontendSendAndReceive("getWebLogs"));b=this.limitStringSize(b,30*i);this.$1.sendWebLogString(a.toString(),b)});function c(b){return a.apply(this,arguments)}return c}();return a}();g.WindowsHybridBridgeDebugFeatures_v2570=a}),98);
__d("WAWebWindowsHybridBridgeLinksPreview.v2570",["asyncToGeneratorRuntime"],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=a}var c=a.prototype;c.getPreviewAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield this.$1.getPreviewAsync(a));return a==null||a===""?null:JSON.parse(a)});function c(b){return a.apply(this,arguments)}return c}();return a}();f.WindowsHybridBridgeLinksPreview_v2570=a}),66);
__d("WAWebWindowsHybridBridgeMediaFiles.v2570",[],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=a}var b=a.prototype;b.isCachedMediaFileExist=function(a,b){return this.$1.isCachedMediaFileExist(a,b)};b.tryOpenCachedMediaFile=function(a,b){return this.$1.tryOpenCachedMediaFileFile(a,b)};b.prepareForMediaFileSaving=function(a,b,c){return this.$1.prepareForMediaFileSaving(a,b,c)};b.waitTillMediaDownloadCompletes=function(a,b,c){return this.$1.waitTillMediaDownloadCompletes(a,b,c)};b.selectFolderForBulkMediaSaving=function(){return this.$1.selectFolderForBulkMediaSaving()};b.prepareForZipArchiveSavingAndUnarchiveToFolder=function(a,b,c,d){return this.$1.prepareForZipArchiveSavingAndUnarchiveToFolder(a,b,c,d)};b.requestFileSystemDirectoryHandle=function(a){return this.$1.requestFileSystemDirectoryHandle(a)};b.tryCopyCachedMediaFile=function(a){return this.$1.tryCopyCachedMediaFile(a)};b.tryCopyCachedMediaFiles=function(a){return this.$1.tryCopyCachedMediaFiles(a)};return a}();f.WAWebWindowsHybridBridgeMediaFiles_v2570=a}),66);
__d("WAWebWindowsHybridBridgeNativeAppState.v2570",["$InternalEnum","WALogger","WAWebEventEmitter","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l=b("$InternalEnum")({Normal:"normal",MinimizedToTray:"minimizedToTray"});a=function(a,e){var f=this;this.$4=new(c("WAWebEventEmitter"))();this.$5=function(a){a=a.toString();var b=l.cast(a);b!=null?d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeNativeAppState:appStateChanged: ",""])),l.getName(b)):d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeNativeAppState:appStateChanged: invalid appStateId: ",""])),a);f.$3=b;f.$4.trigger("appStateChanged",f.isMinimizedToTray())};this.getAppState=function(){return f.$3};this.getEvents=function(){return f.$4};this.isMinimizedToTray=function(){return f.getAppState()===l.MinimizedToTray};this.takeAppLaunchTimeStamp=function(){return f.$2.takeAppLaunchTimeStamp()};this.getFirstAppRestoreTimeStamp=function(){return f.$2.getFirstAppRestoreTimeStamp()};this.getLastAppRestoreTimeStamp=function(){return f.$2.getLastAppRestoreTimeStamp()};this.detectNativeClockSkew=function(){return f.$2.detectNativeClockSkew(Date.now())};this.getAppStateAsync=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=f.$1.getAppState();a=a.toString();var b=l.cast(a);b!=null?d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeNativeAppState:getAppStateAsync: ",""])),l.getName(b)):d("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeNativeAppState:getAppStateAsync: invalid appState '","'"])),a);return b});this.$1=a;this.$2=e;this.$1.addEventListener("appStateChangedEvent",this.$5);this.$1.subscribe(null)};g.AppState_v2570=l;g.WindowsHybridBridgeNativeAppState_v2570=a}),98);
__d("WAWebWindowsHybridBridgePictures.v2570",["WAJids","WALogger","WAWebLidMigrationUtils","WAWebProfilePicThumbCollection","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;a=function(){function a(a){var c=this;this.$2=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=JSON.parse(a);for(a of a){var b;if(d("WAJids").validateGroupJid(a.id.toString())){var e=d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.get(a.id);(e==null?void 0:e.eurl)!==a.eurl&&c.$1.setProfilePictures(JSON.stringify([{eurl:e==null?void 0:e.eurl,id:a.id.toString()}]));continue}e=d("WAWebLidMigrationUtils").toPn(a.id);if(e==null){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[WindowsHybridBridgePictures] PN WID is null"])));continue}var f=d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.get(e);f==null&&e!=null&&(f=(yield d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.resyncPicturesByWid([e])));if(((b=f)==null?void 0:b.eurl)!==a.eurl){c.$1.setProfilePictures(JSON.stringify([{eurl:(b=f)==null?void 0:b.eurl,id:e.toString()}]));b=d("WAWebLidMigrationUtils").toLid(a.id);if(b==null){d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[WindowsHybridBridgePictures] LID WID is null for PN WID: ",""])),e);continue}c.$1.setProfilePictures(JSON.stringify([{eurl:(e=f)==null?void 0:e.eurl,id:b.toString()}]))}}});return function(b){return a.apply(this,arguments)}}();this.$1=a;a.addEventListener("verifyPictureEvent",this.$2);a.subscribe(null)}var c=a.prototype;c.notifyUpdate=function(a){if(a==null)return;if(d("WAJids").validateGroupJid(a.id.toString())){this.$1.setProfilePictures(JSON.stringify([{eurl:a.eurl,id:a.id.toString()}]));return}if(!a.id.isUser())return;var b=d("WAWebLidMigrationUtils").toPn(a.id),c=d("WAWebLidMigrationUtils").toLid(a.id);if(b==null){d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[WindowsHybridBridgePictures] PN WID is null"])));return}if(c==null){d("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["[WindowsHybridBridgePictures] LID WID is null for PN WID: ",""])),b);return}this.$1.setProfilePictures(JSON.stringify([{eurl:a.eurl,id:b.toString()}]));this.$1.setProfilePictures(JSON.stringify([{eurl:a.eurl,id:c.toString()}]))};return a}();g.WindowsHybridBridgePictures_v2570=a}),98);
__d("WAWebWindowsHybridBridgePreferences.v2570",["WAWebUserPrefsBase","WAWebUserPrefsKeys","WAWebUserPrefsLocalStorage","WAWebUserPrefsStore"],(function(a,b,c,d,e,f,g){var h="WANativePreferencesRevision";a=function(){function a(a){var b=this;this.$2=!1;this.$3=null;this.$4=new Set();this.initialize=function(){var a;if(b.$2)return;b.$4.add(String(d("WAWebUserPrefsKeys").UserPrefs.WindowsIsSystemTrayEnabled));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.SYSTEM_THEME_MODE));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.THEME));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.ME_DISPLAY_NAME));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LAST_PUSHNAME));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LID));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LAST_WID_MD));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LANG_FROM_PHONE));b.$4.add(String(d("WAWebUserPrefsKeys").UserPrefs.AbpropsWebRefreshId));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.ABPROPS_REFRESH_ID));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.ABPROPS));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LANG_FROM_USER));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.GLOBAL_MUTE_CALL_RINGTONE));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.GLOBAL_MUTE_CALL_NOTIFICATIONS));b.$4.add(String(d("WAWebUserPrefsKeys").UserPrefs.WindowsNotificationBannerSetting));b.$4.add(String(d("WAWebUserPrefsKeys").UserPrefs.WindowsTaskbarNotificationSetting));(a=b.$1)==null||a.addEventListener("everythingRequested",function(){var a=b.$5();b.$3!==a&&(b.$3=a,b.$6())});(a=b.$1)==null||a.subscribe(null);b.$2=!0};this.$1=a}var b=a.prototype;b.$5=function(){var a=c("WAWebUserPrefsStore").getUser(h),b=0;typeof a==="number"?b=a:typeof a==="string"&&(b=Number(a)||0);return b};b.$7=function(a){c("WAWebUserPrefsStore").setUser(h,a)};b.handleSettingChange=function(a,b){var c;if(!this.$4.has(a))return;var d=this.$5();(c=this.$1)==null||c.updateLocalSetting(a,JSON.stringify(b),++d);this.$7(d)};b.$6=function(){var a=this.$5(),b=[],e=[];for(var f of this.$4){var g=c("WAWebUserPrefsStore").getUser(f);if(g!=null){b.push(f);e.push(JSON.stringify(g));continue}g=d("WAWebUserPrefsBase").userPreferencesStoreBase.get(f);g!=null&&(b.push(f),e.push(JSON.stringify(g)));g=c("WAWebUserPrefsLocalStorage").getItemFromLocalStorage(f);g!=null&&(b.push(f),e.push(JSON.stringify(g)))}(g=this.$1)==null||g.updateAllLocalSettings(b,e,a)};b.clean=function(){var a;(a=this.$1)==null||a.clean()};return a}();g.WindowsHybridBridgePreferences_v2570=a}),98);
__d("WAWebWindowsHybridBridgeRateTheApp.v2570",["asyncToGeneratorRuntime"],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=a}var c=a.prototype;c.getStoreProductForCurrentApp=function(){return this.$1.getStoreProductForCurrentAppAsync()};c.requestRateAndApp=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield this.$1.requestRateAndReviewAppAsync());return JSON.parse(a)});function c(){return a.apply(this,arguments)}return c}();return a}();f.WAWebWindowsHybridBridgeRateTheApp_v2570=a}),66);
__d("WAWebWindowsHybridBridgeScalingControl.v2570",["WAWebWindowsScalingControlEventEmitter"],(function(a,b,c,d,e,f,g){a=function(){function a(a){this.$2=!1,this.$3=function(){c("WAWebWindowsScalingControlEventEmitter").trigger("requestZoomIn")},this.$4=function(){c("WAWebWindowsScalingControlEventEmitter").trigger("requestZoomOut")},this.$1=a}var b=a.prototype;b.initialize=function(){var a;if(this.$2)return;this.$2=!0;(a=this.$1)==null||a.addEventListener("zoomInRequested",this.$3);(a=this.$1)==null||a.addEventListener("zoomOutRequested",this.$4);(a=this.$1)==null||a.subscribe(null)};b.zoomIn=function(){this.$3()};b.zoomOut=function(){this.$4()};b.showScalingControl=function(a){var b;(b=this.$1)==null||b.showScalingControl(a)};return a}();g.WindowsHybridBridgeScalingControl_v2570=a}),98);
__d("WAWebWindowsHybridBridgeSystemIntegrations.v2570",["WAWebEventEmitter","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){a=function(){function a(a){var b=this;this.events=new(c("WAWebEventEmitter"))();this.$2=function(a){var c=a.tag,d=a.action;a=a.additionalData;b.events.trigger("MessageNotificationAction",{key:c,action:d,additionalData:a})};this.$1=a;(a=this.$1)==null||a.addEventListener("MessageNotificationActionEvent",this.$2);(a=this.$1)==null||a.subscribe(null)}var d=a.prototype;d.closeMessageNotification=function(a,b){var c;(c=this.$1)==null||c.closeMessageNotification(a,b)};d.showMessageNotification=function(a,b,c,d,e,f,g,h,i,j,k){var l;(l=this.$1)==null||l.showMessageNotification(a,b!=null?b:"",c,d,e,f!=null?f:"",g,h,i!=null?i:"",j!=null?j:"",k)};d.isNotificationEnabledInSystem=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){return this.$1==null?!1:this.$1.isNotificationEnabledInSystem()});function c(){return a.apply(this,arguments)}return c}();d.updateTaskbarBadge=function(a){this.$1.updateTaskbarBadge(a)};d.getStartupTaskState=function(){return this.$1.getStartupTaskState()};d.updateStartupTask=function(a){this.$1.updateStartupTask(a)};return a}();g.WindowsHybridBridgeSystemIntegrations_v2570=a}),98);
__d("WAWebWindowsHybridBridgeTouchpadFix.v2570",["WAWebDebounce"],(function(a,b,c,d,e,f,g){a=function(){function a(a){var b=this;this.$2=c("WAWebDebounce")(function(a){if(a.deltaX<=0)return;a=a.target;a=a;var c=!1,d=0;while(a&&a!==document.body&&d<3){var e=self.getComputedStyle(a);if((e.overflowX==="auto"||e.overflowX==="scroll")&&a.scrollWidth>a.clientWidth){c=!0;break}e=a.parentElement;if(!e)break;a=e;d++}c||b.interruptManipulations()},500);this.$1=a}var b=a.prototype;b.interruptManipulations=function(){return this.$1.interruptManipulations()};b.init=function(){document.addEventListener("wheel",this.$2,{passive:!1})};return a}();g.WindowsHybridBridgeTouchpadFix_v2570=a}),98);
__d("WAWebWindowsHybridBridgeVoip.v2570",["WABase64","WALogger","WAWebBackendApi","WAWebSerializeVoipWapNode","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L;a=function(){function a(a,b){var c=this;this.handleVoipReady=function(){var a;d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received voip ready event"])));d("WAWebBackendApi").frontendFireAndForget("addStartingLogoutListener",function(){return c.handleSignOut()});(a=c.$3)==null||a.onVoipReady()};this.sendSignalingXmpp=function(a){var b,e=a.peerJid,f=a.callId,g=a.payload;a=a.shouldEncryptBeforeSending;d("WALogger").DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received sendSignalingXmpp event: ",", ",", ",", ",""])),e,f,g,a);(b=c.$3)==null||b.onSignalingXmpp(e,f,g,a)};this.handleCallEvent=function(a){var b,e=a.eventType,f=a.userData;a=a.eventDataJson;d("WALogger").DEV(j||(j=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received handleCallEvent event: ",", ",", ",""])),e,f,a);(b=c.$3)==null||b.onCallEvent(e,f,a)};this.requestOpenChat=function(a){var b;d("WALogger").DEV(k||(k=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received requestOpenChat event: ",""])),a);(b=c.$3)==null||b.onRequestOpenChat(a)};this.requestDeviceJidList=function(a){var b;d("WALogger").DEV(l||(l=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received requestDeviceJidList event: ",""])),a);void ((b=c.$3)==null?void 0:b.onRequestDeviceJidList(a).then(function(b){var d;(d=c.$1)==null||d.handleDeviceJidList(a.toString(),b)}))};this.requestPhoneNumberJid=function(a){var b;d("WALogger").DEV(m||(m=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received requestPhoneNumberJid event: ",""])),a);void ((b=c.$3)==null||b.onRequestPhoneNumberJid==null?void 0:b.onRequestPhoneNumberJid(a).then(function(b){var d;(d=c.$1)==null||d.handlePhoneNumberJid(a.toString(),b)}))};this.requestLidJid=function(a){var b;d("WALogger").DEV(n||(n=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received requestLidJid event: ",""])),a);void ((b=c.$3)==null||b.onRequestLidJid==null?void 0:b.onRequestLidJid(a).then(function(b){var d;(d=c.$1)==null||d.handleLidJid(a.toString(),b)}))};this.callAgain=function(a){var b,e=a.peerJid;a=a.isVideoCall;d("WALogger").DEV(o||(o=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received callAgain event: ",", ",""])),e,a);(b=c.$3)==null||b.onCallAgain(e,a)};this.handleLidCallerDisplayInfo=function(a){var b;d("WALogger").DEV(p||(p=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received handleLidCallerDisplayInfo event: ",""])),a);(b=c.$3)==null||b.onLidCallerDisplayInfo(a)};this.$1=a;this.$2=b;this.$1.addEventListener("handleVoipReadyEvent",this.handleVoipReady);this.$1.addEventListener("handleVoipCallEvent",this.handleCallEvent);this.$1.addEventListener("handleSignalingXmppEvent",this.sendSignalingXmpp);this.$1.addEventListener("handleRequestOpenChatEvent",this.requestOpenChat);this.$1.addEventListener("handleRequestDeviceJidListEvent",this.requestDeviceJidList);this.$1.addEventListener("handleRequestPhoneNumberJidEvent",this.requestPhoneNumberJid);this.$1.addEventListener("handleRequestLidJidEvent",this.requestLidJid);this.$1.addEventListener("handleCallAgainEvent",this.callAgain);this.$1.addEventListener("handleLidCallerDisplayInfoEvent",this.handleLidCallerDisplayInfo);this.$1.subscribe(null)}var c=a.prototype;c.setHandlers=function(a){this.$3=a};c.cleanup=function(){this.$1.removeEventListener!=null&&(this.$1.removeEventListener("handleVoipReadyEvent",this.handleVoipReady),this.$1.removeEventListener("handleVoipCallEvent",this.handleCallEvent),this.$1.removeEventListener("handleSignalingXmppEvent",this.sendSignalingXmpp),this.$1.removeEventListener("handleRequestOpenChatEvent",this.requestOpenChat),this.$1.removeEventListener("handleRequestDeviceJidListEvent",this.requestDeviceJidList),this.$1.removeEventListener("handleRequestPhoneNumberJidEvent",this.requestPhoneNumberJid),this.$1.removeEventListener("handleRequestLidJidEvent",this.requestLidJid),this.$1.removeEventListener("handleCallAgainEvent",this.callAgain),this.$1.removeEventListener("handleLidCallerDisplayInfo",this.handleLidCallerDisplayInfo))};c.handleIncomingSignalingOffer=function(a,b,c,e,f,g,h,i,j){d("WALogger").DEV(q||(q=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleIncomingSignalingOffer called with:"]))).devConsole(arguments),this.$2.handleIncomingSignalingOffer(d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a),b,c,e,f,g,h,i,j?d("WABase64").encodeB64(j):null)};c.handleIncomingSignalingMessage=function(a,b,c,e,f,g,h,i){this.$2.handleIncomingSignalingMessage(d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a),b,c,e,f,g,h,i?d("WABase64").encodeB64(i):null)};c.handleIncomingSignalingAck=function(a,b,c,e,f){d("WALogger").DEV(r||(r=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleIncomingSignalingAck called with:"]))).devConsole(arguments),this.$2.handleIncomingSignalingAck(d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a),b,c,e,f?d("WABase64").encodeB64(f):null)};c.handleIncomingSignalingReceipt=function(a,b,c){d("WALogger").DEV(s||(s=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleIncomingSignalingReceipt called with:"]))).devConsole(arguments),this.$2.handleIncomingSignalingReceipt(d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a),b,c?d("WABase64").encodeB64(c):null)};c.resendOfferOnDecryptionFailure=function(a,b){d("WALogger").DEV(t||(t=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] resendOfferOnDecryptionFailure called with:"]))).devConsole(arguments),this.$2.resendOfferOnDecryptionFailure(a,b)};c.resendEncRekeyRetry=function(a,b){d("WALogger").DEV(u||(u=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] resendEncRekeyRetry called with:"]))).devConsole(arguments),this.$2.resendEncRekeyRetry(a,b)};c.notifyDeviceIdentityChangedOrDeleted=function(a,b){d("WALogger").DEV(v||(v=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] notifyDeviceIdentityChangedOrDeleted called with:"]))).devConsole(arguments),this.$2.notifyDeviceIdentityChangedOrDeleted(a,b)};c.handleWebViewReady=function(){var a;d("WALogger").DEV(w||(w=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleWebViewReady called"])));(a=this.$1)==null||a.handleWebViewReady()};c.voipInit=function(a,b,c){var e;d("WALogger").DEV(x||(x=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] voipInit called with:"]))).devConsole(arguments);(e=this.$1)==null||e.voipInit(a,b,c)};c.setHideMyIp=function(a){var b;d("WALogger").DEV(y||(y=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] setHideMyIp called with:"]))).devConsole(arguments);(b=this.$1)==null||b.setHideMyIp(a)};c.setChatNameAndIcon=function(a,b,c){var e;d("WALogger").DEV(z||(z=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] setChatNameAndIcon called"])));(e=this.$1)==null||e.setChatNameAndIcon(a,b,c)};c.handleSignOut=function(){var a;d("WALogger").DEV(A||(A=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleSignOut called"])));(a=this.$1)==null||a.handleSignOut()};c.startCall=function(a,b,c,e,f,g,h,i,j,k,l){var m;d("WALogger").DEV(B||(B=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] startCall called with:"]))).devConsole(arguments);(m=this.$1)==null||m.startCall(a.toString({legacy:!0}),b,c,e,f,g,h,i?d("WABase64").encodeB64(i):null)};c.startGroupCall=function(a,b,c,e,f,g,h,i,j,k,l,m,n,o){var p;d("WALogger").DEV(C||(C=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] startGroupCall called with:"]))).devConsole(arguments);(p=this.$1)==null||p.startGroupCall(a,b,c,e,f,g,h,i,j,k,l)};c.handleDeviceJidList=function(a,b){var c;d("WALogger").DEV(D||(D=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleDeviceJidList called with:"]))).devConsole(arguments);(c=this.$1)==null||c.handleDeviceJidList(a,b)};c.previewCallLink=function(a,b,c,e,f){var g;d("WALogger").DEV(E||(E=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] previewCallLink called with:"]))).devConsole(arguments);(g=this.$1)==null||g.previewCallLink(a,b,c)};c.previewAndJoinCallLink=function(a,b,c,e,f){var g;d("WALogger").DEV(F||(F=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] previewAndJoinCallLink called with:"]))).devConsole(arguments);(g=this.$1)==null||g.previewAndJoinCallLink(a,b,c)};c.endCall=function(a,b){var c;d("WALogger").DEV(G||(G=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] endCall called with:"]))).devConsole(arguments);(c=this.$1)==null||c.endCall(a,b)};c.rejectCallWithoutCallContext=function(a,b,c,e,f,g,h){var i;d("WALogger").DEV(H||(H=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] rejectCallWithoutCallContext called with:"]))).devConsole(arguments);(i=this.$1)==null||i.rejectCallWithoutCallContext(a,b,c,e,f,g,h)};c.joinOngoingCall=function(a,b,c,e,f,g,h,i,j,k,l,m,n,o,p,q){var r;d("WALogger").DEV(I||(I=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] joinOngoingCall called with:"]))).devConsole(arguments);(r=this.$1)==null||r.joinOngoingCall(a,b,c,e,f,g,h,i,j,k,l,m,n,o,p)};c.inviteToCall=function(a,b,c){};c.requestCallInfo=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WALogger").DEV(J||(J=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] requestCallInfo called with:"]))).devConsole(arguments);var a=(yield this.$1.getCallInfo()),b=a.callInfoJsonBase64,c=a.error;return{callInfoJsonBase64:b,error:c}});function c(){return a.apply(this,arguments)}return c}();c.requestObtainDevicePermissionAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("WALogger").DEV(K||(K=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] requestObtainDevicePermissionAsync called with:"]))).devConsole(arguments);var b=(yield this.$1.requestObtainDevicePermissionAsync(a)),c=b.error,e=b.permissionGranted;return{error:c,permissionGranted:e}});function c(b){return a.apply(this,arguments)}return c}();c.requestDevicesCountAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("WALogger").DEV(L||(L=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] requestDevicesCountAsync called with:"]))).devConsole(arguments);var b=(yield this.$1.getDeviceCountAsync(a)),c=b.error,e=b.deviceCount;return{error:c,deviceCount:e}});function c(b){return a.apply(this,arguments)}return c}();return a}();g.VoipWinRTBridge_v2570=a}),98);
__d("WAWebWindowsHybridBridgeWam.v2570",["Promise","WALogger","WAWebWamCodegenWamEvent"],(function(a,b,c,d,e,f,g){var h,i,j;a=function(a){var c=this;this.$2=!1;this.initialize=function(){var a;if(c.$2)return;(a=c.$1)==null||a.addEventListener("eventsSaved",c.handleEvents);(a=c.$1)==null||a.subscribe(null);c.$2=!0};this.handleEvents=function(a){if(!c.$2){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received handleWamEvent while bridge is not initialized"])));return}d("WALogger").DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received handleWamEvent event: ",""])),a);a=JSON.parse(a);void (j||(j=b("Promise"))).all(a.map(function(a){return new(d("WAWebWamCodegenWamEvent").RawWamEvent)(a).commitAndWaitForFlush(!0)}))};this.$1=a};g.WindowsHybridBridgeWam_v2570=a}),98);
__d("WindowsHybridBridgeBrowserExtensions.v2570",["asyncToGeneratorRuntime"],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=a}var c=a.prototype;c.getBrowserExtensionsInfoAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield this.$1.getBrowserExtensionsInfoAsync());return JSON.parse(a)});function c(){return a.apply(this,arguments)}return c}();c.enableBrowserExtensionAsync=function(a,b){return this.$1.enableBrowserExtensionAsync(a,b)};c.removeBrowserExtensionAsync=function(a){return this.$1.removeBrowserExtensionAsync(a)};c.hasBootstrappedSuccessfully=function(){return this.$1.hasBootstrappedSuccessfully()};c.getZoomBrowserExtensionInfoAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield this.$1.getZoomBrowserExtensionInfoAsync());return JSON.parse(a)});function c(){return a.apply(this,arguments)}return c}();c.enableZoomBrowserExtensionAsync=function(a){return this.$1.enableZoomBrowserExtensionAsync(a)};c.removeZoomBrowserExtensionAsync=function(){return this.$1.removeZoomBrowserExtensionAsync()};c.installZoomBrowserExtensionAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield this.$1.installZoomBrowserExtensionAsync());return JSON.parse(a)});function c(){return a.apply(this,arguments)}return c}();return a}();f.WindowsHybridBridgeBrowserExtensions_v2570=a}),66);
__d("WAWebWindowsHybridBridge.v2570",["WAWebWindowsHybridAppActivationBridge.v2570","WAWebWindowsHybridBridgeAbProps.v2570","WAWebWindowsHybridBridgeConnection.v2570","WAWebWindowsHybridBridgeContacts.v2570","WAWebWindowsHybridBridgeDebugFeatures.v2570","WAWebWindowsHybridBridgeLinksPreview.v2570","WAWebWindowsHybridBridgeMediaFiles.v2570","WAWebWindowsHybridBridgeNativeAppState.v2570","WAWebWindowsHybridBridgePictures.v2570","WAWebWindowsHybridBridgePreferences.v2570","WAWebWindowsHybridBridgeRateTheApp.v2570","WAWebWindowsHybridBridgeScalingControl.v2570","WAWebWindowsHybridBridgeSystemIntegrations.v2570","WAWebWindowsHybridBridgeTouchpadFix.v2570","WAWebWindowsHybridBridgeVoip.v2570","WAWebWindowsHybridBridgeWam.v2570","WindowsHybridBridgeBrowserExtensions.v2570","cr:17220"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.seamlessMigrationBridge=null;this.mediaTranscodeBridge=null;this.adv=null;this.sharesheetBridge=null;this.serverEncKeySaltBridge=null;a.hostObjects.options.defaultSyncProxy=!0;a.hostObjects.options.forceAsyncMethodMatches=[/Async$/,/AsyncWithSpeller$/];a.hostObjects.options.ignoreMemberNotFoundError=!0;var c=a.hostObjects.AbPropsBridge;c!=null&&(this.abProps=new(d("WAWebWindowsHybridBridgeAbProps.v2570").WindowsHybridBridgeAbProps_v2570)(c));c=a.hostObjects.WamBridge;c!=null&&(this.wam=new(d("WAWebWindowsHybridBridgeWam.v2570").WindowsHybridBridgeWam_v2570)(c));c=a.hostObjects.PreferencesBridge;c&&(this.$1=new(d("WAWebWindowsHybridBridgePreferences.v2570").WindowsHybridBridgePreferences_v2570)(c));c=a.hostObjects.ScalingControlBridge;c&&(this.scalingControl=new(d("WAWebWindowsHybridBridgeScalingControl.v2570").WindowsHybridBridgeScalingControl_v2570)(c));c=a.hostObjects.PicturesBridge;c&&(this.pictures=new(d("WAWebWindowsHybridBridgePictures.v2570").WindowsHybridBridgePictures_v2570)(c));c=a.hostObjects.DebugFeaturesBridge;var e=b("cr:17220")==null?void 0:b("cr:17220").debugFeaturesMock;c!=null?this.$4=new(d("WAWebWindowsHybridBridgeDebugFeatures.v2570").WindowsHybridBridgeDebugFeatures_v2570)(c):e!=null;c=a.hostObjects.VoipBridge;e=a.hostObjects.VoipSignalingBridge;c&&e&&(this.voip=new(d("WAWebWindowsHybridBridgeVoip.v2570").VoipWinRTBridge_v2570)(c,e));this.$5=new(d("WAWebWindowsHybridBridgeRateTheApp.v2570").WAWebWindowsHybridBridgeRateTheApp_v2570)(a.hostObjects.RateAppBridge);this.$3=new(d("WAWebWindowsHybridBridgeConnection.v2570").WindowsHybridBridgeConnection_v2570)(a.hostObjects.ConnectionBridge);this.$2=a.hostObjects.ClientKeyBridge;this.touchpadFix=new(d("WAWebWindowsHybridBridgeTouchpadFix.v2570").WindowsHybridBridgeTouchpadFix_v2570)(a.hostObjects.TouchpadFix);this.linksPreview=new(d("WAWebWindowsHybridBridgeLinksPreview.v2570").WindowsHybridBridgeLinksPreview_v2570)(a.hostObjects.LinksPreviewBridge);try{c=a.hostObjects.sync.PopulatedContactsBridge;e=a.hostObjects.PopulatedContactsBridge;e!=null&&(this.contacts=new(d("WAWebWindowsHybridBridgeContacts.v2570").WindowsHybridBridgeContacts_v2570)(e,c,!0))}catch(b){e=a.hostObjects.ContactsBridge;e!=null&&(this.contacts=new(d("WAWebWindowsHybridBridgeContacts.v2570").WindowsHybridBridgeContacts_v2570)(e,a.hostObjects.sync.ContactsBridge,!1))}this.sqlite=a.hostObjects.SQLiteBridge;c=a.hostObjects.MediaFilesBridge;c!=null&&(this.mediaFiles=new(d("WAWebWindowsHybridBridgeMediaFiles.v2570").WAWebWindowsHybridBridgeMediaFiles_v2570)(c));e=a.hostObjects.AppActivationBridge;e!=null&&(this.appActivationBridge=new(d("WAWebWindowsHybridAppActivationBridge.v2570").WindowsHybridAppActivationBridge_v2570)(e));c=a.hostObjects.NativeAppStateBridge;e=a.hostObjects.sync.NativeAppStateBridge;c!=null&&(this.nativeAppStateBridge=new(d("WAWebWindowsHybridBridgeNativeAppState.v2570").WindowsHybridBridgeNativeAppState_v2570)(c,e));c=a.hostObjects.SystemIntegrationsBridge;c&&(this.systemIntegrationsBridge=new(d("WAWebWindowsHybridBridgeSystemIntegrations.v2570").WindowsHybridBridgeSystemIntegrations_v2570)(c));e=a.hostObjects.BrowserExtensionsBridge;e&&(this.browserExtensionsBridge=new(d("WindowsHybridBridgeBrowserExtensions.v2570").WindowsHybridBridgeBrowserExtensions_v2570)(e))}var c=a.prototype;c.getPreferences=function(){var a;(a=this.$1)==null||a.initialize();return this.$1};c.getScalingControl=function(){var a;(a=this.scalingControl)==null||a.initialize();return this.scalingControl};c.getRateTheApp=function(){return this.$5};c.getClientKeyBridge=function(){return this.$2};c.getDebugFeatures=function(){return this.$4};return a}();g.WindowsHybridBridge_v2570=a}),98);
__d("WAWebWindowsHybridAppActivationBridge.v2571",["WAWebApi","WAWebApiParse","WAWebExecApiCmd"],(function(a,b,c,d,e,f,g){a=function(){function a(a){this.handleAppActivationViaProtocolEvent=function(a){a=a.toString();a=d("WAWebApiParse").parseAPICmd(a);a.resultType!==d("WAWebApi").APICmd.INVALID&&c("WAWebExecApiCmd")({cmdData:a,isExternal:!0})};this.$1=a;(a=this.$1)==null||a.addEventListener("handleAppActivationViaProtocolEvent",this.handleAppActivationViaProtocolEvent);this.$1.subscribe(null)}var b=a.prototype;b.initialize=function(){};b.cleanup=function(){var a;(a=this.$1)==null||a.removeEventListener("handleAppActivationViaProtocolEvent",this.handleAppActivationViaProtocolEvent)};return a}();g.WindowsHybridAppActivationBridge_v2571=a}),98);
__d("WAWebWindowsHybridBridgeAbProps.v2571",["WALogger","WAWebABPropsCache","WAWebABPropsLocalStorage","WAWebBackendApi","WAWebHybridABProps","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h;a=function(){function a(a){var c=this;this.$2=!1;this.$4=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b;c.$3==null&&(c.$3=d("WAWebHybridABProps").getAllHybridExpoKeys());a=a.toString();b=(b=c.$3)==null?void 0:b.get(a);if(b==null){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[abprops][windows hybrid] unknown exposure key: ",""])),a);return}d("WAWebABPropsCache").saveExposure(b);c.$1.acknowledgeExposure(a)});return function(b){return a.apply(this,arguments)}}();this.$5=function(a){c.$3=null;var b=d("WAWebABPropsLocalStorage").getABKey();if(a!==b){a=d("WAWebHybridABProps").getAllHybridAbProps(!1);c.$1.setConfigs(b,JSON.stringify(a))}};this.$1=a}var c=a.prototype;c.initialize=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=this;if(this.$2)return;this.$2=!0;yield d("WAWebABPropsCache").waitForABPropConfigsReady();this.$1.addEventListener("exposureLogged",this.$4);this.$1.subscribe(null);var b=(yield this.$1.getVersion());d("WAWebBackendApi").frontendFireAndForget("addAbPropsUpdateListener",function(){a.$5(null)});this.$5(b)});function c(){return a.apply(this,arguments)}return c}();return a}();g.WindowsHybridBridgeAbProps_v2571=a}),98);
__d("WAWebWindowsHybridBridgeConnection.v2571",["WAComms","WALogger","WAPromiseDelays","WAResolvable","WAWebCallCollection","WAWebEventsWaitForMainStreamReadyMd","WAWebEventsWaitForOfflineDeliveryEnd","WAWebSetWindowsPushConfig","WAWebSocketConstants","WAWebSocketModel","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v;a=function(){function a(a){var e=this;this.$2=!1;this.$3=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.data.toString();a=(a=a.channel)==null?void 0:a.toString();d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleUpdateNotificationsTokenEvent"]))).devConsole(b,a);yield c("WAWebEventsWaitForMainStreamReadyMd")();yield d("WAWebSetWindowsPushConfig").setWindowsPushConfig(b,a);e.$1.handleConnectionState(!0);e.$1.acknowledgeNotificationsToken(b,a)});return function(b){return a.apply(this,arguments)}}();this.$4=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent"])));try{var a;if(!e.$2&&(((a=d("WAComms").getComms())==null?void 0:a.socket)==null||d("WAWebSocketModel").Socket.stream===d("WAWebSocketConstants").SOCKET_STREAM.DISCONNECTED)){d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: socket already closed"])));e.$1.handleConnectionState(!1);return}yield e.$6();yield d("WAPromiseDelays").delayMs(3e4);d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: offline resume complete"])));if(c("WAWebCallCollection").activeCall!=null){d("WALogger").LOG(l||(l=babelHelpers.taggedTemplateLiteralLoose(["voip: WindowsHybridBridgeConnection:handleDisconnectEvent: awaiting active call completion"])));var b=new(d("WAResolvable").Resolvable)();a=function(){c("WAWebCallCollection").activeCall==null&&b.resolve()};c("WAWebCallCollection").on("change:activeCall",a);yield b.promise;c("WAWebCallCollection").off("change:activeCall",a);d("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["voip: WindowsHybridBridgeConnection:handleDisconnectEvent: active call completed"])))}else d("WALogger").LOG(n||(n=babelHelpers.taggedTemplateLiteralLoose(["voip: WindowsHybridBridgeConnection:handleDisconnectEvent: no active call"])));d("WAComms").closeSocketAndPause();d("WALogger").LOG(o||(o=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: socket closed"])));e.$1.handleConnectionState(!1)}catch(a){d("WALogger").ERROR(p||(p=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: failed to close socket: ",""])),a)}});this.$5=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WALogger").LOG(q||(q=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection.handleConnectEvent"])));if(e.$2){d("WALogger").LOG(r||(r=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleConnectEvent: socket already opening"])));return}try{var a;a=((a=d("WAComms").getComms())==null?void 0:a.socket)!=null;a||(e.$2=!0,d("WAComms").closeSocketAndResume(),d("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleConnectEvent: socket opened"]))));yield e.$6();d("WALogger").LOG(t||(t=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleConnectEvent: offline resume complete"])));e.$1.handleConnectionState(!0)}catch(a){d("WALogger").ERROR(u||(u=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleConnectEvent: failed to open socket: ",""])),a)}finally{e.$2=!1}});this.$1=a;this.$1.addEventListener("updateNotificationsTokenEvent",this.$3);this.$1.addEventListener("disconnectEvent",this.$4);this.$1.addEventListener("connectEvent",this.$5);this.$1.subscribe(null)}var e=a.prototype;e.$6=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield d("WAComms").waitForConnection(),d("WAWebEventsWaitForOfflineDeliveryEnd").isOfflineDeliveryEnd()||(d("WALogger").LOG(v||(v=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:waitForOfflineResume"]))),yield d("WAWebEventsWaitForOfflineDeliveryEnd").waitForOfflineDeliveryEnd())});function c(){return a.apply(this,arguments)}return c}();return a}();g.WindowsHybridBridgeConnection_v2571=a}),98);
__d("WAWebWindowsHybridBridgeContacts.v2571",["WALogger","WAWebBackendApi","WAWebContactsDbLidMigrationUtils","WAWebEventsWaitForMainStreamReadyMd","WAWebLidAwareContactsDB","WAWebSchemaContact_DO_NOT_USE_DIRECTLY","WAWebSyncBootstrap","asyncToGeneratorRuntime","filterNulls"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a,e,f){var g=this;this.$4="contacts";this.$5=new Set();this.$6=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=JSON.parse(a);if(a.length===0)return;a.forEach(function(a){return g.$5.add(a)});var b=(yield c("WAWebLidAwareContactsDB").bulkGet(a));b.forEach(function(a){return g.$5["delete"](a==null?void 0:a.id)});a=a.filter(function(a){return g.$5.has(a)});a.forEach(function(a){return g.$5["delete"](a)});void g.$1.updateContacts(a,JSON.stringify(c("filterNulls")(b)))});return function(b){return a.apply(this,arguments)}}();this.$7=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.count;a=a.includeVoipCallableOnly;try{b=(yield d("WAWebBackendApi").frontendSendAndReceive("getFrequentContacts",{count:b,includeVoipCallableOnly:a}));a=JSON.stringify(b);void g.$1.receiveFrequentContacts(a)}catch(a){void g.$1.receiveFrequentContacts(JSON.stringify([]))}});return function(b){return a.apply(this,arguments)}}();this.$1=a;this.$2=e;this.$3=f;a.addEventListener("requestUpdateEvent",this.$6);a.addEventListener("requestFrequentContactsEvent",this.$7);a.subscribe(null)}var e=a.prototype;e.initialize=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=this;c("WAWebLidAwareContactsDB").setUpdateListener(function(b){return a.$8(b)});yield c("WAWebEventsWaitForMainStreamReadyMd")();if(this.$3)return;if(c("WAWebSyncBootstrap").isSyncDBootstrapInProcess())return;this.$3=!0;try{var b=200,e=(yield d("WAWebSchemaContact_DO_NOT_USE_DIRECTLY").getContactTable().all({limit:b,offset:0}));do{var f;f=(f=e[e.length-1])==null?void 0:f.id;e=(yield d("WAWebContactsDbLidMigrationUtils").replacePnRowsWithLidData(e));yield this.$1.updateContacts([],JSON.stringify(e));e=(yield d("WAWebSchemaContact_DO_NOT_USE_DIRECTLY").getContactTable().greaterThan(["id"],f,{limit:b}))}while(e.length>0);this.$1.acknowledgeInitialSync()}catch(a){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[WinUi] setInitialData "," error ",""])),this.$4,a)}});function e(){return a.apply(this,arguments)}return e}();e.$8=function(a){var b=this;if(!this.$3)return;a=a.filter(function(a){return!b.$5.has(a)});if(a.length===0)return;a.forEach(function(a){return b.$5.add(a)});this.$2.invalidateContacts(a)};return a}();g.WindowsHybridBridgeContacts_v2571=a}),98);
__d("WAWebWindowsHybridBridgeDebugFeatures.v2571",["WALogger","WAWebBackendApi","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i=1e3;a=function(){function a(a){var b=this;this.ping=function(a){d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeDebugFeatures:ping:",""])),a),b.$1.pong(a.valueOf())};this.$1=a;(a=this.$1)==null||a.addEventListener("jsLogs",function(){b.saveJSLogs()});(a=this.$1)==null||a.addEventListener("requestWebLogStringEvent",function(a){void b.requestWebLogString(a)});(a=this.$1)==null||a.addEventListener("pingEvent",this.ping);this.$1.subscribe(null)}var c=a.prototype;c.startHangsMonitor=function(){this.$1.startHangsMonitor()};c.saveNativeLogs=function(){this.$1.saveNativeLogs()};c.requestNativeLogs=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){return this.$1.requestNativeLogs()});function c(){return a.apply(this,arguments)}return c}();c.saveJSLogs=function(){d("WAWebBackendApi").frontendFireAndForget("createDownloadDataForMdWebLogs")};c.limitStringSize=function(a,b){var c=new Blob([a],{type:"text/plain"});if(c.size>b){c=c.size-b;return a.substr(c)}return a};c.requestWebLogString=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield d("WAWebBackendApi").frontendSendAndReceive("getWebLogs"));b=this.limitStringSize(b,30*i);this.$1.sendWebLogString(a.toString(),b)});function c(b){return a.apply(this,arguments)}return c}();return a}();g.WindowsHybridBridgeDebugFeatures_v2571=a}),98);
__d("WAWebWindowsHybridBridgeLinksPreview.v2571",["asyncToGeneratorRuntime"],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=a}var c=a.prototype;c.getPreviewAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield this.$1.getPreviewAsync(a));return a==null||a===""?null:JSON.parse(a)});function c(b){return a.apply(this,arguments)}return c}();return a}();f.WindowsHybridBridgeLinksPreview_v2571=a}),66);
__d("WAWebWindowsHybridBridgeMediaFiles.v2571",[],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=a}var b=a.prototype;b.isCachedMediaFileExist=function(a,b){return this.$1.isCachedMediaFileExist(a,b)};b.tryOpenCachedMediaFile=function(a,b){return this.$1.tryOpenCachedMediaFileFile(a,b)};b.prepareForMediaFileSaving=function(a,b,c){return this.$1.prepareForMediaFileSaving(a,b,c)};b.waitTillMediaDownloadCompletes=function(a,b,c){return this.$1.waitTillMediaDownloadCompletes(a,b,c)};b.selectFolderForBulkMediaSaving=function(){return this.$1.selectFolderForBulkMediaSaving()};b.prepareForZipArchiveSavingAndUnarchiveToFolder=function(a,b,c,d){return this.$1.prepareForZipArchiveSavingAndUnarchiveToFolder(a,b,c,d)};b.requestFileSystemDirectoryHandle=function(a){return this.$1.requestFileSystemDirectoryHandle(a)};b.tryCopyCachedMediaFile=function(a){return this.$1.tryCopyCachedMediaFile(a)};b.tryCopyCachedMediaFiles=function(a){return this.$1.tryCopyCachedMediaFiles(a)};return a}();f.WAWebWindowsHybridBridgeMediaFiles_v2571=a}),66);
__d("WAWebWindowsHybridBridgeNativeAppState.v2571",["$InternalEnum","WALogger","WAWebEventEmitter","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l=b("$InternalEnum")({Normal:"normal",MinimizedToTray:"minimizedToTray"});a=function(a,e){var f=this;this.$4=new(c("WAWebEventEmitter"))();this.$5=function(a){a=a.toString();var b=l.cast(a);b!=null?d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeNativeAppState:appStateChanged: ",""])),l.getName(b)):d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeNativeAppState:appStateChanged: invalid appStateId: ",""])),a);f.$3=b;f.$4.trigger("appStateChanged",f.isMinimizedToTray())};this.getAppState=function(){return f.$3};this.getEvents=function(){return f.$4};this.isMinimizedToTray=function(){return f.getAppState()===l.MinimizedToTray};this.takeAppLaunchTimeStamp=function(){return f.$2.takeAppLaunchTimeStamp()};this.getFirstAppRestoreTimeStamp=function(){return f.$2.getFirstAppRestoreTimeStamp()};this.getLastAppRestoreTimeStamp=function(){return f.$2.getLastAppRestoreTimeStamp()};this.detectNativeClockSkew=function(){return f.$2.detectNativeClockSkew(Date.now())};this.getAppStateAsync=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=f.$1.getAppState();a=a.toString();var b=l.cast(a);b!=null?d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeNativeAppState:getAppStateAsync: ",""])),l.getName(b)):d("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeNativeAppState:getAppStateAsync: invalid appState '","'"])),a);return b});this.$1=a;this.$2=e;this.$1.addEventListener("appStateChangedEvent",this.$5);this.$1.subscribe(null)};g.AppState_v2571=l;g.WindowsHybridBridgeNativeAppState_v2571=a}),98);
__d("WAWebWindowsHybridBridgePictures.v2571",["WAJids","WALogger","WAWebLidMigrationUtils","WAWebProfilePicThumbCollection","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;a=function(){function a(a){var c=this;this.$2=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=JSON.parse(a);for(a of a){var b;if(d("WAJids").validateGroupJid(a.id.toString())){var e=d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.get(a.id);(e==null?void 0:e.eurl)!==a.eurl&&c.$1.setProfilePictures(JSON.stringify([{eurl:e==null?void 0:e.eurl,id:a.id.toString()}]));continue}e=d("WAWebLidMigrationUtils").toPn(a.id);if(e==null){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[WindowsHybridBridgePictures] PN WID is null"])));continue}var f=d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.get(e);f==null&&e!=null&&(f=(yield d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.resyncPicturesByWid([e])));if(((b=f)==null?void 0:b.eurl)!==a.eurl){c.$1.setProfilePictures(JSON.stringify([{eurl:(b=f)==null?void 0:b.eurl,id:e.toString()}]));b=d("WAWebLidMigrationUtils").toLid(a.id);if(b==null){d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[WindowsHybridBridgePictures] LID WID is null for PN WID: ",""])),e);continue}c.$1.setProfilePictures(JSON.stringify([{eurl:(e=f)==null?void 0:e.eurl,id:b.toString()}]))}}});return function(b){return a.apply(this,arguments)}}();this.$1=a;a.addEventListener("verifyPictureEvent",this.$2);a.subscribe(null)}var c=a.prototype;c.notifyUpdate=function(a){if(a==null)return;if(d("WAJids").validateGroupJid(a.id.toString())){this.$1.setProfilePictures(JSON.stringify([{eurl:a.eurl,id:a.id.toString()}]));return}if(!a.id.isUser())return;var b=d("WAWebLidMigrationUtils").toPn(a.id),c=d("WAWebLidMigrationUtils").toLid(a.id);if(b==null){d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[WindowsHybridBridgePictures] PN WID is null"])));return}if(c==null){d("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["[WindowsHybridBridgePictures] LID WID is null for PN WID: ",""])),b);return}this.$1.setProfilePictures(JSON.stringify([{eurl:a.eurl,id:b.toString()}]));this.$1.setProfilePictures(JSON.stringify([{eurl:a.eurl,id:c.toString()}]))};return a}();g.WindowsHybridBridgePictures_v2571=a}),98);
__d("WAWebWindowsHybridBridgePreferences.v2571",["WAWebUserPrefsBase","WAWebUserPrefsKeys","WAWebUserPrefsLocalStorage","WAWebUserPrefsStore"],(function(a,b,c,d,e,f,g){var h="WANativePreferencesRevision";a=function(){function a(a){var b=this;this.$2=!1;this.$3=null;this.$4=new Set();this.initialize=function(){var a;if(b.$2)return;b.$4.add(String(d("WAWebUserPrefsKeys").UserPrefs.WindowsIsSystemTrayEnabled));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.SYSTEM_THEME_MODE));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.THEME));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.ME_DISPLAY_NAME));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LAST_PUSHNAME));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LID));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LAST_WID_MD));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LANG_FROM_PHONE));b.$4.add(String(d("WAWebUserPrefsKeys").UserPrefs.AbpropsWebRefreshId));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.ABPROPS_REFRESH_ID));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.ABPROPS));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LANG_FROM_USER));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.GLOBAL_MUTE_CALL_RINGTONE));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.GLOBAL_MUTE_CALL_NOTIFICATIONS));b.$4.add(String(d("WAWebUserPrefsKeys").UserPrefs.WindowsNotificationBannerSetting));b.$4.add(String(d("WAWebUserPrefsKeys").UserPrefs.WindowsTaskbarNotificationSetting));(a=b.$1)==null||a.addEventListener("everythingRequested",function(){var a=b.$5();b.$3!==a&&(b.$3=a,b.$6())});(a=b.$1)==null||a.subscribe(null);b.$2=!0};this.$1=a}var b=a.prototype;b.$5=function(){var a=c("WAWebUserPrefsStore").getUser(h),b=0;typeof a==="number"?b=a:typeof a==="string"&&(b=Number(a)||0);return b};b.$7=function(a){c("WAWebUserPrefsStore").setUser(h,a)};b.handleSettingChange=function(a,b){var c;if(!this.$4.has(a))return;var d=this.$5();(c=this.$1)==null||c.updateLocalSetting(a,JSON.stringify(b),++d);this.$7(d)};b.$6=function(){var a=this.$5(),b=[],e=[];for(var f of this.$4){var g=c("WAWebUserPrefsStore").getUser(f);if(g!=null){b.push(f);e.push(JSON.stringify(g));continue}g=d("WAWebUserPrefsBase").userPreferencesStoreBase.get(f);g!=null&&(b.push(f),e.push(JSON.stringify(g)));g=c("WAWebUserPrefsLocalStorage").getItemFromLocalStorage(f);g!=null&&(b.push(f),e.push(JSON.stringify(g)))}(g=this.$1)==null||g.updateAllLocalSettings(b,e,a)};b.clean=function(){var a;(a=this.$1)==null||a.clean()};return a}();g.WindowsHybridBridgePreferences_v2571=a}),98);
__d("WAWebWindowsHybridBridgeRateTheApp.v2571",["asyncToGeneratorRuntime"],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=a}var c=a.prototype;c.getStoreProductForCurrentApp=function(){return this.$1.getStoreProductForCurrentAppAsync()};c.requestRateAndApp=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield this.$1.requestRateAndReviewAppAsync());return JSON.parse(a)});function c(){return a.apply(this,arguments)}return c}();return a}();f.WAWebWindowsHybridBridgeRateTheApp_v2571=a}),66);
__d("WAWebWindowsHybridBridgeScalingControl.v2571",["WAWebWindowsScalingControlEventEmitter"],(function(a,b,c,d,e,f,g){a=function(){function a(a){this.$2=!1,this.$3=function(){c("WAWebWindowsScalingControlEventEmitter").trigger("requestZoomIn")},this.$4=function(){c("WAWebWindowsScalingControlEventEmitter").trigger("requestZoomOut")},this.$1=a}var b=a.prototype;b.initialize=function(){var a;if(this.$2)return;this.$2=!0;(a=this.$1)==null||a.addEventListener("zoomInRequested",this.$3);(a=this.$1)==null||a.addEventListener("zoomOutRequested",this.$4);(a=this.$1)==null||a.subscribe(null)};b.zoomIn=function(){this.$3()};b.zoomOut=function(){this.$4()};b.showScalingControl=function(a){var b;(b=this.$1)==null||b.showScalingControl(a)};return a}();g.WindowsHybridBridgeScalingControl_v2571=a}),98);
__d("WAWebWindowsHybridBridgeSystemIntegrations.v2571",["WAWebEventEmitter","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){a=function(){function a(a){var b=this;this.events=new(c("WAWebEventEmitter"))();this.$2=function(a){var c=a.tag,d=a.action;a=a.additionalData;b.events.trigger("MessageNotificationAction",{key:c,action:d,additionalData:a})};this.$1=a;(a=this.$1)==null||a.addEventListener("MessageNotificationActionEvent",this.$2);(a=this.$1)==null||a.subscribe(null)}var d=a.prototype;d.closeMessageNotification=function(a,b){var c;(c=this.$1)==null||c.closeMessageNotification(a,b)};d.showMessageNotification=function(a,b,c,d,e,f,g,h,i,j,k){var l;(l=this.$1)==null||l.showMessageNotification(a,b!=null?b:"",c,d,e,f!=null?f:"",g,h,i!=null?i:"",j!=null?j:"",k)};d.isNotificationEnabledInSystem=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){return this.$1==null?!1:this.$1.isNotificationEnabledInSystem()});function c(){return a.apply(this,arguments)}return c}();d.updateTaskbarBadge=function(a){this.$1.updateTaskbarBadge(a)};d.getStartupTaskState=function(){return this.$1.getStartupTaskState()};d.updateStartupTask=function(a){this.$1.updateStartupTask(a)};return a}();g.WindowsHybridBridgeSystemIntegrations_v2571=a}),98);
__d("WAWebWindowsHybridBridgeTouchpadFix.v2571",["WAWebDebounce"],(function(a,b,c,d,e,f,g){a=function(){function a(a){var b=this;this.$2=c("WAWebDebounce")(function(a){if(a.deltaX<=0)return;a=a.target;a=a;var c=!1,d=0;while(a&&a!==document.body&&d<3){var e=self.getComputedStyle(a);if((e.overflowX==="auto"||e.overflowX==="scroll")&&a.scrollWidth>a.clientWidth){c=!0;break}e=a.parentElement;if(!e)break;a=e;d++}c||b.interruptManipulations()},500);this.$1=a}var b=a.prototype;b.interruptManipulations=function(){return this.$1.interruptManipulations()};b.init=function(){document.addEventListener("wheel",this.$2,{passive:!1})};return a}();g.WindowsHybridBridgeTouchpadFix_v2571=a}),98);
__d("WAWebWindowsHybridBridgeVoip.v2571",["WABase64","WALogger","WAWebBackendApi","WAWebSerializeVoipWapNode","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L;a=function(){function a(a,b){var c=this;this.handleVoipReady=function(){var a;d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received voip ready event"])));d("WAWebBackendApi").frontendFireAndForget("addStartingLogoutListener",function(){return c.handleSignOut()});(a=c.$3)==null||a.onVoipReady()};this.sendSignalingXmpp=function(a){var b,e=a.peerJid,f=a.callId,g=a.payload;a=a.shouldEncryptBeforeSending;d("WALogger").DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received sendSignalingXmpp event: ",", ",", ",", ",""])),e,f,g,a);(b=c.$3)==null||b.onSignalingXmpp(e,f,g,a)};this.handleCallEvent=function(a){var b,e=a.eventType,f=a.userData;a=a.eventDataJson;d("WALogger").DEV(j||(j=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received handleCallEvent event: ",", ",", ",""])),e,f,a);(b=c.$3)==null||b.onCallEvent(e,f,a)};this.requestOpenChat=function(a){var b;d("WALogger").DEV(k||(k=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received requestOpenChat event: ",""])),a);(b=c.$3)==null||b.onRequestOpenChat(a)};this.requestDeviceJidList=function(a){var b;d("WALogger").DEV(l||(l=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received requestDeviceJidList event: ",""])),a);void ((b=c.$3)==null?void 0:b.onRequestDeviceJidList(a).then(function(b){var d;(d=c.$1)==null||d.handleDeviceJidList(a.toString(),b)}))};this.requestPhoneNumberJid=function(a){var b;d("WALogger").DEV(m||(m=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received requestPhoneNumberJid event: ",""])),a);void ((b=c.$3)==null||b.onRequestPhoneNumberJid==null?void 0:b.onRequestPhoneNumberJid(a).then(function(b){var d;(d=c.$1)==null||d.handlePhoneNumberJid(a.toString(),b)}))};this.requestLidJid=function(a){var b;d("WALogger").DEV(n||(n=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received requestLidJid event: ",""])),a);void ((b=c.$3)==null||b.onRequestLidJid==null?void 0:b.onRequestLidJid(a).then(function(b){var d;(d=c.$1)==null||d.handleLidJid(a.toString(),b)}))};this.callAgain=function(a){var b,e=a.peerJid;a=a.isVideoCall;d("WALogger").DEV(o||(o=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received callAgain event: ",", ",""])),e,a);(b=c.$3)==null||b.onCallAgain(e,a)};this.handleLidCallerDisplayInfo=function(a){var b;d("WALogger").DEV(p||(p=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received handleLidCallerDisplayInfo event: ",""])),a);(b=c.$3)==null||b.onLidCallerDisplayInfo(a)};this.$1=a;this.$2=b;this.$1.addEventListener("handleVoipReadyEvent",this.handleVoipReady);this.$1.addEventListener("handleVoipCallEvent",this.handleCallEvent);this.$1.addEventListener("handleSignalingXmppEvent",this.sendSignalingXmpp);this.$1.addEventListener("handleRequestOpenChatEvent",this.requestOpenChat);this.$1.addEventListener("handleRequestDeviceJidListEvent",this.requestDeviceJidList);this.$1.addEventListener("handleRequestPhoneNumberJidEvent",this.requestPhoneNumberJid);this.$1.addEventListener("handleRequestLidJidEvent",this.requestLidJid);this.$1.addEventListener("handleCallAgainEvent",this.callAgain);this.$1.addEventListener("handleLidCallerDisplayInfoEvent",this.handleLidCallerDisplayInfo);this.$1.subscribe(null)}var c=a.prototype;c.setHandlers=function(a){this.$3=a};c.cleanup=function(){this.$1.removeEventListener!=null&&(this.$1.removeEventListener("handleVoipReadyEvent",this.handleVoipReady),this.$1.removeEventListener("handleVoipCallEvent",this.handleCallEvent),this.$1.removeEventListener("handleSignalingXmppEvent",this.sendSignalingXmpp),this.$1.removeEventListener("handleRequestOpenChatEvent",this.requestOpenChat),this.$1.removeEventListener("handleRequestDeviceJidListEvent",this.requestDeviceJidList),this.$1.removeEventListener("handleRequestPhoneNumberJidEvent",this.requestPhoneNumberJid),this.$1.removeEventListener("handleRequestLidJidEvent",this.requestLidJid),this.$1.removeEventListener("handleCallAgainEvent",this.callAgain),this.$1.removeEventListener("handleLidCallerDisplayInfo",this.handleLidCallerDisplayInfo))};c.handleIncomingSignalingOffer=function(a,b,c,e,f,g,h,i,j){d("WALogger").DEV(q||(q=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleIncomingSignalingOffer called with:"]))).devConsole(arguments),this.$2.handleIncomingSignalingOffer(d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a),b,c,e,f,g,h,i,j?d("WABase64").encodeB64(j):null)};c.handleIncomingSignalingMessage=function(a,b,c,e,f,g,h,i){this.$2.handleIncomingSignalingMessage(d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a),b,c,e,f,g,h,i?d("WABase64").encodeB64(i):null)};c.handleIncomingSignalingAck=function(a,b,c,e,f){d("WALogger").DEV(r||(r=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleIncomingSignalingAck called with:"]))).devConsole(arguments),this.$2.handleIncomingSignalingAck(d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a),b,c,e,f?d("WABase64").encodeB64(f):null)};c.handleIncomingSignalingReceipt=function(a,b,c){d("WALogger").DEV(s||(s=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleIncomingSignalingReceipt called with:"]))).devConsole(arguments),this.$2.handleIncomingSignalingReceipt(d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a),b,c?d("WABase64").encodeB64(c):null)};c.resendOfferOnDecryptionFailure=function(a,b){d("WALogger").DEV(t||(t=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] resendOfferOnDecryptionFailure called with:"]))).devConsole(arguments),this.$2.resendOfferOnDecryptionFailure(a,b)};c.resendEncRekeyRetry=function(a,b){d("WALogger").DEV(u||(u=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] resendEncRekeyRetry called with:"]))).devConsole(arguments),this.$2.resendEncRekeyRetry(a,b)};c.notifyDeviceIdentityChangedOrDeleted=function(a,b){d("WALogger").DEV(v||(v=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] notifyDeviceIdentityChangedOrDeleted called with:"]))).devConsole(arguments),this.$2.notifyDeviceIdentityChangedOrDeleted(a,b)};c.handleWebViewReady=function(){var a;d("WALogger").DEV(w||(w=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleWebViewReady called"])));(a=this.$1)==null||a.handleWebViewReady()};c.voipInit=function(a,b,c){var e;d("WALogger").DEV(x||(x=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] voipInit called with:"]))).devConsole(arguments);(e=this.$1)==null||e.voipInit(a,b,c)};c.setHideMyIp=function(a){var b;d("WALogger").DEV(y||(y=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] setHideMyIp called with:"]))).devConsole(arguments);(b=this.$1)==null||b.setHideMyIp(a)};c.setChatNameAndIcon=function(a,b,c){var e;d("WALogger").DEV(z||(z=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] setChatNameAndIcon called"])));(e=this.$1)==null||e.setChatNameAndIcon(a,b,c)};c.handleSignOut=function(){var a;d("WALogger").DEV(A||(A=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleSignOut called"])));(a=this.$1)==null||a.handleSignOut()};c.startCall=function(a,b,c,e,f,g,h,i,j,k,l){var m;d("WALogger").DEV(B||(B=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] startCall called with:"]))).devConsole(arguments);(m=this.$1)==null||m.startCall(a.toString({legacy:!0}),b,c,e,f,g,h,i?d("WABase64").encodeB64(i):null,j,k)};c.startGroupCall=function(a,b,c,e,f,g,h,i,j,k,l,m,n,o){var p;d("WALogger").DEV(C||(C=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] startGroupCall called with:"]))).devConsole(arguments);(p=this.$1)==null||p.startGroupCall(a,b,c,e,f,g,h,i,j,k,l,m,n)};c.handleDeviceJidList=function(a,b){var c;d("WALogger").DEV(D||(D=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleDeviceJidList called with:"]))).devConsole(arguments);(c=this.$1)==null||c.handleDeviceJidList(a,b)};c.previewCallLink=function(a,b,c,e,f){var g;d("WALogger").DEV(E||(E=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] previewCallLink called with:"]))).devConsole(arguments);(g=this.$1)==null||g.previewCallLink(a,b,c)};c.previewAndJoinCallLink=function(a,b,c,e,f){var g;d("WALogger").DEV(F||(F=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] previewAndJoinCallLink called with:"]))).devConsole(arguments);(g=this.$1)==null||g.previewAndJoinCallLink(a,b,c)};c.endCall=function(a,b){var c;d("WALogger").DEV(G||(G=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] endCall called with:"]))).devConsole(arguments);(c=this.$1)==null||c.endCall(a,b)};c.rejectCallWithoutCallContext=function(a,b,c,e,f,g,h){var i;d("WALogger").DEV(H||(H=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] rejectCallWithoutCallContext called with:"]))).devConsole(arguments);(i=this.$1)==null||i.rejectCallWithoutCallContext(a,b,c,e,f,g,h)};c.joinOngoingCall=function(a,b,c,e,f,g,h,i,j,k,l,m,n,o,p,q){var r;d("WALogger").DEV(I||(I=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] joinOngoingCall called with:"]))).devConsole(arguments);(r=this.$1)==null||r.joinOngoingCall(a,b,c,e,f,g,h,i,j,k,l,m,n,o,p,q)};c.inviteToCall=function(a,b,c){};c.requestCallInfo=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WALogger").DEV(J||(J=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] requestCallInfo called with:"]))).devConsole(arguments);var a=(yield this.$1.getCallInfo()),b=a.callInfoJsonBase64,c=a.error;return{callInfoJsonBase64:b,error:c}});function c(){return a.apply(this,arguments)}return c}();c.requestObtainDevicePermissionAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("WALogger").DEV(K||(K=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] requestObtainDevicePermissionAsync called with:"]))).devConsole(arguments);var b=(yield this.$1.requestObtainDevicePermissionAsync(a)),c=b.error,e=b.permissionGranted;return{error:c,permissionGranted:e}});function c(b){return a.apply(this,arguments)}return c}();c.requestDevicesCountAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("WALogger").DEV(L||(L=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] requestDevicesCountAsync called with:"]))).devConsole(arguments);var b=(yield this.$1.getDeviceCountAsync(a)),c=b.error,e=b.deviceCount;return{error:c,deviceCount:e}});function c(b){return a.apply(this,arguments)}return c}();return a}();g.VoipWinRTBridge_v2571=a}),98);
__d("WAWebWindowsHybridBridgeWam.v2571",["Promise","WALogger","WAWebWamCodegenWamEvent"],(function(a,b,c,d,e,f,g){var h,i,j;a=function(a){var c=this;this.$2=!1;this.initialize=function(){var a;if(c.$2)return;(a=c.$1)==null||a.addEventListener("eventsSaved",c.handleEvents);(a=c.$1)==null||a.subscribe(null);c.$2=!0};this.handleEvents=function(a){if(!c.$2){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received handleWamEvent while bridge is not initialized"])));return}d("WALogger").DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received handleWamEvent event: ",""])),a);a=JSON.parse(a);void (j||(j=b("Promise"))).all(a.map(function(a){return new(d("WAWebWamCodegenWamEvent").RawWamEvent)(a).commitAndWaitForFlush(!0)}))};this.$1=a};g.WindowsHybridBridgeWam_v2571=a}),98);
__d("WindowsHybridBridgeBrowserExtensions.v2571",["asyncToGeneratorRuntime"],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=a}var c=a.prototype;c.getBrowserExtensionsInfoAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield this.$1.getBrowserExtensionsInfoAsync());return JSON.parse(a)});function c(){return a.apply(this,arguments)}return c}();c.enableBrowserExtensionAsync=function(a,b){return this.$1.enableBrowserExtensionAsync(a,b)};c.removeBrowserExtensionAsync=function(a){return this.$1.removeBrowserExtensionAsync(a)};c.hasBootstrappedSuccessfully=function(){return this.$1.hasBootstrappedSuccessfully()};c.getZoomBrowserExtensionInfoAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield this.$1.getZoomBrowserExtensionInfoAsync());return JSON.parse(a)});function c(){return a.apply(this,arguments)}return c}();c.enableZoomBrowserExtensionAsync=function(a){return this.$1.enableZoomBrowserExtensionAsync(a)};c.removeZoomBrowserExtensionAsync=function(){return this.$1.removeZoomBrowserExtensionAsync()};c.installZoomBrowserExtensionAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield this.$1.installZoomBrowserExtensionAsync());return JSON.parse(a)});function c(){return a.apply(this,arguments)}return c}();return a}();f.WindowsHybridBridgeBrowserExtensions_v2571=a}),66);
__d("WAWebWindowsHybridBridge.v2571",["WAWebWindowsHybridAppActivationBridge.v2571","WAWebWindowsHybridBridgeAbProps.v2571","WAWebWindowsHybridBridgeConnection.v2571","WAWebWindowsHybridBridgeContacts.v2571","WAWebWindowsHybridBridgeDebugFeatures.v2571","WAWebWindowsHybridBridgeLinksPreview.v2571","WAWebWindowsHybridBridgeMediaFiles.v2571","WAWebWindowsHybridBridgeNativeAppState.v2571","WAWebWindowsHybridBridgePictures.v2571","WAWebWindowsHybridBridgePreferences.v2571","WAWebWindowsHybridBridgeRateTheApp.v2571","WAWebWindowsHybridBridgeScalingControl.v2571","WAWebWindowsHybridBridgeSystemIntegrations.v2571","WAWebWindowsHybridBridgeTouchpadFix.v2571","WAWebWindowsHybridBridgeVoip.v2571","WAWebWindowsHybridBridgeWam.v2571","WindowsHybridBridgeBrowserExtensions.v2571","cr:17220"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.seamlessMigrationBridge=null;this.mediaTranscodeBridge=null;this.adv=null;this.sharesheetBridge=null;this.serverEncKeySaltBridge=null;a.hostObjects.options.defaultSyncProxy=!0;a.hostObjects.options.forceAsyncMethodMatches=[/Async$/,/AsyncWithSpeller$/];a.hostObjects.options.ignoreMemberNotFoundError=!0;var c=a.hostObjects.AbPropsBridge;c!=null&&(this.abProps=new(d("WAWebWindowsHybridBridgeAbProps.v2571").WindowsHybridBridgeAbProps_v2571)(c));c=a.hostObjects.WamBridge;c!=null&&(this.wam=new(d("WAWebWindowsHybridBridgeWam.v2571").WindowsHybridBridgeWam_v2571)(c));c=a.hostObjects.PreferencesBridge;c&&(this.$1=new(d("WAWebWindowsHybridBridgePreferences.v2571").WindowsHybridBridgePreferences_v2571)(c));c=a.hostObjects.ScalingControlBridge;c&&(this.scalingControl=new(d("WAWebWindowsHybridBridgeScalingControl.v2571").WindowsHybridBridgeScalingControl_v2571)(c));c=a.hostObjects.PicturesBridge;c&&(this.pictures=new(d("WAWebWindowsHybridBridgePictures.v2571").WindowsHybridBridgePictures_v2571)(c));c=a.hostObjects.DebugFeaturesBridge;var e=b("cr:17220")==null?void 0:b("cr:17220").debugFeaturesMock;c!=null?this.$4=new(d("WAWebWindowsHybridBridgeDebugFeatures.v2571").WindowsHybridBridgeDebugFeatures_v2571)(c):e!=null;c=a.hostObjects.VoipBridge;e=a.hostObjects.VoipSignalingBridge;c&&e&&(this.voip=new(d("WAWebWindowsHybridBridgeVoip.v2571").VoipWinRTBridge_v2571)(c,e));this.$5=new(d("WAWebWindowsHybridBridgeRateTheApp.v2571").WAWebWindowsHybridBridgeRateTheApp_v2571)(a.hostObjects.RateAppBridge);this.$3=new(d("WAWebWindowsHybridBridgeConnection.v2571").WindowsHybridBridgeConnection_v2571)(a.hostObjects.ConnectionBridge);this.$2=a.hostObjects.ClientKeyBridge;this.touchpadFix=new(d("WAWebWindowsHybridBridgeTouchpadFix.v2571").WindowsHybridBridgeTouchpadFix_v2571)(a.hostObjects.TouchpadFix);this.linksPreview=new(d("WAWebWindowsHybridBridgeLinksPreview.v2571").WindowsHybridBridgeLinksPreview_v2571)(a.hostObjects.LinksPreviewBridge);try{c=a.hostObjects.sync.PopulatedContactsBridge;e=a.hostObjects.PopulatedContactsBridge;e!=null&&(this.contacts=new(d("WAWebWindowsHybridBridgeContacts.v2571").WindowsHybridBridgeContacts_v2571)(e,c,!0))}catch(b){e=a.hostObjects.ContactsBridge;e!=null&&(this.contacts=new(d("WAWebWindowsHybridBridgeContacts.v2571").WindowsHybridBridgeContacts_v2571)(e,a.hostObjects.sync.ContactsBridge,!1))}this.sqlite=a.hostObjects.SQLiteBridge;c=a.hostObjects.MediaFilesBridge;c!=null&&(this.mediaFiles=new(d("WAWebWindowsHybridBridgeMediaFiles.v2571").WAWebWindowsHybridBridgeMediaFiles_v2571)(c));e=a.hostObjects.AppActivationBridge;e!=null&&(this.appActivationBridge=new(d("WAWebWindowsHybridAppActivationBridge.v2571").WindowsHybridAppActivationBridge_v2571)(e));c=a.hostObjects.NativeAppStateBridge;e=a.hostObjects.sync.NativeAppStateBridge;c!=null&&(this.nativeAppStateBridge=new(d("WAWebWindowsHybridBridgeNativeAppState.v2571").WindowsHybridBridgeNativeAppState_v2571)(c,e));c=a.hostObjects.SystemIntegrationsBridge;c&&(this.systemIntegrationsBridge=new(d("WAWebWindowsHybridBridgeSystemIntegrations.v2571").WindowsHybridBridgeSystemIntegrations_v2571)(c));e=a.hostObjects.BrowserExtensionsBridge;e&&(this.browserExtensionsBridge=new(d("WindowsHybridBridgeBrowserExtensions.v2571").WindowsHybridBridgeBrowserExtensions_v2571)(e))}var c=a.prototype;c.getPreferences=function(){var a;(a=this.$1)==null||a.initialize();return this.$1};c.getScalingControl=function(){var a;(a=this.scalingControl)==null||a.initialize();return this.scalingControl};c.getRateTheApp=function(){return this.$5};c.getClientKeyBridge=function(){return this.$2};c.getDebugFeatures=function(){return this.$4};return a}();g.WindowsHybridBridge_v2571=a}),98);
__d("WAWebWindowsHybridAppActivationBridge.v2572",["WAWebApi","WAWebApiParse","WAWebExecApiCmd"],(function(a,b,c,d,e,f,g){a=function(){function a(a){this.handleAppActivationViaProtocolEvent=function(a){a=a.toString();a=d("WAWebApiParse").parseAPICmd(a);a.resultType!==d("WAWebApi").APICmd.INVALID&&c("WAWebExecApiCmd")({cmdData:a,isExternal:!0})};this.$1=a;(a=this.$1)==null||a.addEventListener("handleAppActivationViaProtocolEvent",this.handleAppActivationViaProtocolEvent);this.$1.subscribe(null)}var b=a.prototype;b.initialize=function(){};b.cleanup=function(){var a;(a=this.$1)==null||a.removeEventListener("handleAppActivationViaProtocolEvent",this.handleAppActivationViaProtocolEvent)};return a}();g.WindowsHybridAppActivationBridge_v2572=a}),98);
__d("WAWebWindowsHybridBridgeAbProps.v2572",["WALogger","WAWebABPropsCache","WAWebABPropsLocalStorage","WAWebBackendApi","WAWebHybridABProps","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h;a=function(){function a(a){var c=this;this.$2=!1;this.$4=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b;c.$3==null&&(c.$3=d("WAWebHybridABProps").getAllHybridExpoKeys());a=a.toString();b=(b=c.$3)==null?void 0:b.get(a);if(b==null){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[abprops][windows hybrid] unknown exposure key: ",""])),a);return}d("WAWebABPropsCache").saveExposure(b);c.$1.acknowledgeExposure(a)});return function(b){return a.apply(this,arguments)}}();this.$5=function(a){c.$3=null;var b=d("WAWebABPropsLocalStorage").getABKey();if(a!==b){a=d("WAWebHybridABProps").getAllHybridAbProps(!1);c.$1.setConfigs(b,JSON.stringify(a))}};this.$1=a}var c=a.prototype;c.initialize=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=this;if(this.$2)return;this.$2=!0;yield d("WAWebABPropsCache").waitForABPropConfigsReady();this.$1.addEventListener("exposureLogged",this.$4);this.$1.subscribe(null);var b=(yield this.$1.getVersion());d("WAWebBackendApi").frontendFireAndForget("addAbPropsUpdateListener",function(){a.$5(null)});this.$5(b)});function c(){return a.apply(this,arguments)}return c}();return a}();g.WindowsHybridBridgeAbProps_v2572=a}),98);
__d("WAWebWindowsHybridBridgeConnection.v2572",["WAComms","WACustomError","WALogger","WAPromiseTimeout","WAResolvable","WAWebCallCollection","WAWebEventsWaitForMainStreamReadyMd","WAWebEventsWaitForOfflineDeliveryEnd","WAWebSetWindowsPushConfig","WAWebSocketConstants","WAWebSocketModel","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w;a=function(){function a(a){var e=this;this.$2=!1;this.$3=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.data.toString();a=(a=a.channel)==null?void 0:a.toString();d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleUpdateNotificationsTokenEvent"]))).devConsole(b,a);yield c("WAWebEventsWaitForMainStreamReadyMd")();yield d("WAWebSetWindowsPushConfig").setWindowsPushConfig(b,a);e.$1.handleConnectionState(!0);e.$1.acknowledgeNotificationsToken(b,a)});return function(b){return a.apply(this,arguments)}}();this.$4=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent"])));try{var a;if(!e.$2&&(((a=d("WAComms").getComms())==null?void 0:a.socket)==null||d("WAWebSocketModel").Socket.stream===d("WAWebSocketConstants").SOCKET_STREAM.DISCONNECTED)){d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: socket already closed"])));e.$1.handleConnectionState(!1);return}try{yield d("WAPromiseTimeout").promiseTimeout(e.$6(),6e4),d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: offline resume complete"])))}catch(a){if(a instanceof d("WACustomError").TimeoutError)d("WALogger").LOG(l||(l=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: offline resume timeout"])));else throw a}if(c("WAWebCallCollection").activeCall!=null){d("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["voip: WindowsHybridBridgeConnection:handleDisconnectEvent: awaiting active call completion"])));var b=new(d("WAResolvable").Resolvable)();a=function(){c("WAWebCallCollection").activeCall==null&&b.resolve()};c("WAWebCallCollection").on("change:activeCall",a);yield b.promise;c("WAWebCallCollection").off("change:activeCall",a);d("WALogger").LOG(n||(n=babelHelpers.taggedTemplateLiteralLoose(["voip: WindowsHybridBridgeConnection:handleDisconnectEvent: active call completed"])))}else d("WALogger").LOG(o||(o=babelHelpers.taggedTemplateLiteralLoose(["voip: WindowsHybridBridgeConnection:handleDisconnectEvent: no active call"])));d("WAComms").closeSocketAndPause();d("WALogger").LOG(p||(p=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: socket closed"])));e.$1.handleConnectionState(!1)}catch(a){d("WALogger").ERROR(q||(q=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: failed to close socket: ",""])),a)}});this.$5=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WALogger").LOG(r||(r=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection.handleConnectEvent"])));if(e.$2){d("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleConnectEvent: socket already opening"])));return}try{var a;a=((a=d("WAComms").getComms())==null?void 0:a.socket)!=null;a||(e.$2=!0,d("WAComms").closeSocketAndResume(),d("WALogger").LOG(t||(t=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleConnectEvent: socket opened"]))));yield e.$6();d("WALogger").LOG(u||(u=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleConnectEvent: offline resume complete"])));e.$1.handleConnectionState(!0)}catch(a){d("WALogger").ERROR(v||(v=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleConnectEvent: failed to open socket: ",""])),a)}finally{e.$2=!1}});this.$1=a;this.$1.addEventListener("updateNotificationsTokenEvent",this.$3);this.$1.addEventListener("disconnectEvent",this.$4);this.$1.addEventListener("connectEvent",this.$5);this.$1.subscribe(null)}var e=a.prototype;e.$6=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield d("WAComms").waitForConnection(),d("WAWebEventsWaitForOfflineDeliveryEnd").isOfflineDeliveryEnd()||(d("WALogger").LOG(w||(w=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:waitForOfflineResume"]))),yield d("WAWebEventsWaitForOfflineDeliveryEnd").waitForOfflineDeliveryEnd())});function c(){return a.apply(this,arguments)}return c}();return a}();g.WindowsHybridBridgeConnection_v2572=a}),98);
__d("WAWebWindowsHybridBridgeContacts.v2572",["WALogger","WAWebBackendApi","WAWebContactsDbLidMigrationUtils","WAWebEventsWaitForMainStreamReadyMd","WAWebLidAwareContactsDB","WAWebSchemaContact_DO_NOT_USE_DIRECTLY","WAWebSyncBootstrap","asyncToGeneratorRuntime","filterNulls"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a,e,f){var g=this;this.$4="contacts";this.$5=new Set();this.$6=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=JSON.parse(a);if(a.length===0)return;a.forEach(function(a){return g.$5.add(a)});var b=(yield c("WAWebLidAwareContactsDB").bulkGet(a));b.forEach(function(a){return g.$5["delete"](a==null?void 0:a.id)});a=a.filter(function(a){return g.$5.has(a)});a.forEach(function(a){return g.$5["delete"](a)});void g.$1.updateContacts(a,JSON.stringify(c("filterNulls")(b)))});return function(b){return a.apply(this,arguments)}}();this.$7=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.count;a=a.includeVoipCallableOnly;try{b=(yield d("WAWebBackendApi").frontendSendAndReceive("getFrequentContacts",{count:b,includeVoipCallableOnly:a}));a=JSON.stringify(b);void g.$1.receiveFrequentContacts(a)}catch(a){void g.$1.receiveFrequentContacts(JSON.stringify([]))}});return function(b){return a.apply(this,arguments)}}();this.$1=a;this.$2=e;this.$3=f;a.addEventListener("requestUpdateEvent",this.$6);a.addEventListener("requestFrequentContactsEvent",this.$7);a.subscribe(null)}var e=a.prototype;e.initialize=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=this;c("WAWebLidAwareContactsDB").setUpdateListener(function(b){return a.$8(b)});yield c("WAWebEventsWaitForMainStreamReadyMd")();if(this.$3)return;if(c("WAWebSyncBootstrap").isSyncDBootstrapInProcess())return;this.$3=!0;try{var b=200,e=(yield d("WAWebSchemaContact_DO_NOT_USE_DIRECTLY").getContactTable().all({limit:b,offset:0}));do{var f;f=(f=e[e.length-1])==null?void 0:f.id;e=(yield d("WAWebContactsDbLidMigrationUtils").replacePnRowsWithLidData(e));yield this.$1.updateContacts([],JSON.stringify(e));e=(yield d("WAWebSchemaContact_DO_NOT_USE_DIRECTLY").getContactTable().greaterThan(["id"],f,{limit:b}))}while(e.length>0);this.$1.acknowledgeInitialSync()}catch(a){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[WinUi] setInitialData "," error ",""])),this.$4,a)}});function e(){return a.apply(this,arguments)}return e}();e.$8=function(a){var b=this;if(!this.$3)return;a=a.filter(function(a){return!b.$5.has(a)});if(a.length===0)return;a.forEach(function(a){return b.$5.add(a)});this.$2.invalidateContacts(a)};return a}();g.WindowsHybridBridgeContacts_v2572=a}),98);
__d("WAWebWindowsHybridBridgeDebugFeatures.v2572",["WALogger","WAWebBackendApi","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i=1e3;a=function(){function a(a){var b=this;this.$2=null;this.ping=function(a){var c,e=self.performance.now();c=(e-((c=b.$2)!=null?c:e)).toFixed(0);b.$2=e;d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeDebugFeatures:ping:"," diff:","ms"])),a,c);b.$1.pong(a.valueOf())};this.$1=a;(a=this.$1)==null||a.addEventListener("jsLogs",function(){b.saveJSLogs()});(a=this.$1)==null||a.addEventListener("requestWebLogStringEvent",function(a){void b.requestWebLogString(a)});(a=this.$1)==null||a.addEventListener("pingEvent",this.ping);this.$1.subscribe(null)}var c=a.prototype;c.startHangsMonitor=function(){this.$1.startHangsMonitor()};c.saveNativeLogs=function(){this.$1.saveNativeLogs()};c.requestNativeLogs=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){return this.$1.requestNativeLogs()});function c(){return a.apply(this,arguments)}return c}();c.saveJSLogs=function(){d("WAWebBackendApi").frontendFireAndForget("createDownloadDataForMdWebLogs")};c.limitStringSize=function(a,b){var c=new Blob([a],{type:"text/plain"});if(c.size>b){c=c.size-b;return a.substr(c)}return a};c.requestWebLogString=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield d("WAWebBackendApi").frontendSendAndReceive("getWebLogs"));b=this.limitStringSize(b,30*i);this.$1.sendWebLogString(a.toString(),b)});function c(b){return a.apply(this,arguments)}return c}();return a}();g.WindowsHybridBridgeDebugFeatures_v2572=a}),98);
__d("WAWebWindowsHybridBridgeLinksPreview.v2572",["asyncToGeneratorRuntime"],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=a}var c=a.prototype;c.getPreviewAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield this.$1.getPreviewAsync(a));return a==null||a===""?null:JSON.parse(a)});function c(b){return a.apply(this,arguments)}return c}();return a}();f.WindowsHybridBridgeLinksPreview_v2572=a}),66);
__d("WAWebWindowsHybridBridgeMediaFiles.v2572",[],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=a}var b=a.prototype;b.isCachedMediaFileExist=function(a,b){return this.$1.isCachedMediaFileExist(a,b)};b.tryOpenCachedMediaFile=function(a,b){return this.$1.tryOpenCachedMediaFileFile(a,b)};b.prepareForMediaFileSaving=function(a,b,c){return this.$1.prepareForMediaFileSaving(a,b,c)};b.waitTillMediaDownloadCompletes=function(a,b,c){return this.$1.waitTillMediaDownloadCompletes(a,b,c)};b.selectFolderForBulkMediaSaving=function(){return this.$1.selectFolderForBulkMediaSaving()};b.prepareForZipArchiveSavingAndUnarchiveToFolder=function(a,b,c,d){return this.$1.prepareForZipArchiveSavingAndUnarchiveToFolder(a,b,c,d)};b.requestFileSystemDirectoryHandle=function(a){return this.$1.requestFileSystemDirectoryHandle(a)};b.tryCopyCachedMediaFile=function(a){return this.$1.tryCopyCachedMediaFile(a)};b.tryCopyCachedMediaFiles=function(a){return this.$1.tryCopyCachedMediaFiles(a)};return a}();f.WAWebWindowsHybridBridgeMediaFiles_v2572=a}),66);
__d("WAWebWindowsHybridBridgeNativeAppState.v2572",["$InternalEnum","WALogger","WAWebEventEmitter","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l=b("$InternalEnum")({Normal:"normal",MinimizedToTray:"minimizedToTray"});a=function(a,e){var f=this;this.$4=new(c("WAWebEventEmitter"))();this.$5=function(a){a=a.toString();var b=l.cast(a);b!=null?d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeNativeAppState:appStateChanged: ",""])),l.getName(b)):d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeNativeAppState:appStateChanged: invalid appStateId: ",""])),a);f.$3=b;f.$4.trigger("appStateChanged",f.isMinimizedToTray())};this.getAppState=function(){return f.$3};this.getEvents=function(){return f.$4};this.isMinimizedToTray=function(){return f.getAppState()===l.MinimizedToTray};this.takeAppLaunchTimeStamp=function(){return f.$2.takeAppLaunchTimeStamp()};this.getFirstAppRestoreTimeStamp=function(){return f.$2.getFirstAppRestoreTimeStamp()};this.getLastAppRestoreTimeStamp=function(){return f.$2.getLastAppRestoreTimeStamp()};this.detectNativeClockSkew=function(){return f.$2.detectNativeClockSkew(Date.now())};this.getAppStateAsync=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=f.$1.getAppState();a=a.toString();var b=l.cast(a);b!=null?d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeNativeAppState:getAppStateAsync: ",""])),l.getName(b)):d("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeNativeAppState:getAppStateAsync: invalid appState '","'"])),a);return b});this.$1=a;this.$2=e;this.$1.addEventListener("appStateChangedEvent",this.$5);this.$1.subscribe(null)};g.AppState_v2572=l;g.WindowsHybridBridgeNativeAppState_v2572=a}),98);
__d("WAWebWindowsHybridBridgePictures.v2572",["WAJids","WALogger","WAWebLidMigrationUtils","WAWebProfilePicThumbCollection","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;a=function(){function a(a){var c=this;this.$2=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=JSON.parse(a);for(a of a){var b;if(d("WAJids").validateGroupJid(a.id.toString())){var e=d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.get(a.id);(e==null?void 0:e.eurl)!==a.eurl&&c.$1.setProfilePictures(JSON.stringify([{eurl:e==null?void 0:e.eurl,id:a.id.toString()}]));continue}e=d("WAWebLidMigrationUtils").toPn(a.id);if(e==null){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[WindowsHybridBridgePictures] PN WID is null"])));continue}var f=d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.get(e);f==null&&e!=null&&(f=(yield d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.resyncPicturesByWid([e])));if(((b=f)==null?void 0:b.eurl)!==a.eurl){c.$1.setProfilePictures(JSON.stringify([{eurl:(b=f)==null?void 0:b.eurl,id:e.toString()}]));b=d("WAWebLidMigrationUtils").toLid(a.id);if(b==null){d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[WindowsHybridBridgePictures] LID WID is null for PN WID: ",""])),e);continue}c.$1.setProfilePictures(JSON.stringify([{eurl:(e=f)==null?void 0:e.eurl,id:b.toString()}]))}}});return function(b){return a.apply(this,arguments)}}();this.$1=a;a.addEventListener("verifyPictureEvent",this.$2);a.subscribe(null)}var c=a.prototype;c.notifyUpdate=function(a){if(a==null)return;if(d("WAJids").validateGroupJid(a.id.toString())){this.$1.setProfilePictures(JSON.stringify([{eurl:a.eurl,id:a.id.toString()}]));return}if(!a.id.isUser())return;var b=d("WAWebLidMigrationUtils").toPn(a.id),c=d("WAWebLidMigrationUtils").toLid(a.id);if(b==null){d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[WindowsHybridBridgePictures] PN WID is null"])));return}if(c==null){d("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["[WindowsHybridBridgePictures] LID WID is null for PN WID: ",""])),b);return}this.$1.setProfilePictures(JSON.stringify([{eurl:a.eurl,id:b.toString()}]));this.$1.setProfilePictures(JSON.stringify([{eurl:a.eurl,id:c.toString()}]))};return a}();g.WindowsHybridBridgePictures_v2572=a}),98);
__d("WAWebWindowsHybridBridgePreferences.v2572",["WAWebUserPrefsBase","WAWebUserPrefsKeys","WAWebUserPrefsLocalStorage","WAWebUserPrefsStore"],(function(a,b,c,d,e,f,g){var h="WANativePreferencesRevision";a=function(){function a(a){var b=this;this.$2=!1;this.$3=null;this.$4=new Set();this.initialize=function(){var a;if(b.$2)return;b.$4.add(String(d("WAWebUserPrefsKeys").UserPrefs.WindowsIsSystemTrayEnabled));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.SYSTEM_THEME_MODE));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.THEME));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.ME_DISPLAY_NAME));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LAST_PUSHNAME));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LID));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LAST_WID_MD));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LANG_FROM_PHONE));b.$4.add(String(d("WAWebUserPrefsKeys").UserPrefs.AbpropsWebRefreshId));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.ABPROPS_REFRESH_ID));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.ABPROPS));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LANG_FROM_USER));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.GLOBAL_MUTE_CALL_RINGTONE));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.GLOBAL_MUTE_CALL_NOTIFICATIONS));b.$4.add(String(d("WAWebUserPrefsKeys").UserPrefs.WindowsNotificationBannerSetting));b.$4.add(String(d("WAWebUserPrefsKeys").UserPrefs.WindowsTaskbarNotificationSetting));(a=b.$1)==null||a.addEventListener("everythingRequested",function(){var a=b.$5();b.$3!==a&&(b.$3=a,b.$6())});(a=b.$1)==null||a.subscribe(null);b.$2=!0};this.$1=a}var b=a.prototype;b.$5=function(){var a=c("WAWebUserPrefsStore").getUser(h),b=0;typeof a==="number"?b=a:typeof a==="string"&&(b=Number(a)||0);return b};b.$7=function(a){c("WAWebUserPrefsStore").setUser(h,a)};b.handleSettingChange=function(a,b){var c;if(!this.$4.has(a))return;var d=this.$5();(c=this.$1)==null||c.updateLocalSetting(a,JSON.stringify(b),++d);this.$7(d)};b.$6=function(){var a=this.$5(),b=[],e=[];for(var f of this.$4){var g=c("WAWebUserPrefsStore").getUser(f);if(g!=null){b.push(f);e.push(JSON.stringify(g));continue}g=d("WAWebUserPrefsBase").userPreferencesStoreBase.get(f);g!=null&&(b.push(f),e.push(JSON.stringify(g)));g=c("WAWebUserPrefsLocalStorage").getItemFromLocalStorage(f);g!=null&&(b.push(f),e.push(JSON.stringify(g)))}(g=this.$1)==null||g.updateAllLocalSettings(b,e,a)};b.clean=function(){var a;(a=this.$1)==null||a.clean()};return a}();g.WindowsHybridBridgePreferences_v2572=a}),98);
__d("WAWebWindowsHybridBridgeRateTheApp.v2572",["asyncToGeneratorRuntime"],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=a}var c=a.prototype;c.getStoreProductForCurrentApp=function(){return this.$1.getStoreProductForCurrentAppAsync()};c.requestRateAndApp=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield this.$1.requestRateAndReviewAppAsync());return JSON.parse(a)});function c(){return a.apply(this,arguments)}return c}();return a}();f.WAWebWindowsHybridBridgeRateTheApp_v2572=a}),66);
__d("WAWebWindowsHybridBridgeScalingControl.v2572",["WAWebWindowsScalingControlEventEmitter"],(function(a,b,c,d,e,f,g){a=function(){function a(a){this.$2=!1,this.$3=function(){c("WAWebWindowsScalingControlEventEmitter").trigger("requestZoomIn")},this.$4=function(){c("WAWebWindowsScalingControlEventEmitter").trigger("requestZoomOut")},this.$1=a}var b=a.prototype;b.initialize=function(){var a;if(this.$2)return;this.$2=!0;(a=this.$1)==null||a.addEventListener("zoomInRequested",this.$3);(a=this.$1)==null||a.addEventListener("zoomOutRequested",this.$4);(a=this.$1)==null||a.subscribe(null)};b.zoomIn=function(){this.$3()};b.zoomOut=function(){this.$4()};b.showScalingControl=function(a){var b;(b=this.$1)==null||b.showScalingControl(a)};return a}();g.WindowsHybridBridgeScalingControl_v2572=a}),98);
__d("WAWebWindowsHybridBridgeSystemIntegrations.v2572",["WAWebEventEmitter","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){a=function(){function a(a){var b=this;this.events=new(c("WAWebEventEmitter"))();this.$2=function(a){var c=a.tag,d=a.action;a=a.additionalData;b.events.trigger("MessageNotificationAction",{key:c,action:d,additionalData:a})};this.$1=a;(a=this.$1)==null||a.addEventListener("MessageNotificationActionEvent",this.$2);(a=this.$1)==null||a.subscribe(null)}var d=a.prototype;d.closeMessageNotification=function(a,b){var c;(c=this.$1)==null||c.closeMessageNotification(a,b)};d.showMessageNotification=function(a,b,c,d,e,f,g,h,i,j,k){var l;(l=this.$1)==null||l.showMessageNotification(a,b!=null?b:"",c,d,e,f!=null?f:"",g,h,i!=null?i:"",j!=null?j:"",k)};d.isNotificationEnabledInSystem=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){return this.$1==null?!1:this.$1.isNotificationEnabledInSystem()});function c(){return a.apply(this,arguments)}return c}();d.updateTaskbarBadge=function(a){this.$1.updateTaskbarBadge(a)};d.getStartupTaskState=function(){return this.$1.getStartupTaskState()};d.updateStartupTask=function(a){this.$1.updateStartupTask(a)};return a}();g.WindowsHybridBridgeSystemIntegrations_v2572=a}),98);
__d("WAWebWindowsHybridBridgeTouchpadFix.v2572",["WAWebDebounce"],(function(a,b,c,d,e,f,g){a=function(){function a(a){var b=this;this.$2=c("WAWebDebounce")(function(a){if(a.deltaX<=0)return;a=a.target;a=a;var c=!1,d=0;while(a&&a!==document.body&&d<3){var e=self.getComputedStyle(a);if((e.overflowX==="auto"||e.overflowX==="scroll")&&a.scrollWidth>a.clientWidth){c=!0;break}e=a.parentElement;if(!e)break;a=e;d++}c||b.interruptManipulations()},500);this.$1=a}var b=a.prototype;b.interruptManipulations=function(){return this.$1.interruptManipulations()};b.init=function(){document.addEventListener("wheel",this.$2,{passive:!1})};return a}();g.WindowsHybridBridgeTouchpadFix_v2572=a}),98);
__d("WAWebWindowsHybridBridgeVoip.v2572",["WABase64","WALogger","WAWebBackendApi","WAWebSerializeVoipWapNode","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L;a=function(){function a(a,b){var c=this;this.handleVoipReady=function(){var a;d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received voip ready event"])));d("WAWebBackendApi").frontendFireAndForget("addStartingLogoutListener",function(){return c.handleSignOut()});(a=c.$3)==null||a.onVoipReady()};this.sendSignalingXmpp=function(a){var b,e=a.peerJid,f=a.callId,g=a.payload;a=a.shouldEncryptBeforeSending;d("WALogger").DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received sendSignalingXmpp event: ",", ",", ",", ",""])),e,f,g,a);(b=c.$3)==null||b.onSignalingXmpp(e,f,g,a)};this.handleCallEvent=function(a){var b,e=a.eventType,f=a.userData;a=a.eventDataJson;d("WALogger").DEV(j||(j=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received handleCallEvent event: ",", ",", ",""])),e,f,a);(b=c.$3)==null||b.onCallEvent(e,f,a)};this.requestOpenChat=function(a){var b;d("WALogger").DEV(k||(k=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received requestOpenChat event: ",""])),a);(b=c.$3)==null||b.onRequestOpenChat(a)};this.requestDeviceJidList=function(a){var b;d("WALogger").DEV(l||(l=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received requestDeviceJidList event: ",""])),a);void ((b=c.$3)==null?void 0:b.onRequestDeviceJidList(a).then(function(b){var d;(d=c.$1)==null||d.handleDeviceJidList(a.toString(),b)}))};this.requestPhoneNumberJid=function(a){var b;d("WALogger").DEV(m||(m=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received requestPhoneNumberJid event: ",""])),a);void ((b=c.$3)==null||b.onRequestPhoneNumberJid==null?void 0:b.onRequestPhoneNumberJid(a).then(function(b){var d;(d=c.$1)==null||d.handlePhoneNumberJid(a.toString(),b)}))};this.requestLidJid=function(a){var b;d("WALogger").DEV(n||(n=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received requestLidJid event: ",""])),a);void ((b=c.$3)==null||b.onRequestLidJid==null?void 0:b.onRequestLidJid(a).then(function(b){var d;(d=c.$1)==null||d.handleLidJid(a.toString(),b)}))};this.callAgain=function(a){var b,e=a.peerJid;a=a.isVideoCall;d("WALogger").DEV(o||(o=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received callAgain event: ",", ",""])),e,a);(b=c.$3)==null||b.onCallAgain(e,a)};this.handleLidCallerDisplayInfo=function(a){var b;d("WALogger").DEV(p||(p=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received handleLidCallerDisplayInfo event: ",""])),a);(b=c.$3)==null||b.onLidCallerDisplayInfo(a)};this.$1=a;this.$2=b;this.$1.addEventListener("handleVoipReadyEvent",this.handleVoipReady);this.$1.addEventListener("handleVoipCallEvent",this.handleCallEvent);this.$1.addEventListener("handleSignalingXmppEvent",this.sendSignalingXmpp);this.$1.addEventListener("handleRequestOpenChatEvent",this.requestOpenChat);this.$1.addEventListener("handleRequestDeviceJidListEvent",this.requestDeviceJidList);this.$1.addEventListener("handleRequestPhoneNumberJidEvent",this.requestPhoneNumberJid);this.$1.addEventListener("handleRequestLidJidEvent",this.requestLidJid);this.$1.addEventListener("handleCallAgainEvent",this.callAgain);this.$1.addEventListener("handleLidCallerDisplayInfoEvent",this.handleLidCallerDisplayInfo);this.$1.subscribe(null)}var c=a.prototype;c.setHandlers=function(a){this.$3=a};c.cleanup=function(){this.$1.removeEventListener!=null&&(this.$1.removeEventListener("handleVoipReadyEvent",this.handleVoipReady),this.$1.removeEventListener("handleVoipCallEvent",this.handleCallEvent),this.$1.removeEventListener("handleSignalingXmppEvent",this.sendSignalingXmpp),this.$1.removeEventListener("handleRequestOpenChatEvent",this.requestOpenChat),this.$1.removeEventListener("handleRequestDeviceJidListEvent",this.requestDeviceJidList),this.$1.removeEventListener("handleRequestPhoneNumberJidEvent",this.requestPhoneNumberJid),this.$1.removeEventListener("handleRequestLidJidEvent",this.requestLidJid),this.$1.removeEventListener("handleCallAgainEvent",this.callAgain),this.$1.removeEventListener("handleLidCallerDisplayInfo",this.handleLidCallerDisplayInfo))};c.handleIncomingSignalingOffer=function(a,b,c,e,f,g,h,i,j){d("WALogger").DEV(q||(q=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleIncomingSignalingOffer called with:"]))).devConsole(arguments),this.$2.handleIncomingSignalingOffer(d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a),b,c,e,f,g,h,i,j?d("WABase64").encodeB64(j):null)};c.handleIncomingSignalingMessage=function(a,b,c,e,f,g,h,i){this.$2.handleIncomingSignalingMessage(d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a),b,c,e,f,g,h,i?d("WABase64").encodeB64(i):null)};c.handleIncomingSignalingAck=function(a,b,c,e,f){d("WALogger").DEV(r||(r=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleIncomingSignalingAck called with:"]))).devConsole(arguments),this.$2.handleIncomingSignalingAck(d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a),b,c,e,f?d("WABase64").encodeB64(f):null)};c.handleIncomingSignalingReceipt=function(a,b,c){d("WALogger").DEV(s||(s=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleIncomingSignalingReceipt called with:"]))).devConsole(arguments),this.$2.handleIncomingSignalingReceipt(d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a),b,c?d("WABase64").encodeB64(c):null)};c.resendOfferOnDecryptionFailure=function(a,b){d("WALogger").DEV(t||(t=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] resendOfferOnDecryptionFailure called with:"]))).devConsole(arguments),this.$2.resendOfferOnDecryptionFailure(a,b)};c.resendEncRekeyRetry=function(a,b){d("WALogger").DEV(u||(u=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] resendEncRekeyRetry called with:"]))).devConsole(arguments),this.$2.resendEncRekeyRetry(a,b)};c.notifyDeviceIdentityChangedOrDeleted=function(a,b){d("WALogger").DEV(v||(v=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] notifyDeviceIdentityChangedOrDeleted called with:"]))).devConsole(arguments),this.$2.notifyDeviceIdentityChangedOrDeleted(a,b)};c.handleWebViewReady=function(){var a;d("WALogger").DEV(w||(w=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleWebViewReady called"])));(a=this.$1)==null||a.handleWebViewReady()};c.voipInit=function(a,b,c){var e;d("WALogger").DEV(x||(x=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] voipInit called with:"]))).devConsole(arguments);(e=this.$1)==null||e.voipInit(a,b,c)};c.setHideMyIp=function(a){var b;d("WALogger").DEV(y||(y=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] setHideMyIp called with:"]))).devConsole(arguments);(b=this.$1)==null||b.setHideMyIp(a)};c.setChatNameAndIcon=function(a,b,c){var e;d("WALogger").DEV(z||(z=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] setChatNameAndIcon called"])));(e=this.$1)==null||e.setChatNameAndIcon(a,b,c)};c.handleSignOut=function(){var a;d("WALogger").DEV(A||(A=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleSignOut called"])));(a=this.$1)==null||a.handleSignOut()};c.startCall=function(a,b,c,e,f,g,h,i,j,k,l){var m;d("WALogger").DEV(B||(B=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] startCall called with:"]))).devConsole(arguments);(m=this.$1)==null||m.startCall(a.toString({legacy:!0}),b,c,e,f,g,h,i?d("WABase64").encodeB64(i):null,j,k)};c.startGroupCall=function(a,b,c,e,f,g,h,i,j,k,l,m,n,o){var p;d("WALogger").DEV(C||(C=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] startGroupCall called with:"]))).devConsole(arguments);(p=this.$1)==null||p.startGroupCall(a,b,c,e,f,g,h,i,j,k,l,m,n)};c.handleDeviceJidList=function(a,b){var c;d("WALogger").DEV(D||(D=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleDeviceJidList called with:"]))).devConsole(arguments);(c=this.$1)==null||c.handleDeviceJidList(a,b)};c.previewCallLink=function(a,b,c,e,f){var g;d("WALogger").DEV(E||(E=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] previewCallLink called with:"]))).devConsole(arguments);(g=this.$1)==null||g.previewCallLink(a,b,c,e)};c.previewAndJoinCallLink=function(a,b,c,e,f){var g;d("WALogger").DEV(F||(F=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] previewAndJoinCallLink called with:"]))).devConsole(arguments);(g=this.$1)==null||g.previewAndJoinCallLink(a,b,c,e)};c.endCall=function(a,b){var c;d("WALogger").DEV(G||(G=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] endCall called with:"]))).devConsole(arguments);(c=this.$1)==null||c.endCall(a,b)};c.rejectCallWithoutCallContext=function(a,b,c,e,f,g,h){var i;d("WALogger").DEV(H||(H=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] rejectCallWithoutCallContext called with:"]))).devConsole(arguments);(i=this.$1)==null||i.rejectCallWithoutCallContext(a,b,c,e,f,g,h)};c.joinOngoingCall=function(a,b,c,e,f,g,h,i,j,k,l,m,n,o,p,q){var r;d("WALogger").DEV(I||(I=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] joinOngoingCall called with:"]))).devConsole(arguments);(r=this.$1)==null||r.joinOngoingCall(a,b,c,e,f,g,h,i,j,k,l,m,n,o,p,q)};c.inviteToCall=function(a,b,c){};c.requestCallInfo=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WALogger").DEV(J||(J=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] requestCallInfo called with:"]))).devConsole(arguments);var a=(yield this.$1.getCallInfo()),b=a.callInfoJsonBase64,c=a.error;return{callInfoJsonBase64:b,error:c}});function c(){return a.apply(this,arguments)}return c}();c.requestObtainDevicePermissionAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("WALogger").DEV(K||(K=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] requestObtainDevicePermissionAsync called with:"]))).devConsole(arguments);var b=(yield this.$1.requestObtainDevicePermissionAsync(a)),c=b.error,e=b.permissionGranted;return{error:c,permissionGranted:e}});function c(b){return a.apply(this,arguments)}return c}();c.requestDevicesCountAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("WALogger").DEV(L||(L=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] requestDevicesCountAsync called with:"]))).devConsole(arguments);var b=(yield this.$1.getDeviceCountAsync(a)),c=b.error,e=b.deviceCount;return{error:c,deviceCount:e}});function c(b){return a.apply(this,arguments)}return c}();return a}();g.VoipWinRTBridge_v2572=a}),98);
__d("WAWebWindowsHybridBridgeWam.v2572",["Promise","WALogger","WAWebWamCodegenWamEvent","WAWebWamEnumCrashApplicationState","WAWebWamEnumCrashType"],(function(a,b,c,d,e,f,g){var h,i,j,k;a=function(a){var c=this;this.$2=!1;this.initialize=function(){var a;if(c.$2)return;(a=c.$1)==null||a.addEventListener("eventsSaved",c.handleEvents);(a=c.$1)==null||a.subscribe(null);c.$2=!0};this.handleEvents=function(a){if(!c.$2){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received handleWamEvent while bridge is not initialized"])));return}d("WALogger").DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received handleWamEvent event: ",""])),a);a=JSON.parse(a);void (k||(k=b("Promise"))).all(a.map(function(a){return new(d("WAWebWamCodegenWamEvent").RawWamEvent)(a).commitAndWaitForFlush(!0)}));a.forEach(function(a){if(a.id===494&&a[6]===d("WAWebWamEnumCrashType").CRASH_TYPE.DISPATCHER_NOT_RESPONDING&&a[23]===d("WAWebWamEnumCrashApplicationState").CRASH_APPLICATION_STATE.FOREGROUND){var b=a[3];a=a[24];d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["Native ","s ANR detected: ",""])),a,b).sendLogs("hybrid-native-anr-"+a+"s",{sampling:.001})}})};this.$1=a};g.WindowsHybridBridgeWam_v2572=a}),98);
__d("WindowsHybridBridgeBrowserExtensions.v2572",["asyncToGeneratorRuntime"],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=a}var c=a.prototype;c.getBrowserExtensionsInfoAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield this.$1.getBrowserExtensionsInfoAsync());return JSON.parse(a)});function c(){return a.apply(this,arguments)}return c}();c.enableBrowserExtensionAsync=function(a,b){return this.$1.enableBrowserExtensionAsync(a,b)};c.removeBrowserExtensionAsync=function(a){return this.$1.removeBrowserExtensionAsync(a)};c.hasBootstrappedSuccessfully=function(){return this.$1.hasBootstrappedSuccessfully()};c.getZoomBrowserExtensionInfoAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield this.$1.getZoomBrowserExtensionInfoAsync());return JSON.parse(a)});function c(){return a.apply(this,arguments)}return c}();c.enableZoomBrowserExtensionAsync=function(a){return this.$1.enableZoomBrowserExtensionAsync(a)};c.removeZoomBrowserExtensionAsync=function(){return this.$1.removeZoomBrowserExtensionAsync()};c.installZoomBrowserExtensionAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield this.$1.installZoomBrowserExtensionAsync());return JSON.parse(a)});function c(){return a.apply(this,arguments)}return c}();return a}();f.WindowsHybridBridgeBrowserExtensions_v2572=a}),66);
__d("WAWebWindowsHybridBridge.v2572",["WAWebWindowsHybridAppActivationBridge.v2572","WAWebWindowsHybridBridgeAbProps.v2572","WAWebWindowsHybridBridgeConnection.v2572","WAWebWindowsHybridBridgeContacts.v2572","WAWebWindowsHybridBridgeDebugFeatures.v2572","WAWebWindowsHybridBridgeLinksPreview.v2572","WAWebWindowsHybridBridgeMediaFiles.v2572","WAWebWindowsHybridBridgeNativeAppState.v2572","WAWebWindowsHybridBridgePictures.v2572","WAWebWindowsHybridBridgePreferences.v2572","WAWebWindowsHybridBridgeRateTheApp.v2572","WAWebWindowsHybridBridgeScalingControl.v2572","WAWebWindowsHybridBridgeSystemIntegrations.v2572","WAWebWindowsHybridBridgeTouchpadFix.v2572","WAWebWindowsHybridBridgeVoip.v2572","WAWebWindowsHybridBridgeWam.v2572","WindowsHybridBridgeBrowserExtensions.v2572","cr:17220"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.seamlessMigrationBridge=null;this.mediaTranscodeBridge=null;this.adv=null;this.sharesheetBridge=null;this.serverEncKeySaltBridge=null;a.hostObjects.options.defaultSyncProxy=!0;a.hostObjects.options.forceAsyncMethodMatches=[/Async$/,/AsyncWithSpeller$/];a.hostObjects.options.ignoreMemberNotFoundError=!0;var c=a.hostObjects.AbPropsBridge;c!=null&&(this.abProps=new(d("WAWebWindowsHybridBridgeAbProps.v2572").WindowsHybridBridgeAbProps_v2572)(c));c=a.hostObjects.WamBridge;c!=null&&(this.wam=new(d("WAWebWindowsHybridBridgeWam.v2572").WindowsHybridBridgeWam_v2572)(c));c=a.hostObjects.PreferencesBridge;c&&(this.$1=new(d("WAWebWindowsHybridBridgePreferences.v2572").WindowsHybridBridgePreferences_v2572)(c));c=a.hostObjects.ScalingControlBridge;c&&(this.scalingControl=new(d("WAWebWindowsHybridBridgeScalingControl.v2572").WindowsHybridBridgeScalingControl_v2572)(c));c=a.hostObjects.PicturesBridge;c&&(this.pictures=new(d("WAWebWindowsHybridBridgePictures.v2572").WindowsHybridBridgePictures_v2572)(c));c=a.hostObjects.DebugFeaturesBridge;var e=b("cr:17220")==null?void 0:b("cr:17220").debugFeaturesMock;c!=null?this.$4=new(d("WAWebWindowsHybridBridgeDebugFeatures.v2572").WindowsHybridBridgeDebugFeatures_v2572)(c):e!=null;c=a.hostObjects.VoipBridge;e=a.hostObjects.VoipSignalingBridge;c&&e&&(this.voip=new(d("WAWebWindowsHybridBridgeVoip.v2572").VoipWinRTBridge_v2572)(c,e));this.$5=new(d("WAWebWindowsHybridBridgeRateTheApp.v2572").WAWebWindowsHybridBridgeRateTheApp_v2572)(a.hostObjects.RateAppBridge);this.$3=new(d("WAWebWindowsHybridBridgeConnection.v2572").WindowsHybridBridgeConnection_v2572)(a.hostObjects.ConnectionBridge);this.$2=a.hostObjects.ClientKeyBridge;this.touchpadFix=new(d("WAWebWindowsHybridBridgeTouchpadFix.v2572").WindowsHybridBridgeTouchpadFix_v2572)(a.hostObjects.TouchpadFix);this.linksPreview=new(d("WAWebWindowsHybridBridgeLinksPreview.v2572").WindowsHybridBridgeLinksPreview_v2572)(a.hostObjects.LinksPreviewBridge);try{c=a.hostObjects.sync.PopulatedContactsBridge;e=a.hostObjects.PopulatedContactsBridge;e!=null&&(this.contacts=new(d("WAWebWindowsHybridBridgeContacts.v2572").WindowsHybridBridgeContacts_v2572)(e,c,!0))}catch(b){e=a.hostObjects.ContactsBridge;e!=null&&(this.contacts=new(d("WAWebWindowsHybridBridgeContacts.v2572").WindowsHybridBridgeContacts_v2572)(e,a.hostObjects.sync.ContactsBridge,!1))}this.sqlite=a.hostObjects.SQLiteBridge;c=a.hostObjects.MediaFilesBridge;c!=null&&(this.mediaFiles=new(d("WAWebWindowsHybridBridgeMediaFiles.v2572").WAWebWindowsHybridBridgeMediaFiles_v2572)(c));e=a.hostObjects.AppActivationBridge;e!=null&&(this.appActivationBridge=new(d("WAWebWindowsHybridAppActivationBridge.v2572").WindowsHybridAppActivationBridge_v2572)(e));c=a.hostObjects.NativeAppStateBridge;e=a.hostObjects.sync.NativeAppStateBridge;c!=null&&(this.nativeAppStateBridge=new(d("WAWebWindowsHybridBridgeNativeAppState.v2572").WindowsHybridBridgeNativeAppState_v2572)(c,e));c=a.hostObjects.SystemIntegrationsBridge;c&&(this.systemIntegrationsBridge=new(d("WAWebWindowsHybridBridgeSystemIntegrations.v2572").WindowsHybridBridgeSystemIntegrations_v2572)(c));e=a.hostObjects.BrowserExtensionsBridge;e&&(this.browserExtensionsBridge=new(d("WindowsHybridBridgeBrowserExtensions.v2572").WindowsHybridBridgeBrowserExtensions_v2572)(e))}var c=a.prototype;c.getPreferences=function(){var a;(a=this.$1)==null||a.initialize();return this.$1};c.getScalingControl=function(){var a;(a=this.scalingControl)==null||a.initialize();return this.scalingControl};c.getRateTheApp=function(){return this.$5};c.getClientKeyBridge=function(){return this.$2};c.getDebugFeatures=function(){return this.$4};return a}();g.WindowsHybridBridge_v2572=a}),98);
__d("WAWebWindowsHybridAppActivationBridge.v2573",["WAWebApi","WAWebApiParse","WAWebExecApiCmd"],(function(a,b,c,d,e,f,g){a=function(){function a(a){this.handleAppActivationViaProtocolEvent=function(a){a=a.toString();a=d("WAWebApiParse").parseAPICmd(a);a.resultType!==d("WAWebApi").APICmd.INVALID&&c("WAWebExecApiCmd")({cmdData:a,isExternal:!0})};this.$1=a;(a=this.$1)==null||a.addEventListener("handleAppActivationViaProtocolEvent",this.handleAppActivationViaProtocolEvent);this.$1.subscribe(null)}var b=a.prototype;b.initialize=function(){};b.cleanup=function(){var a;(a=this.$1)==null||a.removeEventListener("handleAppActivationViaProtocolEvent",this.handleAppActivationViaProtocolEvent)};return a}();g.WindowsHybridAppActivationBridge_v2573=a}),98);
__d("WAWebWindowsHybridBridgeAbProps.v2573",["WALogger","WAWebABPropsCache","WAWebABPropsLocalStorage","WAWebBackendApi","WAWebHybridABProps","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h;a=function(){function a(a){var c=this;this.$2=!1;this.$4=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b;c.$3==null&&(c.$3=d("WAWebHybridABProps").getAllHybridExpoKeys());a=a.toString();b=(b=c.$3)==null?void 0:b.get(a);if(b==null){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[abprops][windows hybrid] unknown exposure key: ",""])),a);return}d("WAWebABPropsCache").saveExposure(b);c.$1.acknowledgeExposure(a)});return function(b){return a.apply(this,arguments)}}();this.$5=function(a){c.$3=null;var b=d("WAWebABPropsLocalStorage").getABKey();if(a!==b){a=d("WAWebHybridABProps").getAllHybridAbProps(!1);c.$1.setConfigs(b,JSON.stringify(a))}};this.$1=a}var c=a.prototype;c.initialize=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=this;if(this.$2)return;this.$2=!0;yield d("WAWebABPropsCache").waitForABPropConfigsReady();this.$1.addEventListener("exposureLogged",this.$4);this.$1.subscribe(null);var b=(yield this.$1.getVersion());d("WAWebBackendApi").frontendFireAndForget("addAbPropsUpdateListener",function(){a.$5(null)});this.$5(b)});function c(){return a.apply(this,arguments)}return c}();return a}();g.WindowsHybridBridgeAbProps_v2573=a}),98);
__d("WAWebWindowsHybridBridgeConnection.v2573",["WAComms","WACustomError","WALogger","WAPromiseTimeout","WAResolvable","WAWebCallCollection","WAWebEventsWaitForMainStreamReadyMd","WAWebEventsWaitForOfflineDeliveryEnd","WAWebSetWindowsPushConfig","WAWebSocketConstants","WAWebSocketModel","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w;a=function(){function a(a){var e=this;this.$2=!1;this.$3=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.data.toString();a=(a=a.channel)==null?void 0:a.toString();d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleUpdateNotificationsTokenEvent"]))).devConsole(b,a);yield c("WAWebEventsWaitForMainStreamReadyMd")();yield d("WAWebSetWindowsPushConfig").setWindowsPushConfig(b,a);e.$1.handleConnectionState(!0);e.$1.acknowledgeNotificationsToken(b,a)});return function(b){return a.apply(this,arguments)}}();this.$4=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent"])));try{var a;if(!e.$2&&(((a=d("WAComms").getComms())==null?void 0:a.socket)==null||d("WAWebSocketModel").Socket.stream===d("WAWebSocketConstants").SOCKET_STREAM.DISCONNECTED)){d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: socket already closed"])));e.$1.handleConnectionState(!1);return}try{yield d("WAPromiseTimeout").promiseTimeout(e.$6(),6e4),d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: offline resume complete"])))}catch(a){if(a instanceof d("WACustomError").TimeoutError)d("WALogger").LOG(l||(l=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: offline resume timeout"])));else throw a}if(c("WAWebCallCollection").activeCall!=null){d("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["voip: WindowsHybridBridgeConnection:handleDisconnectEvent: awaiting active call completion"])));var b=new(d("WAResolvable").Resolvable)();a=function(){c("WAWebCallCollection").activeCall==null&&b.resolve()};c("WAWebCallCollection").on("change:activeCall",a);yield b.promise;c("WAWebCallCollection").off("change:activeCall",a);d("WALogger").LOG(n||(n=babelHelpers.taggedTemplateLiteralLoose(["voip: WindowsHybridBridgeConnection:handleDisconnectEvent: active call completed"])))}else d("WALogger").LOG(o||(o=babelHelpers.taggedTemplateLiteralLoose(["voip: WindowsHybridBridgeConnection:handleDisconnectEvent: no active call"])));d("WAComms").closeSocketAndPause();d("WALogger").LOG(p||(p=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: socket closed"])));e.$1.handleConnectionState(!1)}catch(a){d("WALogger").ERROR(q||(q=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: failed to close socket: ",""])),a)}});this.$5=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WALogger").LOG(r||(r=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection.handleConnectEvent"])));if(e.$2){d("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleConnectEvent: socket already opening"])));return}try{var a;a=((a=d("WAComms").getComms())==null?void 0:a.socket)!=null;a||(e.$2=!0,d("WAComms").closeSocketAndResume(),d("WALogger").LOG(t||(t=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleConnectEvent: socket opened"]))));yield e.$6();d("WALogger").LOG(u||(u=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleConnectEvent: offline resume complete"])));e.$1.handleConnectionState(!0)}catch(a){d("WALogger").ERROR(v||(v=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleConnectEvent: failed to open socket: ",""])),a)}finally{e.$2=!1}});this.$1=a;this.$1.addEventListener("updateNotificationsTokenEvent",this.$3);this.$1.addEventListener("disconnectEvent",this.$4);this.$1.addEventListener("connectEvent",this.$5);this.$1.subscribe(null)}var e=a.prototype;e.$6=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield d("WAComms").waitForConnection(),d("WAWebEventsWaitForOfflineDeliveryEnd").isOfflineDeliveryEnd()||(d("WALogger").LOG(w||(w=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:waitForOfflineResume"]))),yield d("WAWebEventsWaitForOfflineDeliveryEnd").waitForOfflineDeliveryEnd())});function c(){return a.apply(this,arguments)}return c}();return a}();g.WindowsHybridBridgeConnection_v2573=a}),98);
__d("WAWebWindowsHybridBridgeContacts.v2573",["WALogger","WAWebBackendApi","WAWebContactsDbLidMigrationUtils","WAWebEventsWaitForMainStreamReadyMd","WAWebLidAwareContactsDB","WAWebSchemaContact_DO_NOT_USE_DIRECTLY","WAWebSyncBootstrap","asyncToGeneratorRuntime","filterNulls"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a,e,f){var g=this;this.$4="contacts";this.$5=new Set();this.$6=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=JSON.parse(a);if(a.length===0)return;a.forEach(function(a){return g.$5.add(a)});var b=(yield c("WAWebLidAwareContactsDB").bulkGet(a));b.forEach(function(a){return g.$5["delete"](a==null?void 0:a.id)});a=a.filter(function(a){return g.$5.has(a)});a.forEach(function(a){return g.$5["delete"](a)});void g.$1.updateContacts(a,JSON.stringify(c("filterNulls")(b)))});return function(b){return a.apply(this,arguments)}}();this.$7=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.count;a=a.includeVoipCallableOnly;try{b=(yield d("WAWebBackendApi").frontendSendAndReceive("getFrequentContacts",{count:b,includeVoipCallableOnly:a}));a=JSON.stringify(b);void g.$1.receiveFrequentContacts(a)}catch(a){void g.$1.receiveFrequentContacts(JSON.stringify([]))}});return function(b){return a.apply(this,arguments)}}();this.$1=a;this.$2=e;this.$3=f;a.addEventListener("requestUpdateEvent",this.$6);a.addEventListener("requestFrequentContactsEvent",this.$7);a.subscribe(null)}var e=a.prototype;e.initialize=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=this;c("WAWebLidAwareContactsDB").setUpdateListener(function(b){return a.$8(b)});yield c("WAWebEventsWaitForMainStreamReadyMd")();if(this.$3)return;if(c("WAWebSyncBootstrap").isSyncDBootstrapInProcess())return;this.$3=!0;try{var b=200,e=(yield d("WAWebSchemaContact_DO_NOT_USE_DIRECTLY").getContactTable().all({limit:b,offset:0}));do{var f;f=(f=e[e.length-1])==null?void 0:f.id;e=(yield d("WAWebContactsDbLidMigrationUtils").replacePnRowsWithLidData(e));yield this.$1.updateContacts([],JSON.stringify(e));e=(yield d("WAWebSchemaContact_DO_NOT_USE_DIRECTLY").getContactTable().greaterThan(["id"],f,{limit:b}))}while(e.length>0);this.$1.acknowledgeInitialSync()}catch(a){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[WinUi] setInitialData "," error ",""])),this.$4,a)}});function e(){return a.apply(this,arguments)}return e}();e.$8=function(a){var b=this;if(!this.$3)return;a=a.filter(function(a){return!b.$5.has(a)});if(a.length===0)return;a.forEach(function(a){return b.$5.add(a)});this.$2.invalidateContacts(a)};return a}();g.WindowsHybridBridgeContacts_v2573=a}),98);
__d("WAWebWindowsHybridBridgeDebugFeatures.v2573",["WALogger","WAWebBackendApi","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i=1e3;a=function(){function a(a){var b=this;this.$2=null;this.ping=function(a){var c,e=self.performance.now();c=(e-((c=b.$2)!=null?c:e)).toFixed(0);b.$2=e;d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeDebugFeatures:ping:"," diff:","ms"])),a,c);b.$1.pong(a.valueOf())};this.$1=a;(a=this.$1)==null||a.addEventListener("jsLogs",function(){b.saveJSLogs()});(a=this.$1)==null||a.addEventListener("requestWebLogStringEvent",function(a){void b.requestWebLogString(a)});(a=this.$1)==null||a.addEventListener("pingEvent",this.ping);this.$1.subscribe(null)}var c=a.prototype;c.startHangsMonitor=function(){this.$1.startHangsMonitor()};c.saveNativeLogs=function(){this.$1.saveNativeLogs()};c.requestNativeLogs=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){return this.$1.requestNativeLogs()});function c(){return a.apply(this,arguments)}return c}();c.saveJSLogs=function(){d("WAWebBackendApi").frontendFireAndForget("createDownloadDataForMdWebLogs")};c.limitStringSize=function(a,b){var c=new Blob([a],{type:"text/plain"});if(c.size>b){c=c.size-b;return a.substr(c)}return a};c.requestWebLogString=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield d("WAWebBackendApi").frontendSendAndReceive("getWebLogs"));b=this.limitStringSize(b,30*i);this.$1.sendWebLogString(a.toString(),b)});function c(b){return a.apply(this,arguments)}return c}();return a}();g.WindowsHybridBridgeDebugFeatures_v2573=a}),98);
__d("WAWebWindowsHybridBridgeLinksPreview.v2573",["asyncToGeneratorRuntime"],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=a}var c=a.prototype;c.getPreviewAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield this.$1.getPreviewAsync(a));return a==null||a===""?null:JSON.parse(a)});function c(b){return a.apply(this,arguments)}return c}();return a}();f.WindowsHybridBridgeLinksPreview_v2573=a}),66);
__d("WAWebWindowsHybridBridgeMediaFiles.v2573",[],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=a}var b=a.prototype;b.isCachedMediaFileExist=function(a,b){return this.$1.isCachedMediaFileExist(a,b)};b.tryOpenCachedMediaFile=function(a,b){return this.$1.tryOpenCachedMediaFileFile(a,b)};b.prepareForMediaFileSaving=function(a,b,c){return this.$1.prepareForMediaFileSaving(a,b,c)};b.waitTillMediaDownloadCompletes=function(a,b,c){return this.$1.waitTillMediaDownloadCompletes(a,b,c)};b.selectFolderForBulkMediaSaving=function(){return this.$1.selectFolderForBulkMediaSaving()};b.prepareForZipArchiveSavingAndUnarchiveToFolder=function(a,b,c,d){return this.$1.prepareForZipArchiveSavingAndUnarchiveToFolder(a,b,c,d)};b.requestFileSystemDirectoryHandle=function(a){return this.$1.requestFileSystemDirectoryHandle(a)};b.tryCopyCachedMediaFile=function(a){return this.$1.tryCopyCachedMediaFile(a)};b.tryCopyCachedMediaFiles=function(a){return this.$1.tryCopyCachedMediaFiles(a)};return a}();f.WAWebWindowsHybridBridgeMediaFiles_v2573=a}),66);
__d("WAWebWindowsHybridBridgeNativeAppState.v2573",["$InternalEnum","WALogger","WAWebEventEmitter","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l=b("$InternalEnum")({Normal:"normal",MinimizedToTray:"minimizedToTray"});a=function(a,e){var f=this;this.$4=new(c("WAWebEventEmitter"))();this.$5=function(a){a=a.toString();var b=l.cast(a);b!=null?d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeNativeAppState:appStateChanged: ",""])),l.getName(b)):d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeNativeAppState:appStateChanged: invalid appStateId: ",""])),a);f.$3=b;f.$4.trigger("appStateChanged",f.isMinimizedToTray())};this.getAppState=function(){return f.$3};this.getEvents=function(){return f.$4};this.isMinimizedToTray=function(){return f.getAppState()===l.MinimizedToTray};this.takeAppLaunchTimeStamp=function(){return f.$2.takeAppLaunchTimeStamp()};this.getFirstAppRestoreTimeStamp=function(){return f.$2.getFirstAppRestoreTimeStamp()};this.getLastAppRestoreTimeStamp=function(){return f.$2.getLastAppRestoreTimeStamp()};this.detectNativeClockSkew=function(){return f.$2.detectNativeClockSkew(Date.now())};this.getAppStateAsync=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=f.$1.getAppState();a=a.toString();var b=l.cast(a);b!=null?d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeNativeAppState:getAppStateAsync: ",""])),l.getName(b)):d("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeNativeAppState:getAppStateAsync: invalid appState '","'"])),a);return b});this.$1=a;this.$2=e;this.$1.addEventListener("appStateChangedEvent",this.$5);this.$1.subscribe(null)};g.AppState_v2573=l;g.WindowsHybridBridgeNativeAppState_v2573=a}),98);
__d("WAWebWindowsHybridBridgePictures.v2573",["WAJids","WALogger","WAWebLidMigrationUtils","WAWebProfilePicThumbCollection","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;a=function(){function a(a){var c=this;this.$2=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=JSON.parse(a);for(a of a){var b;if(d("WAJids").validateGroupJid(a.id.toString())){var e=d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.get(a.id);(e==null?void 0:e.eurl)!==a.eurl&&c.$1.setProfilePictures(JSON.stringify([{eurl:e==null?void 0:e.eurl,id:a.id.toString()}]));continue}e=d("WAWebLidMigrationUtils").toPn(a.id);if(e==null){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[WindowsHybridBridgePictures] PN WID is null"])));continue}var f=d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.get(e);f==null&&e!=null&&(f=(yield d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.resyncPicturesByWid([e])));if(((b=f)==null?void 0:b.eurl)!==a.eurl){c.$1.setProfilePictures(JSON.stringify([{eurl:(b=f)==null?void 0:b.eurl,id:e.toString()}]));b=d("WAWebLidMigrationUtils").toLid(a.id);if(b==null){d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[WindowsHybridBridgePictures] LID WID is null for PN WID: ",""])),e);continue}c.$1.setProfilePictures(JSON.stringify([{eurl:(e=f)==null?void 0:e.eurl,id:b.toString()}]))}}});return function(b){return a.apply(this,arguments)}}();this.$1=a;a.addEventListener("verifyPictureEvent",this.$2);a.subscribe(null)}var c=a.prototype;c.notifyUpdate=function(a){if(a==null)return;if(d("WAJids").validateGroupJid(a.id.toString())){this.$1.setProfilePictures(JSON.stringify([{eurl:a.eurl,id:a.id.toString()}]));return}if(!a.id.isUser())return;var b=d("WAWebLidMigrationUtils").toPn(a.id),c=d("WAWebLidMigrationUtils").toLid(a.id);if(b==null){d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[WindowsHybridBridgePictures] PN WID is null"])));return}if(c==null){d("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["[WindowsHybridBridgePictures] LID WID is null for PN WID: ",""])),b);return}this.$1.setProfilePictures(JSON.stringify([{eurl:a.eurl,id:b.toString()}]));this.$1.setProfilePictures(JSON.stringify([{eurl:a.eurl,id:c.toString()}]))};return a}();g.WindowsHybridBridgePictures_v2573=a}),98);
__d("WAWebWindowsHybridBridgePreferences.v2573",["WAWebUserPrefsBase","WAWebUserPrefsKeys","WAWebUserPrefsLocalStorage","WAWebUserPrefsStore"],(function(a,b,c,d,e,f,g){var h="WANativePreferencesRevision";a=function(){function a(a){var b=this;this.$2=!1;this.$3=null;this.$4=new Set();this.initialize=function(){var a;if(b.$2)return;b.$4.add(String(d("WAWebUserPrefsKeys").UserPrefs.WindowsIsSystemTrayEnabled));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.SYSTEM_THEME_MODE));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.THEME));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.ME_DISPLAY_NAME));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LAST_PUSHNAME));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LID));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LAST_WID_MD));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LANG_FROM_PHONE));b.$4.add(String(d("WAWebUserPrefsKeys").UserPrefs.AbpropsWebRefreshId));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.ABPROPS_REFRESH_ID));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.ABPROPS));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LANG_FROM_USER));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.GLOBAL_MUTE_CALL_RINGTONE));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.GLOBAL_MUTE_CALL_NOTIFICATIONS));b.$4.add(String(d("WAWebUserPrefsKeys").UserPrefs.WindowsNotificationBannerSetting));b.$4.add(String(d("WAWebUserPrefsKeys").UserPrefs.WindowsTaskbarNotificationSetting));(a=b.$1)==null||a.addEventListener("everythingRequested",function(){var a=b.$5();b.$3!==a&&(b.$3=a,b.$6())});(a=b.$1)==null||a.subscribe(null);b.$2=!0};this.$1=a}var b=a.prototype;b.$5=function(){var a=c("WAWebUserPrefsStore").getUser(h),b=0;typeof a==="number"?b=a:typeof a==="string"&&(b=Number(a)||0);return b};b.$7=function(a){c("WAWebUserPrefsStore").setUser(h,a)};b.handleSettingChange=function(a,b){var c;if(!this.$4.has(a))return;var d=this.$5();(c=this.$1)==null||c.updateLocalSetting(a,JSON.stringify(b),++d);this.$7(d)};b.$6=function(){var a=this.$5(),b=[],e=[];for(var f of this.$4){var g=c("WAWebUserPrefsStore").getUser(f);if(g!=null){b.push(f);e.push(JSON.stringify(g));continue}g=d("WAWebUserPrefsBase").userPreferencesStoreBase.get(f);g!=null&&(b.push(f),e.push(JSON.stringify(g)));g=c("WAWebUserPrefsLocalStorage").getItemFromLocalStorage(f);g!=null&&(b.push(f),e.push(JSON.stringify(g)))}(g=this.$1)==null||g.updateAllLocalSettings(b,e,a)};b.clean=function(){var a;(a=this.$1)==null||a.clean()};return a}();g.WindowsHybridBridgePreferences_v2573=a}),98);
__d("WAWebWindowsHybridBridgeRateTheApp.v2573",["asyncToGeneratorRuntime"],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=a}var c=a.prototype;c.getStoreProductForCurrentApp=function(){return this.$1.getStoreProductForCurrentAppAsync()};c.requestRateAndApp=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield this.$1.requestRateAndReviewAppAsync());return JSON.parse(a)});function c(){return a.apply(this,arguments)}return c}();return a}();f.WAWebWindowsHybridBridgeRateTheApp_v2573=a}),66);
__d("WAWebWindowsHybridBridgeScalingControl.v2573",["WAWebWindowsScalingControlEventEmitter"],(function(a,b,c,d,e,f,g){a=function(){function a(a){this.$2=!1,this.$3=function(){c("WAWebWindowsScalingControlEventEmitter").trigger("requestZoomIn")},this.$4=function(){c("WAWebWindowsScalingControlEventEmitter").trigger("requestZoomOut")},this.$1=a}var b=a.prototype;b.initialize=function(){var a;if(this.$2)return;this.$2=!0;(a=this.$1)==null||a.addEventListener("zoomInRequested",this.$3);(a=this.$1)==null||a.addEventListener("zoomOutRequested",this.$4);(a=this.$1)==null||a.subscribe(null)};b.zoomIn=function(){this.$3()};b.zoomOut=function(){this.$4()};b.showScalingControl=function(a){var b;(b=this.$1)==null||b.showScalingControl(a)};return a}();g.WindowsHybridBridgeScalingControl_v2573=a}),98);
__d("WAWebWindowsHybridBridgeSystemIntegrations.v2573",["WAWebEventEmitter","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){a=function(){function a(a){var b=this;this.events=new(c("WAWebEventEmitter"))();this.$2=function(a){var c=a.tag,d=a.action;a=a.additionalData;b.events.trigger("MessageNotificationAction",{key:c,action:d,additionalData:a})};this.$1=a;(a=this.$1)==null||a.addEventListener("MessageNotificationActionEvent",this.$2);(a=this.$1)==null||a.subscribe(null)}var d=a.prototype;d.closeMessageNotification=function(a,b){var c;(c=this.$1)==null||c.closeMessageNotification(a,b)};d.showMessageNotification=function(a,b,c,d,e,f,g,h,i,j,k,l){var m;(m=this.$1)==null||m.showMessageNotification(a,b!=null?b:"",c,d,e,f!=null?f:"",g,h,i!=null?i:"",j!=null?j:"",k,l)};d.isNotificationEnabledInSystem=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){return this.$1==null?!1:this.$1.isNotificationEnabledInSystem()});function c(){return a.apply(this,arguments)}return c}();d.updateTaskbarBadge=function(a){this.$1.updateTaskbarBadge(a)};d.getStartupTaskState=function(){return this.$1.getStartupTaskState()};d.updateStartupTask=function(a){this.$1.updateStartupTask(a)};d.updateCurrentWebAppScreen=function(a){this.$1.updateCurrentWebAppScreen(a)};return a}();g.WindowsHybridBridgeSystemIntegrations_v2573=a}),98);
__d("WAWebWindowsHybridBridgeTouchpadFix.v2573",["WAWebDebounce"],(function(a,b,c,d,e,f,g){a=function(){function a(a){var b=this;this.$2=c("WAWebDebounce")(function(a){if(a.deltaX<=0)return;a=a.target;a=a;var c=!1,d=0;while(a&&a!==document.body&&d<3){var e=self.getComputedStyle(a);if((e.overflowX==="auto"||e.overflowX==="scroll")&&a.scrollWidth>a.clientWidth){c=!0;break}e=a.parentElement;if(!e)break;a=e;d++}c||b.interruptManipulations()},500);this.$1=a}var b=a.prototype;b.interruptManipulations=function(){return this.$1.interruptManipulations()};b.init=function(){document.addEventListener("wheel",this.$2,{passive:!1})};return a}();g.WindowsHybridBridgeTouchpadFix_v2573=a}),98);
__d("WAWebWindowsHybridBridgeVoip.v2573",["WABase64","WALogger","WAWebBackendApi","WAWebSerializeVoipWapNode","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L;a=function(){function a(a,b){var c=this;this.handleVoipReady=function(){var a;d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received voip ready event"])));d("WAWebBackendApi").frontendFireAndForget("addStartingLogoutListener",function(){return c.handleSignOut()});(a=c.$3)==null||a.onVoipReady()};this.sendSignalingXmpp=function(a){var b,e=a.peerJid,f=a.callId,g=a.payload;a=a.shouldEncryptBeforeSending;d("WALogger").DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received sendSignalingXmpp event: ",", ",", ",", ",""])),e,f,g,a);(b=c.$3)==null||b.onSignalingXmpp(e,f,g,a)};this.handleCallEvent=function(a){var b,e=a.eventType,f=a.userData;a=a.eventDataJson;d("WALogger").DEV(j||(j=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received handleCallEvent event: ",", ",", ",""])),e,f,a);(b=c.$3)==null||b.onCallEvent(e,f,a)};this.requestOpenChat=function(a){var b;d("WALogger").DEV(k||(k=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received requestOpenChat event: ",""])),a);(b=c.$3)==null||b.onRequestOpenChat(a)};this.requestDeviceJidList=function(a){var b;d("WALogger").DEV(l||(l=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received requestDeviceJidList event: ",""])),a);void ((b=c.$3)==null?void 0:b.onRequestDeviceJidList(a).then(function(b){var d;(d=c.$1)==null||d.handleDeviceJidList(a.toString(),b)}))};this.requestPhoneNumberJid=function(a){var b;d("WALogger").DEV(m||(m=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received requestPhoneNumberJid event: ",""])),a);void ((b=c.$3)==null||b.onRequestPhoneNumberJid==null?void 0:b.onRequestPhoneNumberJid(a).then(function(b){var d;(d=c.$1)==null||d.handlePhoneNumberJid(a.toString(),b)}))};this.requestLidJid=function(a){var b;d("WALogger").DEV(n||(n=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received requestLidJid event: ",""])),a);void ((b=c.$3)==null||b.onRequestLidJid==null?void 0:b.onRequestLidJid(a).then(function(b){var d;(d=c.$1)==null||d.handleLidJid(a.toString(),b)}))};this.callAgain=function(a){var b,e=a.peerJid;a=a.isVideoCall;d("WALogger").DEV(o||(o=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received callAgain event: ",", ",""])),e,a);(b=c.$3)==null||b.onCallAgain(e,a)};this.handleLidCallerDisplayInfo=function(a){var b;d("WALogger").DEV(p||(p=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received handleLidCallerDisplayInfo event: ",""])),a);(b=c.$3)==null||b.onLidCallerDisplayInfo(a)};this.$1=a;this.$2=b;this.$1.addEventListener("handleVoipReadyEvent",this.handleVoipReady);this.$1.addEventListener("handleVoipCallEvent",this.handleCallEvent);this.$1.addEventListener("handleSignalingXmppEvent",this.sendSignalingXmpp);this.$1.addEventListener("handleRequestOpenChatEvent",this.requestOpenChat);this.$1.addEventListener("handleRequestDeviceJidListEvent",this.requestDeviceJidList);this.$1.addEventListener("handleRequestPhoneNumberJidEvent",this.requestPhoneNumberJid);this.$1.addEventListener("handleRequestLidJidEvent",this.requestLidJid);this.$1.addEventListener("handleCallAgainEvent",this.callAgain);this.$1.addEventListener("handleLidCallerDisplayInfoEvent",this.handleLidCallerDisplayInfo);this.$1.subscribe(null)}var c=a.prototype;c.setHandlers=function(a){this.$3=a};c.cleanup=function(){this.$1.removeEventListener!=null&&(this.$1.removeEventListener("handleVoipReadyEvent",this.handleVoipReady),this.$1.removeEventListener("handleVoipCallEvent",this.handleCallEvent),this.$1.removeEventListener("handleSignalingXmppEvent",this.sendSignalingXmpp),this.$1.removeEventListener("handleRequestOpenChatEvent",this.requestOpenChat),this.$1.removeEventListener("handleRequestDeviceJidListEvent",this.requestDeviceJidList),this.$1.removeEventListener("handleRequestPhoneNumberJidEvent",this.requestPhoneNumberJid),this.$1.removeEventListener("handleRequestLidJidEvent",this.requestLidJid),this.$1.removeEventListener("handleCallAgainEvent",this.callAgain),this.$1.removeEventListener("handleLidCallerDisplayInfo",this.handleLidCallerDisplayInfo))};c.handleIncomingSignalingOffer=function(a,b,c,e,f,g,h,i,j){d("WALogger").DEV(q||(q=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleIncomingSignalingOffer called with:"]))).devConsole(arguments),this.$2.handleIncomingSignalingOffer(d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a),b,c,e,f,g,h,i,j?d("WABase64").encodeB64(j):null)};c.handleIncomingSignalingMessage=function(a,b,c,e,f,g,h,i){this.$2.handleIncomingSignalingMessage(d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a),b,c,e,f,g,h,i?d("WABase64").encodeB64(i):null)};c.handleIncomingSignalingAck=function(a,b,c,e,f){d("WALogger").DEV(r||(r=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleIncomingSignalingAck called with:"]))).devConsole(arguments),this.$2.handleIncomingSignalingAck(d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a),b,c,e,f?d("WABase64").encodeB64(f):null)};c.handleIncomingSignalingReceipt=function(a,b,c){d("WALogger").DEV(s||(s=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleIncomingSignalingReceipt called with:"]))).devConsole(arguments),this.$2.handleIncomingSignalingReceipt(d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a),b,c?d("WABase64").encodeB64(c):null)};c.resendOfferOnDecryptionFailure=function(a,b){d("WALogger").DEV(t||(t=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] resendOfferOnDecryptionFailure called with:"]))).devConsole(arguments),this.$2.resendOfferOnDecryptionFailure(a,b)};c.resendEncRekeyRetry=function(a,b){d("WALogger").DEV(u||(u=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] resendEncRekeyRetry called with:"]))).devConsole(arguments),this.$2.resendEncRekeyRetry(a,b)};c.notifyDeviceIdentityChangedOrDeleted=function(a,b){d("WALogger").DEV(v||(v=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] notifyDeviceIdentityChangedOrDeleted called with:"]))).devConsole(arguments),this.$2.notifyDeviceIdentityChangedOrDeleted(a,b)};c.handleWebViewReady=function(){var a;d("WALogger").DEV(w||(w=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleWebViewReady called"])));(a=this.$1)==null||a.handleWebViewReady()};c.voipInit=function(a,b,c){var e;d("WALogger").DEV(x||(x=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] voipInit called with:"]))).devConsole(arguments);(e=this.$1)==null||e.voipInit(a,b,c)};c.setHideMyIp=function(a){var b;d("WALogger").DEV(y||(y=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] setHideMyIp called with:"]))).devConsole(arguments);(b=this.$1)==null||b.setHideMyIp(a)};c.setChatNameAndIcon=function(a,b,c){var e;d("WALogger").DEV(z||(z=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] setChatNameAndIcon called"])));(e=this.$1)==null||e.setChatNameAndIcon(a,b,c)};c.handleSignOut=function(){var a;d("WALogger").DEV(A||(A=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleSignOut called"])));(a=this.$1)==null||a.handleSignOut()};c.startCall=function(a,b,c,e,f,g,h,i,j,k,l){var m;d("WALogger").DEV(B||(B=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] startCall called with:"]))).devConsole(arguments);(m=this.$1)==null||m.startCall(a.toString({legacy:!0}),b,c,e,f,g,h,i?d("WABase64").encodeB64(i):null,j,k)};c.startGroupCall=function(a,b,c,e,f,g,h,i,j,k,l,m,n,o){var p;d("WALogger").DEV(C||(C=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] startGroupCall called with:"]))).devConsole(arguments);(p=this.$1)==null||p.startGroupCall(a,b,c,e,f,g,h,i,j,k,l,m,n)};c.handleDeviceJidList=function(a,b){var c;d("WALogger").DEV(D||(D=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleDeviceJidList called with:"]))).devConsole(arguments);(c=this.$1)==null||c.handleDeviceJidList(a,b)};c.previewCallLink=function(a,b,c,e,f){var g;d("WALogger").DEV(E||(E=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] previewCallLink called with:"]))).devConsole(arguments);(g=this.$1)==null||g.previewCallLink(a,b,c,e)};c.previewAndJoinCallLink=function(a,b,c,e,f){var g;d("WALogger").DEV(F||(F=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] previewAndJoinCallLink called with:"]))).devConsole(arguments);(g=this.$1)==null||g.previewAndJoinCallLink(a,b,c,e)};c.endCall=function(a,b){var c;d("WALogger").DEV(G||(G=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] endCall called with:"]))).devConsole(arguments);(c=this.$1)==null||c.endCall(a,b)};c.rejectCallWithoutCallContext=function(a,b,c,e,f,g,h){var i;d("WALogger").DEV(H||(H=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] rejectCallWithoutCallContext called with:"]))).devConsole(arguments);(i=this.$1)==null||i.rejectCallWithoutCallContext(a,b,c,e,f,g,h)};c.joinOngoingCall=function(a,b,c,e,f,g,h,i,j,k,l,m,n,o,p,q){var r;d("WALogger").DEV(I||(I=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] joinOngoingCall called with:"]))).devConsole(arguments);(r=this.$1)==null||r.joinOngoingCall(a,b,c,e,f,g,h,i,j,k,l,m,n,o,p,q)};c.inviteToCall=function(a,b,c){};c.requestCallInfo=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WALogger").DEV(J||(J=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] requestCallInfo called with:"]))).devConsole(arguments);var a=(yield this.$1.getCallInfo()),b=a.callInfoJsonBase64,c=a.error;return{callInfoJsonBase64:b,error:c}});function c(){return a.apply(this,arguments)}return c}();c.requestObtainDevicePermissionAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("WALogger").DEV(K||(K=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] requestObtainDevicePermissionAsync called with:"]))).devConsole(arguments);var b=(yield this.$1.requestObtainDevicePermissionAsync(a)),c=b.error,e=b.permissionGranted;return{error:c,permissionGranted:e}});function c(b){return a.apply(this,arguments)}return c}();c.requestDevicesCountAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("WALogger").DEV(L||(L=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] requestDevicesCountAsync called with:"]))).devConsole(arguments);var b=(yield this.$1.getDeviceCountAsync(a)),c=b.error,e=b.deviceCount;return{error:c,deviceCount:e}});function c(b){return a.apply(this,arguments)}return c}();return a}();g.VoipWinRTBridge_v2573=a}),98);
__d("WAWebWindowsHybridBridgeWam.v2573",["Promise","WALogger","WAWebWamCodegenWamEvent","WAWebWamEnumCrashApplicationState","WAWebWamEnumCrashType"],(function(a,b,c,d,e,f,g){var h,i,j,k;a=function(a){var c=this;this.$2=!1;this.initialize=function(){var a;if(c.$2)return;(a=c.$1)==null||a.addEventListener("eventsSaved",c.handleEvents);(a=c.$1)==null||a.subscribe(null);c.$2=!0};this.handleEvents=function(a){if(!c.$2){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received handleWamEvent while bridge is not initialized"])));return}d("WALogger").DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received handleWamEvent event: ",""])),a);a=JSON.parse(a);void (k||(k=b("Promise"))).all(a.map(function(a){return new(d("WAWebWamCodegenWamEvent").RawWamEvent)(a).commitAndWaitForFlush(!0)}));a.forEach(function(a){if(a.id===494&&a[6]===d("WAWebWamEnumCrashType").CRASH_TYPE.DISPATCHER_NOT_RESPONDING&&a[23]===d("WAWebWamEnumCrashApplicationState").CRASH_APPLICATION_STATE.FOREGROUND){var b=a[3];a=a[24];d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["Native ","s ANR detected: ",""])),a,b).sendLogs("hybrid-native-anr-"+a+"s",{sampling:.001})}})};this.$1=a};g.WindowsHybridBridgeWam_v2573=a}),98);
__d("WindowsHybridBridgeBrowserExtensions.v2573",["asyncToGeneratorRuntime"],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=a}var c=a.prototype;c.getBrowserExtensionsInfoAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield this.$1.getBrowserExtensionsInfoAsync());return JSON.parse(a)});function c(){return a.apply(this,arguments)}return c}();c.enableBrowserExtensionAsync=function(a,b){return this.$1.enableBrowserExtensionAsync(a,b)};c.removeBrowserExtensionAsync=function(a){return this.$1.removeBrowserExtensionAsync(a)};c.hasBootstrappedSuccessfully=function(){return this.$1.hasBootstrappedSuccessfully()};c.getZoomBrowserExtensionInfoAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield this.$1.getZoomBrowserExtensionInfoAsync());return JSON.parse(a)});function c(){return a.apply(this,arguments)}return c}();c.enableZoomBrowserExtensionAsync=function(a){return this.$1.enableZoomBrowserExtensionAsync(a)};c.removeZoomBrowserExtensionAsync=function(){return this.$1.removeZoomBrowserExtensionAsync()};c.installZoomBrowserExtensionAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield this.$1.installZoomBrowserExtensionAsync());return JSON.parse(a)});function c(){return a.apply(this,arguments)}return c}();return a}();f.WindowsHybridBridgeBrowserExtensions_v2573=a}),66);
__d("WAWebWindowsHybridBridge.v2573",["WAWebWindowsHybridAppActivationBridge.v2573","WAWebWindowsHybridBridgeAbProps.v2573","WAWebWindowsHybridBridgeConnection.v2573","WAWebWindowsHybridBridgeContacts.v2573","WAWebWindowsHybridBridgeDebugFeatures.v2573","WAWebWindowsHybridBridgeLinksPreview.v2573","WAWebWindowsHybridBridgeMediaFiles.v2573","WAWebWindowsHybridBridgeNativeAppState.v2573","WAWebWindowsHybridBridgePictures.v2573","WAWebWindowsHybridBridgePreferences.v2573","WAWebWindowsHybridBridgeRateTheApp.v2573","WAWebWindowsHybridBridgeScalingControl.v2573","WAWebWindowsHybridBridgeSystemIntegrations.v2573","WAWebWindowsHybridBridgeTouchpadFix.v2573","WAWebWindowsHybridBridgeVoip.v2573","WAWebWindowsHybridBridgeWam.v2573","WindowsHybridBridgeBrowserExtensions.v2573","cr:17220"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.seamlessMigrationBridge=null;this.mediaTranscodeBridge=null;this.adv=null;this.sharesheetBridge=null;this.serverEncKeySaltBridge=null;a.hostObjects.options.defaultSyncProxy=!0;a.hostObjects.options.forceAsyncMethodMatches=[/Async$/,/AsyncWithSpeller$/];a.hostObjects.options.ignoreMemberNotFoundError=!0;var c=a.hostObjects.AbPropsBridge;c!=null&&(this.abProps=new(d("WAWebWindowsHybridBridgeAbProps.v2573").WindowsHybridBridgeAbProps_v2573)(c));c=a.hostObjects.WamBridge;c!=null&&(this.wam=new(d("WAWebWindowsHybridBridgeWam.v2573").WindowsHybridBridgeWam_v2573)(c));c=a.hostObjects.PreferencesBridge;c&&(this.$1=new(d("WAWebWindowsHybridBridgePreferences.v2573").WindowsHybridBridgePreferences_v2573)(c));c=a.hostObjects.ScalingControlBridge;c&&(this.scalingControl=new(d("WAWebWindowsHybridBridgeScalingControl.v2573").WindowsHybridBridgeScalingControl_v2573)(c));c=a.hostObjects.PicturesBridge;c&&(this.pictures=new(d("WAWebWindowsHybridBridgePictures.v2573").WindowsHybridBridgePictures_v2573)(c));c=a.hostObjects.DebugFeaturesBridge;var e=b("cr:17220")==null?void 0:b("cr:17220").debugFeaturesMock;c!=null?this.$4=new(d("WAWebWindowsHybridBridgeDebugFeatures.v2573").WindowsHybridBridgeDebugFeatures_v2573)(c):e!=null;c=a.hostObjects.VoipBridge;e=a.hostObjects.VoipSignalingBridge;c&&e&&(this.voip=new(d("WAWebWindowsHybridBridgeVoip.v2573").VoipWinRTBridge_v2573)(c,e));this.$5=new(d("WAWebWindowsHybridBridgeRateTheApp.v2573").WAWebWindowsHybridBridgeRateTheApp_v2573)(a.hostObjects.RateAppBridge);this.$3=new(d("WAWebWindowsHybridBridgeConnection.v2573").WindowsHybridBridgeConnection_v2573)(a.hostObjects.ConnectionBridge);this.$2=a.hostObjects.ClientKeyBridge;this.touchpadFix=new(d("WAWebWindowsHybridBridgeTouchpadFix.v2573").WindowsHybridBridgeTouchpadFix_v2573)(a.hostObjects.TouchpadFix);this.linksPreview=new(d("WAWebWindowsHybridBridgeLinksPreview.v2573").WindowsHybridBridgeLinksPreview_v2573)(a.hostObjects.LinksPreviewBridge);try{c=a.hostObjects.sync.PopulatedContactsBridge;e=a.hostObjects.PopulatedContactsBridge;e!=null&&(this.contacts=new(d("WAWebWindowsHybridBridgeContacts.v2573").WindowsHybridBridgeContacts_v2573)(e,c,!0))}catch(b){e=a.hostObjects.ContactsBridge;e!=null&&(this.contacts=new(d("WAWebWindowsHybridBridgeContacts.v2573").WindowsHybridBridgeContacts_v2573)(e,a.hostObjects.sync.ContactsBridge,!1))}this.sqlite=a.hostObjects.SQLiteBridge;c=a.hostObjects.MediaFilesBridge;c!=null&&(this.mediaFiles=new(d("WAWebWindowsHybridBridgeMediaFiles.v2573").WAWebWindowsHybridBridgeMediaFiles_v2573)(c));e=a.hostObjects.AppActivationBridge;e!=null&&(this.appActivationBridge=new(d("WAWebWindowsHybridAppActivationBridge.v2573").WindowsHybridAppActivationBridge_v2573)(e));c=a.hostObjects.NativeAppStateBridge;e=a.hostObjects.sync.NativeAppStateBridge;c!=null&&(this.nativeAppStateBridge=new(d("WAWebWindowsHybridBridgeNativeAppState.v2573").WindowsHybridBridgeNativeAppState_v2573)(c,e));c=a.hostObjects.SystemIntegrationsBridge;c&&(this.systemIntegrationsBridge=new(d("WAWebWindowsHybridBridgeSystemIntegrations.v2573").WindowsHybridBridgeSystemIntegrations_v2573)(c));e=a.hostObjects.BrowserExtensionsBridge;e&&(this.browserExtensionsBridge=new(d("WindowsHybridBridgeBrowserExtensions.v2573").WindowsHybridBridgeBrowserExtensions_v2573)(e))}var c=a.prototype;c.getPreferences=function(){var a;(a=this.$1)==null||a.initialize();return this.$1};c.getScalingControl=function(){var a;(a=this.scalingControl)==null||a.initialize();return this.scalingControl};c.getRateTheApp=function(){return this.$5};c.getClientKeyBridge=function(){return this.$2};c.getDebugFeatures=function(){return this.$4};return a}();g.WindowsHybridBridge_v2573=a}),98);
__d("WAWebWindowsHybridAppActivationBridge.v2574",["WAWebApi","WAWebApiParse","WAWebExecApiCmd"],(function(a,b,c,d,e,f,g){a=function(){function a(a){this.handleAppActivationViaProtocolEvent=function(a){a=a.toString();a=d("WAWebApiParse").parseAPICmd(a);a.resultType!==d("WAWebApi").APICmd.INVALID&&c("WAWebExecApiCmd")({cmdData:a,isExternal:!0})};this.$1=a;(a=this.$1)==null||a.addEventListener("handleAppActivationViaProtocolEvent",this.handleAppActivationViaProtocolEvent);this.$1.subscribe(null)}var b=a.prototype;b.initialize=function(){};b.cleanup=function(){var a;(a=this.$1)==null||a.removeEventListener("handleAppActivationViaProtocolEvent",this.handleAppActivationViaProtocolEvent)};return a}();g.WindowsHybridAppActivationBridge_v2574=a}),98);
__d("WAWebWindowsHybridBridgeAbProps.v2574",["WALogger","WAWebABPropsCache","WAWebABPropsLocalStorage","WAWebBackendApi","WAWebHybridABProps","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h;a=function(){function a(a){var c=this;this.$2=!1;this.$4=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b;c.$3==null&&(c.$3=d("WAWebHybridABProps").getAllHybridExpoKeys());a=a.toString();b=(b=c.$3)==null?void 0:b.get(a);if(b==null){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[abprops][windows hybrid] unknown exposure key: ",""])),a);return}d("WAWebABPropsCache").saveExposure(b);c.$1.acknowledgeExposure(a)});return function(b){return a.apply(this,arguments)}}();this.$5=function(a){c.$3=null;var b=d("WAWebABPropsLocalStorage").getABKey();if(a!==b){a=d("WAWebHybridABProps").getAllHybridAbProps(!1);c.$1.setConfigs(b,JSON.stringify(a))}};this.$1=a}var c=a.prototype;c.initialize=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=this;if(this.$2)return;this.$2=!0;yield d("WAWebABPropsCache").waitForABPropConfigsReady();this.$1.addEventListener("exposureLogged",this.$4);this.$1.subscribe(null);var b=(yield this.$1.getVersion());d("WAWebBackendApi").frontendFireAndForget("addAbPropsUpdateListener",function(){a.$5(null)});this.$5(b)});function c(){return a.apply(this,arguments)}return c}();return a}();g.WindowsHybridBridgeAbProps_v2574=a}),98);
__d("WAWebWindowsHybridBridgeConnection.v2574",["WAComms","WALogger","WAPromiseDelays","WAResolvable","WAWebCallCollection","WAWebEventsWaitForMainStreamReadyMd","WAWebEventsWaitForOfflineDeliveryEnd","WAWebSetWindowsPushConfig","WAWebSocketConstants","WAWebSocketModel","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v;a=function(){function a(a){var e=this;this.$2=!1;this.$3=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.data.toString();a=(a=a.channel)==null?void 0:a.toString();d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleUpdateNotificationsTokenEvent"]))).devConsole(b,a);yield c("WAWebEventsWaitForMainStreamReadyMd")();yield d("WAWebSetWindowsPushConfig").setWindowsPushConfig(b,a);e.$1.handleConnectionState(!0);e.$1.acknowledgeNotificationsToken(b,a)});return function(b){return a.apply(this,arguments)}}();this.$4=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent"])));try{var a;if(!e.$2&&(((a=d("WAComms").getComms())==null?void 0:a.socket)==null||d("WAWebSocketModel").Socket.stream===d("WAWebSocketConstants").SOCKET_STREAM.DISCONNECTED)){d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: socket already closed"])));e.$1.handleConnectionState(!1);return}yield e.$6();yield d("WAPromiseDelays").delayMs(3e4);d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: offline resume complete"])));if(c("WAWebCallCollection").activeCall!=null){d("WALogger").LOG(l||(l=babelHelpers.taggedTemplateLiteralLoose(["voip: WindowsHybridBridgeConnection:handleDisconnectEvent: awaiting active call completion"])));var b=new(d("WAResolvable").Resolvable)();a=function(){c("WAWebCallCollection").activeCall==null&&b.resolve()};c("WAWebCallCollection").on("change:activeCall",a);yield b.promise;c("WAWebCallCollection").off("change:activeCall",a);d("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["voip: WindowsHybridBridgeConnection:handleDisconnectEvent: active call completed"])))}else d("WALogger").LOG(n||(n=babelHelpers.taggedTemplateLiteralLoose(["voip: WindowsHybridBridgeConnection:handleDisconnectEvent: no active call"])));d("WAComms").closeSocketAndPause();d("WALogger").LOG(o||(o=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: socket closed"])));e.$1.handleConnectionState(!1)}catch(a){d("WALogger").ERROR(p||(p=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: failed to close socket: ",""])),a)}});this.$5=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WALogger").LOG(q||(q=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection.handleConnectEvent"])));if(e.$2){d("WALogger").LOG(r||(r=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleConnectEvent: socket already opening"])));return}try{var a;a=((a=d("WAComms").getComms())==null?void 0:a.socket)!=null;a||(e.$2=!0,d("WAComms").closeSocketAndResume(),d("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleConnectEvent: socket opened"]))));yield e.$6();d("WALogger").LOG(t||(t=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleConnectEvent: offline resume complete"])));e.$1.handleConnectionState(!0)}catch(a){d("WALogger").ERROR(u||(u=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleConnectEvent: failed to open socket: ",""])),a)}finally{e.$2=!1}});this.$1=a;this.$1.addEventListener("updateNotificationsTokenEvent",this.$3);this.$1.addEventListener("disconnectEvent",this.$4);this.$1.addEventListener("connectEvent",this.$5);this.$1.subscribe(null)}var e=a.prototype;e.$6=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield d("WAComms").waitForConnection(),d("WAWebEventsWaitForOfflineDeliveryEnd").isOfflineDeliveryEnd()||(d("WALogger").LOG(v||(v=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:waitForOfflineResume"]))),yield d("WAWebEventsWaitForOfflineDeliveryEnd").waitForOfflineDeliveryEnd())});function c(){return a.apply(this,arguments)}return c}();return a}();g.WindowsHybridBridgeConnection_v2574=a}),98);
__d("WAWebWindowsHybridBridgeContacts.v2574",["WALogger","WAWebBackendApi","WAWebContactsDbLidMigrationUtils","WAWebEventsWaitForMainStreamReadyMd","WAWebLidAwareContactsDB","WAWebSchemaContact_DO_NOT_USE_DIRECTLY","WAWebSyncBootstrap","asyncToGeneratorRuntime","filterNulls"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a,e,f){var g=this;this.$4="contacts";this.$5=new Set();this.$6=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=JSON.parse(a);if(a.length===0)return;a.forEach(function(a){return g.$5.add(a)});var b=(yield c("WAWebLidAwareContactsDB").bulkGet(a));b.forEach(function(a){return g.$5["delete"](a==null?void 0:a.id)});a=a.filter(function(a){return g.$5.has(a)});a.forEach(function(a){return g.$5["delete"](a)});void g.$1.updateContacts(a,JSON.stringify(c("filterNulls")(b)))});return function(b){return a.apply(this,arguments)}}();this.$7=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.count;a=a.includeVoipCallableOnly;try{b=(yield d("WAWebBackendApi").frontendSendAndReceive("getFrequentContacts",{count:b,includeVoipCallableOnly:a}));a=JSON.stringify(b);void g.$1.receiveFrequentContacts(a)}catch(a){void g.$1.receiveFrequentContacts(JSON.stringify([]))}});return function(b){return a.apply(this,arguments)}}();this.$1=a;this.$2=e;this.$3=f;a.addEventListener("requestUpdateEvent",this.$6);a.addEventListener("requestFrequentContactsEvent",this.$7);a.subscribe(null)}var e=a.prototype;e.initialize=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=this;c("WAWebLidAwareContactsDB").setUpdateListener(function(b){return a.$8(b)});yield c("WAWebEventsWaitForMainStreamReadyMd")();if(this.$3)return;if(c("WAWebSyncBootstrap").isSyncDBootstrapInProcess())return;this.$3=!0;try{var b=200,e=(yield d("WAWebSchemaContact_DO_NOT_USE_DIRECTLY").getContactTable().all({limit:b,offset:0}));do{var f;f=(f=e[e.length-1])==null?void 0:f.id;e=(yield d("WAWebContactsDbLidMigrationUtils").replacePnRowsWithLidData(e));yield this.$1.updateContacts([],JSON.stringify(e));e=(yield d("WAWebSchemaContact_DO_NOT_USE_DIRECTLY").getContactTable().greaterThan(["id"],f,{limit:b}))}while(e.length>0);this.$1.acknowledgeInitialSync()}catch(a){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[WinUi] setInitialData "," error ",""])),this.$4,a)}});function e(){return a.apply(this,arguments)}return e}();e.$8=function(a){var b=this;if(!this.$3)return;a=a.filter(function(a){return!b.$5.has(a)});if(a.length===0)return;a.forEach(function(a){return b.$5.add(a)});this.$2.invalidateContacts(a)};return a}();g.WindowsHybridBridgeContacts_v2574=a}),98);
__d("WAWebWindowsHybridBridgeDebugFeatures.v2574",["WALogger","WAWebBackendApi","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i=1e3;a=function(){function a(a){var b=this;this.$2=null;this.ping=function(a){var c,e=self.performance.now();c=(e-((c=b.$2)!=null?c:e)).toFixed(0);b.$2=e;d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeDebugFeatures:ping:"," diff:","ms"])),a,c);b.$1.pong(a.valueOf())};this.$1=a;(a=this.$1)==null||a.addEventListener("jsLogs",function(){b.saveJSLogs()});(a=this.$1)==null||a.addEventListener("requestWebLogStringEvent",function(a){void b.requestWebLogString(a)});(a=this.$1)==null||a.addEventListener("pingEvent",this.ping);this.$1.subscribe(null)}var c=a.prototype;c.startHangsMonitor=function(){this.$1.startHangsMonitor()};c.saveNativeLogs=function(){this.$1.saveNativeLogs()};c.requestNativeLogs=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){return this.$1.requestNativeLogs()});function c(){return a.apply(this,arguments)}return c}();c.saveJSLogs=function(){d("WAWebBackendApi").frontendFireAndForget("createDownloadDataForMdWebLogs")};c.limitStringSize=function(a,b){var c=new Blob([a],{type:"text/plain"});if(c.size>b){c=c.size-b;return a.substr(c)}return a};c.requestWebLogString=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield d("WAWebBackendApi").frontendSendAndReceive("getWebLogs"));b=this.limitStringSize(b,30*i);this.$1.sendWebLogString(a.toString(),b)});function c(b){return a.apply(this,arguments)}return c}();return a}();g.WindowsHybridBridgeDebugFeatures_v2574=a}),98);
__d("WAWebWindowsHybridBridgeLinksPreview.v2574",["asyncToGeneratorRuntime"],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=a}var c=a.prototype;c.getPreviewAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield this.$1.getPreviewAsync(a));return a==null||a===""?null:JSON.parse(a)});function c(b){return a.apply(this,arguments)}return c}();return a}();f.WindowsHybridBridgeLinksPreview_v2574=a}),66);
__d("WAWebWindowsHybridBridgeMediaFiles.v2574",[],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=a}var b=a.prototype;b.isCachedMediaFileExist=function(a,b){return this.$1.isCachedMediaFileExist(a,b)};b.tryOpenCachedMediaFile=function(a,b){return this.$1.tryOpenCachedMediaFileFile(a,b)};b.prepareForMediaFileSaving=function(a,b,c){return this.$1.prepareForMediaFileSaving(a,b,c)};b.waitTillMediaDownloadCompletes=function(a,b,c){return this.$1.waitTillMediaDownloadCompletes(a,b,c)};b.selectFolderForBulkMediaSaving=function(){return this.$1.selectFolderForBulkMediaSaving()};b.prepareForZipArchiveSavingAndUnarchiveToFolder=function(a,b,c,d){return this.$1.prepareForZipArchiveSavingAndUnarchiveToFolder(a,b,c,d)};b.requestFileSystemDirectoryHandle=function(a){return this.$1.requestFileSystemDirectoryHandle(a)};b.tryCopyCachedMediaFile=function(a){return this.$1.tryCopyCachedMediaFile(a)};b.tryCopyCachedMediaFiles=function(a){return this.$1.tryCopyCachedMediaFiles(a)};return a}();f.WAWebWindowsHybridBridgeMediaFiles_v2574=a}),66);
__d("WAWebWindowsHybridBridgeNativeAppState.v2574",["$InternalEnum","WALogger","WAWebEventEmitter","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l=b("$InternalEnum")({Normal:"normal",MinimizedToTray:"minimizedToTray"});a=function(a,e){var f=this;this.$4=new(c("WAWebEventEmitter"))();this.$5=function(a){a=a.toString();var b=l.cast(a);b!=null?d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeNativeAppState:appStateChanged: ",""])),l.getName(b)):d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeNativeAppState:appStateChanged: invalid appStateId: ",""])),a);f.$3=b;f.$4.trigger("appStateChanged",f.isMinimizedToTray())};this.getAppState=function(){return f.$3};this.getEvents=function(){return f.$4};this.isMinimizedToTray=function(){return f.getAppState()===l.MinimizedToTray};this.takeAppLaunchTimeStamp=function(){return f.$2.takeAppLaunchTimeStamp()};this.getFirstAppRestoreTimeStamp=function(){return f.$2.getFirstAppRestoreTimeStamp()};this.getLastAppRestoreTimeStamp=function(){return f.$2.getLastAppRestoreTimeStamp()};this.detectNativeClockSkew=function(){return f.$2.detectNativeClockSkew(Date.now())};this.getAppStateAsync=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=f.$1.getAppState();a=a.toString();var b=l.cast(a);b!=null?d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeNativeAppState:getAppStateAsync: ",""])),l.getName(b)):d("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeNativeAppState:getAppStateAsync: invalid appState '","'"])),a);return b});this.$1=a;this.$2=e;this.$1.addEventListener("appStateChangedEvent",this.$5);this.$1.subscribe(null)};g.AppState_v2574=l;g.WindowsHybridBridgeNativeAppState_v2574=a}),98);
__d("WAWebWindowsHybridBridgePictures.v2574",["WAJids","WALogger","WAWebLidMigrationUtils","WAWebProfilePicThumbCollection","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;a=function(){function a(a){var c=this;this.$2=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=JSON.parse(a);for(a of a){var b;if(d("WAJids").validateGroupJid(a.id.toString())){var e=d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.get(a.id);(e==null?void 0:e.eurl)!==a.eurl&&c.$1.setProfilePictures(JSON.stringify([{eurl:e==null?void 0:e.eurl,id:a.id.toString()}]));continue}e=d("WAWebLidMigrationUtils").toPn(a.id);if(e==null){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[WindowsHybridBridgePictures] PN WID is null"])));continue}var f=d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.get(e);f==null&&e!=null&&(f=(yield d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.resyncPicturesByWid([e])));if(((b=f)==null?void 0:b.eurl)!==a.eurl){c.$1.setProfilePictures(JSON.stringify([{eurl:(b=f)==null?void 0:b.eurl,id:e.toString()}]));b=d("WAWebLidMigrationUtils").toLid(a.id);if(b==null){d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[WindowsHybridBridgePictures] LID WID is null for PN WID: ",""])),e);continue}c.$1.setProfilePictures(JSON.stringify([{eurl:(e=f)==null?void 0:e.eurl,id:b.toString()}]))}}});return function(b){return a.apply(this,arguments)}}();this.$1=a;a.addEventListener("verifyPictureEvent",this.$2);a.subscribe(null)}var c=a.prototype;c.notifyUpdate=function(a){if(a==null)return;if(d("WAJids").validateGroupJid(a.id.toString())){this.$1.setProfilePictures(JSON.stringify([{eurl:a.eurl,id:a.id.toString()}]));return}if(!a.id.isUser())return;var b=d("WAWebLidMigrationUtils").toPn(a.id),c=d("WAWebLidMigrationUtils").toLid(a.id);if(b==null){d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[WindowsHybridBridgePictures] PN WID is null"])));return}if(c==null){d("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["[WindowsHybridBridgePictures] LID WID is null for PN WID: ",""])),b);return}this.$1.setProfilePictures(JSON.stringify([{eurl:a.eurl,id:b.toString()}]));this.$1.setProfilePictures(JSON.stringify([{eurl:a.eurl,id:c.toString()}]))};return a}();g.WindowsHybridBridgePictures_v2574=a}),98);
__d("WAWebWindowsHybridBridgePreferences.v2574",["WAWebUserPrefsBase","WAWebUserPrefsKeys","WAWebUserPrefsLocalStorage","WAWebUserPrefsStore"],(function(a,b,c,d,e,f,g){var h="WANativePreferencesRevision";a=function(){function a(a){var b=this;this.$2=!1;this.$3=null;this.$4=new Set();this.initialize=function(){var a;if(b.$2)return;b.$4.add(String(d("WAWebUserPrefsKeys").UserPrefs.WindowsIsSystemTrayEnabled));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.SYSTEM_THEME_MODE));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.THEME));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.ME_DISPLAY_NAME));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LAST_PUSHNAME));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LID));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LAST_WID_MD));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LANG_FROM_PHONE));b.$4.add(String(d("WAWebUserPrefsKeys").UserPrefs.AbpropsWebRefreshId));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.ABPROPS_REFRESH_ID));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.ABPROPS));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LANG_FROM_USER));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.GLOBAL_MUTE_CALL_RINGTONE));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.GLOBAL_MUTE_CALL_NOTIFICATIONS));b.$4.add(String(d("WAWebUserPrefsKeys").UserPrefs.WindowsNotificationBannerSetting));b.$4.add(String(d("WAWebUserPrefsKeys").UserPrefs.WindowsTaskbarNotificationSetting));(a=b.$1)==null||a.addEventListener("everythingRequested",function(){var a=b.$5();b.$3!==a&&(b.$3=a,b.$6())});(a=b.$1)==null||a.subscribe(null);b.$2=!0};this.$1=a}var b=a.prototype;b.$5=function(){var a=c("WAWebUserPrefsStore").getUser(h),b=0;typeof a==="number"?b=a:typeof a==="string"&&(b=Number(a)||0);return b};b.$7=function(a){c("WAWebUserPrefsStore").setUser(h,a)};b.handleSettingChange=function(a,b){var c;if(!this.$4.has(a))return;var d=this.$5();(c=this.$1)==null||c.updateLocalSetting(a,JSON.stringify(b),++d);this.$7(d)};b.$6=function(){var a=this.$5(),b=[],e=[];for(var f of this.$4){var g=c("WAWebUserPrefsStore").getUser(f);if(g!=null){b.push(f);e.push(JSON.stringify(g));continue}g=d("WAWebUserPrefsBase").userPreferencesStoreBase.get(f);g!=null&&(b.push(f),e.push(JSON.stringify(g)));g=c("WAWebUserPrefsLocalStorage").getItemFromLocalStorage(f);g!=null&&(b.push(f),e.push(JSON.stringify(g)))}(g=this.$1)==null||g.updateAllLocalSettings(b,e,a)};b.clean=function(){var a;(a=this.$1)==null||a.clean()};return a}();g.WindowsHybridBridgePreferences_v2574=a}),98);
__d("WAWebWindowsHybridBridgeRateTheApp.v2574",["asyncToGeneratorRuntime"],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=a}var c=a.prototype;c.getStoreProductForCurrentApp=function(){return this.$1.getStoreProductForCurrentAppAsync()};c.requestRateAndApp=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield this.$1.requestRateAndReviewAppAsync());return JSON.parse(a)});function c(){return a.apply(this,arguments)}return c}();return a}();f.WAWebWindowsHybridBridgeRateTheApp_v2574=a}),66);
__d("WAWebWindowsHybridBridgeScalingControl.v2574",["WAWebWindowsScalingControlEventEmitter"],(function(a,b,c,d,e,f,g){a=function(){function a(a){this.$2=!1,this.$3=function(){c("WAWebWindowsScalingControlEventEmitter").trigger("requestZoomIn")},this.$4=function(){c("WAWebWindowsScalingControlEventEmitter").trigger("requestZoomOut")},this.$1=a}var b=a.prototype;b.initialize=function(){var a;if(this.$2)return;this.$2=!0;(a=this.$1)==null||a.addEventListener("zoomInRequested",this.$3);(a=this.$1)==null||a.addEventListener("zoomOutRequested",this.$4);(a=this.$1)==null||a.subscribe(null)};b.zoomIn=function(){this.$3()};b.zoomOut=function(){this.$4()};b.showScalingControl=function(a){var b;(b=this.$1)==null||b.showScalingControl(a)};return a}();g.WindowsHybridBridgeScalingControl_v2574=a}),98);
__d("WAWebWindowsHybridBridgeSystemIntegrations.v2574",["WAWebEventEmitter","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){a=function(){function a(a){var b=this;this.events=new(c("WAWebEventEmitter"))();this.$2=function(a){var c=a.tag,d=a.action;a=a.additionalData;b.events.trigger("MessageNotificationAction",{key:c,action:d,additionalData:a})};this.$1=a;(a=this.$1)==null||a.addEventListener("MessageNotificationActionEvent",this.$2);(a=this.$1)==null||a.subscribe(null)}var d=a.prototype;d.closeMessageNotification=function(a,b){var c;(c=this.$1)==null||c.closeMessageNotification(a,b)};d.showMessageNotification=function(a,b,c,d,e,f,g,h,i,j,k,l){var m;(m=this.$1)==null||m.showMessageNotification(a,b!=null?b:"",c,d,e,f!=null?f:"",g,h,i!=null?i:"",j!=null?j:"",k,l)};d.isNotificationEnabledInSystem=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){return this.$1==null?!1:this.$1.isNotificationEnabledInSystem()});function c(){return a.apply(this,arguments)}return c}();d.updateTaskbarBadge=function(a){this.$1.updateTaskbarBadge(a)};d.getStartupTaskState=function(){return this.$1.getStartupTaskState()};d.updateStartupTask=function(a){this.$1.updateStartupTask(a)};d.updateCurrentWebAppScreen=function(a){this.$1.updateCurrentWebAppScreen(a)};d.playTone=function(a){this.$1.playTone(a)};return a}();g.WindowsHybridBridgeSystemIntegrations_v2574=a}),98);
__d("WAWebWindowsHybridBridgeTouchpadFix.v2574",["WAWebDebounce"],(function(a,b,c,d,e,f,g){a=function(){function a(a){var b=this;this.$2=c("WAWebDebounce")(function(a){if(a.deltaX<=0)return;a=a.target;a=a;var c=!1,d=0;while(a&&a!==document.body&&d<3){var e=self.getComputedStyle(a);if((e.overflowX==="auto"||e.overflowX==="scroll")&&a.scrollWidth>a.clientWidth){c=!0;break}e=a.parentElement;if(!e)break;a=e;d++}c||b.interruptManipulations()},500);this.$1=a}var b=a.prototype;b.interruptManipulations=function(){return this.$1.interruptManipulations()};b.init=function(){document.addEventListener("wheel",this.$2,{passive:!1})};return a}();g.WindowsHybridBridgeTouchpadFix_v2574=a}),98);
__d("WAWebWindowsHybridBridgeVoip.v2574",["WABase64","WALogger","WAWebBackendApi","WAWebSerializeVoipWapNode","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L;a=function(){function a(a,b){var c=this;this.handleVoipReady=function(){var a;d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received voip ready event"])));d("WAWebBackendApi").frontendFireAndForget("addStartingLogoutListener",function(){return c.handleSignOut()});(a=c.$3)==null||a.onVoipReady()};this.sendSignalingXmpp=function(a){var b,e=a.peerJid,f=a.callId,g=a.payload;a=a.shouldEncryptBeforeSending;d("WALogger").DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received sendSignalingXmpp event: ",", ",", ",", ",""])),e,f,g,a);(b=c.$3)==null||b.onSignalingXmpp(e,f,g,a)};this.handleCallEvent=function(a){var b,e=a.eventType,f=a.userData;a=a.eventDataJson;d("WALogger").DEV(j||(j=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received handleCallEvent event: ",", ",", ",""])),e,f,a);(b=c.$3)==null||b.onCallEvent(e,f,a)};this.requestOpenChat=function(a){var b;d("WALogger").DEV(k||(k=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received requestOpenChat event: ",""])),a);(b=c.$3)==null||b.onRequestOpenChat(a)};this.requestDeviceJidList=function(a){var b;d("WALogger").DEV(l||(l=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received requestDeviceJidList event: ",""])),a);void ((b=c.$3)==null?void 0:b.onRequestDeviceJidList(a).then(function(b){var d;(d=c.$1)==null||d.handleDeviceJidList(a.toString(),b)}))};this.requestPhoneNumberJid=function(a){var b;d("WALogger").DEV(m||(m=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received requestPhoneNumberJid event: ",""])),a);void ((b=c.$3)==null||b.onRequestPhoneNumberJid==null?void 0:b.onRequestPhoneNumberJid(a).then(function(b){var d;(d=c.$1)==null||d.handlePhoneNumberJid(a.toString(),b)}))};this.requestLidJid=function(a){var b;d("WALogger").DEV(n||(n=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received requestLidJid event: ",""])),a);void ((b=c.$3)==null||b.onRequestLidJid==null?void 0:b.onRequestLidJid(a).then(function(b){var d;(d=c.$1)==null||d.handleLidJid(a.toString(),b)}))};this.callAgain=function(a){var b,e=a.peerJid;a=a.isVideoCall;d("WALogger").DEV(o||(o=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received callAgain event: ",", ",""])),e,a);(b=c.$3)==null||b.onCallAgain(e,a)};this.handleLidCallerDisplayInfo=function(a){var b;d("WALogger").DEV(p||(p=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received handleLidCallerDisplayInfo event: ",""])),a);(b=c.$3)==null||b.onLidCallerDisplayInfo(a)};this.$1=a;this.$2=b;this.$1.addEventListener("handleVoipReadyEvent",this.handleVoipReady);this.$1.addEventListener("handleVoipCallEvent",this.handleCallEvent);this.$1.addEventListener("handleSignalingXmppEvent",this.sendSignalingXmpp);this.$1.addEventListener("handleRequestOpenChatEvent",this.requestOpenChat);this.$1.addEventListener("handleRequestDeviceJidListEvent",this.requestDeviceJidList);this.$1.addEventListener("handleRequestPhoneNumberJidEvent",this.requestPhoneNumberJid);this.$1.addEventListener("handleRequestLidJidEvent",this.requestLidJid);this.$1.addEventListener("handleCallAgainEvent",this.callAgain);this.$1.addEventListener("handleLidCallerDisplayInfoEvent",this.handleLidCallerDisplayInfo);this.$1.subscribe(null)}var c=a.prototype;c.setHandlers=function(a){this.$3=a};c.cleanup=function(){this.$1.removeEventListener!=null&&(this.$1.removeEventListener("handleVoipReadyEvent",this.handleVoipReady),this.$1.removeEventListener("handleVoipCallEvent",this.handleCallEvent),this.$1.removeEventListener("handleSignalingXmppEvent",this.sendSignalingXmpp),this.$1.removeEventListener("handleRequestOpenChatEvent",this.requestOpenChat),this.$1.removeEventListener("handleRequestDeviceJidListEvent",this.requestDeviceJidList),this.$1.removeEventListener("handleRequestPhoneNumberJidEvent",this.requestPhoneNumberJid),this.$1.removeEventListener("handleRequestLidJidEvent",this.requestLidJid),this.$1.removeEventListener("handleCallAgainEvent",this.callAgain),this.$1.removeEventListener("handleLidCallerDisplayInfo",this.handleLidCallerDisplayInfo))};c.handleIncomingSignalingOffer=function(a,b,c,e,f,g,h,i,j){d("WALogger").DEV(q||(q=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleIncomingSignalingOffer called with:"]))).devConsole(arguments),this.$2.handleIncomingSignalingOffer(d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a),b,c,e,f,g,h,i,j?d("WABase64").encodeB64(j):null)};c.handleIncomingSignalingMessage=function(a,b,c,e,f,g,h,i){this.$2.handleIncomingSignalingMessage(d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a),b,c,e,f,g,h,i?d("WABase64").encodeB64(i):null)};c.handleIncomingSignalingAck=function(a,b,c,e,f){d("WALogger").DEV(r||(r=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleIncomingSignalingAck called with:"]))).devConsole(arguments),this.$2.handleIncomingSignalingAck(d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a),b,c,e,f?d("WABase64").encodeB64(f):null)};c.handleIncomingSignalingReceipt=function(a,b,c){d("WALogger").DEV(s||(s=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleIncomingSignalingReceipt called with:"]))).devConsole(arguments),this.$2.handleIncomingSignalingReceipt(d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a),b,c?d("WABase64").encodeB64(c):null)};c.resendOfferOnDecryptionFailure=function(a,b){d("WALogger").DEV(t||(t=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] resendOfferOnDecryptionFailure called with:"]))).devConsole(arguments),this.$2.resendOfferOnDecryptionFailure(a,b)};c.resendEncRekeyRetry=function(a,b){d("WALogger").DEV(u||(u=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] resendEncRekeyRetry called with:"]))).devConsole(arguments),this.$2.resendEncRekeyRetry(a,b)};c.notifyDeviceIdentityChangedOrDeleted=function(a,b){d("WALogger").DEV(v||(v=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] notifyDeviceIdentityChangedOrDeleted called with:"]))).devConsole(arguments),this.$2.notifyDeviceIdentityChangedOrDeleted(a,b)};c.handleWebViewReady=function(){var a;d("WALogger").DEV(w||(w=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleWebViewReady called"])));(a=this.$1)==null||a.handleWebViewReady()};c.voipInit=function(a,b,c){var e;d("WALogger").DEV(x||(x=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] voipInit called with:"]))).devConsole(arguments);(e=this.$1)==null||e.voipInit(a,b,c)};c.setHideMyIp=function(a){var b;d("WALogger").DEV(y||(y=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] setHideMyIp called with:"]))).devConsole(arguments);(b=this.$1)==null||b.setHideMyIp(a)};c.setChatNameAndIcon=function(a,b,c){var e;d("WALogger").DEV(z||(z=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] setChatNameAndIcon called"])));(e=this.$1)==null||e.setChatNameAndIcon(a,b,c)};c.handleSignOut=function(){var a;d("WALogger").DEV(A||(A=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleSignOut called"])));(a=this.$1)==null||a.handleSignOut()};c.startCall=function(a,b,c,e,f,g,h,i,j,k,l){var m;d("WALogger").DEV(B||(B=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] startCall called with:"]))).devConsole(arguments);(m=this.$1)==null||m.startCall(a.toString({legacy:!0}),b,c,e,f,g,h,i?d("WABase64").encodeB64(i):null,j,k)};c.startGroupCall=function(a,b,c,e,f,g,h,i,j,k,l,m,n,o){var p;d("WALogger").DEV(C||(C=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] startGroupCall called with:"]))).devConsole(arguments);(p=this.$1)==null||p.startGroupCall(a,b,c,e,f,g,h,i,j,k,l,m,n)};c.handleDeviceJidList=function(a,b){var c;d("WALogger").DEV(D||(D=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleDeviceJidList called with:"]))).devConsole(arguments);(c=this.$1)==null||c.handleDeviceJidList(a,b)};c.previewCallLink=function(a,b,c,e,f){var g;d("WALogger").DEV(E||(E=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] previewCallLink called with:"]))).devConsole(arguments);(g=this.$1)==null||g.previewCallLink(a,b,c,e)};c.previewAndJoinCallLink=function(a,b,c,e,f){var g;d("WALogger").DEV(F||(F=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] previewAndJoinCallLink called with:"]))).devConsole(arguments);(g=this.$1)==null||g.previewAndJoinCallLink(a,b,c,e)};c.endCall=function(a,b){var c;d("WALogger").DEV(G||(G=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] endCall called with:"]))).devConsole(arguments);(c=this.$1)==null||c.endCall(a,b)};c.rejectCallWithoutCallContext=function(a,b,c,e,f,g,h){var i;d("WALogger").DEV(H||(H=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] rejectCallWithoutCallContext called with:"]))).devConsole(arguments);(i=this.$1)==null||i.rejectCallWithoutCallContext(a,b,c,e,f,g,h)};c.joinOngoingCall=function(a,b,c,e,f,g,h,i,j,k,l,m,n,o,p,q){var r;d("WALogger").DEV(I||(I=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] joinOngoingCall called with:"]))).devConsole(arguments);(r=this.$1)==null||r.joinOngoingCall(a,b,c,e,f,g,h,i,j,k,l,m,n,o,p,q)};c.inviteToCall=function(a,b,c){};c.requestCallInfo=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WALogger").DEV(J||(J=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] requestCallInfo called with:"]))).devConsole(arguments);var a=(yield this.$1.getCallInfo()),b=a.callInfoJsonBase64,c=a.error;return{callInfoJsonBase64:b,error:c}});function c(){return a.apply(this,arguments)}return c}();c.requestObtainDevicePermissionAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("WALogger").DEV(K||(K=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] requestObtainDevicePermissionAsync called with:"]))).devConsole(arguments);var b=(yield this.$1.requestObtainDevicePermissionAsync(a)),c=b.error,e=b.permissionGranted;return{error:c,permissionGranted:e}});function c(b){return a.apply(this,arguments)}return c}();c.requestDevicesCountAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("WALogger").DEV(L||(L=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] requestDevicesCountAsync called with:"]))).devConsole(arguments);var b=(yield this.$1.getDeviceCountAsync(a)),c=b.error,e=b.deviceCount;return{error:c,deviceCount:e}});function c(b){return a.apply(this,arguments)}return c}();return a}();g.VoipWinRTBridge_v2574=a}),98);
__d("WAWebWindowsHybridBridgeWam.v2574",["Promise","WALogger","WAWebWamCodegenWamEvent","WAWebWamEnumCrashApplicationState","WAWebWamEnumCrashType"],(function(a,b,c,d,e,f,g){var h,i,j,k;a=function(a){var c=this;this.$2=!1;this.initialize=function(){var a;if(c.$2)return;(a=c.$1)==null||a.addEventListener("eventsSaved",c.handleEvents);(a=c.$1)==null||a.subscribe(null);c.$2=!0};this.handleEvents=function(a){if(!c.$2){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received handleWamEvent while bridge is not initialized"])));return}d("WALogger").DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received handleWamEvent event: ",""])),a);a=JSON.parse(a);void (k||(k=b("Promise"))).all(a.map(function(a){return new(d("WAWebWamCodegenWamEvent").RawWamEvent)(a).commitAndWaitForFlush(!0)}));a.forEach(function(a){if(a.id===494&&a[6]===d("WAWebWamEnumCrashType").CRASH_TYPE.DISPATCHER_NOT_RESPONDING&&a[23]===d("WAWebWamEnumCrashApplicationState").CRASH_APPLICATION_STATE.FOREGROUND){var b=a[3];a=a[24];d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["Native ","s ANR detected: ",""])),a,b).sendLogs("hybrid-native-anr-"+a+"s",{sampling:.001})}})};this.$1=a};g.WindowsHybridBridgeWam_v2574=a}),98);
__d("WindowsHybridBridgeBrowserExtensions.v2574",["asyncToGeneratorRuntime"],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=a}var c=a.prototype;c.getBrowserExtensionsInfoAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield this.$1.getBrowserExtensionsInfoAsync());return JSON.parse(a)});function c(){return a.apply(this,arguments)}return c}();c.enableBrowserExtensionAsync=function(a,b){return this.$1.enableBrowserExtensionAsync(a,b)};c.removeBrowserExtensionAsync=function(a){return this.$1.removeBrowserExtensionAsync(a)};c.hasBootstrappedSuccessfully=function(){return this.$1.hasBootstrappedSuccessfully()};c.getZoomBrowserExtensionInfoAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield this.$1.getZoomBrowserExtensionInfoAsync());return JSON.parse(a)});function c(){return a.apply(this,arguments)}return c}();c.enableZoomBrowserExtensionAsync=function(a){return this.$1.enableZoomBrowserExtensionAsync(a)};c.removeZoomBrowserExtensionAsync=function(){return this.$1.removeZoomBrowserExtensionAsync()};c.installZoomBrowserExtensionAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield this.$1.installZoomBrowserExtensionAsync());return JSON.parse(a)});function c(){return a.apply(this,arguments)}return c}();return a}();f.WindowsHybridBridgeBrowserExtensions_v2574=a}),66);
__d("WAWebWindowsHybridBridge.v2574",["WAWebWindowsHybridAppActivationBridge.v2574","WAWebWindowsHybridBridgeAbProps.v2574","WAWebWindowsHybridBridgeConnection.v2574","WAWebWindowsHybridBridgeContacts.v2574","WAWebWindowsHybridBridgeDebugFeatures.v2574","WAWebWindowsHybridBridgeLinksPreview.v2574","WAWebWindowsHybridBridgeMediaFiles.v2574","WAWebWindowsHybridBridgeNativeAppState.v2574","WAWebWindowsHybridBridgePictures.v2574","WAWebWindowsHybridBridgePreferences.v2574","WAWebWindowsHybridBridgeRateTheApp.v2574","WAWebWindowsHybridBridgeScalingControl.v2574","WAWebWindowsHybridBridgeSystemIntegrations.v2574","WAWebWindowsHybridBridgeTouchpadFix.v2574","WAWebWindowsHybridBridgeVoip.v2574","WAWebWindowsHybridBridgeWam.v2574","WindowsHybridBridgeBrowserExtensions.v2574","cr:17220"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.seamlessMigrationBridge=null;this.mediaTranscodeBridge=null;this.adv=null;this.sharesheetBridge=null;this.serverEncKeySaltBridge=null;a.hostObjects.options.defaultSyncProxy=!0;a.hostObjects.options.forceAsyncMethodMatches=[/Async$/,/AsyncWithSpeller$/];a.hostObjects.options.ignoreMemberNotFoundError=!0;var c=a.hostObjects.AbPropsBridge;c!=null&&(this.abProps=new(d("WAWebWindowsHybridBridgeAbProps.v2574").WindowsHybridBridgeAbProps_v2574)(c));c=a.hostObjects.WamBridge;c!=null&&(this.wam=new(d("WAWebWindowsHybridBridgeWam.v2574").WindowsHybridBridgeWam_v2574)(c));c=a.hostObjects.PreferencesBridge;c&&(this.$1=new(d("WAWebWindowsHybridBridgePreferences.v2574").WindowsHybridBridgePreferences_v2574)(c));c=a.hostObjects.ScalingControlBridge;c&&(this.scalingControl=new(d("WAWebWindowsHybridBridgeScalingControl.v2574").WindowsHybridBridgeScalingControl_v2574)(c));c=a.hostObjects.PicturesBridge;c&&(this.pictures=new(d("WAWebWindowsHybridBridgePictures.v2574").WindowsHybridBridgePictures_v2574)(c));c=a.hostObjects.DebugFeaturesBridge;var e=b("cr:17220")==null?void 0:b("cr:17220").debugFeaturesMock;c!=null?this.$4=new(d("WAWebWindowsHybridBridgeDebugFeatures.v2574").WindowsHybridBridgeDebugFeatures_v2574)(c):e!=null;c=a.hostObjects.VoipBridge;e=a.hostObjects.VoipSignalingBridge;c&&e&&(this.voip=new(d("WAWebWindowsHybridBridgeVoip.v2574").VoipWinRTBridge_v2574)(c,e));this.$5=new(d("WAWebWindowsHybridBridgeRateTheApp.v2574").WAWebWindowsHybridBridgeRateTheApp_v2574)(a.hostObjects.RateAppBridge);this.$3=new(d("WAWebWindowsHybridBridgeConnection.v2574").WindowsHybridBridgeConnection_v2574)(a.hostObjects.ConnectionBridge);this.$2=a.hostObjects.ClientKeyBridge;this.touchpadFix=new(d("WAWebWindowsHybridBridgeTouchpadFix.v2574").WindowsHybridBridgeTouchpadFix_v2574)(a.hostObjects.TouchpadFix);this.linksPreview=new(d("WAWebWindowsHybridBridgeLinksPreview.v2574").WindowsHybridBridgeLinksPreview_v2574)(a.hostObjects.LinksPreviewBridge);try{c=a.hostObjects.sync.PopulatedContactsBridge;e=a.hostObjects.PopulatedContactsBridge;e!=null&&(this.contacts=new(d("WAWebWindowsHybridBridgeContacts.v2574").WindowsHybridBridgeContacts_v2574)(e,c,!0))}catch(b){e=a.hostObjects.ContactsBridge;e!=null&&(this.contacts=new(d("WAWebWindowsHybridBridgeContacts.v2574").WindowsHybridBridgeContacts_v2574)(e,a.hostObjects.sync.ContactsBridge,!1))}this.sqlite=a.hostObjects.SQLiteBridge;c=a.hostObjects.MediaFilesBridge;c!=null&&(this.mediaFiles=new(d("WAWebWindowsHybridBridgeMediaFiles.v2574").WAWebWindowsHybridBridgeMediaFiles_v2574)(c));e=a.hostObjects.AppActivationBridge;e!=null&&(this.appActivationBridge=new(d("WAWebWindowsHybridAppActivationBridge.v2574").WindowsHybridAppActivationBridge_v2574)(e));c=a.hostObjects.NativeAppStateBridge;e=a.hostObjects.sync.NativeAppStateBridge;c!=null&&(this.nativeAppStateBridge=new(d("WAWebWindowsHybridBridgeNativeAppState.v2574").WindowsHybridBridgeNativeAppState_v2574)(c,e));c=a.hostObjects.SystemIntegrationsBridge;c&&(this.systemIntegrationsBridge=new(d("WAWebWindowsHybridBridgeSystemIntegrations.v2574").WindowsHybridBridgeSystemIntegrations_v2574)(c));e=a.hostObjects.BrowserExtensionsBridge;e&&(this.browserExtensionsBridge=new(d("WindowsHybridBridgeBrowserExtensions.v2574").WindowsHybridBridgeBrowserExtensions_v2574)(e))}var c=a.prototype;c.getPreferences=function(){var a;(a=this.$1)==null||a.initialize();return this.$1};c.getScalingControl=function(){var a;(a=this.scalingControl)==null||a.initialize();return this.scalingControl};c.getRateTheApp=function(){return this.$5};c.getClientKeyBridge=function(){return this.$2};c.getDebugFeatures=function(){return this.$4};return a}();g.WindowsHybridBridge_v2574=a}),98);
__d("WAWebWindowsHybridAppActivationBridge.v2575",["WAWebApi","WAWebApiParse","WAWebExecApiCmd"],(function(a,b,c,d,e,f,g){a=function(){function a(a){this.handleAppActivationViaProtocolEvent=function(a){a=a.toString();a=d("WAWebApiParse").parseAPICmd(a);a.resultType!==d("WAWebApi").APICmd.INVALID&&c("WAWebExecApiCmd")({cmdData:a,isExternal:!0})};this.$1=a;(a=this.$1)==null||a.addEventListener("handleAppActivationViaProtocolEvent",this.handleAppActivationViaProtocolEvent);this.$1.subscribe(null)}var b=a.prototype;b.initialize=function(){};b.cleanup=function(){var a;(a=this.$1)==null||a.removeEventListener("handleAppActivationViaProtocolEvent",this.handleAppActivationViaProtocolEvent)};return a}();g.WindowsHybridAppActivationBridge_v2575=a}),98);
__d("WAWebWindowsHybridBridgeAbProps.v2575",["WALogger","WAWebABPropsCache","WAWebABPropsLocalStorage","WAWebBackendApi","WAWebHybridABProps","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h;a=function(){function a(a){var c=this;this.$2=!1;this.$4=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b;c.$3==null&&(c.$3=d("WAWebHybridABProps").getAllHybridExpoKeys());a=a.toString();b=(b=c.$3)==null?void 0:b.get(a);if(b==null){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[abprops][windows hybrid] unknown exposure key: ",""])),a);return}d("WAWebABPropsCache").saveExposure(b);c.$1.acknowledgeExposure(a)});return function(b){return a.apply(this,arguments)}}();this.$5=function(a){c.$3=null;var b=d("WAWebABPropsLocalStorage").getABKey();if(a!==b){a=d("WAWebHybridABProps").getAllHybridAbProps(!1);c.$1.setConfigs(b,JSON.stringify(a))}};this.$1=a}var c=a.prototype;c.initialize=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=this;if(this.$2)return;this.$2=!0;yield d("WAWebABPropsCache").waitForABPropConfigsReady();this.$1.addEventListener("exposureLogged",this.$4);this.$1.subscribe(null);var b=(yield this.$1.getVersion());d("WAWebBackendApi").frontendFireAndForget("addAbPropsUpdateListener",function(){a.$5(null)});this.$5(b)});function c(){return a.apply(this,arguments)}return c}();return a}();g.WindowsHybridBridgeAbProps_v2575=a}),98);
__d("WAWebWindowsHybridBridgeConnection.v2575",["WAComms","WALogger","WAPromiseDelays","WAResolvable","WAWebCallCollection","WAWebEventsWaitForMainStreamReadyMd","WAWebEventsWaitForOfflineDeliveryEnd","WAWebSetWindowsPushConfig","WAWebSocketConstants","WAWebSocketModel","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v;a=function(){function a(a){var e=this;this.$2=!1;this.$3=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.data.toString();a=(a=a.channel)==null?void 0:a.toString();d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleUpdateNotificationsTokenEvent"]))).devConsole(b,a);yield c("WAWebEventsWaitForMainStreamReadyMd")();yield d("WAWebSetWindowsPushConfig").setWindowsPushConfig(b,a);e.$1.handleConnectionState(!0);e.$1.acknowledgeNotificationsToken(b,a)});return function(b){return a.apply(this,arguments)}}();this.$4=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent"])));try{var a;if(!e.$2&&(((a=d("WAComms").getComms())==null?void 0:a.socket)==null||d("WAWebSocketModel").Socket.stream===d("WAWebSocketConstants").SOCKET_STREAM.DISCONNECTED)){d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: socket already closed"])));e.$1.handleConnectionState(!1);return}yield e.$6();yield d("WAPromiseDelays").delayMs(3e4);d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: offline resume complete"])));if(c("WAWebCallCollection").activeCall!=null){d("WALogger").LOG(l||(l=babelHelpers.taggedTemplateLiteralLoose(["voip: WindowsHybridBridgeConnection:handleDisconnectEvent: awaiting active call completion"])));var b=new(d("WAResolvable").Resolvable)();a=function(){c("WAWebCallCollection").activeCall==null&&b.resolve()};c("WAWebCallCollection").on("change:activeCall",a);yield b.promise;c("WAWebCallCollection").off("change:activeCall",a);d("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["voip: WindowsHybridBridgeConnection:handleDisconnectEvent: active call completed"])))}else d("WALogger").LOG(n||(n=babelHelpers.taggedTemplateLiteralLoose(["voip: WindowsHybridBridgeConnection:handleDisconnectEvent: no active call"])));d("WAComms").closeSocketAndPause();d("WALogger").LOG(o||(o=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: socket closed"])));e.$1.handleConnectionState(!1)}catch(a){d("WALogger").ERROR(p||(p=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: failed to close socket: ",""])),a)}});this.$5=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WALogger").LOG(q||(q=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection.handleConnectEvent"])));if(e.$2){d("WALogger").LOG(r||(r=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleConnectEvent: socket already opening"])));return}try{var a;a=((a=d("WAComms").getComms())==null?void 0:a.socket)!=null;a||(e.$2=!0,d("WAComms").closeSocketAndResume(),d("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleConnectEvent: socket opened"]))));yield e.$6();d("WALogger").LOG(t||(t=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleConnectEvent: offline resume complete"])));e.$1.handleConnectionState(!0)}catch(a){d("WALogger").ERROR(u||(u=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleConnectEvent: failed to open socket: ",""])),a)}finally{e.$2=!1}});this.$1=a;this.$1.addEventListener("updateNotificationsTokenEvent",this.$3);this.$1.addEventListener("disconnectEvent",this.$4);this.$1.addEventListener("connectEvent",this.$5);this.$1.subscribe(null)}var e=a.prototype;e.$6=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield d("WAComms").waitForConnection(),d("WAWebEventsWaitForOfflineDeliveryEnd").isOfflineDeliveryEnd()||(d("WALogger").LOG(v||(v=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:waitForOfflineResume"]))),yield d("WAWebEventsWaitForOfflineDeliveryEnd").waitForOfflineDeliveryEnd())});function c(){return a.apply(this,arguments)}return c}();return a}();g.WindowsHybridBridgeConnection_v2575=a}),98);
__d("WAWebWindowsHybridBridgeContacts.v2575",["WALogger","WAWebBackendApi","WAWebContactsDbLidMigrationUtils","WAWebEventsWaitForMainStreamReadyMd","WAWebLidAwareContactsDB","WAWebSchemaContact_DO_NOT_USE_DIRECTLY","WAWebSyncBootstrap","asyncToGeneratorRuntime","filterNulls"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a,e,f){var g=this;this.$4="contacts";this.$5=new Set();this.$6=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=JSON.parse(a);if(a.length===0)return;a.forEach(function(a){return g.$5.add(a)});var b=(yield c("WAWebLidAwareContactsDB").bulkGet(a));b.forEach(function(a){return g.$5["delete"](a==null?void 0:a.id)});a=a.filter(function(a){return g.$5.has(a)});a.forEach(function(a){return g.$5["delete"](a)});void g.$1.updateContacts(a,JSON.stringify(c("filterNulls")(b)))});return function(b){return a.apply(this,arguments)}}();this.$7=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.count;a=a.includeVoipCallableOnly;try{b=(yield d("WAWebBackendApi").frontendSendAndReceive("getFrequentContacts",{count:b,includeVoipCallableOnly:a}));a=JSON.stringify(b);void g.$1.receiveFrequentContacts(a)}catch(a){void g.$1.receiveFrequentContacts(JSON.stringify([]))}});return function(b){return a.apply(this,arguments)}}();this.$1=a;this.$2=e;this.$3=f;a.addEventListener("requestUpdateEvent",this.$6);a.addEventListener("requestFrequentContactsEvent",this.$7);a.subscribe(null)}var e=a.prototype;e.initialize=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=this;c("WAWebLidAwareContactsDB").setUpdateListener(function(b){return a.$8(b)});yield c("WAWebEventsWaitForMainStreamReadyMd")();if(this.$3)return;if(c("WAWebSyncBootstrap").isSyncDBootstrapInProcess())return;this.$3=!0;try{var b=200,e=(yield d("WAWebSchemaContact_DO_NOT_USE_DIRECTLY").getContactTable().all({limit:b,offset:0}));do{var f;f=(f=e[e.length-1])==null?void 0:f.id;e=(yield d("WAWebContactsDbLidMigrationUtils").replacePnRowsWithLidData(e));yield this.$1.updateContacts([],JSON.stringify(e));e=(yield d("WAWebSchemaContact_DO_NOT_USE_DIRECTLY").getContactTable().greaterThan(["id"],f,{limit:b}))}while(e.length>0);this.$1.acknowledgeInitialSync()}catch(a){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[WinUi] setInitialData "," error ",""])),this.$4,a)}});function e(){return a.apply(this,arguments)}return e}();e.$8=function(a){var b=this;if(!this.$3)return;a=a.filter(function(a){return!b.$5.has(a)});if(a.length===0)return;a.forEach(function(a){return b.$5.add(a)});this.$2.invalidateContacts(a)};return a}();g.WindowsHybridBridgeContacts_v2575=a}),98);
__d("WAWebWindowsHybridBridgeDebugFeatures.v2575",["WALogger","WAWebBackendApi","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i=1e3;a=function(){function a(a){var b=this;this.$2=null;this.ping=function(a){var c,e=self.performance.now();c=(e-((c=b.$2)!=null?c:e)).toFixed(0);b.$2=e;d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeDebugFeatures:ping:"," diff:","ms"])),a,c);b.$1.pong(a.valueOf())};this.$1=a;(a=this.$1)==null||a.addEventListener("jsLogs",function(){b.saveJSLogs()});(a=this.$1)==null||a.addEventListener("requestWebLogStringEvent",function(a){void b.requestWebLogString(a)});(a=this.$1)==null||a.addEventListener("pingEvent",this.ping);this.$1.subscribe(null)}var c=a.prototype;c.startHangsMonitor=function(){this.$1.startHangsMonitor()};c.saveNativeLogs=function(){this.$1.saveNativeLogs()};c.requestNativeLogs=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){return this.$1.requestNativeLogs()});function c(){return a.apply(this,arguments)}return c}();c.saveJSLogs=function(){d("WAWebBackendApi").frontendFireAndForget("createDownloadDataForMdWebLogs")};c.limitStringSize=function(a,b){var c=new Blob([a],{type:"text/plain"});if(c.size>b){c=c.size-b;return a.substr(c)}return a};c.requestWebLogString=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield d("WAWebBackendApi").frontendSendAndReceive("getWebLogs"));b=this.limitStringSize(b,30*i);this.$1.sendWebLogString(a.toString(),b)});function c(b){return a.apply(this,arguments)}return c}();return a}();g.WindowsHybridBridgeDebugFeatures_v2575=a}),98);
__d("WAWebWindowsHybridBridgeLinksPreview.v2575",["asyncToGeneratorRuntime"],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=a}var c=a.prototype;c.getPreviewAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield this.$1.getPreviewAsync(a));return a==null||a===""?null:JSON.parse(a)});function c(b){return a.apply(this,arguments)}return c}();return a}();f.WindowsHybridBridgeLinksPreview_v2575=a}),66);
__d("WAWebWindowsHybridBridgeMediaFiles.v2575",[],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=a}var b=a.prototype;b.isCachedMediaFileExist=function(a,b){return this.$1.isCachedMediaFileExist(a,b)};b.tryOpenCachedMediaFile=function(a,b){return this.$1.tryOpenCachedMediaFileFile(a,b)};b.prepareForMediaFileSaving=function(a,b,c){return this.$1.prepareForMediaFileSaving(a,b,c)};b.waitTillMediaDownloadCompletes=function(a,b,c){return this.$1.waitTillMediaDownloadCompletes(a,b,c)};b.selectFolderForBulkMediaSaving=function(){return this.$1.selectFolderForBulkMediaSaving()};b.prepareForZipArchiveSavingAndUnarchiveToFolder=function(a,b,c,d){return this.$1.prepareForZipArchiveSavingAndUnarchiveToFolder(a,b,c,d)};b.requestFileSystemDirectoryHandle=function(a){return this.$1.requestFileSystemDirectoryHandle(a)};b.tryCopyCachedMediaFile=function(a){return this.$1.tryCopyCachedMediaFile(a)};b.tryCopyCachedMediaFiles=function(a){return this.$1.tryCopyCachedMediaFiles(a)};return a}();f.WAWebWindowsHybridBridgeMediaFiles_v2575=a}),66);
__d("WAWebWindowsHybridBridgeNativeAppState.v2575",["$InternalEnum","WALogger","WAWebEventEmitter","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l=b("$InternalEnum")({Normal:"normal",MinimizedToTray:"minimizedToTray"});a=function(a,e){var f=this;this.$4=new(c("WAWebEventEmitter"))();this.$5=function(a){a=a.toString();var b=l.cast(a);b!=null?d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeNativeAppState:appStateChanged: ",""])),l.getName(b)):d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeNativeAppState:appStateChanged: invalid appStateId: ",""])),a);f.$3=b;f.$4.trigger("appStateChanged",f.isMinimizedToTray())};this.getAppState=function(){return f.$3};this.getEvents=function(){return f.$4};this.isMinimizedToTray=function(){return f.getAppState()===l.MinimizedToTray};this.takeAppLaunchTimeStamp=function(){return f.$2.takeAppLaunchTimeStamp()};this.getFirstAppRestoreTimeStamp=function(){return f.$2.getFirstAppRestoreTimeStamp()};this.getLastAppRestoreTimeStamp=function(){return f.$2.getLastAppRestoreTimeStamp()};this.detectNativeClockSkew=function(){return f.$2.detectNativeClockSkew(Date.now())};this.getAppStateAsync=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=f.$1.getAppState();a=a.toString();var b=l.cast(a);b!=null?d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeNativeAppState:getAppStateAsync: ",""])),l.getName(b)):d("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeNativeAppState:getAppStateAsync: invalid appState '","'"])),a);return b});this.$1=a;this.$2=e;this.$1.addEventListener("appStateChangedEvent",this.$5);this.$1.subscribe(null)};g.AppState_v2575=l;g.WindowsHybridBridgeNativeAppState_v2575=a}),98);
__d("WAWebWindowsHybridBridgePictures.v2575",["WAJids","WALogger","WAWebLidMigrationUtils","WAWebProfilePicThumbCollection","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;a=function(){function a(a){var c=this;this.$2=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=JSON.parse(a);for(a of a){var b;if(d("WAJids").validateGroupJid(a.id.toString())){var e=d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.get(a.id);(e==null?void 0:e.eurl)!==a.eurl&&c.$1.setProfilePictures(JSON.stringify([{eurl:e==null?void 0:e.eurl,id:a.id.toString()}]));continue}e=d("WAWebLidMigrationUtils").toPn(a.id);if(e==null){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[WindowsHybridBridgePictures] PN WID is null"])));continue}var f=d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.get(e);f==null&&e!=null&&(f=(yield d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.resyncPicturesByWid([e])));if(((b=f)==null?void 0:b.eurl)!==a.eurl){c.$1.setProfilePictures(JSON.stringify([{eurl:(b=f)==null?void 0:b.eurl,id:e.toString()}]));b=d("WAWebLidMigrationUtils").toLid(a.id);if(b==null){d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[WindowsHybridBridgePictures] LID WID is null for PN WID: ",""])),e);continue}c.$1.setProfilePictures(JSON.stringify([{eurl:(e=f)==null?void 0:e.eurl,id:b.toString()}]))}}});return function(b){return a.apply(this,arguments)}}();this.$1=a;a.addEventListener("verifyPictureEvent",this.$2);a.subscribe(null)}var c=a.prototype;c.notifyUpdate=function(a){if(a==null)return;if(d("WAJids").validateGroupJid(a.id.toString())){this.$1.setProfilePictures(JSON.stringify([{eurl:a.eurl,id:a.id.toString()}]));return}if(!a.id.isUser())return;var b=d("WAWebLidMigrationUtils").toPn(a.id),c=d("WAWebLidMigrationUtils").toLid(a.id);if(b==null){d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[WindowsHybridBridgePictures] PN WID is null"])));return}if(c==null){d("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["[WindowsHybridBridgePictures] LID WID is null for PN WID: ",""])),b);return}this.$1.setProfilePictures(JSON.stringify([{eurl:a.eurl,id:b.toString()}]));this.$1.setProfilePictures(JSON.stringify([{eurl:a.eurl,id:c.toString()}]))};return a}();g.WindowsHybridBridgePictures_v2575=a}),98);
__d("WAWebWindowsHybridBridgePreferences.v2575",["WAWebUserPrefsBase","WAWebUserPrefsKeys","WAWebUserPrefsLocalStorage","WAWebUserPrefsStore"],(function(a,b,c,d,e,f,g){var h="WANativePreferencesRevision";a=function(){function a(a){var b=this;this.$2=!1;this.$3=null;this.$4=new Set();this.initialize=function(){var a;if(b.$2)return;b.$4.add(String(d("WAWebUserPrefsKeys").UserPrefs.WindowsIsSystemTrayEnabled));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.SYSTEM_THEME_MODE));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.THEME));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.ME_DISPLAY_NAME));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LAST_PUSHNAME));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LID));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LAST_WID_MD));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LANG_FROM_PHONE));b.$4.add(String(d("WAWebUserPrefsKeys").UserPrefs.AbpropsWebRefreshId));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.ABPROPS_REFRESH_ID));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.ABPROPS));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LANG_FROM_USER));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.GLOBAL_MUTE_CALL_RINGTONE));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.GLOBAL_MUTE_CALL_NOTIFICATIONS));b.$4.add(String(d("WAWebUserPrefsKeys").UserPrefs.WindowsNotificationBannerSetting));b.$4.add(String(d("WAWebUserPrefsKeys").UserPrefs.WindowsTaskbarNotificationSetting));(a=b.$1)==null||a.addEventListener("everythingRequested",function(){var a=b.$5();b.$3!==a&&(b.$3=a,b.$6())});(a=b.$1)==null||a.subscribe(null);b.$2=!0};this.$1=a}var b=a.prototype;b.$5=function(){var a=c("WAWebUserPrefsStore").getUser(h),b=0;typeof a==="number"?b=a:typeof a==="string"&&(b=Number(a)||0);return b};b.$7=function(a){c("WAWebUserPrefsStore").setUser(h,a)};b.handleSettingChange=function(a,b){var c;if(!this.$4.has(a))return;var d=this.$5();(c=this.$1)==null||c.updateLocalSetting(a,JSON.stringify(b),++d);this.$7(d)};b.$6=function(){var a=this.$5(),b=[],e=[];for(var f of this.$4){var g=c("WAWebUserPrefsStore").getUser(f);if(g!=null){b.push(f);e.push(JSON.stringify(g));continue}g=d("WAWebUserPrefsBase").userPreferencesStoreBase.get(f);g!=null&&(b.push(f),e.push(JSON.stringify(g)));g=c("WAWebUserPrefsLocalStorage").getItemFromLocalStorage(f);g!=null&&(b.push(f),e.push(JSON.stringify(g)))}(g=this.$1)==null||g.updateAllLocalSettings(b,e,a)};b.clean=function(){var a;(a=this.$1)==null||a.clean()};return a}();g.WindowsHybridBridgePreferences_v2575=a}),98);
__d("WAWebWindowsHybridBridgeRateTheApp.v2575",["asyncToGeneratorRuntime"],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=a}var c=a.prototype;c.getStoreProductForCurrentApp=function(){return this.$1.getStoreProductForCurrentAppAsync()};c.requestRateAndApp=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield this.$1.requestRateAndReviewAppAsync());return JSON.parse(a)});function c(){return a.apply(this,arguments)}return c}();return a}();f.WAWebWindowsHybridBridgeRateTheApp_v2575=a}),66);
__d("WAWebWindowsHybridBridgeScalingControl.v2575",["WAWebWindowsScalingControlEventEmitter"],(function(a,b,c,d,e,f,g){a=function(){function a(a){this.$2=!1,this.$3=function(){c("WAWebWindowsScalingControlEventEmitter").trigger("requestZoomIn")},this.$4=function(){c("WAWebWindowsScalingControlEventEmitter").trigger("requestZoomOut")},this.$1=a}var b=a.prototype;b.initialize=function(){var a;if(this.$2)return;this.$2=!0;(a=this.$1)==null||a.addEventListener("zoomInRequested",this.$3);(a=this.$1)==null||a.addEventListener("zoomOutRequested",this.$4);(a=this.$1)==null||a.subscribe(null)};b.zoomIn=function(){this.$3()};b.zoomOut=function(){this.$4()};b.showScalingControl=function(a){var b;(b=this.$1)==null||b.showScalingControl(a)};return a}();g.WindowsHybridBridgeScalingControl_v2575=a}),98);
__d("WAWebWindowsHybridBridgeSystemIntegrations.v2575",["WAWebEventEmitter","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){a=function(){function a(a){var b=this;this.events=new(c("WAWebEventEmitter"))();this.$2=function(a){var c=a.tag,d=a.action;a=a.additionalData;b.events.trigger("MessageNotificationAction",{key:c,action:d,additionalData:a})};this.$1=a;(a=this.$1)==null||a.addEventListener("MessageNotificationActionEvent",this.$2);(a=this.$1)==null||a.subscribe(null)}var d=a.prototype;d.closeMessageNotification=function(a,b){var c;(c=this.$1)==null||c.closeMessageNotification(a,b)};d.showMessageNotification=function(a,b,c,d,e,f,g,h,i,j,k,l){var m;(m=this.$1)==null||m.showMessageNotification(a,b!=null?b:"",c,d,e,f!=null?f:"",g,h,i!=null?i:"",j!=null?j:"",k,l)};d.isNotificationEnabledInSystem=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){return this.$1==null?!1:this.$1.isNotificationEnabledInSystem()});function c(){return a.apply(this,arguments)}return c}();d.updateTaskbarBadge=function(a){this.$1.updateTaskbarBadge(a)};d.getStartupTaskState=function(){return this.$1.getStartupTaskState()};d.updateStartupTask=function(a){this.$1.updateStartupTask(a)};d.updateCurrentWebAppScreen=function(a){this.$1.updateCurrentWebAppScreen(a)};d.playTone=function(a){this.$1.playTone(a)};return a}();g.WindowsHybridBridgeSystemIntegrations_v2575=a}),98);
__d("WAWebWindowsHybridBridgeTouchpadFix.v2575",["WAWebDebounce"],(function(a,b,c,d,e,f,g){a=function(){function a(a){var b=this;this.$2=c("WAWebDebounce")(function(a){if(a.deltaX<=0)return;a=a.target;a=a;var c=!1,d=0;while(a&&a!==document.body&&d<3){var e=self.getComputedStyle(a);if((e.overflowX==="auto"||e.overflowX==="scroll")&&a.scrollWidth>a.clientWidth){c=!0;break}e=a.parentElement;if(!e)break;a=e;d++}c||b.interruptManipulations()},500);this.$1=a}var b=a.prototype;b.interruptManipulations=function(){return this.$1.interruptManipulations()};b.init=function(){document.addEventListener("wheel",this.$2,{passive:!1})};return a}();g.WindowsHybridBridgeTouchpadFix_v2575=a}),98);
__d("WAWebWindowsHybridBridgeVoip.v2575",["WABase64","WALogger","WAWebBackendApi","WAWebSerializeVoipWapNode","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L;a=function(){function a(a,b){var c=this;this.handleVoipReady=function(){var a;d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received voip ready event"])));d("WAWebBackendApi").frontendFireAndForget("addStartingLogoutListener",function(){return c.handleSignOut()});(a=c.$3)==null||a.onVoipReady()};this.sendSignalingXmpp=function(a){var b,e=a.peerJid,f=a.callId,g=a.payload;a=a.shouldEncryptBeforeSending;d("WALogger").DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received sendSignalingXmpp event: ",", ",", ",", ",""])),e,f,g,a);(b=c.$3)==null||b.onSignalingXmpp(e,f,g,a)};this.handleCallEvent=function(a){var b,e=a.eventType,f=a.userData;a=a.eventDataJson;d("WALogger").DEV(j||(j=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received handleCallEvent event: ",", ",", ",""])),e,f,a);(b=c.$3)==null||b.onCallEvent(e,f,a)};this.requestOpenChat=function(a){var b;d("WALogger").DEV(k||(k=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received requestOpenChat event: ",""])),a);(b=c.$3)==null||b.onRequestOpenChat(a)};this.requestDeviceJidList=function(a){var b;d("WALogger").DEV(l||(l=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received requestDeviceJidList event: ",""])),a);void ((b=c.$3)==null?void 0:b.onRequestDeviceJidList(a).then(function(b){var d;(d=c.$1)==null||d.handleDeviceJidList(a.toString(),b)}))};this.requestPhoneNumberJid=function(a){var b;d("WALogger").DEV(m||(m=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received requestPhoneNumberJid event: ",""])),a);void ((b=c.$3)==null||b.onRequestPhoneNumberJid==null?void 0:b.onRequestPhoneNumberJid(a).then(function(b){var d;(d=c.$1)==null||d.handlePhoneNumberJid(a.toString(),b)}))};this.requestLidJid=function(a){var b;d("WALogger").DEV(n||(n=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received requestLidJid event: ",""])),a);void ((b=c.$3)==null||b.onRequestLidJid==null?void 0:b.onRequestLidJid(a).then(function(b){var d;(d=c.$1)==null||d.handleLidJid(a.toString(),b)}))};this.callAgain=function(a){var b,e=a.peerJid;a=a.isVideoCall;d("WALogger").DEV(o||(o=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received callAgain event: ",", ",""])),e,a);(b=c.$3)==null||b.onCallAgain(e,a)};this.handleLidCallerDisplayInfo=function(a){var b;d("WALogger").DEV(p||(p=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received handleLidCallerDisplayInfo event: ",""])),a);(b=c.$3)==null||b.onLidCallerDisplayInfo(a)};this.$1=a;this.$2=b;this.$1.addEventListener("handleVoipReadyEvent",this.handleVoipReady);this.$1.addEventListener("handleVoipCallEvent",this.handleCallEvent);this.$1.addEventListener("handleSignalingXmppEvent",this.sendSignalingXmpp);this.$1.addEventListener("handleRequestOpenChatEvent",this.requestOpenChat);this.$1.addEventListener("handleRequestDeviceJidListEvent",this.requestDeviceJidList);this.$1.addEventListener("handleRequestPhoneNumberJidEvent",this.requestPhoneNumberJid);this.$1.addEventListener("handleRequestLidJidEvent",this.requestLidJid);this.$1.addEventListener("handleCallAgainEvent",this.callAgain);this.$1.addEventListener("handleLidCallerDisplayInfoEvent",this.handleLidCallerDisplayInfo);this.$1.subscribe(null)}var c=a.prototype;c.setHandlers=function(a){this.$3=a};c.cleanup=function(){this.$1.removeEventListener!=null&&(this.$1.removeEventListener("handleVoipReadyEvent",this.handleVoipReady),this.$1.removeEventListener("handleVoipCallEvent",this.handleCallEvent),this.$1.removeEventListener("handleSignalingXmppEvent",this.sendSignalingXmpp),this.$1.removeEventListener("handleRequestOpenChatEvent",this.requestOpenChat),this.$1.removeEventListener("handleRequestDeviceJidListEvent",this.requestDeviceJidList),this.$1.removeEventListener("handleRequestPhoneNumberJidEvent",this.requestPhoneNumberJid),this.$1.removeEventListener("handleRequestLidJidEvent",this.requestLidJid),this.$1.removeEventListener("handleCallAgainEvent",this.callAgain),this.$1.removeEventListener("handleLidCallerDisplayInfo",this.handleLidCallerDisplayInfo))};c.handleIncomingSignalingOffer=function(a,b,c,e,f,g,h,i,j){d("WALogger").DEV(q||(q=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleIncomingSignalingOffer called with:"]))).devConsole(arguments),this.$2.handleIncomingSignalingOffer(d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a),b,c,e,f,g,h,i,j?d("WABase64").encodeB64(j):null)};c.handleIncomingSignalingMessage=function(a,b,c,e,f,g,h,i){this.$2.handleIncomingSignalingMessage(d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a),b,c,e,f,g,h,i?d("WABase64").encodeB64(i):null)};c.handleIncomingSignalingAck=function(a,b,c,e,f){d("WALogger").DEV(r||(r=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleIncomingSignalingAck called with:"]))).devConsole(arguments),this.$2.handleIncomingSignalingAck(d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a),b,c,e,f?d("WABase64").encodeB64(f):null)};c.handleIncomingSignalingReceipt=function(a,b,c){d("WALogger").DEV(s||(s=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleIncomingSignalingReceipt called with:"]))).devConsole(arguments),this.$2.handleIncomingSignalingReceipt(d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a),b,c?d("WABase64").encodeB64(c):null)};c.resendOfferOnDecryptionFailure=function(a,b){d("WALogger").DEV(t||(t=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] resendOfferOnDecryptionFailure called with:"]))).devConsole(arguments),this.$2.resendOfferOnDecryptionFailure(a,b)};c.resendEncRekeyRetry=function(a,b){d("WALogger").DEV(u||(u=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] resendEncRekeyRetry called with:"]))).devConsole(arguments),this.$2.resendEncRekeyRetry(a,b)};c.notifyDeviceIdentityChangedOrDeleted=function(a,b){d("WALogger").DEV(v||(v=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] notifyDeviceIdentityChangedOrDeleted called with:"]))).devConsole(arguments),this.$2.notifyDeviceIdentityChangedOrDeleted(a,b)};c.handleWebViewReady=function(){var a;d("WALogger").DEV(w||(w=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleWebViewReady called"])));(a=this.$1)==null||a.handleWebViewReady()};c.voipInit=function(a,b,c){var e;d("WALogger").DEV(x||(x=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] voipInit called with:"]))).devConsole(arguments);(e=this.$1)==null||e.voipInit(a,b,c)};c.setHideMyIp=function(a){var b;d("WALogger").DEV(y||(y=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] setHideMyIp called with:"]))).devConsole(arguments);(b=this.$1)==null||b.setHideMyIp(a)};c.setChatNameAndIcon=function(a,b,c){var e;d("WALogger").DEV(z||(z=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] setChatNameAndIcon called"])));(e=this.$1)==null||e.setChatNameAndIcon(a,b,c)};c.handleSignOut=function(){var a;d("WALogger").DEV(A||(A=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleSignOut called"])));(a=this.$1)==null||a.handleSignOut()};c.startCall=function(a,b,c,e,f,g,h,i,j,k,l){var m;d("WALogger").DEV(B||(B=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] startCall called with:"]))).devConsole(arguments);(m=this.$1)==null||m.startCall(a.toString({legacy:!0}),b,c,e,f,g,h,i?d("WABase64").encodeB64(i):null,j,k)};c.startGroupCall=function(a,b,c,e,f,g,h,i,j,k,l,m,n,o){var p;d("WALogger").DEV(C||(C=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] startGroupCall called with:"]))).devConsole(arguments);(p=this.$1)==null||p.startGroupCall(a,b,c,e,f,g,h,i,j,k,l,m,n)};c.handleDeviceJidList=function(a,b){var c;d("WALogger").DEV(D||(D=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleDeviceJidList called with:"]))).devConsole(arguments);(c=this.$1)==null||c.handleDeviceJidList(a,b)};c.previewCallLink=function(a,b,c,e,f){var g;d("WALogger").DEV(E||(E=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] previewCallLink called with:"]))).devConsole(arguments);(g=this.$1)==null||g.previewCallLink(a,b,c,e)};c.previewAndJoinCallLink=function(a,b,c,e,f){var g;d("WALogger").DEV(F||(F=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] previewAndJoinCallLink called with:"]))).devConsole(arguments);(g=this.$1)==null||g.previewAndJoinCallLink(a,b,c,e)};c.endCall=function(a,b){var c;d("WALogger").DEV(G||(G=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] endCall called with:"]))).devConsole(arguments);(c=this.$1)==null||c.endCall(a,b)};c.rejectCallWithoutCallContext=function(a,b,c,e,f,g,h){var i;d("WALogger").DEV(H||(H=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] rejectCallWithoutCallContext called with:"]))).devConsole(arguments);(i=this.$1)==null||i.rejectCallWithoutCallContext(a,b,c,e,f,g,h)};c.joinOngoingCall=function(a,b,c,e,f,g,h,i,j,k,l,m,n,o,p,q){var r;d("WALogger").DEV(I||(I=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] joinOngoingCall called with:"]))).devConsole(arguments);(r=this.$1)==null||r.joinOngoingCall(a,b,c,e,f,g,h,i,j,k,l,m,n,o,p,q)};c.inviteToCall=function(a,b,c){};c.requestCallInfo=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WALogger").DEV(J||(J=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] requestCallInfo called with:"]))).devConsole(arguments);var a=(yield this.$1.getCallInfo()),b=a.callInfoJsonBase64,c=a.error;return{callInfoJsonBase64:b,error:c}});function c(){return a.apply(this,arguments)}return c}();c.requestObtainDevicePermissionAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("WALogger").DEV(K||(K=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] requestObtainDevicePermissionAsync called with:"]))).devConsole(arguments);var b=(yield this.$1.requestObtainDevicePermissionAsync(a)),c=b.error,e=b.permissionGranted;return{error:c,permissionGranted:e}});function c(b){return a.apply(this,arguments)}return c}();c.requestDevicesCountAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("WALogger").DEV(L||(L=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] requestDevicesCountAsync called with:"]))).devConsole(arguments);var b=(yield this.$1.getDeviceCountAsync(a)),c=b.error,e=b.deviceCount;return{error:c,deviceCount:e}});function c(b){return a.apply(this,arguments)}return c}();return a}();g.VoipWinRTBridge_v2575=a}),98);
__d("WAWebWindowsHybridBridgeWam.v2575",["Promise","WALogger","WAWebCrashContextUtils","WAWebCrashLogWamEvent","WAWebWamCodegenWamEvent","WAWebWamEnumCrashApplicationState","WAWebWamEnumCrashType"],(function(a,b,c,d,e,f,g){var h,i,j,k;a=function(a){var c=this;this.$2=!1;this.initialize=function(){var a;if(c.$2)return;(a=c.$1)==null||a.addEventListener("eventsSaved",c.handleEvents);(a=c.$1)==null||a.subscribe(null);c.$2=!0};this.handleEvents=function(a){if(!c.$2){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received handleWamEvent while bridge is not initialized"])));return}d("WALogger").DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received handleWamEvent event: ",""])),a);a=JSON.parse(a);void (k||(k=b("Promise"))).all(a.map(function(a){if(a.id===d("WAWebCrashLogWamEvent").CrashLogWamEvent.prototype.id){var b=a[6],c=a[23],e=a[3],f=a[24],g=a[2];a[3]=d("WAWebCrashContextUtils").getCrashEventAppContext(b,g);if(b===d("WAWebWamEnumCrashType").CRASH_TYPE.DISPATCHER_NOT_RESPONDING&&c===d("WAWebWamEnumCrashApplicationState").CRASH_APPLICATION_STATE.FOREGROUND){g=f!=null?f:"unknown";d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["Native ","s ANR detected: ",""])),g,e).sendLogs("hybrid-native-anr-"+g+"s",{sampling:.01})}}return new(d("WAWebWamCodegenWamEvent").RawWamEvent)(a).commitAndWaitForFlush(!0)}))};this.$1=a};g.WindowsHybridBridgeWam_v2575=a}),98);
__d("WindowsHybridBridgeBrowserExtensions.v2575",["asyncToGeneratorRuntime"],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=a}var c=a.prototype;c.getBrowserExtensionsInfoAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield this.$1.getBrowserExtensionsInfoAsync());return JSON.parse(a)});function c(){return a.apply(this,arguments)}return c}();c.enableBrowserExtensionAsync=function(a,b){return this.$1.enableBrowserExtensionAsync(a,b)};c.removeBrowserExtensionAsync=function(a){return this.$1.removeBrowserExtensionAsync(a)};c.hasBootstrappedSuccessfully=function(){return this.$1.hasBootstrappedSuccessfully()};c.getZoomBrowserExtensionInfoAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield this.$1.getZoomBrowserExtensionInfoAsync());return JSON.parse(a)});function c(){return a.apply(this,arguments)}return c}();c.enableZoomBrowserExtensionAsync=function(a){return this.$1.enableZoomBrowserExtensionAsync(a)};c.removeZoomBrowserExtensionAsync=function(){return this.$1.removeZoomBrowserExtensionAsync()};c.installZoomBrowserExtensionAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield this.$1.installZoomBrowserExtensionAsync());return JSON.parse(a)});function c(){return a.apply(this,arguments)}return c}();return a}();f.WindowsHybridBridgeBrowserExtensions_v2575=a}),66);
__d("WAWebWindowsHybridBridge.v2575",["WAWebWindowsHybridAppActivationBridge.v2575","WAWebWindowsHybridBridgeAbProps.v2575","WAWebWindowsHybridBridgeConnection.v2575","WAWebWindowsHybridBridgeContacts.v2575","WAWebWindowsHybridBridgeDebugFeatures.v2575","WAWebWindowsHybridBridgeLinksPreview.v2575","WAWebWindowsHybridBridgeMediaFiles.v2575","WAWebWindowsHybridBridgeNativeAppState.v2575","WAWebWindowsHybridBridgePictures.v2575","WAWebWindowsHybridBridgePreferences.v2575","WAWebWindowsHybridBridgeRateTheApp.v2575","WAWebWindowsHybridBridgeScalingControl.v2575","WAWebWindowsHybridBridgeSystemIntegrations.v2575","WAWebWindowsHybridBridgeTouchpadFix.v2575","WAWebWindowsHybridBridgeVoip.v2575","WAWebWindowsHybridBridgeWam.v2575","WindowsHybridBridgeBrowserExtensions.v2575","cr:17220"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.mediaTranscodeBridge=null;this.sharesheetBridge=null;this.serverEncKeySaltBridge=null;a.hostObjects.options.defaultSyncProxy=!0;a.hostObjects.options.forceAsyncMethodMatches=[/Async$/,/AsyncWithSpeller$/];a.hostObjects.options.ignoreMemberNotFoundError=!0;var c=a.hostObjects.AbPropsBridge;c!=null&&(this.abProps=new(d("WAWebWindowsHybridBridgeAbProps.v2575").WindowsHybridBridgeAbProps_v2575)(c));c=a.hostObjects.WamBridge;c!=null&&(this.wam=new(d("WAWebWindowsHybridBridgeWam.v2575").WindowsHybridBridgeWam_v2575)(c));c=a.hostObjects.PreferencesBridge;c&&(this.$1=new(d("WAWebWindowsHybridBridgePreferences.v2575").WindowsHybridBridgePreferences_v2575)(c));c=a.hostObjects.ScalingControlBridge;c&&(this.scalingControl=new(d("WAWebWindowsHybridBridgeScalingControl.v2575").WindowsHybridBridgeScalingControl_v2575)(c));c=a.hostObjects.PicturesBridge;c&&(this.pictures=new(d("WAWebWindowsHybridBridgePictures.v2575").WindowsHybridBridgePictures_v2575)(c));c=a.hostObjects.DebugFeaturesBridge;var e=b("cr:17220")==null?void 0:b("cr:17220").debugFeaturesMock;c!=null?this.$4=new(d("WAWebWindowsHybridBridgeDebugFeatures.v2575").WindowsHybridBridgeDebugFeatures_v2575)(c):e!=null;c=a.hostObjects.VoipBridge;e=a.hostObjects.VoipSignalingBridge;c&&e&&(this.voip=new(d("WAWebWindowsHybridBridgeVoip.v2575").VoipWinRTBridge_v2575)(c,e));this.$5=new(d("WAWebWindowsHybridBridgeRateTheApp.v2575").WAWebWindowsHybridBridgeRateTheApp_v2575)(a.hostObjects.RateAppBridge);this.$3=new(d("WAWebWindowsHybridBridgeConnection.v2575").WindowsHybridBridgeConnection_v2575)(a.hostObjects.ConnectionBridge);this.$2=a.hostObjects.ClientKeyBridge;this.touchpadFix=new(d("WAWebWindowsHybridBridgeTouchpadFix.v2575").WindowsHybridBridgeTouchpadFix_v2575)(a.hostObjects.TouchpadFix);this.linksPreview=new(d("WAWebWindowsHybridBridgeLinksPreview.v2575").WindowsHybridBridgeLinksPreview_v2575)(a.hostObjects.LinksPreviewBridge);try{c=a.hostObjects.sync.PopulatedContactsBridge;e=a.hostObjects.PopulatedContactsBridge;e!=null&&(this.contacts=new(d("WAWebWindowsHybridBridgeContacts.v2575").WindowsHybridBridgeContacts_v2575)(e,c,!0))}catch(b){e=a.hostObjects.ContactsBridge;e!=null&&(this.contacts=new(d("WAWebWindowsHybridBridgeContacts.v2575").WindowsHybridBridgeContacts_v2575)(e,a.hostObjects.sync.ContactsBridge,!1))}this.sqlite=a.hostObjects.SQLiteBridge;c=a.hostObjects.MediaFilesBridge;c!=null&&(this.mediaFiles=new(d("WAWebWindowsHybridBridgeMediaFiles.v2575").WAWebWindowsHybridBridgeMediaFiles_v2575)(c));e=a.hostObjects.AppActivationBridge;e!=null&&(this.appActivationBridge=new(d("WAWebWindowsHybridAppActivationBridge.v2575").WindowsHybridAppActivationBridge_v2575)(e));c=a.hostObjects.NativeAppStateBridge;e=a.hostObjects.sync.NativeAppStateBridge;c!=null&&(this.nativeAppStateBridge=new(d("WAWebWindowsHybridBridgeNativeAppState.v2575").WindowsHybridBridgeNativeAppState_v2575)(c,e));c=a.hostObjects.SystemIntegrationsBridge;c&&(this.systemIntegrationsBridge=new(d("WAWebWindowsHybridBridgeSystemIntegrations.v2575").WindowsHybridBridgeSystemIntegrations_v2575)(c));e=a.hostObjects.BrowserExtensionsBridge;e&&(this.browserExtensionsBridge=new(d("WindowsHybridBridgeBrowserExtensions.v2575").WindowsHybridBridgeBrowserExtensions_v2575)(e))}var c=a.prototype;c.getPreferences=function(){var a;(a=this.$1)==null||a.initialize();return this.$1};c.getScalingControl=function(){var a;(a=this.scalingControl)==null||a.initialize();return this.scalingControl};c.getRateTheApp=function(){return this.$5};c.getClientKeyBridge=function(){return this.$2};c.getDebugFeatures=function(){return this.$4};return a}();g.WindowsHybridBridge_v2575=a}),98);
__d("WAWebWindowsHybridAppActivationBridge.v2576",["WAWebApi","WAWebApiParse","WAWebExecApiCmd"],(function(a,b,c,d,e,f,g){a=function(){function a(a){this.handleAppActivationViaProtocolEvent=function(a){a=a.toString();a=d("WAWebApiParse").parseAPICmd(a);a.resultType!==d("WAWebApi").APICmd.INVALID&&c("WAWebExecApiCmd")({cmdData:a,isExternal:!0})};this.$1=a;(a=this.$1)==null||a.addEventListener("handleAppActivationViaProtocolEvent",this.handleAppActivationViaProtocolEvent);this.$1.subscribe(null)}var b=a.prototype;b.initialize=function(){};b.cleanup=function(){var a;(a=this.$1)==null||a.removeEventListener("handleAppActivationViaProtocolEvent",this.handleAppActivationViaProtocolEvent)};return a}();g.WindowsHybridAppActivationBridge_v2576=a}),98);
__d("WAWebWindowsHybridBridgeAbProps.v2576",["WALogger","WAWebABPropsCache","WAWebABPropsLocalStorage","WAWebBackendApi","WAWebHybridABProps","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h;a=function(){function a(a){var c=this;this.$2=!1;this.$4=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b;c.$3==null&&(c.$3=d("WAWebHybridABProps").getAllHybridExpoKeys());a=a.toString();b=(b=c.$3)==null?void 0:b.get(a);if(b==null){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[abprops][windows hybrid] unknown exposure key: ",""])),a);return}d("WAWebABPropsCache").saveExposure(b);c.$1.acknowledgeExposure(a)});return function(b){return a.apply(this,arguments)}}();this.$5=function(a){c.$3=null;var b=d("WAWebABPropsLocalStorage").getABKey();if(a!==b){a=d("WAWebHybridABProps").getAllHybridAbProps(!1);c.$1.setConfigs(b,JSON.stringify(a))}};this.$1=a}var c=a.prototype;c.initialize=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=this;if(this.$2)return;this.$2=!0;yield d("WAWebABPropsCache").waitForABPropConfigsReady();this.$1.addEventListener("exposureLogged",this.$4);this.$1.subscribe(null);var b=(yield this.$1.getVersion());d("WAWebBackendApi").frontendFireAndForget("addAbPropsUpdateListener",function(){a.$5(null)});this.$5(b)});function c(){return a.apply(this,arguments)}return c}();return a}();g.WindowsHybridBridgeAbProps_v2576=a}),98);
__d("WAWebWindowsHybridBridgeConnection.v2576",["WAComms","WALogger","WAPromiseDelays","WAResolvable","WAWebCallCollection","WAWebEventsWaitForMainStreamReadyMd","WAWebEventsWaitForOfflineDeliveryEnd","WAWebSetWindowsPushConfig","WAWebSocketConstants","WAWebSocketModel","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v;a=function(){function a(a){var e=this;this.$2=!1;this.$3=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.data.toString();a=(a=a.channel)==null?void 0:a.toString();d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleUpdateNotificationsTokenEvent"]))).devConsole(b,a);yield c("WAWebEventsWaitForMainStreamReadyMd")();yield d("WAWebSetWindowsPushConfig").setWindowsPushConfig(b,a);e.$1.handleConnectionState(!0);e.$1.acknowledgeNotificationsToken(b,a)});return function(b){return a.apply(this,arguments)}}();this.$4=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent"])));try{var a;if(!e.$2&&(((a=d("WAComms").getComms())==null?void 0:a.socket)==null||d("WAWebSocketModel").Socket.stream===d("WAWebSocketConstants").SOCKET_STREAM.DISCONNECTED)){d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: socket already closed"])));e.$1.handleConnectionState(!1);return}yield e.$6();yield d("WAPromiseDelays").delayMs(3e4);d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: offline resume complete"])));if(c("WAWebCallCollection").activeCall!=null){d("WALogger").LOG(l||(l=babelHelpers.taggedTemplateLiteralLoose(["voip: WindowsHybridBridgeConnection:handleDisconnectEvent: awaiting active call completion"])));var b=new(d("WAResolvable").Resolvable)();a=function(){c("WAWebCallCollection").activeCall==null&&b.resolve()};c("WAWebCallCollection").on("change:activeCall",a);yield b.promise;c("WAWebCallCollection").off("change:activeCall",a);d("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["voip: WindowsHybridBridgeConnection:handleDisconnectEvent: active call completed"])))}else d("WALogger").LOG(n||(n=babelHelpers.taggedTemplateLiteralLoose(["voip: WindowsHybridBridgeConnection:handleDisconnectEvent: no active call"])));d("WAComms").closeSocketAndPause();d("WALogger").LOG(o||(o=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: socket closed"])));e.$1.handleConnectionState(!1)}catch(a){d("WALogger").ERROR(p||(p=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: failed to close socket: ",""])),a)}});this.$5=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WALogger").LOG(q||(q=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection.handleConnectEvent"])));if(e.$2){d("WALogger").LOG(r||(r=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleConnectEvent: socket already opening"])));return}try{var a;a=((a=d("WAComms").getComms())==null?void 0:a.socket)!=null;a||(e.$2=!0,d("WAComms").closeSocketAndResume(),d("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleConnectEvent: socket opened"]))));yield e.$6();d("WALogger").LOG(t||(t=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleConnectEvent: offline resume complete"])));e.$1.handleConnectionState(!0)}catch(a){d("WALogger").ERROR(u||(u=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleConnectEvent: failed to open socket: ",""])),a)}finally{e.$2=!1}});this.$1=a;this.$1.addEventListener("updateNotificationsTokenEvent",this.$3);this.$1.addEventListener("disconnectEvent",this.$4);this.$1.addEventListener("connectEvent",this.$5);this.$1.subscribe(null)}var e=a.prototype;e.$6=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield d("WAComms").waitForConnection(),d("WAWebEventsWaitForOfflineDeliveryEnd").isOfflineDeliveryEnd()||(d("WALogger").LOG(v||(v=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:waitForOfflineResume"]))),yield d("WAWebEventsWaitForOfflineDeliveryEnd").waitForOfflineDeliveryEnd())});function c(){return a.apply(this,arguments)}return c}();return a}();g.WindowsHybridBridgeConnection_v2576=a}),98);
__d("WAWebWindowsHybridBridgeContacts.v2576",["WALogger","WAWebBackendApi","WAWebContactsDbLidMigrationUtils","WAWebEventsWaitForMainStreamReadyMd","WAWebLidAwareContactsDB","WAWebSchemaContact_DO_NOT_USE_DIRECTLY","WAWebSyncBootstrap","asyncToGeneratorRuntime","filterNulls"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a,e,f){var g=this;this.$4="contacts";this.$5=new Set();this.$6=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=JSON.parse(a);if(a.length===0)return;a.forEach(function(a){return g.$5.add(a)});var b=(yield c("WAWebLidAwareContactsDB").bulkGet(a));b.forEach(function(a){return g.$5["delete"](a==null?void 0:a.id)});a=a.filter(function(a){return g.$5.has(a)});a.forEach(function(a){return g.$5["delete"](a)});void g.$1.updateContacts(a,JSON.stringify(c("filterNulls")(b)))});return function(b){return a.apply(this,arguments)}}();this.$7=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.count;a=a.includeVoipCallableOnly;try{b=(yield d("WAWebBackendApi").frontendSendAndReceive("getFrequentContacts",{count:b,includeVoipCallableOnly:a}));a=JSON.stringify(b);void g.$1.receiveFrequentContacts(a)}catch(a){void g.$1.receiveFrequentContacts(JSON.stringify([]))}});return function(b){return a.apply(this,arguments)}}();this.$1=a;this.$2=e;this.$3=f;a.addEventListener("requestUpdateEvent",this.$6);a.addEventListener("requestFrequentContactsEvent",this.$7);a.subscribe(null)}var e=a.prototype;e.initialize=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=this;c("WAWebLidAwareContactsDB").setUpdateListener(function(b){return a.$8(b)});yield c("WAWebEventsWaitForMainStreamReadyMd")();if(this.$3)return;if(c("WAWebSyncBootstrap").isSyncDBootstrapInProcess())return;this.$3=!0;try{var b=200,e=(yield d("WAWebSchemaContact_DO_NOT_USE_DIRECTLY").getContactTable().all({limit:b,offset:0}));do{var f;f=(f=e[e.length-1])==null?void 0:f.id;e=(yield d("WAWebContactsDbLidMigrationUtils").replacePnRowsWithLidData(e));yield this.$1.updateContacts([],JSON.stringify(e));e=(yield d("WAWebSchemaContact_DO_NOT_USE_DIRECTLY").getContactTable().greaterThan(["id"],f,{limit:b}))}while(e.length>0);this.$1.acknowledgeInitialSync()}catch(a){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[WinUi] setInitialData "," error ",""])),this.$4,a)}});function e(){return a.apply(this,arguments)}return e}();e.$8=function(a){var b=this;if(!this.$3)return;a=a.filter(function(a){return!b.$5.has(a)});if(a.length===0)return;a.forEach(function(a){return b.$5.add(a)});this.$2.invalidateContacts(a)};return a}();g.WindowsHybridBridgeContacts_v2576=a}),98);
__d("WAWebWindowsHybridBridgeDebugFeatures.v2576",["WALogger","WAWebBackendApi","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i=1e3;a=function(){function a(a){var b=this;this.$2=null;this.ping=function(a){var c,e=self.performance.now();c=(e-((c=b.$2)!=null?c:e)).toFixed(0);b.$2=e;d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeDebugFeatures:ping:"," diff:","ms"])),a,c);b.$1.pong(a.valueOf())};this.$1=a;(a=this.$1)==null||a.addEventListener("jsLogs",function(){b.saveJSLogs()});(a=this.$1)==null||a.addEventListener("requestWebLogStringEvent",function(a){void b.requestWebLogString(a)});(a=this.$1)==null||a.addEventListener("pingEvent",this.ping);this.$1.subscribe(null)}var c=a.prototype;c.startHangsMonitor=function(){this.$1.startHangsMonitor()};c.saveNativeLogs=function(){this.$1.saveNativeLogs()};c.requestNativeLogs=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){return this.$1.requestNativeLogs()});function c(){return a.apply(this,arguments)}return c}();c.saveJSLogs=function(){d("WAWebBackendApi").frontendFireAndForget("createDownloadDataForMdWebLogs")};c.limitStringSize=function(a,b){var c=new Blob([a],{type:"text/plain"});if(c.size>b){c=c.size-b;return a.substr(c)}return a};c.requestWebLogString=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield d("WAWebBackendApi").frontendSendAndReceive("getWebLogs"));b=this.limitStringSize(b,30*i);this.$1.sendWebLogString(a.toString(),b)});function c(b){return a.apply(this,arguments)}return c}();return a}();g.WindowsHybridBridgeDebugFeatures_v2576=a}),98);
__d("WAWebWindowsHybridBridgeLinksPreview.v2576",["asyncToGeneratorRuntime"],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=a}var c=a.prototype;c.getPreviewAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield this.$1.getPreviewAsync(a));return a==null||a===""?null:JSON.parse(a)});function c(b){return a.apply(this,arguments)}return c}();return a}();f.WindowsHybridBridgeLinksPreview_v2576=a}),66);
__d("WAWebWindowsHybridBridgeMediaFiles.v2576",[],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=a}var b=a.prototype;b.isCachedMediaFileExist=function(a,b){return this.$1.isCachedMediaFileExist(a,b)};b.tryOpenCachedMediaFile=function(a,b){return this.$1.tryOpenCachedMediaFileFile(a,b)};b.prepareForMediaFileSaving=function(a,b,c){return this.$1.prepareForMediaFileSaving(a,b,c)};b.waitTillMediaDownloadCompletes=function(a,b,c){return this.$1.waitTillMediaDownloadCompletes(a,b,c)};b.selectFolderForBulkMediaSaving=function(){return this.$1.selectFolderForBulkMediaSaving()};b.prepareForZipArchiveSavingAndUnarchiveToFolder=function(a,b,c,d){return this.$1.prepareForZipArchiveSavingAndUnarchiveToFolder(a,b,c,d)};b.requestFileSystemDirectoryHandle=function(a){return this.$1.requestFileSystemDirectoryHandle(a)};b.tryCopyCachedMediaFile=function(a){return this.$1.tryCopyCachedMediaFile(a)};b.tryCopyCachedMediaFiles=function(a){return this.$1.tryCopyCachedMediaFiles(a)};return a}();f.WAWebWindowsHybridBridgeMediaFiles_v2576=a}),66);
__d("WAWebWindowsHybridBridgeNativeAppState.v2576",["$InternalEnum","WALogger","WAWebEventEmitter","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l=b("$InternalEnum")({Normal:"normal",MinimizedToTray:"minimizedToTray"});a=function(a,e){var f=this;this.$4=new(c("WAWebEventEmitter"))();this.$5=function(a){a=a.toString();var b=l.cast(a);b!=null?d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeNativeAppState:appStateChanged: ",""])),l.getName(b)):d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeNativeAppState:appStateChanged: invalid appStateId: ",""])),a);f.$3=b;f.$4.trigger("appStateChanged",f.isMinimizedToTray())};this.getAppState=function(){return f.$3};this.getEvents=function(){return f.$4};this.isMinimizedToTray=function(){return f.getAppState()===l.MinimizedToTray};this.takeAppLaunchTimeStamp=function(){return f.$2.takeAppLaunchTimeStamp()};this.getFirstAppRestoreTimeStamp=function(){return f.$2.getFirstAppRestoreTimeStamp()};this.getLastAppRestoreTimeStamp=function(){return f.$2.getLastAppRestoreTimeStamp()};this.detectNativeClockSkew=function(){return f.$2.detectNativeClockSkew(Date.now())};this.getAppStateAsync=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=f.$1.getAppState();a=a.toString();var b=l.cast(a);b!=null?d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeNativeAppState:getAppStateAsync: ",""])),l.getName(b)):d("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeNativeAppState:getAppStateAsync: invalid appState '","'"])),a);return b});this.$1=a;this.$2=e;this.$1.addEventListener("appStateChangedEvent",this.$5);this.$1.subscribe(null)};g.AppState_v2576=l;g.WindowsHybridBridgeNativeAppState_v2576=a}),98);
__d("WAWebWindowsHybridBridgePictures.v2576",["WAJids","WALogger","WAWebLidMigrationUtils","WAWebProfilePicThumbCollection","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;a=function(){function a(a){var c=this;this.$2=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=JSON.parse(a);for(a of a){var b;if(d("WAJids").validateGroupJid(a.id.toString())){var e=d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.get(a.id);(e==null?void 0:e.eurl)!==a.eurl&&c.$1.setProfilePictures(JSON.stringify([{eurl:e==null?void 0:e.eurl,id:a.id.toString()}]));continue}e=d("WAWebLidMigrationUtils").toPn(a.id);if(e==null){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[WindowsHybridBridgePictures] PN WID is null"])));continue}var f=d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.get(e);f==null&&e!=null&&(f=(yield d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.resyncPicturesByWid([e])));if(((b=f)==null?void 0:b.eurl)!==a.eurl){c.$1.setProfilePictures(JSON.stringify([{eurl:(b=f)==null?void 0:b.eurl,id:e.toString()}]));b=d("WAWebLidMigrationUtils").toLid(a.id);if(b==null){d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[WindowsHybridBridgePictures] LID WID is null for PN WID: ",""])),e);continue}c.$1.setProfilePictures(JSON.stringify([{eurl:(e=f)==null?void 0:e.eurl,id:b.toString()}]))}}});return function(b){return a.apply(this,arguments)}}();this.$1=a;a.addEventListener("verifyPictureEvent",this.$2);a.subscribe(null)}var c=a.prototype;c.notifyUpdate=function(a){if(a==null)return;if(d("WAJids").validateGroupJid(a.id.toString())){this.$1.setProfilePictures(JSON.stringify([{eurl:a.eurl,id:a.id.toString()}]));return}if(!a.id.isUser())return;var b=d("WAWebLidMigrationUtils").toPn(a.id),c=d("WAWebLidMigrationUtils").toLid(a.id);if(b==null){d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[WindowsHybridBridgePictures] PN WID is null"])));return}if(c==null){d("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["[WindowsHybridBridgePictures] LID WID is null for PN WID: ",""])),b);return}this.$1.setProfilePictures(JSON.stringify([{eurl:a.eurl,id:b.toString()}]));this.$1.setProfilePictures(JSON.stringify([{eurl:a.eurl,id:c.toString()}]))};return a}();g.WindowsHybridBridgePictures_v2576=a}),98);
__d("WAWebWindowsHybridBridgePreferences.v2576",["WAWebUserPrefsBase","WAWebUserPrefsKeys","WAWebUserPrefsLocalStorage","WAWebUserPrefsStore"],(function(a,b,c,d,e,f,g){var h="WANativePreferencesRevision";a=function(){function a(a){var b=this;this.$2=!1;this.$3=null;this.$4=new Set();this.initialize=function(){var a;if(b.$2)return;b.$4.add(String(d("WAWebUserPrefsKeys").UserPrefs.WindowsIsSystemTrayEnabled));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.SYSTEM_THEME_MODE));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.THEME));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.ME_DISPLAY_NAME));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LAST_PUSHNAME));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LID));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LAST_WID_MD));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LANG_FROM_PHONE));b.$4.add(String(d("WAWebUserPrefsKeys").UserPrefs.AbpropsWebRefreshId));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.ABPROPS_REFRESH_ID));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.ABPROPS));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LANG_FROM_USER));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.GLOBAL_MUTE_CALL_RINGTONE));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.GLOBAL_MUTE_CALL_NOTIFICATIONS));b.$4.add(String(d("WAWebUserPrefsKeys").UserPrefs.WindowsNotificationBannerSetting));b.$4.add(String(d("WAWebUserPrefsKeys").UserPrefs.WindowsTaskbarNotificationSetting));(a=b.$1)==null||a.addEventListener("everythingRequested",function(){var a=b.$5();b.$3!==a&&(b.$3=a,b.$6())});(a=b.$1)==null||a.subscribe(null);b.$2=!0};this.$1=a}var b=a.prototype;b.$5=function(){var a=c("WAWebUserPrefsStore").getUser(h),b=0;typeof a==="number"?b=a:typeof a==="string"&&(b=Number(a)||0);return b};b.$7=function(a){c("WAWebUserPrefsStore").setUser(h,a)};b.handleSettingChange=function(a,b){var c;if(!this.$4.has(a))return;var d=this.$5();(c=this.$1)==null||c.updateLocalSetting(a,JSON.stringify(b),++d);this.$7(d)};b.$6=function(){var a=this.$5(),b=[],e=[];for(var f of this.$4){var g=c("WAWebUserPrefsStore").getUser(f);if(g!=null){b.push(f);e.push(JSON.stringify(g));continue}g=d("WAWebUserPrefsBase").userPreferencesStoreBase.get(f);g!=null&&(b.push(f),e.push(JSON.stringify(g)));g=c("WAWebUserPrefsLocalStorage").getItemFromLocalStorage(f);g!=null&&(b.push(f),e.push(JSON.stringify(g)))}(g=this.$1)==null||g.updateAllLocalSettings(b,e,a)};b.clean=function(){var a;(a=this.$1)==null||a.clean()};return a}();g.WindowsHybridBridgePreferences_v2576=a}),98);
__d("WAWebWindowsHybridBridgeRateTheApp.v2576",["asyncToGeneratorRuntime"],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=a}var c=a.prototype;c.getStoreProductForCurrentApp=function(){return this.$1.getStoreProductForCurrentAppAsync()};c.requestRateAndApp=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield this.$1.requestRateAndReviewAppAsync());return JSON.parse(a)});function c(){return a.apply(this,arguments)}return c}();return a}();f.WAWebWindowsHybridBridgeRateTheApp_v2576=a}),66);
__d("WAWebWindowsHybridBridgeScalingControl.v2576",["WAWebWindowsScalingControlEventEmitter"],(function(a,b,c,d,e,f,g){a=function(){function a(a){this.$2=!1,this.$3=function(){c("WAWebWindowsScalingControlEventEmitter").trigger("requestZoomIn")},this.$4=function(){c("WAWebWindowsScalingControlEventEmitter").trigger("requestZoomOut")},this.$1=a}var b=a.prototype;b.initialize=function(){var a;if(this.$2)return;this.$2=!0;(a=this.$1)==null||a.addEventListener("zoomInRequested",this.$3);(a=this.$1)==null||a.addEventListener("zoomOutRequested",this.$4);(a=this.$1)==null||a.subscribe(null)};b.zoomIn=function(){this.$3()};b.zoomOut=function(){this.$4()};b.showScalingControl=function(a){var b;(b=this.$1)==null||b.showScalingControl(a)};return a}();g.WindowsHybridBridgeScalingControl_v2576=a}),98);
__d("WAWebWindowsHybridBridgeSeamlessMigration.v2576",["WALogger","justknobx"],(function(a,b,c,d,e,f,g){var h;a=function(){function a(a){this.$1=a,this.initialize()}var b=a.prototype;b.initialize=function(){var a=c("justknobx")._("2741"),b=c("justknobx")._("2742");d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[SeamlessMigration] RequestIsSeamlessMigrationEnabledStateRequested "," and max retries ",""])),a,b);this.$1.executeLogout(a,b)};return a}();g.WindowsHybridBridgeSeamlessMigration_v2576=a}),98);
__d("WAWebWindowsHybridBridgeSystemIntegrations.v2576",["WAWebEventEmitter","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){a=function(){function a(a){var b=this;this.events=new(c("WAWebEventEmitter"))();this.$2=function(a){var c=a.tag,d=a.action;a=a.additionalData;b.events.trigger("MessageNotificationAction",{key:c,action:d,additionalData:a})};this.$1=a;(a=this.$1)==null||a.addEventListener("MessageNotificationActionEvent",this.$2);(a=this.$1)==null||a.subscribe(null)}var d=a.prototype;d.closeMessageNotification=function(a,b){var c;(c=this.$1)==null||c.closeMessageNotification(a,b)};d.showMessageNotification=function(a,b,c,d,e,f,g,h,i,j,k,l){var m;(m=this.$1)==null||m.showMessageNotification(a,b!=null?b:"",c,d,e,f!=null?f:"",g,h,i!=null?i:"",j!=null?j:"",k,l)};d.isNotificationEnabledInSystem=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){return this.$1==null?!1:this.$1.isNotificationEnabledInSystem()});function c(){return a.apply(this,arguments)}return c}();d.updateTaskbarBadge=function(a){this.$1.updateTaskbarBadge(a)};d.getStartupTaskState=function(){return this.$1.getStartupTaskState()};d.updateStartupTask=function(a){this.$1.updateStartupTask(a)};d.updateCurrentWebAppScreen=function(a){this.$1.updateCurrentWebAppScreen(a)};d.playTone=function(a){this.$1.playTone(a)};return a}();g.WindowsHybridBridgeSystemIntegrations_v2576=a}),98);
__d("WAWebWindowsHybridBridgeTouchpadFix.v2576",["WAWebDebounce"],(function(a,b,c,d,e,f,g){a=function(){function a(a){var b=this;this.$2=c("WAWebDebounce")(function(a){if(a.deltaX<=0)return;a=a.target;a=a;var c=!1,d=0;while(a&&a!==document.body&&d<3){var e=self.getComputedStyle(a);if((e.overflowX==="auto"||e.overflowX==="scroll")&&a.scrollWidth>a.clientWidth){c=!0;break}e=a.parentElement;if(!e)break;a=e;d++}c||b.interruptManipulations()},500);this.$1=a}var b=a.prototype;b.interruptManipulations=function(){return this.$1.interruptManipulations()};b.init=function(){document.addEventListener("wheel",this.$2,{passive:!1})};return a}();g.WindowsHybridBridgeTouchpadFix_v2576=a}),98);
__d("WAWebWindowsHybridBridgeVoip.v2576",["WABase64","WALogger","WAWebBackendApi","WAWebSerializeVoipWapNode","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L;a=function(){function a(a,b){var c=this;this.handleVoipReady=function(){var a;d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received voip ready event"])));d("WAWebBackendApi").frontendFireAndForget("addStartingLogoutListener",function(){return c.handleSignOut()});(a=c.$3)==null||a.onVoipReady()};this.sendSignalingXmpp=function(a){var b,e=a.peerJid,f=a.callId,g=a.payload;a=a.shouldEncryptBeforeSending;d("WALogger").DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received sendSignalingXmpp event: ",", ",", ",", ",""])),e,f,g,a);(b=c.$3)==null||b.onSignalingXmpp(e,f,g,a)};this.handleCallEvent=function(a){var b,e=a.eventType,f=a.userData;a=a.eventDataJson;d("WALogger").DEV(j||(j=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received handleCallEvent event: ",", ",", ",""])),e,f,a);(b=c.$3)==null||b.onCallEvent(e,f,a)};this.requestOpenChat=function(a){var b;d("WALogger").DEV(k||(k=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received requestOpenChat event: ",""])),a);(b=c.$3)==null||b.onRequestOpenChat(a)};this.requestDeviceJidList=function(a){var b;d("WALogger").DEV(l||(l=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received requestDeviceJidList event: ",""])),a);void ((b=c.$3)==null?void 0:b.onRequestDeviceJidList(a).then(function(b){var d;(d=c.$1)==null||d.handleDeviceJidList(a.toString(),b)}))};this.requestPhoneNumberJid=function(a){var b;d("WALogger").DEV(m||(m=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received requestPhoneNumberJid event: ",""])),a);void ((b=c.$3)==null||b.onRequestPhoneNumberJid==null?void 0:b.onRequestPhoneNumberJid(a).then(function(b){var d;(d=c.$1)==null||d.handlePhoneNumberJid(a.toString(),b)}))};this.requestLidJid=function(a){var b;d("WALogger").DEV(n||(n=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received requestLidJid event: ",""])),a);void ((b=c.$3)==null||b.onRequestLidJid==null?void 0:b.onRequestLidJid(a).then(function(b){var d;(d=c.$1)==null||d.handleLidJid(a.toString(),b)}))};this.callAgain=function(a){var b,e=a.peerJid;a=a.isVideoCall;d("WALogger").DEV(o||(o=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received callAgain event: ",", ",""])),e,a);(b=c.$3)==null||b.onCallAgain(e,a)};this.handleLidCallerDisplayInfo=function(a){var b;d("WALogger").DEV(p||(p=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received handleLidCallerDisplayInfo event: ",""])),a);(b=c.$3)==null||b.onLidCallerDisplayInfo(a)};this.$1=a;this.$2=b;this.$1.addEventListener("handleVoipReadyEvent",this.handleVoipReady);this.$1.addEventListener("handleVoipCallEvent",this.handleCallEvent);this.$1.addEventListener("handleSignalingXmppEvent",this.sendSignalingXmpp);this.$1.addEventListener("handleRequestOpenChatEvent",this.requestOpenChat);this.$1.addEventListener("handleRequestDeviceJidListEvent",this.requestDeviceJidList);this.$1.addEventListener("handleRequestPhoneNumberJidEvent",this.requestPhoneNumberJid);this.$1.addEventListener("handleRequestLidJidEvent",this.requestLidJid);this.$1.addEventListener("handleCallAgainEvent",this.callAgain);this.$1.addEventListener("handleLidCallerDisplayInfoEvent",this.handleLidCallerDisplayInfo);this.$1.subscribe(null)}var c=a.prototype;c.setHandlers=function(a){this.$3=a};c.cleanup=function(){this.$1.removeEventListener!=null&&(this.$1.removeEventListener("handleVoipReadyEvent",this.handleVoipReady),this.$1.removeEventListener("handleVoipCallEvent",this.handleCallEvent),this.$1.removeEventListener("handleSignalingXmppEvent",this.sendSignalingXmpp),this.$1.removeEventListener("handleRequestOpenChatEvent",this.requestOpenChat),this.$1.removeEventListener("handleRequestDeviceJidListEvent",this.requestDeviceJidList),this.$1.removeEventListener("handleRequestPhoneNumberJidEvent",this.requestPhoneNumberJid),this.$1.removeEventListener("handleRequestLidJidEvent",this.requestLidJid),this.$1.removeEventListener("handleCallAgainEvent",this.callAgain),this.$1.removeEventListener("handleLidCallerDisplayInfo",this.handleLidCallerDisplayInfo))};c.handleIncomingSignalingOffer=function(a,b,c,e,f,g,h,i,j){d("WALogger").DEV(q||(q=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleIncomingSignalingOffer called with:"]))).devConsole(arguments),this.$2.handleIncomingSignalingOffer(d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a),b,c,e,f,g,h,i,j?d("WABase64").encodeB64(j):null)};c.handleIncomingSignalingMessage=function(a,b,c,e,f,g,h,i){this.$2.handleIncomingSignalingMessage(d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a),b,c,e,f,g,h,i?d("WABase64").encodeB64(i):null)};c.handleIncomingSignalingAck=function(a,b,c,e,f){d("WALogger").DEV(r||(r=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleIncomingSignalingAck called with:"]))).devConsole(arguments),this.$2.handleIncomingSignalingAck(d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a),b,c,e,f?d("WABase64").encodeB64(f):null)};c.handleIncomingSignalingReceipt=function(a,b,c){d("WALogger").DEV(s||(s=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleIncomingSignalingReceipt called with:"]))).devConsole(arguments),this.$2.handleIncomingSignalingReceipt(d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a),b,c?d("WABase64").encodeB64(c):null)};c.resendOfferOnDecryptionFailure=function(a,b){d("WALogger").DEV(t||(t=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] resendOfferOnDecryptionFailure called with:"]))).devConsole(arguments),this.$2.resendOfferOnDecryptionFailure(a,b)};c.resendEncRekeyRetry=function(a,b){d("WALogger").DEV(u||(u=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] resendEncRekeyRetry called with:"]))).devConsole(arguments),this.$2.resendEncRekeyRetry(a,b)};c.notifyDeviceIdentityChangedOrDeleted=function(a,b){d("WALogger").DEV(v||(v=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] notifyDeviceIdentityChangedOrDeleted called with:"]))).devConsole(arguments),this.$2.notifyDeviceIdentityChangedOrDeleted(a,b)};c.handleWebViewReady=function(){var a;d("WALogger").DEV(w||(w=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleWebViewReady called"])));(a=this.$1)==null||a.handleWebViewReady()};c.voipInit=function(a,b,c){var e;d("WALogger").DEV(x||(x=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] voipInit called with:"]))).devConsole(arguments);(e=this.$1)==null||e.voipInit(a,b,c)};c.setHideMyIp=function(a){var b;d("WALogger").DEV(y||(y=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] setHideMyIp called with:"]))).devConsole(arguments);(b=this.$1)==null||b.setHideMyIp(a)};c.setChatNameAndIcon=function(a,b,c){var e;d("WALogger").DEV(z||(z=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] setChatNameAndIcon called"])));(e=this.$1)==null||e.setChatNameAndIcon(a,b,c)};c.handleSignOut=function(){var a;d("WALogger").DEV(A||(A=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleSignOut called"])));(a=this.$1)==null||a.handleSignOut()};c.startCall=function(a,b,c,e,f,g,h,i,j,k,l){var m;d("WALogger").DEV(B||(B=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] startCall called with:"]))).devConsole(arguments);(m=this.$1)==null||m.startCall(a.toString({legacy:!0}),b,c,e,f,g,h,i?d("WABase64").encodeB64(i):null,j,k)};c.startGroupCall=function(a,b,c,e,f,g,h,i,j,k,l,m,n,o){var p;d("WALogger").DEV(C||(C=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] startGroupCall called with:"]))).devConsole(arguments);(p=this.$1)==null||p.startGroupCall(a,b,c,e,f,g,h,i,j,k,l,m,n)};c.handleDeviceJidList=function(a,b){var c;d("WALogger").DEV(D||(D=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleDeviceJidList called with:"]))).devConsole(arguments);(c=this.$1)==null||c.handleDeviceJidList(a,b)};c.previewCallLink=function(a,b,c,e,f){var g;d("WALogger").DEV(E||(E=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] previewCallLink called with:"]))).devConsole(arguments);(g=this.$1)==null||g.previewCallLink(a,b,c,e)};c.previewAndJoinCallLink=function(a,b,c,e,f){var g;d("WALogger").DEV(F||(F=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] previewAndJoinCallLink called with:"]))).devConsole(arguments);(g=this.$1)==null||g.previewAndJoinCallLink(a,b,c,e)};c.endCall=function(a,b){var c;d("WALogger").DEV(G||(G=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] endCall called with:"]))).devConsole(arguments);(c=this.$1)==null||c.endCall(a,b)};c.rejectCallWithoutCallContext=function(a,b,c,e,f,g,h){var i;d("WALogger").DEV(H||(H=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] rejectCallWithoutCallContext called with:"]))).devConsole(arguments);(i=this.$1)==null||i.rejectCallWithoutCallContext(a,b,c,e,f,g,h)};c.joinOngoingCall=function(a,b,c,e,f,g,h,i,j,k,l,m,n,o,p,q){var r;d("WALogger").DEV(I||(I=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] joinOngoingCall called with:"]))).devConsole(arguments);(r=this.$1)==null||r.joinOngoingCall(a,b,c,e,f,g,h,i,j,k,l,m,n,o,p,q)};c.inviteToCall=function(a,b,c){};c.requestCallInfo=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WALogger").DEV(J||(J=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] requestCallInfo called with:"]))).devConsole(arguments);var a=(yield this.$1.getCallInfo()),b=a.callInfoJsonBase64,c=a.error;return{callInfoJsonBase64:b,error:c}});function c(){return a.apply(this,arguments)}return c}();c.requestObtainDevicePermissionAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("WALogger").DEV(K||(K=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] requestObtainDevicePermissionAsync called with:"]))).devConsole(arguments);var b=(yield this.$1.requestObtainDevicePermissionAsync(a)),c=b.error,e=b.permissionGranted;return{error:c,permissionGranted:e}});function c(b){return a.apply(this,arguments)}return c}();c.requestDevicesCountAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("WALogger").DEV(L||(L=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] requestDevicesCountAsync called with:"]))).devConsole(arguments);var b=(yield this.$1.getDeviceCountAsync(a)),c=b.error,e=b.deviceCount;return{error:c,deviceCount:e}});function c(b){return a.apply(this,arguments)}return c}();return a}();g.VoipWinRTBridge_v2576=a}),98);
__d("WAWebWindowsHybridBridgeWam.v2576",["Promise","WALogger","WAWebCrashContextUtils","WAWebCrashLogWamEvent","WAWebWamCodegenWamEvent","WAWebWamEnumCrashApplicationState","WAWebWamEnumCrashType"],(function(a,b,c,d,e,f,g){var h,i,j,k;a=function(a){var c=this;this.$2=!1;this.initialize=function(){var a;if(c.$2)return;(a=c.$1)==null||a.addEventListener("eventsSaved",c.handleEvents);(a=c.$1)==null||a.subscribe(null);c.$2=!0};this.handleEvents=function(a){if(!c.$2){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received handleWamEvent while bridge is not initialized"])));return}d("WALogger").DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received handleWamEvent event: ",""])),a);a=JSON.parse(a);void (k||(k=b("Promise"))).all(a.map(function(a){if(a.id===d("WAWebCrashLogWamEvent").CrashLogWamEvent.prototype.id){var b=a[6],c=a[23],e=a[3],f=a[24],g=a[2];a[3]=d("WAWebCrashContextUtils").getCrashEventAppContext(b,g);if(b===d("WAWebWamEnumCrashType").CRASH_TYPE.DISPATCHER_NOT_RESPONDING&&c===d("WAWebWamEnumCrashApplicationState").CRASH_APPLICATION_STATE.FOREGROUND){g=f!=null?f:"unknown";d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["Native ","s ANR detected: ",""])),g,e).sendLogs("hybrid-native-anr-"+g+"s",{sampling:.001})}}return new(d("WAWebWamCodegenWamEvent").RawWamEvent)(a).commitAndWaitForFlush(!0)}))};this.$1=a};g.WindowsHybridBridgeWam_v2576=a}),98);
__d("WindowsHybridBridgeBrowserExtensions.v2576",["asyncToGeneratorRuntime"],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=a}var c=a.prototype;c.getBrowserExtensionsInfoAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield this.$1.getBrowserExtensionsInfoAsync());return JSON.parse(a)});function c(){return a.apply(this,arguments)}return c}();c.enableBrowserExtensionAsync=function(a,b){return this.$1.enableBrowserExtensionAsync(a,b)};c.removeBrowserExtensionAsync=function(a){return this.$1.removeBrowserExtensionAsync(a)};c.hasBootstrappedSuccessfully=function(){return this.$1.hasBootstrappedSuccessfully()};c.getZoomBrowserExtensionInfoAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield this.$1.getZoomBrowserExtensionInfoAsync());return JSON.parse(a)});function c(){return a.apply(this,arguments)}return c}();c.enableZoomBrowserExtensionAsync=function(a){return this.$1.enableZoomBrowserExtensionAsync(a)};c.removeZoomBrowserExtensionAsync=function(){return this.$1.removeZoomBrowserExtensionAsync()};c.installZoomBrowserExtensionAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield this.$1.installZoomBrowserExtensionAsync());return JSON.parse(a)});function c(){return a.apply(this,arguments)}return c}();return a}();f.WindowsHybridBridgeBrowserExtensions_v2576=a}),66);
__d("WAWebWindowsHybridBridge.v2576",["WAWebWindowsHybridAppActivationBridge.v2576","WAWebWindowsHybridBridgeAbProps.v2576","WAWebWindowsHybridBridgeConnection.v2576","WAWebWindowsHybridBridgeContacts.v2576","WAWebWindowsHybridBridgeDebugFeatures.v2576","WAWebWindowsHybridBridgeLinksPreview.v2576","WAWebWindowsHybridBridgeMediaFiles.v2576","WAWebWindowsHybridBridgeNativeAppState.v2576","WAWebWindowsHybridBridgePictures.v2576","WAWebWindowsHybridBridgePreferences.v2576","WAWebWindowsHybridBridgeRateTheApp.v2576","WAWebWindowsHybridBridgeScalingControl.v2576","WAWebWindowsHybridBridgeSeamlessMigration.v2576","WAWebWindowsHybridBridgeSystemIntegrations.v2576","WAWebWindowsHybridBridgeTouchpadFix.v2576","WAWebWindowsHybridBridgeVoip.v2576","WAWebWindowsHybridBridgeWam.v2576","WindowsHybridBridgeBrowserExtensions.v2576","cr:17220"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.mediaTranscodeBridge=null;this.sharesheetBridge=null;this.serverEncKeySaltBridge=null;a.hostObjects.options.defaultSyncProxy=!0;a.hostObjects.options.forceAsyncMethodMatches=[/Async$/,/AsyncWithSpeller$/];a.hostObjects.options.ignoreMemberNotFoundError=!0;var c=a.hostObjects.AbPropsBridge;c!=null&&(this.abProps=new(d("WAWebWindowsHybridBridgeAbProps.v2576").WindowsHybridBridgeAbProps_v2576)(c));c=a.hostObjects.WamBridge;c!=null&&(this.wam=new(d("WAWebWindowsHybridBridgeWam.v2576").WindowsHybridBridgeWam_v2576)(c));c=a.hostObjects.PreferencesBridge;c&&(this.$1=new(d("WAWebWindowsHybridBridgePreferences.v2576").WindowsHybridBridgePreferences_v2576)(c));c=a.hostObjects.ScalingControlBridge;c&&(this.scalingControl=new(d("WAWebWindowsHybridBridgeScalingControl.v2576").WindowsHybridBridgeScalingControl_v2576)(c));c=a.hostObjects.PicturesBridge;c&&(this.pictures=new(d("WAWebWindowsHybridBridgePictures.v2576").WindowsHybridBridgePictures_v2576)(c));c=a.hostObjects.DebugFeaturesBridge;var e=b("cr:17220")==null?void 0:b("cr:17220").debugFeaturesMock;c!=null?this.$4=new(d("WAWebWindowsHybridBridgeDebugFeatures.v2576").WindowsHybridBridgeDebugFeatures_v2576)(c):e!=null;c=a.hostObjects.VoipBridge;e=a.hostObjects.VoipSignalingBridge;c&&e&&(this.voip=new(d("WAWebWindowsHybridBridgeVoip.v2576").VoipWinRTBridge_v2576)(c,e));this.$5=new(d("WAWebWindowsHybridBridgeRateTheApp.v2576").WAWebWindowsHybridBridgeRateTheApp_v2576)(a.hostObjects.RateAppBridge);this.$3=new(d("WAWebWindowsHybridBridgeConnection.v2576").WindowsHybridBridgeConnection_v2576)(a.hostObjects.ConnectionBridge);this.$2=a.hostObjects.ClientKeyBridge;this.touchpadFix=new(d("WAWebWindowsHybridBridgeTouchpadFix.v2576").WindowsHybridBridgeTouchpadFix_v2576)(a.hostObjects.TouchpadFix);this.linksPreview=new(d("WAWebWindowsHybridBridgeLinksPreview.v2576").WindowsHybridBridgeLinksPreview_v2576)(a.hostObjects.LinksPreviewBridge);try{c=a.hostObjects.sync.PopulatedContactsBridge;e=a.hostObjects.PopulatedContactsBridge;e!=null&&(this.contacts=new(d("WAWebWindowsHybridBridgeContacts.v2576").WindowsHybridBridgeContacts_v2576)(e,c,!0))}catch(b){e=a.hostObjects.ContactsBridge;e!=null&&(this.contacts=new(d("WAWebWindowsHybridBridgeContacts.v2576").WindowsHybridBridgeContacts_v2576)(e,a.hostObjects.sync.ContactsBridge,!1))}this.sqlite=a.hostObjects.SQLiteBridge;c=a.hostObjects.MediaFilesBridge;c!=null&&(this.mediaFiles=new(d("WAWebWindowsHybridBridgeMediaFiles.v2576").WAWebWindowsHybridBridgeMediaFiles_v2576)(c));e=a.hostObjects.AppActivationBridge;e!=null&&(this.appActivationBridge=new(d("WAWebWindowsHybridAppActivationBridge.v2576").WindowsHybridAppActivationBridge_v2576)(e));c=a.hostObjects.NativeAppStateBridge;e=a.hostObjects.sync.NativeAppStateBridge;c!=null&&(this.nativeAppStateBridge=new(d("WAWebWindowsHybridBridgeNativeAppState.v2576").WindowsHybridBridgeNativeAppState_v2576)(c,e));c=a.hostObjects.SystemIntegrationsBridge;c&&(this.systemIntegrationsBridge=new(d("WAWebWindowsHybridBridgeSystemIntegrations.v2576").WindowsHybridBridgeSystemIntegrations_v2576)(c));e=a.hostObjects.BrowserExtensionsBridge;e&&(this.browserExtensionsBridge=new(d("WindowsHybridBridgeBrowserExtensions.v2576").WindowsHybridBridgeBrowserExtensions_v2576)(e));c=a.hostObjects.SeamlessMigrationBridge;c&&(this.seamlessMigrationBridge=new(d("WAWebWindowsHybridBridgeSeamlessMigration.v2576").WindowsHybridBridgeSeamlessMigration_v2576)(c))}var c=a.prototype;c.getPreferences=function(){var a;(a=this.$1)==null||a.initialize();return this.$1};c.getScalingControl=function(){var a;(a=this.scalingControl)==null||a.initialize();return this.scalingControl};c.getRateTheApp=function(){return this.$5};c.getClientKeyBridge=function(){return this.$2};c.getDebugFeatures=function(){return this.$4};return a}();g.WindowsHybridBridge_v2576=a}),98);
__d("WAWebWindowsHybridAppActivationBridge.v2577",["WAWebApi","WAWebApiParse","WAWebExecApiCmd"],(function(a,b,c,d,e,f,g){a=function(){function a(a){this.handleAppActivationViaProtocolEvent=function(a){a=a.toString();a=d("WAWebApiParse").parseAPICmd(a);a.resultType!==d("WAWebApi").APICmd.INVALID&&c("WAWebExecApiCmd")({cmdData:a,isExternal:!0})};this.$1=a;(a=this.$1)==null||a.addEventListener("handleAppActivationViaProtocolEvent",this.handleAppActivationViaProtocolEvent);this.$1.subscribe(null)}var b=a.prototype;b.initialize=function(){};b.cleanup=function(){var a;(a=this.$1)==null||a.removeEventListener("handleAppActivationViaProtocolEvent",this.handleAppActivationViaProtocolEvent)};return a}();g.WindowsHybridAppActivationBridge_v2577=a}),98);
__d("WAWebWindowsHybridBridgeAbProps.v2577",["WALogger","WAWebABPropsCache","WAWebABPropsLocalStorage","WAWebBackendApi","WAWebHybridABProps","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h;a=function(){function a(a){var c=this;this.$2=!1;this.$4=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b;c.$3==null&&(c.$3=d("WAWebHybridABProps").getAllHybridExpoKeys());a=a.toString();b=(b=c.$3)==null?void 0:b.get(a);if(b==null){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[abprops][windows hybrid] unknown exposure key: ",""])),a);return}d("WAWebABPropsCache").saveExposure(b);c.$1.acknowledgeExposure(a)});return function(b){return a.apply(this,arguments)}}();this.$5=function(a){c.$3=null;var b=d("WAWebABPropsLocalStorage").getABKey();if(a!==b){a=d("WAWebHybridABProps").getAllHybridAbProps(!1);c.$1.setConfigs(b,JSON.stringify(a))}};this.$1=a}var c=a.prototype;c.initialize=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=this;if(this.$2)return;this.$2=!0;yield d("WAWebABPropsCache").waitForABPropConfigsReady();this.$1.addEventListener("exposureLogged",this.$4);this.$1.subscribe(null);var b=(yield this.$1.getVersion());d("WAWebBackendApi").frontendFireAndForget("addAbPropsUpdateListener",function(){a.$5(null)});this.$5(b)});function c(){return a.apply(this,arguments)}return c}();return a}();g.WindowsHybridBridgeAbProps_v2577=a}),98);
__d("WAWebWindowsHybridBridgeAdv.v2577",["WABase64","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){a=function(){function a(a){this.$1=a}var c=a.prototype;c.verifySignatureAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){b=(yield this.$1.verify(d("WABase64").encodeB64(b),d("WABase64").encodeB64(c),d("WABase64").encodeB64(a)));return b});function c(b,c,d){return a.apply(this,arguments)}return c}();return a}();g.WindowsHybridBridgeAdv_v2577=a}),98);
__d("WAWebWindowsHybridBridgeBrowserExtensions.v2577",["asyncToGeneratorRuntime"],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=a}var c=a.prototype;c.getBrowserExtensionsInfoAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield this.$1.getBrowserExtensionsInfoAsync());return JSON.parse(a)});function c(){return a.apply(this,arguments)}return c}();c.enableBrowserExtensionAsync=function(a,b){return this.$1.enableBrowserExtensionAsync(a,b)};c.removeBrowserExtensionAsync=function(a){return this.$1.removeBrowserExtensionAsync(a)};c.hasBootstrappedSuccessfully=function(){return this.$1.hasBootstrappedSuccessfully()};c.getZoomBrowserExtensionInfoAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield this.$1.getZoomBrowserExtensionInfoAsync());return JSON.parse(a)});function c(){return a.apply(this,arguments)}return c}();c.enableZoomBrowserExtensionAsync=function(a){return this.$1.enableZoomBrowserExtensionAsync(a)};c.removeZoomBrowserExtensionAsync=function(){return this.$1.removeZoomBrowserExtensionAsync()};c.installZoomBrowserExtensionAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield this.$1.installZoomBrowserExtensionAsync());return JSON.parse(a)});function c(){return a.apply(this,arguments)}return c}();return a}();f.WindowsHybridBridgeBrowserExtensions_v2577=a}),66);
__d("WAWebWindowsHybridBridgeConnection.v2577",["WAComms","WALogger","WAPromiseDelays","WAResolvable","WAWebCallCollection","WAWebEventsWaitForMainStreamReadyMd","WAWebEventsWaitForOfflineDeliveryEnd","WAWebSetWindowsPushConfig","WAWebSocketConstants","WAWebSocketModel","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v;a=function(){function a(a){var e=this;this.$2=!1;this.$3=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.data.toString();a=(a=a.channel)==null?void 0:a.toString();d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleUpdateNotificationsTokenEvent"]))).devConsole(b,a);yield c("WAWebEventsWaitForMainStreamReadyMd")();yield d("WAWebSetWindowsPushConfig").setWindowsPushConfig(b,a);e.$1.handleConnectionState(!0);e.$1.acknowledgeNotificationsToken(b,a)});return function(b){return a.apply(this,arguments)}}();this.$4=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent"])));try{var a;if(!e.$2&&(((a=d("WAComms").getComms())==null?void 0:a.socket)==null||d("WAWebSocketModel").Socket.stream===d("WAWebSocketConstants").SOCKET_STREAM.DISCONNECTED)){d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: socket already closed"])));e.$1.handleConnectionState(!1);return}yield e.$6();yield d("WAPromiseDelays").delayMs(3e4);d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: offline resume complete"])));if(c("WAWebCallCollection").activeCall!=null){d("WALogger").LOG(l||(l=babelHelpers.taggedTemplateLiteralLoose(["voip: WindowsHybridBridgeConnection:handleDisconnectEvent: awaiting active call completion"])));var b=new(d("WAResolvable").Resolvable)();a=function(){c("WAWebCallCollection").activeCall==null&&b.resolve()};c("WAWebCallCollection").on("change:activeCall",a);yield b.promise;c("WAWebCallCollection").off("change:activeCall",a);d("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["voip: WindowsHybridBridgeConnection:handleDisconnectEvent: active call completed"])))}else d("WALogger").LOG(n||(n=babelHelpers.taggedTemplateLiteralLoose(["voip: WindowsHybridBridgeConnection:handleDisconnectEvent: no active call"])));d("WAComms").closeSocketAndPause();d("WALogger").LOG(o||(o=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: socket closed"])));e.$1.handleConnectionState(!1)}catch(a){d("WALogger").ERROR(p||(p=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: failed to close socket: ",""])),a)}});this.$5=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WALogger").LOG(q||(q=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection.handleConnectEvent"])));if(e.$2){d("WALogger").LOG(r||(r=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleConnectEvent: socket already opening"])));return}try{var a;a=((a=d("WAComms").getComms())==null?void 0:a.socket)!=null;a||(e.$2=!0,d("WAComms").closeSocketAndResume(),d("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleConnectEvent: socket opened"]))));yield e.$6();d("WALogger").LOG(t||(t=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleConnectEvent: offline resume complete"])));e.$1.handleConnectionState(!0)}catch(a){d("WALogger").ERROR(u||(u=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleConnectEvent: failed to open socket: ",""])),a)}finally{e.$2=!1}});this.$1=a;this.$1.addEventListener("updateNotificationsTokenEvent",this.$3);this.$1.addEventListener("disconnectEvent",this.$4);this.$1.addEventListener("connectEvent",this.$5);this.$1.subscribe(null)}var e=a.prototype;e.$6=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield d("WAComms").waitForConnection(),d("WAWebEventsWaitForOfflineDeliveryEnd").isOfflineDeliveryEnd()||(d("WALogger").LOG(v||(v=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:waitForOfflineResume"]))),yield d("WAWebEventsWaitForOfflineDeliveryEnd").waitForOfflineDeliveryEnd())});function c(){return a.apply(this,arguments)}return c}();return a}();g.WindowsHybridBridgeConnection_v2577=a}),98);
__d("WAWebWindowsHybridBridgeContacts.v2577",["WALogger","WAWebBackendApi","WAWebContactsDbLidMigrationUtils","WAWebEventsWaitForMainStreamReadyMd","WAWebLidAwareContactsDB","WAWebSchemaContact_DO_NOT_USE_DIRECTLY","WAWebSyncBootstrap","asyncToGeneratorRuntime","filterNulls"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a,e,f){var g=this;this.$4="contacts";this.$5=new Set();this.$6=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=JSON.parse(a);if(a.length===0)return;a.forEach(function(a){return g.$5.add(a)});var b=(yield c("WAWebLidAwareContactsDB").bulkGet(a));b.forEach(function(a){return g.$5["delete"](a==null?void 0:a.id)});a=a.filter(function(a){return g.$5.has(a)});a.forEach(function(a){return g.$5["delete"](a)});void g.$1.updateContacts(a,JSON.stringify(c("filterNulls")(b)))});return function(b){return a.apply(this,arguments)}}();this.$7=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.count;a=a.includeVoipCallableOnly;try{b=(yield d("WAWebBackendApi").frontendSendAndReceive("getFrequentContacts",{count:b,includeVoipCallableOnly:a}));a=JSON.stringify(b);void g.$1.receiveFrequentContacts(a)}catch(a){void g.$1.receiveFrequentContacts(JSON.stringify([]))}});return function(b){return a.apply(this,arguments)}}();this.$1=a;this.$2=e;this.$3=f;a.addEventListener("requestUpdateEvent",this.$6);a.addEventListener("requestFrequentContactsEvent",this.$7);a.subscribe(null)}var e=a.prototype;e.initialize=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=this;c("WAWebLidAwareContactsDB").setUpdateListener(function(b){return a.$8(b)});yield c("WAWebEventsWaitForMainStreamReadyMd")();if(this.$3)return;if(c("WAWebSyncBootstrap").isSyncDBootstrapInProcess())return;this.$3=!0;try{var b=200,e=(yield d("WAWebSchemaContact_DO_NOT_USE_DIRECTLY").getContactTable().all({limit:b,offset:0}));do{var f;f=(f=e[e.length-1])==null?void 0:f.id;e=(yield d("WAWebContactsDbLidMigrationUtils").replacePnRowsWithLidData(e));yield this.$1.updateContacts([],JSON.stringify(e));e=(yield d("WAWebSchemaContact_DO_NOT_USE_DIRECTLY").getContactTable().greaterThan(["id"],f,{limit:b}))}while(e.length>0);this.$1.acknowledgeInitialSync()}catch(a){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[WinUi] setInitialData "," error ",""])),this.$4,a)}});function e(){return a.apply(this,arguments)}return e}();e.$8=function(a){var b=this;if(!this.$3)return;a=a.filter(function(a){return!b.$5.has(a)});if(a.length===0)return;a.forEach(function(a){return b.$5.add(a)});this.$2.invalidateContacts(a)};return a}();g.WindowsHybridBridgeContacts_v2577=a}),98);
__d("WAWebWindowsHybridBridgeDebugFeatures.v2577",["WALogger","WAWebBackendApi","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i=1e3;a=function(){function a(a){var b=this;this.$2=null;this.ping=function(a){var c,e=self.performance.now();c=(e-((c=b.$2)!=null?c:e)).toFixed(0);b.$2=e;d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeDebugFeatures:ping:"," diff:","ms"])),a,c);b.$1.pong(a.valueOf())};this.$1=a;(a=this.$1)==null||a.addEventListener("jsLogs",function(){b.saveJSLogs()});(a=this.$1)==null||a.addEventListener("requestWebLogStringEvent",function(a){void b.requestWebLogString(a)});(a=this.$1)==null||a.addEventListener("pingEvent",this.ping);this.$1.subscribe(null)}var c=a.prototype;c.startHangsMonitor=function(){this.$1.startHangsMonitor()};c.saveNativeLogs=function(){this.$1.saveNativeLogs()};c.requestNativeLogs=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){return this.$1.requestNativeLogs()});function c(){return a.apply(this,arguments)}return c}();c.saveJSLogs=function(){d("WAWebBackendApi").frontendFireAndForget("createDownloadDataForMdWebLogs")};c.limitStringSize=function(a,b){var c=new Blob([a],{type:"text/plain"});if(c.size>b){c=c.size-b;return a.substr(c)}return a};c.requestWebLogString=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield d("WAWebBackendApi").frontendSendAndReceive("getWebLogs"));b=this.limitStringSize(b,30*i);this.$1.sendWebLogString(a.toString(),b)});function c(b){return a.apply(this,arguments)}return c}();return a}();g.WindowsHybridBridgeDebugFeatures_v2577=a}),98);
__d("WAWebWindowsHybridBridgeLinksPreview.v2577",["asyncToGeneratorRuntime"],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=a}var c=a.prototype;c.getPreviewAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield this.$1.getPreviewAsync(a));return a==null||a===""?null:JSON.parse(a)});function c(b){return a.apply(this,arguments)}return c}();return a}();f.WindowsHybridBridgeLinksPreview_v2577=a}),66);
__d("WAWebWindowsHybridBridgeMediaFiles.v2577",[],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=a}var b=a.prototype;b.isCachedMediaFileExist=function(a,b){return this.$1.isCachedMediaFileExist(a,b)};b.tryOpenCachedMediaFile=function(a,b){return this.$1.tryOpenCachedMediaFileFile(a,b)};b.prepareForMediaFileSaving=function(a,b,c){return this.$1.prepareForMediaFileSaving(a,b,c)};b.waitTillMediaDownloadCompletes=function(a,b,c){return this.$1.waitTillMediaDownloadCompletes(a,b,c)};b.selectFolderForBulkMediaSaving=function(){return this.$1.selectFolderForBulkMediaSaving()};b.prepareForZipArchiveSavingAndUnarchiveToFolder=function(a,b,c,d){return this.$1.prepareForZipArchiveSavingAndUnarchiveToFolder(a,b,c,d)};b.requestFileSystemDirectoryHandle=function(a){return this.$1.requestFileSystemDirectoryHandle(a)};b.tryCopyCachedMediaFile=function(a){return this.$1.tryCopyCachedMediaFile(a)};b.tryCopyCachedMediaFiles=function(a){return this.$1.tryCopyCachedMediaFiles(a)};return a}();f.WAWebWindowsHybridBridgeMediaFiles_v2577=a}),66);
__d("WAWebWindowsHybridBridgeMediaTranscoder.v2577",["Promise","WALogger","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t;a=function(){function a(a,b){var c=this;this.$3=new Map();this.$5=function(a){d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[onProgressChanged] sourceBufferId=",", percentage=",""])),a.sourceBufferId,a.percentage)};this.$1=b;this.$2=a;this.$2.addEventListener("sharedbufferreceived",function(a){a=a;c.$4(a)});this.$1.addEventListener("onProgressChangedEvent",this.$5);this.$1.subscribe(null)}var e=a.prototype;e.requestSharedBufferForTranscoding=function(a,c){var e=this;d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[requestSharedBufferForTranscoding] Starting shared buffer request for requestId=",", bufferSize=",""])),a,c);return new(t||(t=b("Promise")))(function(b){e.$3.set(a,b),d("WALogger").DEV(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[requestSharedBufferForTranscoding] Added pending request for requestId=",""])),a),e.$1.requestSharedBufferForTranscoding(a,c)})};e.performVideoTranscodingFromSharedBuffer=function(a,e,f){var g=this;d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["[performVideoTranscodingFromSharedBuffer] Starting video transcoding from sourceBufferId="," to resultBufferId="," with maxResultSize=",""])),a,e,f);return new(t||(t=b("Promise")))(function(){var h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,h){g.$3.set(e,b);d("WALogger").DEV(l||(l=babelHelpers.taggedTemplateLiteralLoose(["[performVideoTranscodingFromSharedBuffer] Added pending request for resultBufferId=",""])),e);try{b=(yield g.$1.performVideoTranscodingFromSharedBuffer(a,e,f));!b?(g.$3["delete"](e),d("WALogger").ERROR(m||(m=babelHelpers.taggedTemplateLiteralLoose(["[performVideoTranscodingFromSharedBuffer] Video transcoding failed for sourceBufferId=",", resultBufferId="," with maxResultSize=",""])),a,e,f),h(c("err")("Video transcoding failed"))):d("WALogger").LOG(n||(n=babelHelpers.taggedTemplateLiteralLoose(["[performVideoTranscodingFromSharedBuffer] Video transcoding initiated successfully, waiting for result buffer"])))}catch(a){g.$3["delete"](e),d("WALogger").ERROR(o||(o=babelHelpers.taggedTemplateLiteralLoose(["[performVideoTranscodingFromSharedBuffer] Error during video transcoding: ",""])),String(a)),h(a)}});return function(a,b){return h.apply(this,arguments)}}())};e.releaseSharedBuffer=function(a){d("WALogger").LOG(p||(p=babelHelpers.taggedTemplateLiteralLoose(["[releaseSharedBuffer] Releasing shared buffer with bufferId=",""])),a),this.$1.releaseSharedBuffer(a)};e.$4=function(a){if(a.additionalData&&a.additionalData.Source==="MediaTranscodingService"){var b=a.getBuffer();a=(a=a.additionalData)==null?void 0:a.BufferId;d("WALogger").LOG(q||(q=babelHelpers.taggedTemplateLiteralLoose(["[onSharedBufferReceived] Received shared buffer of size "," for bufferId=",""])),b.byteLength,a);if(a!=null){var c=this.$3.get(a);c?(this.$3["delete"](a),d("WALogger").DEV(r||(r=babelHelpers.taggedTemplateLiteralLoose(["[onSharedBufferReceived] Resolving pending request for bufferId=",""])),a),c([a,b])):d("WALogger").DEV(s||(s=babelHelpers.taggedTemplateLiteralLoose(["[onSharedBufferReceived] No pending request found for bufferId=",""])),a)}}};return a}();g.WindowsHybridBridgeMediaTranscoder_v2577=a}),98);
__d("WAWebWindowsHybridBridgeNativeAppState.v2577",["$InternalEnum","WALogger","WAWebEventEmitter","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l=b("$InternalEnum")({Normal:"normal",MinimizedToTray:"minimizedToTray"});a=function(a,e){var f=this;this.$4=new(c("WAWebEventEmitter"))();this.$5=function(a){a=a.toString();var b=l.cast(a);b!=null?d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeNativeAppState:appStateChanged: ",""])),l.getName(b)):d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeNativeAppState:appStateChanged: invalid appStateId: ",""])),a);f.$3=b;f.$4.trigger("appStateChanged",f.isMinimizedToTray())};this.getAppState=function(){return f.$3};this.getEvents=function(){return f.$4};this.isMinimizedToTray=function(){return f.getAppState()===l.MinimizedToTray};this.takeAppLaunchTimeStamp=function(){return f.$2.takeAppLaunchTimeStamp()};this.getFirstAppRestoreTimeStamp=function(){return f.$2.getFirstAppRestoreTimeStamp()};this.getLastAppRestoreTimeStamp=function(){return f.$2.getLastAppRestoreTimeStamp()};this.detectNativeClockSkew=function(){return f.$2.detectNativeClockSkew(Date.now())};this.getAppStateAsync=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=f.$1.getAppState();a=a.toString();var b=l.cast(a);b!=null?d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeNativeAppState:getAppStateAsync: ",""])),l.getName(b)):d("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeNativeAppState:getAppStateAsync: invalid appState '","'"])),a);return b});this.$1=a;this.$2=e;this.$1.addEventListener("appStateChangedEvent",this.$5);this.$1.subscribe(null)};g.AppState_v2577=l;g.WindowsHybridBridgeNativeAppState_v2577=a}),98);
__d("WAWebWindowsHybridBridgePictures.v2577",["WAJids","WALogger","WAWebLidMigrationUtils","WAWebProfilePicThumbCollection","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;a=function(){function a(a){var c=this;this.$2=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=JSON.parse(a);for(a of a){var b;if(d("WAJids").validateGroupJid(a.id.toString())){var e=d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.get(a.id);(e==null?void 0:e.eurl)!==a.eurl&&c.$1.setProfilePictures(JSON.stringify([{eurl:e==null?void 0:e.eurl,id:a.id.toString()}]));continue}e=d("WAWebLidMigrationUtils").toPn(a.id);if(e==null){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[WindowsHybridBridgePictures] PN WID is null"])));continue}var f=d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.get(e);f==null&&e!=null&&(f=(yield d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.resyncPicturesByWid([e])));if(((b=f)==null?void 0:b.eurl)!==a.eurl){c.$1.setProfilePictures(JSON.stringify([{eurl:(b=f)==null?void 0:b.eurl,id:e.toString()}]));b=d("WAWebLidMigrationUtils").toLid(a.id);if(b==null){d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[WindowsHybridBridgePictures] LID WID is null for PN WID: ",""])),e);continue}c.$1.setProfilePictures(JSON.stringify([{eurl:(e=f)==null?void 0:e.eurl,id:b.toString()}]))}}});return function(b){return a.apply(this,arguments)}}();this.$1=a;a.addEventListener("verifyPictureEvent",this.$2);a.subscribe(null)}var c=a.prototype;c.notifyUpdate=function(a){if(a==null)return;if(d("WAJids").validateGroupJid(a.id.toString())){this.$1.setProfilePictures(JSON.stringify([{eurl:a.eurl,id:a.id.toString()}]));return}if(!a.id.isUser())return;var b=d("WAWebLidMigrationUtils").toPn(a.id),c=d("WAWebLidMigrationUtils").toLid(a.id);if(b==null){d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[WindowsHybridBridgePictures] PN WID is null"])));return}if(c==null){d("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["[WindowsHybridBridgePictures] LID WID is null for PN WID: ",""])),b);return}this.$1.setProfilePictures(JSON.stringify([{eurl:a.eurl,id:b.toString()}]));this.$1.setProfilePictures(JSON.stringify([{eurl:a.eurl,id:c.toString()}]))};return a}();g.WindowsHybridBridgePictures_v2577=a}),98);
__d("WAWebWindowsHybridBridgePreferences.v2577",["WAWebUserPrefsBase","WAWebUserPrefsKeys","WAWebUserPrefsLocalStorage","WAWebUserPrefsStore"],(function(a,b,c,d,e,f,g){var h="WANativePreferencesRevision";a=function(){function a(a){var b=this;this.$2=!1;this.$3=null;this.$4=new Set();this.initialize=function(){var a;if(b.$2)return;b.$4.add(String(d("WAWebUserPrefsKeys").UserPrefs.WindowsIsSystemTrayEnabled));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.SYSTEM_THEME_MODE));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.THEME));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.ME_DISPLAY_NAME));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LAST_PUSHNAME));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LID));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LAST_WID_MD));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LANG_FROM_PHONE));b.$4.add(String(d("WAWebUserPrefsKeys").UserPrefs.AbpropsWebRefreshId));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.ABPROPS_REFRESH_ID));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.ABPROPS));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LANG_FROM_USER));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.GLOBAL_MUTE_CALL_RINGTONE));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.GLOBAL_MUTE_CALL_NOTIFICATIONS));b.$4.add(String(d("WAWebUserPrefsKeys").UserPrefs.WindowsNotificationBannerSetting));b.$4.add(String(d("WAWebUserPrefsKeys").UserPrefs.WindowsTaskbarNotificationSetting));(a=b.$1)==null||a.addEventListener("everythingRequested",function(){var a=b.$5();b.$3!==a&&(b.$3=a,b.$6())});(a=b.$1)==null||a.subscribe(null);b.$2=!0};this.$1=a}var b=a.prototype;b.$5=function(){var a=c("WAWebUserPrefsStore").getUser(h),b=0;typeof a==="number"?b=a:typeof a==="string"&&(b=Number(a)||0);return b};b.$7=function(a){c("WAWebUserPrefsStore").setUser(h,a)};b.handleSettingChange=function(a,b){var c;if(!this.$4.has(a))return;var d=this.$5();(c=this.$1)==null||c.updateLocalSetting(a,JSON.stringify(b),++d);this.$7(d)};b.$6=function(){var a=this.$5(),b=[],e=[];for(var f of this.$4){var g=c("WAWebUserPrefsStore").getUser(f);if(g!=null){b.push(f);e.push(JSON.stringify(g));continue}g=d("WAWebUserPrefsBase").userPreferencesStoreBase.get(f);g!=null&&(b.push(f),e.push(JSON.stringify(g)));g=c("WAWebUserPrefsLocalStorage").getItemFromLocalStorage(f);g!=null&&(b.push(f),e.push(JSON.stringify(g)))}(g=this.$1)==null||g.updateAllLocalSettings(b,e,a)};b.clean=function(){var a;(a=this.$1)==null||a.clean()};return a}();g.WindowsHybridBridgePreferences_v2577=a}),98);
__d("WAWebWindowsHybridBridgeRateTheApp.v2577",["asyncToGeneratorRuntime"],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=a}var c=a.prototype;c.getStoreProductForCurrentApp=function(){return this.$1.getStoreProductForCurrentAppAsync()};c.requestRateAndApp=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield this.$1.requestRateAndReviewAppAsync());return JSON.parse(a)});function c(){return a.apply(this,arguments)}return c}();return a}();f.WAWebWindowsHybridBridgeRateTheApp_v2577=a}),66);
__d("WAWebWindowsHybridBridgeScalingControl.v2577",["WAWebWindowsScalingControlEventEmitter"],(function(a,b,c,d,e,f,g){a=function(){function a(a){this.$2=!1,this.$3=function(){c("WAWebWindowsScalingControlEventEmitter").trigger("requestZoomIn")},this.$4=function(){c("WAWebWindowsScalingControlEventEmitter").trigger("requestZoomOut")},this.$1=a}var b=a.prototype;b.initialize=function(){var a;if(this.$2)return;this.$2=!0;(a=this.$1)==null||a.addEventListener("zoomInRequested",this.$3);(a=this.$1)==null||a.addEventListener("zoomOutRequested",this.$4);(a=this.$1)==null||a.subscribe(null)};b.zoomIn=function(){this.$3()};b.zoomOut=function(){this.$4()};b.showScalingControl=function(a){var b;(b=this.$1)==null||b.showScalingControl(a)};return a}();g.WindowsHybridBridgeScalingControl_v2577=a}),98);
__d("WAWebWindowsHybridBridgeSeamlessMigration.v2577",["WALogger","WAWebCmd","WAWebUserPrefsMeUser","justknobx"],(function(a,b,c,d,e,f,g){var h,i;a=function(){function a(a){var b=this;this.$2=function(a){if(!b.$3())return;d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[SeamlessMigration] Received user preferences event ",""])),a)};this.$1=a;(a=this.$1)==null||a.subscribe(null);(a=this.$1)==null||a.addEventListener("SendUserPreferencesEvent",this.$2);this.initialize()}var b=a.prototype;b.initialize=function(){var a=this,b=c("justknobx")._("2741"),e=c("justknobx")._("2742");d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[SeamlessMigration] RequestIsSeamlessMigrationEnabledStateRequested "," and max retries ",""])),b,e);this.$1.executeLogout(b,e);d("WAWebCmd").Cmd.on("on_initial_chat_synced",function(){if(!a.$3())return;var b=d("WAWebUserPrefsMeUser").getMaybeMeDevicePn();b!=null&&a.$1.requestUserPrefsMigration(b.toJid())})};b.$3=function(){return c("justknobx")._("303")};return a}();g.WindowsHybridBridgeSeamlessMigration_v2577=a}),98);
__d("WAWebWindowsHybridBridgeSystemIntegrations.v2577",["WAWebEventEmitter","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){a=function(){function a(a){var b=this;this.events=new(c("WAWebEventEmitter"))();this.$2=function(a){var c=a.tag,d=a.action;a=a.additionalData;b.events.trigger("MessageNotificationAction",{key:c,action:d,additionalData:a})};this.$1=a;(a=this.$1)==null||a.addEventListener("MessageNotificationActionEvent",this.$2);(a=this.$1)==null||a.subscribe(null)}var d=a.prototype;d.closeMessageNotification=function(a,b){var c;(c=this.$1)==null||c.closeMessageNotification(a,b)};d.showMessageNotification=function(a,b,c,d,e,f,g,h,i,j,k,l){var m;(m=this.$1)==null||m.showMessageNotification(a,b!=null?b:"",c,d,e,f!=null?f:"",g,h,i!=null?i:"",j!=null?j:"",k,l)};d.isNotificationEnabledInSystem=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){return this.$1==null?!1:this.$1.isNotificationEnabledInSystem()});function c(){return a.apply(this,arguments)}return c}();d.updateTaskbarBadge=function(a){this.$1.updateTaskbarBadge(a)};d.getStartupTaskState=function(){return this.$1.getStartupTaskState()};d.updateStartupTask=function(a){this.$1.updateStartupTask(a)};d.updateCurrentWebAppScreen=function(a){this.$1.updateCurrentWebAppScreen(a)};d.playTone=function(a){this.$1.playTone(a)};return a}();g.WindowsHybridBridgeSystemIntegrations_v2577=a}),98);
__d("WAWebWindowsHybridBridgeTouchpadFix.v2577",["WAWebDebounce"],(function(a,b,c,d,e,f,g){a=function(){function a(a){var b=this;this.$2=c("WAWebDebounce")(function(a){if(a.deltaX<=0)return;a=a.target;a=a;var c=!1,d=0;while(a&&a!==document.body&&d<3){var e=self.getComputedStyle(a);if((e.overflowX==="auto"||e.overflowX==="scroll")&&a.scrollWidth>a.clientWidth){c=!0;break}e=a.parentElement;if(!e)break;a=e;d++}c||b.interruptManipulations()},500);this.$1=a}var b=a.prototype;b.interruptManipulations=function(){return this.$1.interruptManipulations()};b.init=function(){document.addEventListener("wheel",this.$2,{passive:!1})};return a}();g.WindowsHybridBridgeTouchpadFix_v2577=a}),98);
__d("WAWebWindowsHybridBridgeVoip.v2577",["WABase64","WALogger","WAWebBackendApi","WAWebSerializeVoipWapNode","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L;a=function(){function a(a,b){var c=this;this.handleVoipReady=function(){var a;d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received voip ready event"])));d("WAWebBackendApi").frontendFireAndForget("addStartingLogoutListener",function(){return c.handleSignOut()});(a=c.$3)==null||a.onVoipReady()};this.sendSignalingXmpp=function(a){var b,e=a.peerJid,f=a.callId,g=a.payload;a=a.shouldEncryptBeforeSending;d("WALogger").DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received sendSignalingXmpp event: ",", ",", ",", ",""])),e,f,g,a);(b=c.$3)==null||b.onSignalingXmpp(e,f,g,a)};this.handleCallEvent=function(a){var b,e=a.eventType,f=a.userData;a=a.eventDataJson;d("WALogger").DEV(j||(j=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received handleCallEvent event: ",", ",", ",""])),e,f,a);(b=c.$3)==null||b.onCallEvent(e,f,a)};this.requestOpenChat=function(a){var b;d("WALogger").DEV(k||(k=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received requestOpenChat event: ",""])),a);(b=c.$3)==null||b.onRequestOpenChat(a)};this.requestDeviceJidList=function(a){var b;d("WALogger").DEV(l||(l=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received requestDeviceJidList event: ",""])),a);void ((b=c.$3)==null?void 0:b.onRequestDeviceJidList(a).then(function(b){var d;(d=c.$1)==null||d.handleDeviceJidList(a.toString(),b)}))};this.requestPhoneNumberJid=function(a){var b;d("WALogger").DEV(m||(m=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received requestPhoneNumberJid event: ",""])),a);void ((b=c.$3)==null||b.onRequestPhoneNumberJid==null?void 0:b.onRequestPhoneNumberJid(a).then(function(b){var d;(d=c.$1)==null||d.handlePhoneNumberJid(a.toString(),b)}))};this.requestLidJid=function(a){var b;d("WALogger").DEV(n||(n=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received requestLidJid event: ",""])),a);void ((b=c.$3)==null||b.onRequestLidJid==null?void 0:b.onRequestLidJid(a).then(function(b){var d;(d=c.$1)==null||d.handleLidJid(a.toString(),b)}))};this.callAgain=function(a){var b,e=a.peerJid;a=a.isVideoCall;d("WALogger").DEV(o||(o=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received callAgain event: ",", ",""])),e,a);(b=c.$3)==null||b.onCallAgain(e,a)};this.handleLidCallerDisplayInfo=function(a){var b;d("WALogger").DEV(p||(p=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received handleLidCallerDisplayInfo event: ",""])),a);(b=c.$3)==null||b.onLidCallerDisplayInfo(a)};this.$1=a;this.$2=b;this.$1.addEventListener("handleVoipReadyEvent",this.handleVoipReady);this.$1.addEventListener("handleVoipCallEvent",this.handleCallEvent);this.$1.addEventListener("handleSignalingXmppEvent",this.sendSignalingXmpp);this.$1.addEventListener("handleRequestOpenChatEvent",this.requestOpenChat);this.$1.addEventListener("handleRequestDeviceJidListEvent",this.requestDeviceJidList);this.$1.addEventListener("handleRequestPhoneNumberJidEvent",this.requestPhoneNumberJid);this.$1.addEventListener("handleRequestLidJidEvent",this.requestLidJid);this.$1.addEventListener("handleCallAgainEvent",this.callAgain);this.$1.addEventListener("handleLidCallerDisplayInfoEvent",this.handleLidCallerDisplayInfo);this.$1.subscribe(null)}var c=a.prototype;c.setHandlers=function(a){this.$3=a};c.cleanup=function(){this.$1.removeEventListener!=null&&(this.$1.removeEventListener("handleVoipReadyEvent",this.handleVoipReady),this.$1.removeEventListener("handleVoipCallEvent",this.handleCallEvent),this.$1.removeEventListener("handleSignalingXmppEvent",this.sendSignalingXmpp),this.$1.removeEventListener("handleRequestOpenChatEvent",this.requestOpenChat),this.$1.removeEventListener("handleRequestDeviceJidListEvent",this.requestDeviceJidList),this.$1.removeEventListener("handleRequestPhoneNumberJidEvent",this.requestPhoneNumberJid),this.$1.removeEventListener("handleRequestLidJidEvent",this.requestLidJid),this.$1.removeEventListener("handleCallAgainEvent",this.callAgain),this.$1.removeEventListener("handleLidCallerDisplayInfo",this.handleLidCallerDisplayInfo))};c.inviteToCall=function(a,b,c){};c.handleIncomingSignalingOffer=function(a,b,c,e,f,g,h,i,j){d("WALogger").DEV(q||(q=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleIncomingSignalingOffer called with:"]))).devConsole(arguments),this.$2.handleIncomingSignalingOffer(d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a),b,c,e,f,g,h,i,j?d("WABase64").encodeB64(j):null)};c.handleIncomingSignalingMessage=function(a,b,c,e,f,g,h,i){this.$2.handleIncomingSignalingMessage(d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a),b,c,e,f,g,h,i?d("WABase64").encodeB64(i):null)};c.handleIncomingSignalingAck=function(a,b,c,e,f){d("WALogger").DEV(r||(r=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleIncomingSignalingAck called with:"]))).devConsole(arguments),this.$2.handleIncomingSignalingAck(d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a),b,c,e,f?d("WABase64").encodeB64(f):null)};c.handleIncomingSignalingReceipt=function(a,b,c){d("WALogger").DEV(s||(s=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleIncomingSignalingReceipt called with:"]))).devConsole(arguments),this.$2.handleIncomingSignalingReceipt(d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a),b,c?d("WABase64").encodeB64(c):null)};c.resendOfferOnDecryptionFailure=function(a,b){d("WALogger").DEV(t||(t=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] resendOfferOnDecryptionFailure called with:"]))).devConsole(arguments),this.$2.resendOfferOnDecryptionFailure(a,b)};c.resendEncRekeyRetry=function(a,b){d("WALogger").DEV(u||(u=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] resendEncRekeyRetry called with:"]))).devConsole(arguments),this.$2.resendEncRekeyRetry(a,b)};c.notifyDeviceIdentityChangedOrDeleted=function(a,b){d("WALogger").DEV(v||(v=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] notifyDeviceIdentityChangedOrDeleted called with:"]))).devConsole(arguments),this.$2.notifyDeviceIdentityChangedOrDeleted(a,b)};c.handleWebViewReady=function(){var a;d("WALogger").DEV(w||(w=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleWebViewReady called"])));(a=this.$1)==null||a.handleWebViewReady()};c.voipInit=function(a,b,c){var e;d("WALogger").DEV(x||(x=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] voipInit called with:"]))).devConsole(arguments);(e=this.$1)==null||e.voipInit(a,b,c)};c.setHideMyIp=function(a){var b;d("WALogger").DEV(y||(y=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] setHideMyIp called with:"]))).devConsole(arguments);(b=this.$1)==null||b.setHideMyIp(a)};c.setChatNameAndIcon=function(a,b,c){var e;d("WALogger").DEV(z||(z=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] setChatNameAndIcon called"])));(e=this.$1)==null||e.setChatNameAndIcon(a,b,c)};c.handleSignOut=function(){var a;d("WALogger").DEV(A||(A=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleSignOut called"])));(a=this.$1)==null||a.handleSignOut()};c.startCall=function(a,b,c,e,f,g,h,i,j,k,l){var m;d("WALogger").DEV(B||(B=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] startCall called with:"]))).devConsole(arguments);(m=this.$1)==null||m.startCall(a.toString({legacy:!0}),b,c,e,f,g,h,i?d("WABase64").encodeB64(i):null,j,k)};c.startGroupCall=function(a,b,c,e,f,g,h,i,j,k,l,m,n,o){var p;d("WALogger").DEV(C||(C=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] startGroupCall called with:"]))).devConsole(arguments);(p=this.$1)==null||p.startGroupCall(a,b,c,e,f,g,h,i,j,k,l,m,n)};c.handleDeviceJidList=function(a,b){var c;d("WALogger").DEV(D||(D=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleDeviceJidList called with:"]))).devConsole(arguments);(c=this.$1)==null||c.handleDeviceJidList(a,b)};c.previewCallLink=function(a,b,c,e,f){var g;d("WALogger").DEV(E||(E=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] previewCallLink called with:"]))).devConsole(arguments);(g=this.$1)==null||g.previewCallLink(a,b,c,e)};c.previewAndJoinCallLink=function(a,b,c,e,f){var g;d("WALogger").DEV(F||(F=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] previewAndJoinCallLink called with:"]))).devConsole(arguments);(g=this.$1)==null||g.previewAndJoinCallLink(a,b,c,e)};c.endCall=function(a,b){var c;d("WALogger").DEV(G||(G=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] endCall called with:"]))).devConsole(arguments);(c=this.$1)==null||c.endCall(a,b)};c.rejectCallWithoutCallContext=function(a,b,c,e,f,g,h){var i;d("WALogger").DEV(H||(H=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] rejectCallWithoutCallContext called with:"]))).devConsole(arguments);(i=this.$1)==null||i.rejectCallWithoutCallContext(a,b,c,e,f,g,h)};c.joinOngoingCall=function(a,b,c,e,f,g,h,i,j,k,l,m,n,o,p,q){var r;d("WALogger").DEV(I||(I=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] joinOngoingCall called with:"]))).devConsole(arguments);(r=this.$1)==null||r.joinOngoingCall(a,b,c,e,f,g,h,i,j,k,l,m,n,o,p,q)};c.requestCallInfo=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WALogger").DEV(J||(J=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] requestCallInfo called with:"]))).devConsole(arguments);var a=(yield this.$1.getCallInfo()),b=a.callInfoJsonBase64,c=a.error;return{callInfoJsonBase64:b,error:c}});function c(){return a.apply(this,arguments)}return c}();c.requestObtainDevicePermissionAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("WALogger").DEV(K||(K=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] requestObtainDevicePermissionAsync called with:"]))).devConsole(arguments);var b=(yield this.$1.requestObtainDevicePermissionAsync(a)),c=b.error,e=b.permissionGranted;return{error:c,permissionGranted:e}});function c(b){return a.apply(this,arguments)}return c}();c.requestDevicesCountAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("WALogger").DEV(L||(L=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] requestDevicesCountAsync called with:"]))).devConsole(arguments);var b=(yield this.$1.getDeviceCountAsync(a)),c=b.error,e=b.deviceCount;return{error:c,deviceCount:e}});function c(b){return a.apply(this,arguments)}return c}();return a}();g.VoipWinRTBridge_v2577=a}),98);
__d("WAWebWindowsHybridBridgeWam.v2577",["Promise","WALogger","WAWebCrashContextUtils","WAWebCrashLogWamEvent","WAWebWamCodegenWamEvent","WAWebWamEnumCrashApplicationState","WAWebWamEnumCrashType"],(function(a,b,c,d,e,f,g){var h,i,j,k;a=function(a){var c=this;this.$2=!1;this.initialize=function(){var a;if(c.$2)return;(a=c.$1)==null||a.addEventListener("eventsSaved",c.handleEvents);(a=c.$1)==null||a.subscribe(null);c.$2=!0};this.handleEvents=function(a){if(!c.$2){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received handleWamEvent while bridge is not initialized"])));return}d("WALogger").DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received handleWamEvent event: ",""])),a);a=JSON.parse(a);void (k||(k=b("Promise"))).all(a.map(function(a){if(a.id===d("WAWebCrashLogWamEvent").CrashLogWamEvent.prototype.id){var b=a[6],c=a[23],e=a[3],f=a[24],g=a[2];a[3]=d("WAWebCrashContextUtils").getCrashEventAppContext(b,g);if(b===d("WAWebWamEnumCrashType").CRASH_TYPE.DISPATCHER_NOT_RESPONDING&&c===d("WAWebWamEnumCrashApplicationState").CRASH_APPLICATION_STATE.FOREGROUND){g=f!=null?f:"unknown";d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["Native ","s ANR detected: ",""])),g,e).sendLogs("hybrid-native-anr-"+g+"s",{sampling:.01})}}return new(d("WAWebWamCodegenWamEvent").RawWamEvent)(a).commitAndWaitForFlush(!0)}))};this.$1=a};g.WindowsHybridBridgeWam_v2577=a}),98);
__d("WAWebWindowsHybridBridge.v2577",["WAWebWindowsHybridAppActivationBridge.v2577","WAWebWindowsHybridBridgeAbProps.v2577","WAWebWindowsHybridBridgeAdv.v2577","WAWebWindowsHybridBridgeBrowserExtensions.v2577","WAWebWindowsHybridBridgeConnection.v2577","WAWebWindowsHybridBridgeContacts.v2577","WAWebWindowsHybridBridgeDebugFeatures.v2577","WAWebWindowsHybridBridgeLinksPreview.v2577","WAWebWindowsHybridBridgeMediaFiles.v2577","WAWebWindowsHybridBridgeMediaTranscoder.v2577","WAWebWindowsHybridBridgeNativeAppState.v2577","WAWebWindowsHybridBridgePictures.v2577","WAWebWindowsHybridBridgePreferences.v2577","WAWebWindowsHybridBridgeRateTheApp.v2577","WAWebWindowsHybridBridgeScalingControl.v2577","WAWebWindowsHybridBridgeSeamlessMigration.v2577","WAWebWindowsHybridBridgeSystemIntegrations.v2577","WAWebWindowsHybridBridgeTouchpadFix.v2577","WAWebWindowsHybridBridgeVoip.v2577","WAWebWindowsHybridBridgeWam.v2577","cr:17220"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.sharesheetBridge=null;this.serverEncKeySaltBridge=null;a.hostObjects.options.defaultSyncProxy=!0;a.hostObjects.options.forceAsyncMethodMatches=[/Async$/,/AsyncWithSpeller$/];a.hostObjects.options.ignoreMemberNotFoundError=!0;var c=a.hostObjects.AbPropsBridge;c!=null&&(this.abProps=new(d("WAWebWindowsHybridBridgeAbProps.v2577").WindowsHybridBridgeAbProps_v2577)(c));c=a.hostObjects.WamBridge;c!=null&&(this.wam=new(d("WAWebWindowsHybridBridgeWam.v2577").WindowsHybridBridgeWam_v2577)(c));c=a.hostObjects.PreferencesBridge;c&&(this.$1=new(d("WAWebWindowsHybridBridgePreferences.v2577").WindowsHybridBridgePreferences_v2577)(c));c=a.hostObjects.ScalingControlBridge;c&&(this.scalingControl=new(d("WAWebWindowsHybridBridgeScalingControl.v2577").WindowsHybridBridgeScalingControl_v2577)(c));c=a.hostObjects.PicturesBridge;c&&(this.pictures=new(d("WAWebWindowsHybridBridgePictures.v2577").WindowsHybridBridgePictures_v2577)(c));c=a.hostObjects.DebugFeaturesBridge;var e=b("cr:17220")==null?void 0:b("cr:17220").debugFeaturesMock;c!=null?this.$4=new(d("WAWebWindowsHybridBridgeDebugFeatures.v2577").WindowsHybridBridgeDebugFeatures_v2577)(c):e!=null;c=a.hostObjects.VoipBridge;e=a.hostObjects.VoipSignalingBridge;c&&e&&(this.voip=new(d("WAWebWindowsHybridBridgeVoip.v2577").VoipWinRTBridge_v2577)(c,e));this.$5=new(d("WAWebWindowsHybridBridgeRateTheApp.v2577").WAWebWindowsHybridBridgeRateTheApp_v2577)(a.hostObjects.RateAppBridge);this.$3=new(d("WAWebWindowsHybridBridgeConnection.v2577").WindowsHybridBridgeConnection_v2577)(a.hostObjects.ConnectionBridge);this.$2=a.hostObjects.ClientKeyBridge;this.touchpadFix=new(d("WAWebWindowsHybridBridgeTouchpadFix.v2577").WindowsHybridBridgeTouchpadFix_v2577)(a.hostObjects.TouchpadFix);this.linksPreview=new(d("WAWebWindowsHybridBridgeLinksPreview.v2577").WindowsHybridBridgeLinksPreview_v2577)(a.hostObjects.LinksPreviewBridge);try{c=a.hostObjects.sync.PopulatedContactsBridge;e=a.hostObjects.PopulatedContactsBridge;e!=null&&(this.contacts=new(d("WAWebWindowsHybridBridgeContacts.v2577").WindowsHybridBridgeContacts_v2577)(e,c,!0))}catch(b){e=a.hostObjects.ContactsBridge;e!=null&&(this.contacts=new(d("WAWebWindowsHybridBridgeContacts.v2577").WindowsHybridBridgeContacts_v2577)(e,a.hostObjects.sync.ContactsBridge,!1))}this.sqlite=a.hostObjects.SQLiteBridge;c=a.hostObjects.MediaFilesBridge;c!=null&&(this.mediaFiles=new(d("WAWebWindowsHybridBridgeMediaFiles.v2577").WAWebWindowsHybridBridgeMediaFiles_v2577)(c));e=a.hostObjects.AppActivationBridge;e!=null&&(this.appActivationBridge=new(d("WAWebWindowsHybridAppActivationBridge.v2577").WindowsHybridAppActivationBridge_v2577)(e));c=a.hostObjects.NativeAppStateBridge;e=a.hostObjects.sync.NativeAppStateBridge;c!=null&&(this.nativeAppStateBridge=new(d("WAWebWindowsHybridBridgeNativeAppState.v2577").WindowsHybridBridgeNativeAppState_v2577)(c,e));c=a.hostObjects.SystemIntegrationsBridge;c&&(this.systemIntegrationsBridge=new(d("WAWebWindowsHybridBridgeSystemIntegrations.v2577").WindowsHybridBridgeSystemIntegrations_v2577)(c));e=a.hostObjects.BrowserExtensionsBridge;e&&(this.browserExtensionsBridge=new(d("WAWebWindowsHybridBridgeBrowserExtensions.v2577").WindowsHybridBridgeBrowserExtensions_v2577)(e));c=a.hostObjects.SeamlessMigrationBridge;c&&(this.seamlessMigrationBridge=new(d("WAWebWindowsHybridBridgeSeamlessMigration.v2577").WindowsHybridBridgeSeamlessMigration_v2577)(c));e=a.hostObjects.MediaTranscodingBridge;e&&(this.mediaTranscodeBridge=new(d("WAWebWindowsHybridBridgeMediaTranscoder.v2577").WindowsHybridBridgeMediaTranscoder_v2577)(a,e));this.adv=new(d("WAWebWindowsHybridBridgeAdv.v2577").WindowsHybridBridgeAdv_v2577)(a.hostObjects.AdvBridge)}var c=a.prototype;c.getPreferences=function(){var a;(a=this.$1)==null||a.initialize();return this.$1};c.getScalingControl=function(){var a;(a=this.scalingControl)==null||a.initialize();return this.scalingControl};c.getRateTheApp=function(){return this.$5};c.getClientKeyBridge=function(){return this.$2};c.getDebugFeatures=function(){return this.$4};return a}();g.WindowsHybridBridge_v2577=a}),98);
__d("WAWebWindowsHybridAppActivationBridge.v2579",["WAWebApi","WAWebApiParse","WAWebExecApiCmd"],(function(a,b,c,d,e,f,g){a=function(){function a(a){this.handleAppActivationViaProtocolEvent=function(a){a=a.toString();a=d("WAWebApiParse").parseAPICmd(a);a.resultType!==d("WAWebApi").APICmd.INVALID&&c("WAWebExecApiCmd")({cmdData:a,isExternal:!0})};this.$1=a;(a=this.$1)==null||a.addEventListener("handleAppActivationViaProtocolEvent",this.handleAppActivationViaProtocolEvent);this.$1.subscribe(null)}var b=a.prototype;b.initialize=function(){};b.cleanup=function(){var a;(a=this.$1)==null||a.removeEventListener("handleAppActivationViaProtocolEvent",this.handleAppActivationViaProtocolEvent)};return a}();g.WindowsHybridAppActivationBridge_v2579=a}),98);
__d("WAWebWindowsHybridBridgeAbProps.v2579",["WALogger","WAWebABPropsCache","WAWebABPropsLocalStorage","WAWebBackendApi","WAWebHybridABProps","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h;a=function(){function a(a){var c=this;this.$2=!1;this.$4=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b;c.$3==null&&(c.$3=d("WAWebHybridABProps").getAllHybridExpoKeys());a=a.toString();b=(b=c.$3)==null?void 0:b.get(a);if(b==null){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[abprops][windows hybrid] unknown exposure key: ",""])),a);return}d("WAWebABPropsCache").saveExposure(b);c.$1.acknowledgeExposure(a)});return function(b){return a.apply(this,arguments)}}();this.$5=function(a){c.$3=null;var b=d("WAWebABPropsLocalStorage").getABKey();if(a!==b){a=d("WAWebHybridABProps").getAllHybridAbProps(!1);c.$1.setConfigs(b,JSON.stringify(a))}};this.$1=a}var c=a.prototype;c.initialize=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=this;if(this.$2)return;this.$2=!0;yield d("WAWebABPropsCache").waitForABPropConfigsReady();this.$1.addEventListener("exposureLogged",this.$4);this.$1.subscribe(null);var b=(yield this.$1.getVersion());d("WAWebBackendApi").frontendFireAndForget("addAbPropsUpdateListener",function(){a.$5(null)});this.$5(b)});function c(){return a.apply(this,arguments)}return c}();return a}();g.WindowsHybridBridgeAbProps_v2579=a}),98);
__d("WAWebWindowsHybridBridgeAdv.v2579",["WABase64","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){a=function(){function a(a){this.$1=a}var c=a.prototype;c.verifySignatureAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){b=(yield this.$1.verify(d("WABase64").encodeB64(b),d("WABase64").encodeB64(c),d("WABase64").encodeB64(a)));return b});function c(b,c,d){return a.apply(this,arguments)}return c}();return a}();g.WindowsHybridBridgeAdv_v2579=a}),98);
__d("WAWebWindowsHybridBridgeBrowserExtensions.v2579",["asyncToGeneratorRuntime"],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=a}var c=a.prototype;c.getBrowserExtensionsInfoAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield this.$1.getBrowserExtensionsInfoAsync());return JSON.parse(a)});function c(){return a.apply(this,arguments)}return c}();c.enableBrowserExtensionAsync=function(a,b){return this.$1.enableBrowserExtensionAsync(a,b)};c.removeBrowserExtensionAsync=function(a){return this.$1.removeBrowserExtensionAsync(a)};c.hasBootstrappedSuccessfully=function(){return this.$1.hasBootstrappedSuccessfully()};c.getZoomBrowserExtensionInfoAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield this.$1.getZoomBrowserExtensionInfoAsync());return JSON.parse(a)});function c(){return a.apply(this,arguments)}return c}();c.enableZoomBrowserExtensionAsync=function(a){return this.$1.enableZoomBrowserExtensionAsync(a)};c.removeZoomBrowserExtensionAsync=function(){return this.$1.removeZoomBrowserExtensionAsync()};c.installZoomBrowserExtensionAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield this.$1.installZoomBrowserExtensionAsync());return JSON.parse(a)});function c(){return a.apply(this,arguments)}return c}();return a}();f.WindowsHybridBridgeBrowserExtensions_v2579=a}),66);
__d("WAWebWindowsHybridBridgeConnection.v2579",["WAComms","WALogger","WAPromiseDelays","WAResolvable","WAWebCallCollection","WAWebEventsWaitForMainStreamReadyMd","WAWebEventsWaitForOfflineDeliveryEnd","WAWebSetWindowsPushConfig","WAWebSocketConstants","WAWebSocketModel","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v;a=function(){function a(a){var e=this;this.$2=!1;this.$3=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.data.toString();a=(a=a.channel)==null?void 0:a.toString();d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleUpdateNotificationsTokenEvent"]))).devConsole(b,a);yield c("WAWebEventsWaitForMainStreamReadyMd")();yield d("WAWebSetWindowsPushConfig").setWindowsPushConfig(b,a);e.$1.handleConnectionState(!0);e.$1.acknowledgeNotificationsToken(b,a)});return function(b){return a.apply(this,arguments)}}();this.$4=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent"])));try{var a;if(!e.$2&&(((a=d("WAComms").getComms())==null?void 0:a.socket)==null||d("WAWebSocketModel").Socket.stream===d("WAWebSocketConstants").SOCKET_STREAM.DISCONNECTED)){d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: socket already closed"])));e.$1.handleConnectionState(!1);return}yield e.$6();yield d("WAPromiseDelays").delayMs(3e4);d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: offline resume complete"])));if(c("WAWebCallCollection").activeCall!=null){d("WALogger").LOG(l||(l=babelHelpers.taggedTemplateLiteralLoose(["voip: WindowsHybridBridgeConnection:handleDisconnectEvent: awaiting active call completion"])));var b=new(d("WAResolvable").Resolvable)();a=function(){c("WAWebCallCollection").activeCall==null&&b.resolve()};c("WAWebCallCollection").on("change:activeCall",a);yield b.promise;c("WAWebCallCollection").off("change:activeCall",a);d("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["voip: WindowsHybridBridgeConnection:handleDisconnectEvent: active call completed"])))}else d("WALogger").LOG(n||(n=babelHelpers.taggedTemplateLiteralLoose(["voip: WindowsHybridBridgeConnection:handleDisconnectEvent: no active call"])));d("WAComms").closeSocketAndPause();d("WALogger").LOG(o||(o=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: socket closed"])));e.$1.handleConnectionState(!1)}catch(a){d("WALogger").ERROR(p||(p=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: failed to close socket: ",""])),a)}});this.$5=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WALogger").LOG(q||(q=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection.handleConnectEvent"])));if(e.$2){d("WALogger").LOG(r||(r=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleConnectEvent: socket already opening"])));return}try{var a;a=((a=d("WAComms").getComms())==null?void 0:a.socket)!=null;a||(e.$2=!0,d("WAComms").closeSocketAndResume(),d("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleConnectEvent: socket opened"]))));yield e.$6();d("WALogger").LOG(t||(t=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleConnectEvent: offline resume complete"])));e.$1.handleConnectionState(!0)}catch(a){d("WALogger").ERROR(u||(u=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleConnectEvent: failed to open socket: ",""])),a)}finally{e.$2=!1}});this.$1=a;this.$1.addEventListener("updateNotificationsTokenEvent",this.$3);this.$1.addEventListener("disconnectEvent",this.$4);this.$1.addEventListener("connectEvent",this.$5);this.$1.subscribe(null)}var e=a.prototype;e.$6=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield d("WAComms").waitForConnection(),d("WAWebEventsWaitForOfflineDeliveryEnd").isOfflineDeliveryEnd()||(d("WALogger").LOG(v||(v=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:waitForOfflineResume"]))),yield d("WAWebEventsWaitForOfflineDeliveryEnd").waitForOfflineDeliveryEnd())});function c(){return a.apply(this,arguments)}return c}();return a}();g.WindowsHybridBridgeConnection_v2579=a}),98);
__d("WAWebWindowsHybridBridgeContacts.v2579",["WALogger","WAWebBackendApi","WAWebContactsDbLidMigrationUtils","WAWebEventsWaitForMainStreamReadyMd","WAWebLidAwareContactsDB","WAWebSchemaContact_DO_NOT_USE_DIRECTLY","WAWebSyncBootstrap","asyncToGeneratorRuntime","filterNulls"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a,e,f){var g=this;this.$4="contacts";this.$5=new Set();this.$6=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=JSON.parse(a);if(a.length===0)return;a.forEach(function(a){return g.$5.add(a)});var b=(yield c("WAWebLidAwareContactsDB").bulkGet(a));b.forEach(function(a){return g.$5["delete"](a==null?void 0:a.id)});a=a.filter(function(a){return g.$5.has(a)});a.forEach(function(a){return g.$5["delete"](a)});void g.$1.updateContacts(a,JSON.stringify(c("filterNulls")(b)))});return function(b){return a.apply(this,arguments)}}();this.$7=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.count;a=a.includeVoipCallableOnly;try{b=(yield d("WAWebBackendApi").frontendSendAndReceive("getFrequentContacts",{count:b,includeVoipCallableOnly:a}));a=JSON.stringify(b);void g.$1.receiveFrequentContacts(a)}catch(a){void g.$1.receiveFrequentContacts(JSON.stringify([]))}});return function(b){return a.apply(this,arguments)}}();this.$1=a;this.$2=e;this.$3=f;a.addEventListener("requestUpdateEvent",this.$6);a.addEventListener("requestFrequentContactsEvent",this.$7);a.subscribe(null)}var e=a.prototype;e.initialize=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=this;c("WAWebLidAwareContactsDB").setUpdateListener(function(b){return a.$8(b)});yield c("WAWebEventsWaitForMainStreamReadyMd")();if(this.$3)return;if(c("WAWebSyncBootstrap").isSyncDBootstrapInProcess())return;this.$3=!0;try{var b=200,e=(yield d("WAWebSchemaContact_DO_NOT_USE_DIRECTLY").getContactTable().all({limit:b,offset:0}));do{var f;f=(f=e[e.length-1])==null?void 0:f.id;e=(yield d("WAWebContactsDbLidMigrationUtils").replacePnRowsWithLidData(e));yield this.$1.updateContacts([],JSON.stringify(e));e=(yield d("WAWebSchemaContact_DO_NOT_USE_DIRECTLY").getContactTable().greaterThan(["id"],f,{limit:b}))}while(e.length>0);this.$1.acknowledgeInitialSync()}catch(a){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[WinUi] setInitialData "," error ",""])),this.$4,a)}});function e(){return a.apply(this,arguments)}return e}();e.$8=function(a){var b=this;if(!this.$3)return;a=a.filter(function(a){return!b.$5.has(a)});if(a.length===0)return;a.forEach(function(a){return b.$5.add(a)});this.$2.invalidateContacts(a)};return a}();g.WindowsHybridBridgeContacts_v2579=a}),98);
__d("WAWebWindowsHybridBridgeDebugFeatures.v2579",["WALogger","WAWebBackendApi","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i=1e3;a=function(){function a(a){var b=this;this.$2=null;this.ping=function(a){var c,e=self.performance.now();c=(e-((c=b.$2)!=null?c:e)).toFixed(0);b.$2=e;d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeDebugFeatures:ping:"," diff:","ms"])),a,c);b.$1.pong(a.valueOf())};this.$1=a;(a=this.$1)==null||a.addEventListener("jsLogs",function(){b.saveJSLogs()});(a=this.$1)==null||a.addEventListener("requestWebLogStringEvent",function(a){void b.requestWebLogString(a)});(a=this.$1)==null||a.addEventListener("pingEvent",this.ping);this.$1.subscribe(null)}var c=a.prototype;c.startHangsMonitor=function(){this.$1.startHangsMonitor()};c.saveNativeLogs=function(){this.$1.saveNativeLogs()};c.requestNativeLogs=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){return this.$1.requestNativeLogs()});function c(){return a.apply(this,arguments)}return c}();c.saveJSLogs=function(){d("WAWebBackendApi").frontendFireAndForget("createDownloadDataForMdWebLogs")};c.limitStringSize=function(a,b){var c=new Blob([a],{type:"text/plain"});if(c.size>b){c=c.size-b;return a.substr(c)}return a};c.requestWebLogString=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield d("WAWebBackendApi").frontendSendAndReceive("getWebLogs"));b=this.limitStringSize(b,30*i);this.$1.sendWebLogString(a.toString(),b)});function c(b){return a.apply(this,arguments)}return c}();return a}();g.WindowsHybridBridgeDebugFeatures_v2579=a}),98);
__d("WAWebWindowsHybridBridgeLinksPreview.v2579",["asyncToGeneratorRuntime"],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=a}var c=a.prototype;c.getPreviewAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield this.$1.getPreviewAsync(a));return a==null||a===""?null:JSON.parse(a)});function c(b){return a.apply(this,arguments)}return c}();return a}();f.WindowsHybridBridgeLinksPreview_v2579=a}),66);
__d("WAWebWindowsHybridBridgeMediaFiles.v2579",[],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=a}var b=a.prototype;b.isCachedMediaFileExist=function(a,b){return this.$1.isCachedMediaFileExist(a,b)};b.tryOpenCachedMediaFile=function(a,b){return this.$1.tryOpenCachedMediaFileFile(a,b)};b.prepareForMediaFileSaving=function(a,b,c){return this.$1.prepareForMediaFileSaving(a,b,c)};b.waitTillMediaDownloadCompletes=function(a,b,c){return this.$1.waitTillMediaDownloadCompletes(a,b,c)};b.selectFolderForBulkMediaSaving=function(){return this.$1.selectFolderForBulkMediaSaving()};b.prepareForZipArchiveSavingAndUnarchiveToFolder=function(a,b,c,d){return this.$1.prepareForZipArchiveSavingAndUnarchiveToFolder(a,b,c,d)};b.requestFileSystemDirectoryHandle=function(a){return this.$1.requestFileSystemDirectoryHandle(a)};b.tryCopyCachedMediaFile=function(a){return this.$1.tryCopyCachedMediaFile(a)};b.tryCopyCachedMediaFiles=function(a){return this.$1.tryCopyCachedMediaFiles(a)};return a}();f.WAWebWindowsHybridBridgeMediaFiles_v2579=a}),66);
__d("WAWebWindowsHybridBridgeMediaTranscoder.v2579",["Promise","WALogger","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D;a=function(){function a(a,b){var c=this;this.$3=new Map();this.$4=new Map();this.$6=function(a){d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[onProgressChanged] sourceBufferId=",", percentage=",""])),a.sourceBufferId,a.percentage);var b=c.$4.get(a.sourceBufferId);b&&b(a.percentage)};this.$1=b;this.$2=a;this.$2.addEventListener("sharedbufferreceived",function(a){a=a;c.$5(a)});this.$1.addEventListener("onProgressChangedEvent",this.$6);this.$1.subscribe(null)}var e=a.prototype;e.requestSharedBufferForTranscoding=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){var f=this;d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[requestSharedBufferForTranscoding] Starting shared buffer request for requestId=",", bufferSize=",""])),a,e);var g=2*1024*1024*1024;if(e>=g){g="Buffer size "+e+" exceeds maximum allowed size of "+g+" bytes (2GB)";d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[requestSharedBufferForTranscoding] ",""])),g);throw c("err")(g)}try{g=new(D||(D=b("Promise")))(function(){var g=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,g){f.$3.set(a,b);d("WALogger").DEV(k||(k=babelHelpers.taggedTemplateLiteralLoose(["[requestSharedBufferForTranscoding] Added pending request for requestId=",""])),a);try{b=(yield f.$1.tryRequestSharedBufferForTranscodingAsync(a,e));!b?(f.$3["delete"](a),d("WALogger").ERROR(l||(l=babelHelpers.taggedTemplateLiteralLoose(["[requestSharedBufferForTranscoding] Failed to create shared buffer for requestId=",", bufferSize=",""])),a,e),g(c("err")("Failed to create shared buffer for transcoding"))):d("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["[requestSharedBufferForTranscoding] Shared buffer creation initiated successfully, waiting for buffer"])))}catch(b){f.$3["delete"](a),d("WALogger").ERROR(n||(n=babelHelpers.taggedTemplateLiteralLoose(["[requestSharedBufferForTranscoding] Error during shared buffer request: ",""])),String(b)),g(b)}});return function(a,b){return g.apply(this,arguments)}}());g=(yield g);return[g.additionalData.BufferId,g.buffer]}catch(a){d("WALogger").ERROR(o||(o=babelHelpers.taggedTemplateLiteralLoose(["[requestSharedBufferForTranscoding] Error awaiting shared buffer response: ",""])),String(a));throw a}});function e(b,c){return a.apply(this,arguments)}return e}();e.performVideoTranscodingFromSharedBuffer=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f){var g=this;d("WALogger").LOG(p||(p=babelHelpers.taggedTemplateLiteralLoose(["[performVideoTranscodingFromSharedBuffer] Starting video transcoding from sourceBufferId="," to resultBufferId="," with maxResultSize=",""])),a,e,f);var h=(yield new(D||(D=b("Promise")))(function(){var h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,h){g.$3.set(e,b);d("WALogger").DEV(q||(q=babelHelpers.taggedTemplateLiteralLoose(["[performVideoTranscodingFromSharedBuffer] Added pending request for resultBufferId=",""])),e);try{b=(yield g.$1.performVideoTranscodingFromSharedBuffer(a,e,f));!b?(g.$3["delete"](e),d("WALogger").ERROR(r||(r=babelHelpers.taggedTemplateLiteralLoose(["[performVideoTranscodingFromSharedBuffer] Video transcoding failed for sourceBufferId=",", resultBufferId="," with maxResultSize=",""])),a,e,f),h(c("err")("Video transcoding failed"))):d("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["[performVideoTranscodingFromSharedBuffer] Video transcoding initiated successfully, waiting for result buffer"])))}catch(a){g.$3["delete"](e),d("WALogger").ERROR(t||(t=babelHelpers.taggedTemplateLiteralLoose(["[performVideoTranscodingFromSharedBuffer] Error during video transcoding: ",""])),String(a)),h(a)}});return function(a,b){return h.apply(this,arguments)}}()));return[h.additionalData.BufferId,h.buffer]});function e(b,c,d){return a.apply(this,arguments)}return e}();e.getVideoPreviewFrameFromSharedBuffer=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){var f=this,g,h;d("WALogger").LOG(u||(u=babelHelpers.taggedTemplateLiteralLoose(["[getVideoPreviewFrameFromSharedBuffer] Starting video preview frame extraction from sourceBufferId="," to resultBufferId=",""])),a,e);var i=(yield new(D||(D=b("Promise")))(function(){var g=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,g){f.$3.set(e,b);d("WALogger").DEV(v||(v=babelHelpers.taggedTemplateLiteralLoose(["[getVideoPreviewFrameFromSharedBuffer] Added pending request for resultBufferId=",""])),e);try{b=(yield f.$1.getVideoPreviewFrameFromSharedBuffer(a,e));!b?(f.$3["delete"](e),d("WALogger").ERROR(w||(w=babelHelpers.taggedTemplateLiteralLoose(["[getVideoPreviewFrameFromSharedBuffer] Video preview frame extraction failed for sourceBufferId=",", resultBufferId=",""])),a,e),g(c("err")("Video preview frame extraction failed"))):d("WALogger").LOG(x||(x=babelHelpers.taggedTemplateLiteralLoose(["[getVideoPreviewFrameFromSharedBuffer] Video preview frame extraction initiated successfully, waiting for result buffer"])))}catch(a){f.$3["delete"](e),d("WALogger").ERROR(y||(y=babelHelpers.taggedTemplateLiteralLoose(["[getVideoPreviewFrameFromSharedBuffer] Error during video preview frame extraction: ",""])),String(a)),g(a)}});return function(a,b){return g.apply(this,arguments)}}()));g=(g=(g=i.additionalData)==null?void 0:g.Width)!=null?g:0;h=(h=(h=i.additionalData)==null?void 0:h.Height)!=null?h:0;return[i.additionalData.BufferId,i.buffer,g,h]});function e(b,c){return a.apply(this,arguments)}return e}();e.releaseSharedBuffer=function(a){d("WALogger").LOG(z||(z=babelHelpers.taggedTemplateLiteralLoose(["[releaseSharedBuffer] Releasing shared buffer with bufferId=",""])),a),this.$1.releaseSharedBuffer(a)};e.setProgressCallback=function(a,b){this.$4.set(a,b)};e.clearProgressCallback=function(a){this.$4["delete"](a)};e.$5=function(a){if(a.additionalData&&a.additionalData.Source==="MediaTranscodingService"){var b;b=(b=a.additionalData)==null?void 0:b.BufferId;d("WALogger").LOG(A||(A=babelHelpers.taggedTemplateLiteralLoose(["[onSharedBufferReceived] Received shared buffer for bufferId=",""])),b);if(b!=null){var c=this.$3.get(b);c?(this.$3["delete"](b),d("WALogger").DEV(B||(B=babelHelpers.taggedTemplateLiteralLoose(["[onSharedBufferReceived] Resolving pending request for bufferId=",""])),b),c({buffer:a.getBuffer(),additionalData:a.additionalData})):d("WALogger").DEV(C||(C=babelHelpers.taggedTemplateLiteralLoose(["[onSharedBufferReceived] No pending request found for bufferId=",""])),b)}}};return a}();g.WindowsHybridBridgeMediaTranscoder_v2579=a}),98);
__d("WAWebWindowsHybridBridgeNativeAppState.v2579",["$InternalEnum","WALogger","WAWebEventEmitter","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l=b("$InternalEnum")({Normal:"normal",MinimizedToTray:"minimizedToTray"});a=function(a,e){var f=this;this.$4=new(c("WAWebEventEmitter"))();this.$5=function(a){a=a.toString();var b=l.cast(a);b!=null?d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeNativeAppState:appStateChanged: ",""])),l.getName(b)):d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeNativeAppState:appStateChanged: invalid appStateId: ",""])),a);f.$3=b;f.$4.trigger("appStateChanged",f.isMinimizedToTray())};this.getAppState=function(){return f.$3};this.getEvents=function(){return f.$4};this.isMinimizedToTray=function(){return f.getAppState()===l.MinimizedToTray};this.takeAppLaunchTimeStamp=function(){return f.$2.takeAppLaunchTimeStamp()};this.getFirstAppRestoreTimeStamp=function(){return f.$2.getFirstAppRestoreTimeStamp()};this.getLastAppRestoreTimeStamp=function(){return f.$2.getLastAppRestoreTimeStamp()};this.detectNativeClockSkew=function(){return f.$2.detectNativeClockSkew(Date.now())};this.getAppStateAsync=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=f.$1.getAppState();a=a.toString();var b=l.cast(a);b!=null?d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeNativeAppState:getAppStateAsync: ",""])),l.getName(b)):d("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeNativeAppState:getAppStateAsync: invalid appState '","'"])),a);return b});this.$1=a;this.$2=e;this.$1.addEventListener("appStateChangedEvent",this.$5);this.$1.subscribe(null)};g.AppState_v2579=l;g.WindowsHybridBridgeNativeAppState_v2579=a}),98);
__d("WAWebWindowsHybridBridgePictures.v2579",["WAJids","WALogger","WAWebLidMigrationUtils","WAWebProfilePicThumbCollection","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;a=function(){function a(a){var c=this;this.$2=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=JSON.parse(a);for(a of a){var b;if(d("WAJids").validateGroupJid(a.id.toString())){var e=d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.get(a.id);(e==null?void 0:e.eurl)!==a.eurl&&c.$1.setProfilePictures(JSON.stringify([{eurl:e==null?void 0:e.eurl,id:a.id.toString()}]));continue}e=d("WAWebLidMigrationUtils").toPn(a.id);if(e==null){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[WindowsHybridBridgePictures] PN WID is null"])));continue}var f=d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.get(e);f==null&&e!=null&&(f=(yield d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.resyncPicturesByWid([e])));if(((b=f)==null?void 0:b.eurl)!==a.eurl){c.$1.setProfilePictures(JSON.stringify([{eurl:(b=f)==null?void 0:b.eurl,id:e.toString()}]));b=d("WAWebLidMigrationUtils").toLid(a.id);if(b==null){d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[WindowsHybridBridgePictures] LID WID is null for PN WID: ",""])),e);continue}c.$1.setProfilePictures(JSON.stringify([{eurl:(e=f)==null?void 0:e.eurl,id:b.toString()}]))}}});return function(b){return a.apply(this,arguments)}}();this.$1=a;a.addEventListener("verifyPictureEvent",this.$2);a.subscribe(null)}var c=a.prototype;c.notifyUpdate=function(a){if(a==null)return;if(d("WAJids").validateGroupJid(a.id.toString())){this.$1.setProfilePictures(JSON.stringify([{eurl:a.eurl,id:a.id.toString()}]));return}if(!a.id.isUser())return;var b=d("WAWebLidMigrationUtils").toPn(a.id),c=d("WAWebLidMigrationUtils").toLid(a.id);if(b==null){d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[WindowsHybridBridgePictures] PN WID is null"])));return}if(c==null){d("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["[WindowsHybridBridgePictures] LID WID is null for PN WID: ",""])),b);return}this.$1.setProfilePictures(JSON.stringify([{eurl:a.eurl,id:b.toString()}]));this.$1.setProfilePictures(JSON.stringify([{eurl:a.eurl,id:c.toString()}]))};return a}();g.WindowsHybridBridgePictures_v2579=a}),98);
__d("WAWebWindowsHybridBridgePreferences.v2579",["WAWebUserPrefsBase","WAWebUserPrefsKeys","WAWebUserPrefsLocalStorage","WAWebUserPrefsStore"],(function(a,b,c,d,e,f,g){var h="WANativePreferencesRevision";a=function(){function a(a){var b=this;this.$2=!1;this.$3=null;this.$4=new Set();this.initialize=function(){var a;if(b.$2)return;b.$4.add(String(d("WAWebUserPrefsKeys").UserPrefs.WindowsIsSystemTrayEnabled));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.SYSTEM_THEME_MODE));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.THEME));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.ME_DISPLAY_NAME));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LAST_PUSHNAME));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LID));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LAST_WID_MD));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LANG_FROM_PHONE));b.$4.add(String(d("WAWebUserPrefsKeys").UserPrefs.AbpropsWebRefreshId));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.ABPROPS_REFRESH_ID));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.ABPROPS));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LANG_FROM_USER));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.GLOBAL_MUTE_CALL_RINGTONE));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.GLOBAL_MUTE_CALL_NOTIFICATIONS));b.$4.add(String(d("WAWebUserPrefsKeys").UserPrefs.WindowsNotificationBannerSetting));b.$4.add(String(d("WAWebUserPrefsKeys").UserPrefs.WindowsTaskbarNotificationSetting));(a=b.$1)==null||a.addEventListener("everythingRequested",function(){var a=b.$5();b.$3!==a&&(b.$3=a,b.$6())});(a=b.$1)==null||a.subscribe(null);b.$2=!0};this.$1=a}var b=a.prototype;b.$5=function(){var a=c("WAWebUserPrefsStore").getUser(h),b=0;typeof a==="number"?b=a:typeof a==="string"&&(b=Number(a)||0);return b};b.$7=function(a){c("WAWebUserPrefsStore").setUser(h,a)};b.handleSettingChange=function(a,b){var c;if(!this.$4.has(a))return;var d=this.$5();(c=this.$1)==null||c.updateLocalSetting(a,JSON.stringify(b),++d);this.$7(d)};b.$6=function(){var a=this.$5(),b=[],e=[];for(var f of this.$4){var g=c("WAWebUserPrefsStore").getUser(f);if(g!=null){b.push(f);e.push(JSON.stringify(g));continue}g=d("WAWebUserPrefsBase").userPreferencesStoreBase.get(f);g!=null&&(b.push(f),e.push(JSON.stringify(g)));g=c("WAWebUserPrefsLocalStorage").getItemFromLocalStorage(f);g!=null&&(b.push(f),e.push(JSON.stringify(g)))}(g=this.$1)==null||g.updateAllLocalSettings(b,e,a)};b.clean=function(){var a;(a=this.$1)==null||a.clean()};return a}();g.WindowsHybridBridgePreferences_v2579=a}),98);
__d("WAWebWindowsHybridBridgeRateTheApp.v2579",["asyncToGeneratorRuntime"],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=a}var c=a.prototype;c.getStoreProductForCurrentApp=function(){return this.$1.getStoreProductForCurrentAppAsync()};c.requestRateAndApp=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield this.$1.requestRateAndReviewAppAsync());return JSON.parse(a)});function c(){return a.apply(this,arguments)}return c}();return a}();f.WAWebWindowsHybridBridgeRateTheApp_v2579=a}),66);
__d("WAWebWindowsHybridBridgeScalingControl.v2579",["WAWebWindowsScalingControlEventEmitter"],(function(a,b,c,d,e,f,g){a=function(){function a(a){this.$2=!1,this.$3=function(){c("WAWebWindowsScalingControlEventEmitter").trigger("requestZoomIn")},this.$4=function(){c("WAWebWindowsScalingControlEventEmitter").trigger("requestZoomOut")},this.$1=a}var b=a.prototype;b.initialize=function(){var a;if(this.$2)return;this.$2=!0;(a=this.$1)==null||a.addEventListener("zoomInRequested",this.$3);(a=this.$1)==null||a.addEventListener("zoomOutRequested",this.$4);(a=this.$1)==null||a.subscribe(null)};b.zoomIn=function(){this.$3()};b.zoomOut=function(){this.$4()};b.showScalingControl=function(a){var b;(b=this.$1)==null||b.showScalingControl(a)};return a}();g.WindowsHybridBridgeScalingControl_v2579=a}),98);
__d("WAWebWindowsHybridBridgeSeamlessMigration.v2579",["WALogger","WAWebCmd","WAWebUserPrefsMeUser","WAWebWindowsUserPrefsMigrationEventEmitter","justknobx"],(function(a,b,c,d,e,f,g){var h,i;a=function(){function a(a){var b=this;this.$2=function(a){if(!b.$3())return;d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[SeamlessMigration] Received user preferences event ",""])),a);c("WAWebWindowsUserPrefsMigrationEventEmitter").trigger("storeUserPrefs",a)};this.$1=a;(a=this.$1)==null||a.subscribe(null);(a=this.$1)==null||a.addEventListener("SendUserPreferencesEvent",this.$2);this.initialize()}var b=a.prototype;b.initialize=function(){var a=this,b=c("justknobx")._("2741"),e=c("justknobx")._("2742");d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[SeamlessMigration] RequestIsSeamlessMigrationEnabledStateRequested "," and max retries ",""])),b,e);this.$1.executeLogout(b,e);d("WAWebCmd").Cmd.on("on_initial_chat_synced",function(){if(!a.$3())return;var b=d("WAWebUserPrefsMeUser").getMaybeMeDevicePn();b!=null&&a.$1.requestUserPrefsMigration(b.toJid())})};b.$3=function(){return c("justknobx")._("303")};return a}();g.WindowsHybridBridgeSeamlessMigration_v2579=a}),98);
__d("WAWebWindowsHybridBridgeSystemIntegrations.v2579",["WAWebEventEmitter","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){a=function(){function a(a){var b=this;this.events=new(c("WAWebEventEmitter"))();this.$2=function(a){var c=a.tag,d=a.action;a=a.additionalData;b.events.trigger("MessageNotificationAction",{key:c,action:d,additionalData:a})};this.$1=a;(a=this.$1)==null||a.addEventListener("MessageNotificationActionEvent",this.$2);(a=this.$1)==null||a.subscribe(null)}var d=a.prototype;d.closeMessageNotification=function(a,b){var c;(c=this.$1)==null||c.closeMessageNotification(a,b)};d.showMessageNotification=function(a,b,c,d,e,f,g,h,i,j,k,l){var m;(m=this.$1)==null||m.showMessageNotification(a,b!=null?b:"",c,d,e,f!=null?f:"",g,h,i!=null?i:"",j!=null?j:"",k,l)};d.isNotificationEnabledInSystem=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){return this.$1==null?!1:this.$1.isNotificationEnabledInSystem()});function c(){return a.apply(this,arguments)}return c}();d.updateTaskbarBadge=function(a){this.$1.updateTaskbarBadge(a)};d.getStartupTaskState=function(){return this.$1.getStartupTaskState()};d.updateStartupTask=function(a){this.$1.updateStartupTask(a)};d.updateCurrentWebAppScreen=function(a){this.$1.updateCurrentWebAppScreen(a)};d.playTone=function(a){this.$1.playTone(a)};return a}();g.WindowsHybridBridgeSystemIntegrations_v2579=a}),98);
__d("WAWebWindowsHybridBridgeTouchpadFix.v2579",["WAWebDebounce"],(function(a,b,c,d,e,f,g){a=function(){function a(a){var b=this;this.$2=c("WAWebDebounce")(function(a){if(a.deltaX<=0)return;a=a.target;a=a;var c=!1,d=0;while(a&&a!==document.body&&d<3){var e=self.getComputedStyle(a);if((e.overflowX==="auto"||e.overflowX==="scroll")&&a.scrollWidth>a.clientWidth){c=!0;break}e=a.parentElement;if(!e)break;a=e;d++}c||b.interruptManipulations()},500);this.$1=a}var b=a.prototype;b.interruptManipulations=function(){return this.$1.interruptManipulations()};b.init=function(){document.addEventListener("wheel",this.$2,{passive:!1})};return a}();g.WindowsHybridBridgeTouchpadFix_v2579=a}),98);
__d("WAWebWindowsHybridBridgeVoip.v2579",["WABase64","WALogger","WAWebBackendApi","WAWebSerializeVoipWapNode","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M;a=function(){function a(a,b){var c=this;this.handleVoipReady=function(){var a;d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received voip ready event"])));d("WAWebBackendApi").frontendFireAndForget("addStartingLogoutListener",function(){return c.handleSignOut()});(a=c.$3)==null||a.onVoipReady()};this.sendSignalingXmpp=function(a){var b,e=a.peerJid,f=a.callId,g=a.payload;a=a.shouldEncryptBeforeSending;d("WALogger").DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received sendSignalingXmpp event: ",", ",", ",", ",""])),e,f,g,a);(b=c.$3)==null||b.onSignalingXmpp(e,f,g,a)};this.handleCallEvent=function(a){var b,e=a.eventType,f=a.userData;a=a.eventDataJson;d("WALogger").DEV(j||(j=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received handleCallEvent event: ",", ",", ",""])),e,f,a);(b=c.$3)==null||b.onCallEvent(e,f,a)};this.requestOpenChat=function(a){var b;d("WALogger").DEV(k||(k=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received requestOpenChat event: ",""])),a);(b=c.$3)==null||b.onRequestOpenChat(a)};this.requestDeviceJidList=function(a){var b;d("WALogger").DEV(l||(l=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received requestDeviceJidList event: ",""])),a);void ((b=c.$3)==null?void 0:b.onRequestDeviceJidList(a).then(function(b){var d;(d=c.$1)==null||d.handleDeviceJidList(a.toString(),b)}))};this.requestPhoneNumberJid=function(a){var b;d("WALogger").DEV(m||(m=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received requestPhoneNumberJid event: ",""])),a);void ((b=c.$3)==null||b.onRequestPhoneNumberJid==null?void 0:b.onRequestPhoneNumberJid(a).then(function(b){var d;(d=c.$1)==null||d.handlePhoneNumberJid(a.toString(),b)}))};this.requestLidJid=function(a){var b;d("WALogger").DEV(n||(n=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received requestLidJid event: ",""])),a);void ((b=c.$3)==null||b.onRequestLidJid==null?void 0:b.onRequestLidJid(a).then(function(b){var d;(d=c.$1)==null||d.handleLidJid(a.toString(),b)}))};this.callAgain=function(a){var b,e=a.peerJid;a=a.isVideoCall;d("WALogger").DEV(o||(o=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received callAgain event: ",", ",""])),e,a);(b=c.$3)==null||b.onCallAgain(e,a)};this.handleLidCallerDisplayInfo=function(a){var b;d("WALogger").DEV(p||(p=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received handleLidCallerDisplayInfo event: ",""])),a);(b=c.$3)==null||b.onLidCallerDisplayInfo(a)};this.$1=a;this.$2=b;this.$1.addEventListener("handleVoipReadyEvent",this.handleVoipReady);this.$1.addEventListener("handleVoipCallEvent",this.handleCallEvent);this.$1.addEventListener("handleSignalingXmppEvent",this.sendSignalingXmpp);this.$1.addEventListener("handleRequestOpenChatEvent",this.requestOpenChat);this.$1.addEventListener("handleRequestDeviceJidListEvent",this.requestDeviceJidList);this.$1.addEventListener("handleRequestPhoneNumberJidEvent",this.requestPhoneNumberJid);this.$1.addEventListener("handleRequestLidJidEvent",this.requestLidJid);this.$1.addEventListener("handleCallAgainEvent",this.callAgain);this.$1.addEventListener("handleLidCallerDisplayInfoEvent",this.handleLidCallerDisplayInfo);this.$1.subscribe(null)}var c=a.prototype;c.setHandlers=function(a){this.$3=a};c.cleanup=function(){this.$1.removeEventListener!=null&&(this.$1.removeEventListener("handleVoipReadyEvent",this.handleVoipReady),this.$1.removeEventListener("handleVoipCallEvent",this.handleCallEvent),this.$1.removeEventListener("handleSignalingXmppEvent",this.sendSignalingXmpp),this.$1.removeEventListener("handleRequestOpenChatEvent",this.requestOpenChat),this.$1.removeEventListener("handleRequestDeviceJidListEvent",this.requestDeviceJidList),this.$1.removeEventListener("handleRequestPhoneNumberJidEvent",this.requestPhoneNumberJid),this.$1.removeEventListener("handleRequestLidJidEvent",this.requestLidJid),this.$1.removeEventListener("handleCallAgainEvent",this.callAgain),this.$1.removeEventListener("handleLidCallerDisplayInfo",this.handleLidCallerDisplayInfo))};c.handleIncomingSignalingOffer=function(a,b,c,e,f,g,h,i,j){d("WALogger").DEV(q||(q=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleIncomingSignalingOffer called with:"]))).devConsole(arguments),this.$2.handleIncomingSignalingOffer(d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a),b,c,e,f,g,h,i,j?d("WABase64").encodeB64(j):null)};c.handleIncomingSignalingMessage=function(a,b,c,e,f,g,h,i){this.$2.handleIncomingSignalingMessage(d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a),b,c,e,f,g,h,i?d("WABase64").encodeB64(i):null)};c.handleIncomingSignalingAck=function(a,b,c,e,f){d("WALogger").DEV(r||(r=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleIncomingSignalingAck called with:"]))).devConsole(arguments),this.$2.handleIncomingSignalingAck(d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a),b,c,e,f?d("WABase64").encodeB64(f):null)};c.handleIncomingSignalingReceipt=function(a,b,c){d("WALogger").DEV(s||(s=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleIncomingSignalingReceipt called with:"]))).devConsole(arguments),this.$2.handleIncomingSignalingReceipt(d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a),b,c?d("WABase64").encodeB64(c):null)};c.resendOfferOnDecryptionFailure=function(a,b){d("WALogger").DEV(t||(t=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] resendOfferOnDecryptionFailure called with:"]))).devConsole(arguments),this.$2.resendOfferOnDecryptionFailure(a,b)};c.resendEncRekeyRetry=function(a,b){d("WALogger").DEV(u||(u=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] resendEncRekeyRetry called with:"]))).devConsole(arguments),this.$2.resendEncRekeyRetry(a,b)};c.notifyDeviceIdentityChangedOrDeleted=function(a,b){d("WALogger").DEV(v||(v=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] notifyDeviceIdentityChangedOrDeleted called with:"]))).devConsole(arguments),this.$2.notifyDeviceIdentityChangedOrDeleted(a,b)};c.handleWebViewReady=function(){var a;d("WALogger").DEV(w||(w=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleWebViewReady called"])));(a=this.$1)==null||a.handleWebViewReady()};c.voipInit=function(a,b,c){var e;d("WALogger").DEV(x||(x=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] voipInit called with:"]))).devConsole(arguments);(e=this.$1)==null||e.voipInit(a,b,c)};c.setHideMyIp=function(a){var b;d("WALogger").DEV(y||(y=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] setHideMyIp called with:"]))).devConsole(arguments);(b=this.$1)==null||b.setHideMyIp(a)};c.setChatNameAndIcon=function(a,b,c){var e;d("WALogger").DEV(z||(z=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] setChatNameAndIcon called"])));(e=this.$1)==null||e.setChatNameAndIcon(a,b,c)};c.handleSignOut=function(){var a;d("WALogger").DEV(A||(A=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleSignOut called"])));(a=this.$1)==null||a.handleSignOut()};c.startCall=function(a,b,c,e,f,g,h,i,j,k,l){var m;d("WALogger").DEV(B||(B=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] startCall called with:"]))).devConsole(arguments);(m=this.$1)==null||m.startCall(a.toString({legacy:!0}),b,c,e,f,g,h,i?d("WABase64").encodeB64(i):null,j,k)};c.startGroupCall=function(a,b,c,e,f,g,h,i,j,k,l,m,n,o){var p;d("WALogger").DEV(C||(C=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] startGroupCall called with:"]))).devConsole(arguments);(p=this.$1)==null||p.startGroupCall(a,b,c,e,f,g,h,i,j,k,l,m,n)};c.handleDeviceJidList=function(a,b){var c;d("WALogger").DEV(D||(D=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleDeviceJidList called with:"]))).devConsole(arguments);(c=this.$1)==null||c.handleDeviceJidList(a,b)};c.previewCallLink=function(a,b,c,e,f){var g;d("WALogger").DEV(E||(E=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] previewCallLink called with:"]))).devConsole(arguments);(g=this.$1)==null||g.previewCallLink(a,b,c,e)};c.previewAndJoinCallLink=function(a,b,c,e,f){var g;d("WALogger").DEV(F||(F=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] previewAndJoinCallLink called with:"]))).devConsole(arguments);(g=this.$1)==null||g.previewAndJoinCallLink(a,b,c,e)};c.endCall=function(a,b){var c;d("WALogger").DEV(G||(G=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] endCall called with:"]))).devConsole(arguments);(c=this.$1)==null||c.endCall(a,b)};c.rejectCallWithoutCallContext=function(a,b,c,e,f,g,h){var i;d("WALogger").DEV(H||(H=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] rejectCallWithoutCallContext called with:"]))).devConsole(arguments);(i=this.$1)==null||i.rejectCallWithoutCallContext(a,b,c,e,f,g,h)};c.joinOngoingCall=function(a,b,c,e,f,g,h,i,j,k,l,m,n,o,p,q){var r;d("WALogger").DEV(I||(I=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] joinOngoingCall called with:"]))).devConsole(arguments);(r=this.$1)==null||r.joinOngoingCall(a,b,c,e,f,g,h,i,j,k,l,m,n,o,p,q)};c.inviteToCall=function(a,b,c){var e;d("WALogger").DEV(J||(J=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] inviteToCall called with:"]))).devConsole(arguments);(e=this.$1)==null||e.inviteToCall(a,b,c)};c.requestCallInfo=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WALogger").DEV(K||(K=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] requestCallInfo called with:"]))).devConsole(arguments);var a=(yield this.$1.getCallInfo()),b=a.callInfoJsonBase64,c=a.error;return{callInfoJsonBase64:b,error:c}});function c(){return a.apply(this,arguments)}return c}();c.requestObtainDevicePermissionAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("WALogger").DEV(L||(L=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] requestObtainDevicePermissionAsync called with:"]))).devConsole(arguments);var b=(yield this.$1.requestObtainDevicePermissionAsync(a)),c=b.error,e=b.permissionGranted;return{error:c,permissionGranted:e}});function c(b){return a.apply(this,arguments)}return c}();c.requestDevicesCountAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("WALogger").DEV(M||(M=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] requestDevicesCountAsync called with:"]))).devConsole(arguments);var b=(yield this.$1.getDeviceCountAsync(a)),c=b.error,e=b.deviceCount;return{error:c,deviceCount:e}});function c(b){return a.apply(this,arguments)}return c}();return a}();g.VoipWinRTBridge_v2579=a}),98);
__d("WAWebWindowsHybridBridgeWam.v2579",["Promise","WALogger","WAWebCrashContextUtils","WAWebCrashLogWamEvent","WAWebWamCodegenWamEvent","WAWebWamEnumCrashApplicationState","WAWebWamEnumCrashType"],(function(a,b,c,d,e,f,g){var h,i,j,k;a=function(a){var c=this;this.$2=!1;this.initialize=function(){var a;if(c.$2)return;(a=c.$1)==null||a.addEventListener("eventsSaved",c.handleEvents);(a=c.$1)==null||a.subscribe(null);c.$2=!0};this.handleEvents=function(a){if(!c.$2){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received handleWamEvent while bridge is not initialized"])));return}d("WALogger").DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received handleWamEvent event: ",""])),a);a=JSON.parse(a);void (k||(k=b("Promise"))).all(a.map(function(a){if(a.id===d("WAWebCrashLogWamEvent").CrashLogWamEvent.prototype.id){var b=a[6],c=a[23],e=a[3],f=a[24],g=a[2];a[3]=d("WAWebCrashContextUtils").getCrashEventAppContext(b,g);if(b===d("WAWebWamEnumCrashType").CRASH_TYPE.DISPATCHER_NOT_RESPONDING&&c===d("WAWebWamEnumCrashApplicationState").CRASH_APPLICATION_STATE.FOREGROUND){g=f!=null?f:"unknown";d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["Native ","s ANR detected: ",""])),g,e).sendLogs("hybrid-native-anr-"+g+"s",{sampling:.01})}}return new(d("WAWebWamCodegenWamEvent").RawWamEvent)(a).commitAndWaitForFlush(!0)}))};this.$1=a};g.WindowsHybridBridgeWam_v2579=a}),98);
__d("WAWebWindowsHybridBridge.v2579",["WAWebBuildConstants","WAWebWindowsHybridAppActivationBridge.v2579","WAWebWindowsHybridBridgeAbProps.v2579","WAWebWindowsHybridBridgeAdv.v2579","WAWebWindowsHybridBridgeBrowserExtensions.v2579","WAWebWindowsHybridBridgeConnection.v2579","WAWebWindowsHybridBridgeContacts.v2579","WAWebWindowsHybridBridgeDebugFeatures.v2579","WAWebWindowsHybridBridgeLinksPreview.v2579","WAWebWindowsHybridBridgeMediaFiles.v2579","WAWebWindowsHybridBridgeMediaTranscoder.v2579","WAWebWindowsHybridBridgeNativeAppState.v2579","WAWebWindowsHybridBridgePictures.v2579","WAWebWindowsHybridBridgePreferences.v2579","WAWebWindowsHybridBridgeRateTheApp.v2579","WAWebWindowsHybridBridgeScalingControl.v2579","WAWebWindowsHybridBridgeSeamlessMigration.v2579","WAWebWindowsHybridBridgeSystemIntegrations.v2579","WAWebWindowsHybridBridgeTouchpadFix.v2579","WAWebWindowsHybridBridgeVoip.v2579","WAWebWindowsHybridBridgeWam.v2579","cr:17220"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.sharesheetBridge=null;this.serverEncKeySaltBridge=null;a.hostObjects.options.defaultSyncProxy=!0;a.hostObjects.options.forceAsyncMethodMatches=[/Async$/,/AsyncWithSpeller$/];a.hostObjects.options.ignoreMemberNotFoundError=!0;var c=a.hostObjects.AbPropsBridge;c!=null&&(this.abProps=new(d("WAWebWindowsHybridBridgeAbProps.v2579").WindowsHybridBridgeAbProps_v2579)(c));c=a.hostObjects.WamBridge;c!=null&&(this.wam=new(d("WAWebWindowsHybridBridgeWam.v2579").WindowsHybridBridgeWam_v2579)(c));c=a.hostObjects.PreferencesBridge;c&&(this.$1=new(d("WAWebWindowsHybridBridgePreferences.v2579").WindowsHybridBridgePreferences_v2579)(c));c=a.hostObjects.ScalingControlBridge;c&&(this.scalingControl=new(d("WAWebWindowsHybridBridgeScalingControl.v2579").WindowsHybridBridgeScalingControl_v2579)(c));c=a.hostObjects.PicturesBridge;c&&(this.pictures=new(d("WAWebWindowsHybridBridgePictures.v2579").WindowsHybridBridgePictures_v2579)(c));c=a.hostObjects.DebugFeaturesBridge;var e=b("cr:17220")==null?void 0:b("cr:17220").debugFeaturesMock;c!=null?this.$4=new(d("WAWebWindowsHybridBridgeDebugFeatures.v2579").WindowsHybridBridgeDebugFeatures_v2579)(c):e!=null;c=a.hostObjects.VoipBridge;e=a.hostObjects.VoipSignalingBridge;c&&e&&(this.voip=new(d("WAWebWindowsHybridBridgeVoip.v2579").VoipWinRTBridge_v2579)(c,e));this.$5=new(d("WAWebWindowsHybridBridgeRateTheApp.v2579").WAWebWindowsHybridBridgeRateTheApp_v2579)(a.hostObjects.RateAppBridge);this.$3=new(d("WAWebWindowsHybridBridgeConnection.v2579").WindowsHybridBridgeConnection_v2579)(a.hostObjects.ConnectionBridge);this.$2=a.hostObjects.ClientKeyBridge;this.touchpadFix=new(d("WAWebWindowsHybridBridgeTouchpadFix.v2579").WindowsHybridBridgeTouchpadFix_v2579)(a.hostObjects.TouchpadFix);this.linksPreview=new(d("WAWebWindowsHybridBridgeLinksPreview.v2579").WindowsHybridBridgeLinksPreview_v2579)(a.hostObjects.LinksPreviewBridge);try{c=a.hostObjects.sync.PopulatedContactsBridge;e=a.hostObjects.PopulatedContactsBridge;e!=null&&(this.contacts=new(d("WAWebWindowsHybridBridgeContacts.v2579").WindowsHybridBridgeContacts_v2579)(e,c,!0))}catch(b){e=a.hostObjects.ContactsBridge;e!=null&&(this.contacts=new(d("WAWebWindowsHybridBridgeContacts.v2579").WindowsHybridBridgeContacts_v2579)(e,a.hostObjects.sync.ContactsBridge,!1))}this.sqlite=a.hostObjects.SQLiteBridge;c=a.hostObjects.MediaFilesBridge;c!=null&&(this.mediaFiles=new(d("WAWebWindowsHybridBridgeMediaFiles.v2579").WAWebWindowsHybridBridgeMediaFiles_v2579)(c));e=a.hostObjects.AppActivationBridge;e!=null&&(this.appActivationBridge=new(d("WAWebWindowsHybridAppActivationBridge.v2579").WindowsHybridAppActivationBridge_v2579)(e));c=a.hostObjects.NativeAppStateBridge;e=a.hostObjects.sync.NativeAppStateBridge;c!=null&&(this.nativeAppStateBridge=new(d("WAWebWindowsHybridBridgeNativeAppState.v2579").WindowsHybridBridgeNativeAppState_v2579)(c,e));c=a.hostObjects.SystemIntegrationsBridge;c&&(this.systemIntegrationsBridge=new(d("WAWebWindowsHybridBridgeSystemIntegrations.v2579").WindowsHybridBridgeSystemIntegrations_v2579)(c));e=a.hostObjects.BrowserExtensionsBridge;e&&(this.browserExtensionsBridge=new(d("WAWebWindowsHybridBridgeBrowserExtensions.v2579").WindowsHybridBridgeBrowserExtensions_v2579)(e));c=a.hostObjects.SeamlessMigrationBridge;c&&(this.seamlessMigrationBridge=new(d("WAWebWindowsHybridBridgeSeamlessMigration.v2579").WindowsHybridBridgeSeamlessMigration_v2579)(c));e=a.hostObjects.MediaTranscodingBridge;e&&(this.mediaTranscodeBridge=new(d("WAWebWindowsHybridBridgeMediaTranscoder.v2579").WindowsHybridBridgeMediaTranscoder_v2579)(a,e));this.adv=new(d("WAWebWindowsHybridBridgeAdv.v2579").WindowsHybridBridgeAdv_v2579)(a.hostObjects.AdvBridge);(c=a.hostObjects.WebUpdateBridge)==null||c.updateWebRevision(d("WAWebBuildConstants").VERSION_TERTIARY)}var c=a.prototype;c.getPreferences=function(){var a;(a=this.$1)==null||a.initialize();return this.$1};c.getScalingControl=function(){var a;(a=this.scalingControl)==null||a.initialize();return this.scalingControl};c.getRateTheApp=function(){return this.$5};c.getClientKeyBridge=function(){return this.$2};c.getDebugFeatures=function(){return this.$4};return a}();g.WindowsHybridBridge_v2579=a}),98);
__d("WAWebWindowsHybridAppActivationBridge.v2580",["WAWebApi","WAWebApiParse","WAWebExecApiCmd"],(function(a,b,c,d,e,f,g){a=function(){function a(a){this.handleAppActivationViaProtocolEvent=function(a){a=a.toString();a=d("WAWebApiParse").parseAPICmd(a);a.resultType!==d("WAWebApi").APICmd.INVALID&&c("WAWebExecApiCmd")({cmdData:a,isExternal:!0})};this.$1=a;(a=this.$1)==null||a.addEventListener("handleAppActivationViaProtocolEvent",this.handleAppActivationViaProtocolEvent);this.$1.subscribe(null)}var b=a.prototype;b.initialize=function(){};b.cleanup=function(){var a;(a=this.$1)==null||a.removeEventListener("handleAppActivationViaProtocolEvent",this.handleAppActivationViaProtocolEvent)};return a}();g.WindowsHybridAppActivationBridge_v2580=a}),98);
__d("WAWebWindowsHybridBridgeAbProps.v2580",["WALogger","WAWebABPropsCache","WAWebABPropsLocalStorage","WAWebBackendApi","WAWebHybridABProps","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h;a=function(){function a(a){var c=this;this.$2=!1;this.$4=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b;c.$3==null&&(c.$3=d("WAWebHybridABProps").getAllHybridExpoKeys());a=a.toString();b=(b=c.$3)==null?void 0:b.get(a);if(b==null){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[abprops][windows hybrid] unknown exposure key: ",""])),a);return}d("WAWebABPropsCache").saveExposure(b);c.$1.acknowledgeExposure(a)});return function(b){return a.apply(this,arguments)}}();this.$5=function(a){c.$3=null;var b=d("WAWebABPropsLocalStorage").getABKey();if(a!==b){a=d("WAWebHybridABProps").getAllHybridAbProps(!1);c.$1.setConfigs(b,JSON.stringify(a))}};this.$1=a}var c=a.prototype;c.initialize=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=this;if(this.$2)return;this.$2=!0;yield d("WAWebABPropsCache").waitForABPropConfigsReady();this.$1.addEventListener("exposureLogged",this.$4);this.$1.subscribe(null);var b=(yield this.$1.getVersion());d("WAWebBackendApi").frontendFireAndForget("addAbPropsUpdateListener",function(){a.$5(null)});this.$5(b)});function c(){return a.apply(this,arguments)}return c}();return a}();g.WindowsHybridBridgeAbProps_v2580=a}),98);
__d("WAWebWindowsHybridBridgeAdv.v2580",["WABase64","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){a=function(){function a(a){this.$1=a}var c=a.prototype;c.verifySignatureAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){b=(yield this.$1.verify(d("WABase64").encodeB64(b),d("WABase64").encodeB64(c),d("WABase64").encodeB64(a)));return b});function c(b,c,d){return a.apply(this,arguments)}return c}();return a}();g.WindowsHybridBridgeAdv_v2580=a}),98);
__d("WAWebWindowsHybridBridgeBrowserExtensions.v2580",["asyncToGeneratorRuntime"],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=a}var c=a.prototype;c.getBrowserExtensionsInfoAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield this.$1.getBrowserExtensionsInfoAsync());return JSON.parse(a)});function c(){return a.apply(this,arguments)}return c}();c.enableBrowserExtensionAsync=function(a,b){return this.$1.enableBrowserExtensionAsync(a,b)};c.removeBrowserExtensionAsync=function(a){return this.$1.removeBrowserExtensionAsync(a)};c.hasBootstrappedSuccessfully=function(){return this.$1.hasBootstrappedSuccessfully()};c.getZoomBrowserExtensionInfoAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield this.$1.getZoomBrowserExtensionInfoAsync());return JSON.parse(a)});function c(){return a.apply(this,arguments)}return c}();c.enableZoomBrowserExtensionAsync=function(a){return this.$1.enableZoomBrowserExtensionAsync(a)};c.removeZoomBrowserExtensionAsync=function(){return this.$1.removeZoomBrowserExtensionAsync()};c.installZoomBrowserExtensionAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield this.$1.installZoomBrowserExtensionAsync());return JSON.parse(a)});function c(){return a.apply(this,arguments)}return c}();return a}();f.WindowsHybridBridgeBrowserExtensions_v2580=a}),66);
__d("WAWebWindowsHybridBridgeConnection.v2580",["WAComms","WALogger","WAPromiseDelays","WAResolvable","WAWebCallCollection","WAWebEventsWaitForMainStreamReadyMd","WAWebEventsWaitForOfflineDeliveryEnd","WAWebSetWindowsPushConfig","WAWebSocketConstants","WAWebSocketModel","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v;a=function(){function a(a){var e=this;this.$2=!1;this.$3=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.data.toString();a=(a=a.channel)==null?void 0:a.toString();d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleUpdateNotificationsTokenEvent"]))).devConsole(b,a);yield c("WAWebEventsWaitForMainStreamReadyMd")();yield d("WAWebSetWindowsPushConfig").setWindowsPushConfig(b,a);e.$1.handleConnectionState(!0);e.$1.acknowledgeNotificationsToken(b,a)});return function(b){return a.apply(this,arguments)}}();this.$4=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent"])));try{var a;if(!e.$2&&(((a=d("WAComms").getComms())==null?void 0:a.socket)==null||d("WAWebSocketModel").Socket.stream===d("WAWebSocketConstants").SOCKET_STREAM.DISCONNECTED)){d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: socket already closed"])));e.$1.handleConnectionState(!1);return}yield e.$6();yield d("WAPromiseDelays").delayMs(3e4);d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: offline resume complete"])));if(c("WAWebCallCollection").activeCall!=null){d("WALogger").LOG(l||(l=babelHelpers.taggedTemplateLiteralLoose(["voip: WindowsHybridBridgeConnection:handleDisconnectEvent: awaiting active call completion"])));var b=new(d("WAResolvable").Resolvable)();a=function(){c("WAWebCallCollection").activeCall==null&&b.resolve()};c("WAWebCallCollection").on("change:activeCall",a);yield b.promise;c("WAWebCallCollection").off("change:activeCall",a);d("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["voip: WindowsHybridBridgeConnection:handleDisconnectEvent: active call completed"])))}else d("WALogger").LOG(n||(n=babelHelpers.taggedTemplateLiteralLoose(["voip: WindowsHybridBridgeConnection:handleDisconnectEvent: no active call"])));d("WAComms").closeSocketAndPause();d("WALogger").LOG(o||(o=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: socket closed"])));e.$1.handleConnectionState(!1)}catch(a){d("WALogger").ERROR(p||(p=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: failed to close socket: ",""])),a)}});this.$5=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WALogger").LOG(q||(q=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection.handleConnectEvent"])));if(e.$2){d("WALogger").LOG(r||(r=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleConnectEvent: socket already opening"])));return}try{var a;a=((a=d("WAComms").getComms())==null?void 0:a.socket)!=null;a||(e.$2=!0,d("WAComms").closeSocketAndResume(),d("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleConnectEvent: socket opened"]))));yield e.$6();d("WALogger").LOG(t||(t=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleConnectEvent: offline resume complete"])));e.$1.handleConnectionState(!0)}catch(a){d("WALogger").ERROR(u||(u=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleConnectEvent: failed to open socket: ",""])),a)}finally{e.$2=!1}});this.$1=a;this.$1.addEventListener("updateNotificationsTokenEvent",this.$3);this.$1.addEventListener("disconnectEvent",this.$4);this.$1.addEventListener("connectEvent",this.$5);this.$1.subscribe(null)}var e=a.prototype;e.$6=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield d("WAComms").waitForConnection(),d("WAWebEventsWaitForOfflineDeliveryEnd").isOfflineDeliveryEnd()||(d("WALogger").LOG(v||(v=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:waitForOfflineResume"]))),yield d("WAWebEventsWaitForOfflineDeliveryEnd").waitForOfflineDeliveryEnd())});function c(){return a.apply(this,arguments)}return c}();return a}();g.WindowsHybridBridgeConnection_v2580=a}),98);
__d("WAWebWindowsHybridBridgeContacts.v2580",["WALogger","WAWebBackendApi","WAWebContactsDbLidMigrationUtils","WAWebEventsWaitForMainStreamReadyMd","WAWebLidAwareContactsDB","WAWebSchemaContact_DO_NOT_USE_DIRECTLY","WAWebSyncBootstrap","asyncToGeneratorRuntime","filterNulls"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a,e,f){var g=this;this.$4="contacts";this.$5=new Set();this.$6=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=JSON.parse(a);if(a.length===0)return;a.forEach(function(a){return g.$5.add(a)});var b=(yield c("WAWebLidAwareContactsDB").bulkGet(a));b.forEach(function(a){return g.$5["delete"](a==null?void 0:a.id)});a=a.filter(function(a){return g.$5.has(a)});a.forEach(function(a){return g.$5["delete"](a)});void g.$1.updateContacts(a,JSON.stringify(c("filterNulls")(b)))});return function(b){return a.apply(this,arguments)}}();this.$7=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.count;a=a.includeVoipCallableOnly;try{b=(yield d("WAWebBackendApi").frontendSendAndReceive("getFrequentContacts",{count:b,includeVoipCallableOnly:a}));a=JSON.stringify(b);void g.$1.receiveFrequentContacts(a)}catch(a){void g.$1.receiveFrequentContacts(JSON.stringify([]))}});return function(b){return a.apply(this,arguments)}}();this.$1=a;this.$2=e;this.$3=f;a.addEventListener("requestUpdateEvent",this.$6);a.addEventListener("requestFrequentContactsEvent",this.$7);a.subscribe(null)}var e=a.prototype;e.initialize=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=this;c("WAWebLidAwareContactsDB").setUpdateListener(function(b){return a.$8(b)});yield c("WAWebEventsWaitForMainStreamReadyMd")();if(this.$3)return;if(c("WAWebSyncBootstrap").isSyncDBootstrapInProcess())return;this.$3=!0;try{var b=200,e=(yield d("WAWebSchemaContact_DO_NOT_USE_DIRECTLY").getContactTable().all({limit:b,offset:0}));do{var f;f=(f=e[e.length-1])==null?void 0:f.id;e=(yield d("WAWebContactsDbLidMigrationUtils").replacePnRowsWithLidData(e));yield this.$1.updateContacts([],JSON.stringify(e));e=(yield d("WAWebSchemaContact_DO_NOT_USE_DIRECTLY").getContactTable().greaterThan(["id"],f,{limit:b}))}while(e.length>0);this.$1.acknowledgeInitialSync()}catch(a){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[WinUi] setInitialData "," error ",""])),this.$4,a)}});function e(){return a.apply(this,arguments)}return e}();e.$8=function(a){var b=this;if(!this.$3)return;a=a.filter(function(a){return!b.$5.has(a)});if(a.length===0)return;a.forEach(function(a){return b.$5.add(a)});this.$2.invalidateContacts(a)};return a}();g.WindowsHybridBridgeContacts_v2580=a}),98);
__d("WAWebWindowsHybridBridgeDebugFeatures.v2580",["WALogger","WAWebBackendApi","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i=1e3;a=function(){function a(a){var b=this;this.$2=null;this.ping=function(a){var c,e=self.performance.now();c=(e-((c=b.$2)!=null?c:e)).toFixed(0);b.$2=e;d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeDebugFeatures:ping:"," diff:","ms"])),a,c);b.$1.pong(a.valueOf())};this.$1=a;(a=this.$1)==null||a.addEventListener("jsLogs",function(){b.saveJSLogs()});(a=this.$1)==null||a.addEventListener("requestWebLogStringEvent",function(a){void b.requestWebLogString(a)});(a=this.$1)==null||a.addEventListener("pingEvent",this.ping);this.$1.subscribe(null)}var c=a.prototype;c.startHangsMonitor=function(){this.$1.startHangsMonitor()};c.saveNativeLogs=function(){this.$1.saveNativeLogs()};c.requestNativeLogs=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){return this.$1.requestNativeLogs()});function c(){return a.apply(this,arguments)}return c}();c.saveJSLogs=function(){d("WAWebBackendApi").frontendFireAndForget("createDownloadDataForMdWebLogs")};c.limitStringSize=function(a,b){var c=new Blob([a],{type:"text/plain"});if(c.size>b){c=c.size-b;return a.substr(c)}return a};c.requestWebLogString=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield d("WAWebBackendApi").frontendSendAndReceive("getWebLogs"));b=this.limitStringSize(b,30*i);this.$1.sendWebLogString(a.toString(),b)});function c(b){return a.apply(this,arguments)}return c}();return a}();g.WindowsHybridBridgeDebugFeatures_v2580=a}),98);
__d("WAWebWindowsHybridBridgeLinksPreview.v2580",["asyncToGeneratorRuntime"],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=a}var c=a.prototype;c.getPreviewAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield this.$1.getPreviewAsync(a));return a==null||a===""?null:JSON.parse(a)});function c(b){return a.apply(this,arguments)}return c}();return a}();f.WindowsHybridBridgeLinksPreview_v2580=a}),66);
__d("WAWebWindowsHybridBridgeMediaFiles.v2580",[],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=a}var b=a.prototype;b.isCachedMediaFileExist=function(a,b){return this.$1.isCachedMediaFileExist(a,b)};b.tryOpenCachedMediaFile=function(a,b){return this.$1.tryOpenCachedMediaFileFile(a,b)};b.prepareForMediaFileSaving=function(a,b,c){return this.$1.prepareForMediaFileSaving(a,b,c)};b.waitTillMediaDownloadCompletes=function(a,b,c){return this.$1.waitTillMediaDownloadCompletes(a,b,c)};b.selectFolderForBulkMediaSaving=function(){return this.$1.selectFolderForBulkMediaSaving()};b.prepareForZipArchiveSavingAndUnarchiveToFolder=function(a,b,c,d){return this.$1.prepareForZipArchiveSavingAndUnarchiveToFolder(a,b,c,d)};b.requestFileSystemDirectoryHandle=function(a){return this.$1.requestFileSystemDirectoryHandle(a)};b.tryCopyCachedMediaFile=function(a){return this.$1.tryCopyCachedMediaFile(a)};b.tryCopyCachedMediaFiles=function(a){return this.$1.tryCopyCachedMediaFiles(a)};return a}();f.WAWebWindowsHybridBridgeMediaFiles_v2580=a}),66);
__d("WAWebWindowsHybridBridgeMediaTranscoder.v2580",["Promise","WALogger","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D;a=function(){function a(a,b){var c=this;this.$3=new Map();this.$4=new Map();this.$6=function(a){d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[onProgressChanged] sourceBufferId=",", percentage=",""])),a.sourceBufferId,a.percentage);var b=c.$4.get(a.sourceBufferId);b&&b(a.percentage)};this.$1=b;this.$2=a;this.$2.addEventListener("sharedbufferreceived",function(a){a=a;c.$5(a)});this.$1.addEventListener("onProgressChangedEvent",this.$6);this.$1.subscribe(null)}var e=a.prototype;e.requestSharedBufferForTranscoding=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){var f=this;d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[requestSharedBufferForTranscoding] Starting shared buffer request for requestId=",", bufferSize=",""])),a,e);var g=2*1024*1024*1024;if(e>=g){g="Buffer size "+e+" exceeds maximum allowed size of "+g+" bytes (2GB)";d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[requestSharedBufferForTranscoding] ",""])),g);throw c("err")(g)}try{g=new(D||(D=b("Promise")))(function(){var g=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,g){f.$3.set(a,b);d("WALogger").DEV(k||(k=babelHelpers.taggedTemplateLiteralLoose(["[requestSharedBufferForTranscoding] Added pending request for requestId=",""])),a);try{b=(yield f.$1.tryRequestSharedBufferForTranscodingAsync(a,e));!b?(f.$3["delete"](a),d("WALogger").ERROR(l||(l=babelHelpers.taggedTemplateLiteralLoose(["[requestSharedBufferForTranscoding] Failed to create shared buffer for requestId=",", bufferSize=",""])),a,e),g(c("err")("Failed to create shared buffer for transcoding"))):d("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["[requestSharedBufferForTranscoding] Shared buffer creation initiated successfully, waiting for buffer"])))}catch(b){f.$3["delete"](a),d("WALogger").ERROR(n||(n=babelHelpers.taggedTemplateLiteralLoose(["[requestSharedBufferForTranscoding] Error during shared buffer request: ",""])),String(b)),g(b)}});return function(a,b){return g.apply(this,arguments)}}());g=(yield g);return[g.additionalData.BufferId,g.buffer]}catch(a){d("WALogger").ERROR(o||(o=babelHelpers.taggedTemplateLiteralLoose(["[requestSharedBufferForTranscoding] Error awaiting shared buffer response: ",""])),String(a));throw a}});function e(b,c){return a.apply(this,arguments)}return e}();e.performVideoTranscodingFromSharedBuffer=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f){var g=this;d("WALogger").LOG(p||(p=babelHelpers.taggedTemplateLiteralLoose(["[performVideoTranscodingFromSharedBuffer] Starting video transcoding from sourceBufferId="," to resultBufferId="," with maxResultSize=",""])),a,e,f);var h=(yield new(D||(D=b("Promise")))(function(){var h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,h){g.$3.set(e,b);d("WALogger").DEV(q||(q=babelHelpers.taggedTemplateLiteralLoose(["[performVideoTranscodingFromSharedBuffer] Added pending request for resultBufferId=",""])),e);try{b=(yield g.$1.performVideoTranscodingFromSharedBuffer(a,e,f));!b?(g.$3["delete"](e),d("WALogger").ERROR(r||(r=babelHelpers.taggedTemplateLiteralLoose(["[performVideoTranscodingFromSharedBuffer] Video transcoding failed for sourceBufferId=",", resultBufferId="," with maxResultSize=",""])),a,e,f),h(c("err")("Video transcoding failed"))):d("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["[performVideoTranscodingFromSharedBuffer] Video transcoding initiated successfully, waiting for result buffer"])))}catch(a){g.$3["delete"](e),d("WALogger").ERROR(t||(t=babelHelpers.taggedTemplateLiteralLoose(["[performVideoTranscodingFromSharedBuffer] Error during video transcoding: ",""])),String(a)),h(a)}});return function(a,b){return h.apply(this,arguments)}}()));return[h.additionalData.BufferId,h.buffer]});function e(b,c,d){return a.apply(this,arguments)}return e}();e.getVideoPreviewFrameFromSharedBuffer=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){var f=this,g,h;d("WALogger").LOG(u||(u=babelHelpers.taggedTemplateLiteralLoose(["[getVideoPreviewFrameFromSharedBuffer] Starting video preview frame extraction from sourceBufferId="," to resultBufferId=",""])),a,e);var i=(yield new(D||(D=b("Promise")))(function(){var g=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,g){f.$3.set(e,b);d("WALogger").DEV(v||(v=babelHelpers.taggedTemplateLiteralLoose(["[getVideoPreviewFrameFromSharedBuffer] Added pending request for resultBufferId=",""])),e);try{b=(yield f.$1.getVideoPreviewFrameFromSharedBuffer(a,e));!b?(f.$3["delete"](e),d("WALogger").ERROR(w||(w=babelHelpers.taggedTemplateLiteralLoose(["[getVideoPreviewFrameFromSharedBuffer] Video preview frame extraction failed for sourceBufferId=",", resultBufferId=",""])),a,e),g(c("err")("Video preview frame extraction failed"))):d("WALogger").LOG(x||(x=babelHelpers.taggedTemplateLiteralLoose(["[getVideoPreviewFrameFromSharedBuffer] Video preview frame extraction initiated successfully, waiting for result buffer"])))}catch(a){f.$3["delete"](e),d("WALogger").ERROR(y||(y=babelHelpers.taggedTemplateLiteralLoose(["[getVideoPreviewFrameFromSharedBuffer] Error during video preview frame extraction: ",""])),String(a)),g(a)}});return function(a,b){return g.apply(this,arguments)}}()));g=(g=(g=i.additionalData)==null?void 0:g.Width)!=null?g:0;h=(h=(h=i.additionalData)==null?void 0:h.Height)!=null?h:0;return[i.additionalData.BufferId,i.buffer,g,h]});function e(b,c){return a.apply(this,arguments)}return e}();e.releaseSharedBuffer=function(a){d("WALogger").LOG(z||(z=babelHelpers.taggedTemplateLiteralLoose(["[releaseSharedBuffer] Releasing shared buffer with bufferId=",""])),a),this.$1.releaseSharedBuffer(a)};e.setProgressCallback=function(a,b){this.$4.set(a,b)};e.clearProgressCallback=function(a){this.$4["delete"](a)};e.$5=function(a){if(a.additionalData&&a.additionalData.Source==="MediaTranscodingService"){var b;b=(b=a.additionalData)==null?void 0:b.BufferId;d("WALogger").LOG(A||(A=babelHelpers.taggedTemplateLiteralLoose(["[onSharedBufferReceived] Received shared buffer for bufferId=",""])),b);if(b!=null){var c=this.$3.get(b);c?(this.$3["delete"](b),d("WALogger").DEV(B||(B=babelHelpers.taggedTemplateLiteralLoose(["[onSharedBufferReceived] Resolving pending request for bufferId=",""])),b),c({buffer:a.getBuffer(),additionalData:a.additionalData})):d("WALogger").DEV(C||(C=babelHelpers.taggedTemplateLiteralLoose(["[onSharedBufferReceived] No pending request found for bufferId=",""])),b)}}};return a}();g.WindowsHybridBridgeMediaTranscoder_v2580=a}),98);
__d("WAWebWindowsHybridBridgeNativeAppState.v2580",["$InternalEnum","WALogger","WAWebEventEmitter","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l=b("$InternalEnum")({Normal:"normal",MinimizedToTray:"minimizedToTray"});a=function(a,e){var f=this;this.$4=new(c("WAWebEventEmitter"))();this.$5=function(a){a=a.toString();var b=l.cast(a);b!=null?d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeNativeAppState:appStateChanged: ",""])),l.getName(b)):d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeNativeAppState:appStateChanged: invalid appStateId: ",""])),a);f.$3=b;f.$4.trigger("appStateChanged",f.isMinimizedToTray())};this.getAppState=function(){return f.$3};this.getEvents=function(){return f.$4};this.isMinimizedToTray=function(){return f.getAppState()===l.MinimizedToTray};this.takeAppLaunchTimeStamp=function(){return f.$2.takeAppLaunchTimeStamp()};this.getFirstAppRestoreTimeStamp=function(){return f.$2.getFirstAppRestoreTimeStamp()};this.getLastAppRestoreTimeStamp=function(){return f.$2.getLastAppRestoreTimeStamp()};this.detectNativeClockSkew=function(){return f.$2.detectNativeClockSkew(Date.now())};this.getAppStateAsync=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=f.$1.getAppState();a=a.toString();var b=l.cast(a);b!=null?d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeNativeAppState:getAppStateAsync: ",""])),l.getName(b)):d("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeNativeAppState:getAppStateAsync: invalid appState '","'"])),a);return b});this.$1=a;this.$2=e;this.$1.addEventListener("appStateChangedEvent",this.$5);this.$1.subscribe(null)};g.AppState_v2580=l;g.WindowsHybridBridgeNativeAppState_v2580=a}),98);
__d("WAWebWindowsHybridBridgePictures.v2580",["WAJids","WALogger","WAWebLidMigrationUtils","WAWebProfilePicThumbCollection","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;a=function(){function a(a){var c=this;this.$2=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=JSON.parse(a);for(a of a){var b;if(d("WAJids").validateGroupJid(a.id.toString())){var e=d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.get(a.id);(e==null?void 0:e.eurl)!==a.eurl&&c.$1.setProfilePictures(JSON.stringify([{eurl:e==null?void 0:e.eurl,id:a.id.toString()}]));continue}e=d("WAWebLidMigrationUtils").toPn(a.id);if(e==null){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[WindowsHybridBridgePictures] PN WID is null"])));continue}var f=d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.get(e);f==null&&e!=null&&(f=(yield d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.resyncPicturesByWid([e])));if(((b=f)==null?void 0:b.eurl)!==a.eurl){c.$1.setProfilePictures(JSON.stringify([{eurl:(b=f)==null?void 0:b.eurl,id:e.toString()}]));b=d("WAWebLidMigrationUtils").toLid(a.id);if(b==null){d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[WindowsHybridBridgePictures] LID WID is null for PN WID: ",""])),e);continue}c.$1.setProfilePictures(JSON.stringify([{eurl:(e=f)==null?void 0:e.eurl,id:b.toString()}]))}}});return function(b){return a.apply(this,arguments)}}();this.$1=a;a.addEventListener("verifyPictureEvent",this.$2);a.subscribe(null)}var c=a.prototype;c.notifyUpdate=function(a){if(a==null)return;if(d("WAJids").validateGroupJid(a.id.toString())){this.$1.setProfilePictures(JSON.stringify([{eurl:a.eurl,id:a.id.toString()}]));return}if(!a.id.isUser())return;var b=d("WAWebLidMigrationUtils").toPn(a.id),c=d("WAWebLidMigrationUtils").toLid(a.id);if(b==null){d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[WindowsHybridBridgePictures] PN WID is null"])));return}if(c==null){d("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["[WindowsHybridBridgePictures] LID WID is null for PN WID: ",""])),b);return}this.$1.setProfilePictures(JSON.stringify([{eurl:a.eurl,id:b.toString()}]));this.$1.setProfilePictures(JSON.stringify([{eurl:a.eurl,id:c.toString()}]))};return a}();g.WindowsHybridBridgePictures_v2580=a}),98);
__d("WAWebWindowsHybridBridgePreferences.v2580",["WAWebUserPrefsBase","WAWebUserPrefsKeys","WAWebUserPrefsLocalStorage","WAWebUserPrefsStore"],(function(a,b,c,d,e,f,g){var h="WANativePreferencesRevision";a=function(){function a(a){var b=this;this.$2=!1;this.$3=null;this.$4=new Set();this.initialize=function(){var a;if(b.$2)return;b.$4.add(String(d("WAWebUserPrefsKeys").UserPrefs.WindowsIsSystemTrayEnabled));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.SYSTEM_THEME_MODE));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.THEME));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.ME_DISPLAY_NAME));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LAST_PUSHNAME));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LID));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LAST_WID_MD));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LANG_FROM_PHONE));b.$4.add(String(d("WAWebUserPrefsKeys").UserPrefs.AbpropsWebRefreshId));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.ABPROPS_REFRESH_ID));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.ABPROPS));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LANG_FROM_USER));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.GLOBAL_MUTE_CALL_RINGTONE));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.GLOBAL_MUTE_CALL_NOTIFICATIONS));b.$4.add(String(d("WAWebUserPrefsKeys").UserPrefs.WindowsNotificationBannerSetting));b.$4.add(String(d("WAWebUserPrefsKeys").UserPrefs.WindowsTaskbarNotificationSetting));(a=b.$1)==null||a.addEventListener("everythingRequested",function(){var a=b.$5();b.$3!==a&&(b.$3=a,b.$6())});(a=b.$1)==null||a.subscribe(null);b.$2=!0};this.$1=a}var b=a.prototype;b.$5=function(){var a=c("WAWebUserPrefsStore").getUser(h),b=0;typeof a==="number"?b=a:typeof a==="string"&&(b=Number(a)||0);return b};b.$7=function(a){c("WAWebUserPrefsStore").setUser(h,a)};b.handleSettingChange=function(a,b){var c;if(!this.$4.has(a))return;var d=this.$5();(c=this.$1)==null||c.updateLocalSetting(a,JSON.stringify(b),++d);this.$7(d)};b.$6=function(){var a=this.$5(),b=[],e=[];for(var f of this.$4){var g=c("WAWebUserPrefsStore").getUser(f);if(g!=null){b.push(f);e.push(JSON.stringify(g));continue}g=d("WAWebUserPrefsBase").userPreferencesStoreBase.get(f);g!=null&&(b.push(f),e.push(JSON.stringify(g)));g=c("WAWebUserPrefsLocalStorage").getItemFromLocalStorage(f);g!=null&&(b.push(f),e.push(JSON.stringify(g)))}(g=this.$1)==null||g.updateAllLocalSettings(b,e,a)};b.clean=function(){var a;(a=this.$1)==null||a.clean()};return a}();g.WindowsHybridBridgePreferences_v2580=a}),98);
__d("WAWebWindowsHybridBridgeRateTheApp.v2580",["asyncToGeneratorRuntime"],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=a}var c=a.prototype;c.getStoreProductForCurrentApp=function(){return this.$1.getStoreProductForCurrentAppAsync()};c.requestRateAndApp=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield this.$1.requestRateAndReviewAppAsync());return JSON.parse(a)});function c(){return a.apply(this,arguments)}return c}();return a}();f.WAWebWindowsHybridBridgeRateTheApp_v2580=a}),66);
__d("WAWebWindowsHybridBridgeScalingControl.v2580",["WAWebWindowsScalingControlEventEmitter"],(function(a,b,c,d,e,f,g){a=function(){function a(a){this.$2=!1,this.$3=function(){c("WAWebWindowsScalingControlEventEmitter").trigger("requestZoomIn")},this.$4=function(){c("WAWebWindowsScalingControlEventEmitter").trigger("requestZoomOut")},this.$1=a}var b=a.prototype;b.initialize=function(){var a;if(this.$2)return;this.$2=!0;(a=this.$1)==null||a.addEventListener("zoomInRequested",this.$3);(a=this.$1)==null||a.addEventListener("zoomOutRequested",this.$4);(a=this.$1)==null||a.subscribe(null)};b.zoomIn=function(){this.$3()};b.zoomOut=function(){this.$4()};b.showScalingControl=function(a){var b;(b=this.$1)==null||b.showScalingControl(a)};return a}();g.WindowsHybridBridgeScalingControl_v2580=a}),98);
__d("WAWebWindowsHybridBridgeSeamlessMigration.v2580",["WALogger","WAWebCmd","WAWebUserPrefsMeUser","WAWebWindowsUserPrefsMigrationEventEmitter","justknobx"],(function(a,b,c,d,e,f,g){var h,i;a=function(){function a(a){var b=this;this.$2=function(a){if(!b.$3())return;d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[SeamlessMigration] Received user preferences event ",""])),a);c("WAWebWindowsUserPrefsMigrationEventEmitter").trigger("storeUserPrefs",a)};this.$1=a;(a=this.$1)==null||a.subscribe(null);(a=this.$1)==null||a.addEventListener("SendUserPreferencesEvent",this.$2);this.initialize()}var b=a.prototype;b.initialize=function(){var a=this,b=c("justknobx")._("2741"),e=c("justknobx")._("2742");d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[SeamlessMigration] RequestIsSeamlessMigrationEnabledStateRequested "," and max retries ",""])),b,e);this.$1.executeLogout(b,e);d("WAWebCmd").Cmd.on("on_initial_chat_synced",function(){if(!a.$3())return;var b=d("WAWebUserPrefsMeUser").getMaybeMeDevicePn();b!=null&&a.$1.requestUserPrefsMigration(b.toJid())})};b.$3=function(){return c("justknobx")._("303")};return a}();g.WindowsHybridBridgeSeamlessMigration_v2580=a}),98);
__d("WAWebWindowsHybridBridgeSharesheet.v2580",[],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=a}var b=a.prototype;b.shareFile=function(a,b){return this.$1.shareFile(a,b)};return a}();f.WAWebWindowsHybridBridgeSharesheet_v2580=a}),66);
__d("WAWebWindowsHybridBridgeSystemIntegrations.v2580",["WAWebEventEmitter","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){a=function(){function a(a){var b=this;this.events=new(c("WAWebEventEmitter"))();this.$2=function(a){var c=a.tag,d=a.action;a=a.additionalData;b.events.trigger("MessageNotificationAction",{key:c,action:d,additionalData:a})};this.$1=a;(a=this.$1)==null||a.addEventListener("MessageNotificationActionEvent",this.$2);(a=this.$1)==null||a.subscribe(null)}var d=a.prototype;d.closeMessageNotification=function(a,b){var c;(c=this.$1)==null||c.closeMessageNotification(a,b)};d.showMessageNotification=function(a,b,c,d,e,f,g,h,i,j,k,l){var m;(m=this.$1)==null||m.showMessageNotification(a,b!=null?b:"",c,d,e,f!=null?f:"",g,h,i!=null?i:"",j!=null?j:"",k,l)};d.isNotificationEnabledInSystem=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){return this.$1==null?!1:this.$1.isNotificationEnabledInSystem()});function c(){return a.apply(this,arguments)}return c}();d.updateTaskbarBadge=function(a){this.$1.updateTaskbarBadge(a)};d.getStartupTaskState=function(){return this.$1.getStartupTaskState()};d.updateStartupTask=function(a){this.$1.updateStartupTask(a)};d.updateCurrentWebAppScreen=function(a){this.$1.updateCurrentWebAppScreen(a)};d.playTone=function(a){this.$1.playTone(a)};return a}();g.WindowsHybridBridgeSystemIntegrations_v2580=a}),98);
__d("WAWebWindowsHybridBridgeTouchpadFix.v2580",["WAWebDebounce"],(function(a,b,c,d,e,f,g){a=function(){function a(a){var b=this;this.$2=c("WAWebDebounce")(function(a){if(a.deltaX<=0)return;a=a.target;a=a;var c=!1,d=0;while(a&&a!==document.body&&d<3){var e=self.getComputedStyle(a);if((e.overflowX==="auto"||e.overflowX==="scroll")&&a.scrollWidth>a.clientWidth){c=!0;break}e=a.parentElement;if(!e)break;a=e;d++}c||b.interruptManipulations()},500);this.$1=a}var b=a.prototype;b.interruptManipulations=function(){return this.$1.interruptManipulations()};b.init=function(){document.addEventListener("wheel",this.$2,{passive:!1})};return a}();g.WindowsHybridBridgeTouchpadFix_v2580=a}),98);
__d("WAWebWindowsHybridBridgeVoip.v2580",["WABase64","WALogger","WAWebBackendApi","WAWebSerializeVoipWapNode","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M;a=function(){function a(a,b){var c=this;this.handleVoipReady=function(){var a;d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received voip ready event"])));d("WAWebBackendApi").frontendFireAndForget("addStartingLogoutListener",function(){return c.handleSignOut()});(a=c.$3)==null||a.onVoipReady()};this.sendSignalingXmpp=function(a){var b,e=a.peerJid,f=a.callId,g=a.payload;a=a.shouldEncryptBeforeSending;d("WALogger").DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received sendSignalingXmpp event: ",", ",", ",", ",""])),e,f,g,a);(b=c.$3)==null||b.onSignalingXmpp(e,f,g,a)};this.handleCallEvent=function(a){var b,e=a.eventType,f=a.userData;a=a.eventDataJson;d("WALogger").DEV(j||(j=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received handleCallEvent event: ",", ",", ",""])),e,f,a);(b=c.$3)==null||b.onCallEvent(e,f,a)};this.requestOpenChat=function(a){var b;d("WALogger").DEV(k||(k=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received requestOpenChat event: ",""])),a);(b=c.$3)==null||b.onRequestOpenChat(a)};this.requestDeviceJidList=function(a){var b;d("WALogger").DEV(l||(l=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received requestDeviceJidList event: ",""])),a);void ((b=c.$3)==null?void 0:b.onRequestDeviceJidList(a).then(function(b){var d;(d=c.$1)==null||d.handleDeviceJidList(a.toString(),b)}))};this.requestPhoneNumberJid=function(a){var b;d("WALogger").DEV(m||(m=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received requestPhoneNumberJid event: ",""])),a);void ((b=c.$3)==null||b.onRequestPhoneNumberJid==null?void 0:b.onRequestPhoneNumberJid(a).then(function(b){var d;(d=c.$1)==null||d.handlePhoneNumberJid(a.toString(),b)}))};this.requestLidJid=function(a){var b;d("WALogger").DEV(n||(n=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received requestLidJid event: ",""])),a);void ((b=c.$3)==null||b.onRequestLidJid==null?void 0:b.onRequestLidJid(a).then(function(b){var d;(d=c.$1)==null||d.handleLidJid(a.toString(),b)}))};this.callAgain=function(a){var b,e=a.peerJid;a=a.isVideoCall;d("WALogger").DEV(o||(o=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received callAgain event: ",", ",""])),e,a);(b=c.$3)==null||b.onCallAgain(e,a)};this.handleLidCallerDisplayInfo=function(a){var b;d("WALogger").DEV(p||(p=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received handleLidCallerDisplayInfo event: ",""])),a);(b=c.$3)==null||b.onLidCallerDisplayInfo(a)};this.$1=a;this.$2=b;this.$1.addEventListener("handleVoipReadyEvent",this.handleVoipReady);this.$1.addEventListener("handleVoipCallEvent",this.handleCallEvent);this.$1.addEventListener("handleSignalingXmppEvent",this.sendSignalingXmpp);this.$1.addEventListener("handleRequestOpenChatEvent",this.requestOpenChat);this.$1.addEventListener("handleRequestDeviceJidListEvent",this.requestDeviceJidList);this.$1.addEventListener("handleRequestPhoneNumberJidEvent",this.requestPhoneNumberJid);this.$1.addEventListener("handleRequestLidJidEvent",this.requestLidJid);this.$1.addEventListener("handleCallAgainEvent",this.callAgain);this.$1.addEventListener("handleLidCallerDisplayInfoEvent",this.handleLidCallerDisplayInfo);this.$1.subscribe(null)}var c=a.prototype;c.setHandlers=function(a){this.$3=a};c.cleanup=function(){this.$1.removeEventListener!=null&&(this.$1.removeEventListener("handleVoipReadyEvent",this.handleVoipReady),this.$1.removeEventListener("handleVoipCallEvent",this.handleCallEvent),this.$1.removeEventListener("handleSignalingXmppEvent",this.sendSignalingXmpp),this.$1.removeEventListener("handleRequestOpenChatEvent",this.requestOpenChat),this.$1.removeEventListener("handleRequestDeviceJidListEvent",this.requestDeviceJidList),this.$1.removeEventListener("handleRequestPhoneNumberJidEvent",this.requestPhoneNumberJid),this.$1.removeEventListener("handleRequestLidJidEvent",this.requestLidJid),this.$1.removeEventListener("handleCallAgainEvent",this.callAgain),this.$1.removeEventListener("handleLidCallerDisplayInfo",this.handleLidCallerDisplayInfo))};c.handleIncomingSignalingOffer=function(a,b,c,e,f,g,h,i,j){d("WALogger").DEV(q||(q=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleIncomingSignalingOffer called with:"]))).devConsole(arguments),this.$2.handleIncomingSignalingOffer(d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a),b,c,e,f,g,h,i,j?d("WABase64").encodeB64(j):null)};c.handleIncomingSignalingMessage=function(a,b,c,e,f,g,h,i){this.$2.handleIncomingSignalingMessage(d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a),b,c,e,f,g,h,i?d("WABase64").encodeB64(i):null)};c.handleIncomingSignalingAck=function(a,b,c,e,f){d("WALogger").DEV(r||(r=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleIncomingSignalingAck called with:"]))).devConsole(arguments),this.$2.handleIncomingSignalingAck(d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a),b,c,e,f?d("WABase64").encodeB64(f):null)};c.handleIncomingSignalingReceipt=function(a,b,c){d("WALogger").DEV(s||(s=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleIncomingSignalingReceipt called with:"]))).devConsole(arguments),this.$2.handleIncomingSignalingReceipt(d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a),b,c?d("WABase64").encodeB64(c):null)};c.resendOfferOnDecryptionFailure=function(a,b){d("WALogger").DEV(t||(t=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] resendOfferOnDecryptionFailure called with:"]))).devConsole(arguments),this.$2.resendOfferOnDecryptionFailure(a,b)};c.resendEncRekeyRetry=function(a,b){d("WALogger").DEV(u||(u=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] resendEncRekeyRetry called with:"]))).devConsole(arguments),this.$2.resendEncRekeyRetry(a,b)};c.notifyDeviceIdentityChangedOrDeleted=function(a,b){d("WALogger").DEV(v||(v=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] notifyDeviceIdentityChangedOrDeleted called with:"]))).devConsole(arguments),this.$2.notifyDeviceIdentityChangedOrDeleted(a,b)};c.handleWebViewReady=function(){var a;d("WALogger").DEV(w||(w=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleWebViewReady called"])));(a=this.$1)==null||a.handleWebViewReady()};c.voipInit=function(a,b,c){var e;d("WALogger").DEV(x||(x=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] voipInit called with:"]))).devConsole(arguments);(e=this.$1)==null||e.voipInit(a,b,c)};c.setHideMyIp=function(a){var b;d("WALogger").DEV(y||(y=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] setHideMyIp called with:"]))).devConsole(arguments);(b=this.$1)==null||b.setHideMyIp(a)};c.setChatNameAndIcon=function(a,b,c){var e;d("WALogger").DEV(z||(z=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] setChatNameAndIcon called"])));(e=this.$1)==null||e.setChatNameAndIcon(a,b,c)};c.handleSignOut=function(){var a;d("WALogger").DEV(A||(A=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleSignOut called"])));(a=this.$1)==null||a.handleSignOut()};c.startCall=function(a,b,c,e,f,g,h,i,j,k,l){var m;d("WALogger").DEV(B||(B=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] startCall called with:"]))).devConsole(arguments);(m=this.$1)==null||m.startCall(a.toString({legacy:!0}),b,c,e,f,g,h,i?d("WABase64").encodeB64(i):null,j,k)};c.startGroupCall=function(a,b,c,e,f,g,h,i,j,k,l,m,n,o){var p;d("WALogger").DEV(C||(C=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] startGroupCall called with:"]))).devConsole(arguments);(p=this.$1)==null||p.startGroupCall(a,b,c,e,f,g,h,i,j,k,l,m,n)};c.handleDeviceJidList=function(a,b){var c;d("WALogger").DEV(D||(D=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleDeviceJidList called with:"]))).devConsole(arguments);(c=this.$1)==null||c.handleDeviceJidList(a,b)};c.previewCallLink=function(a,b,c,e,f){var g;d("WALogger").DEV(E||(E=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] previewCallLink called with:"]))).devConsole(arguments);(g=this.$1)==null||g.previewCallLink(a,b,c,e)};c.previewAndJoinCallLink=function(a,b,c,e,f){var g;d("WALogger").DEV(F||(F=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] previewAndJoinCallLink called with:"]))).devConsole(arguments);(g=this.$1)==null||g.previewAndJoinCallLink(a,b,c,e)};c.endCall=function(a,b){var c;d("WALogger").DEV(G||(G=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] endCall called with:"]))).devConsole(arguments);(c=this.$1)==null||c.endCall(a,b)};c.rejectCallWithoutCallContext=function(a,b,c,e,f,g,h){var i;d("WALogger").DEV(H||(H=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] rejectCallWithoutCallContext called with:"]))).devConsole(arguments);(i=this.$1)==null||i.rejectCallWithoutCallContext(a,b,c,e,f,g,h)};c.joinOngoingCall=function(a,b,c,e,f,g,h,i,j,k,l,m,n,o,p,q){var r;d("WALogger").DEV(I||(I=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] joinOngoingCall called with:"]))).devConsole(arguments);(r=this.$1)==null||r.joinOngoingCall(a,b,c,e,f,g,h,i,j,k,l,m,n,o,p,q)};c.inviteToCall=function(a,b,c){var e;d("WALogger").DEV(J||(J=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] inviteToCall called with:"]))).devConsole(arguments);(e=this.$1)==null||e.inviteToCall(a,b,c)};c.requestCallInfo=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WALogger").DEV(K||(K=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] requestCallInfo called with:"]))).devConsole(arguments);var a=(yield this.$1.getCallInfo()),b=a.callInfoJsonBase64,c=a.error;return{callInfoJsonBase64:b,error:c}});function c(){return a.apply(this,arguments)}return c}();c.requestObtainDevicePermissionAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("WALogger").DEV(L||(L=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] requestObtainDevicePermissionAsync called with:"]))).devConsole(arguments);var b=(yield this.$1.requestObtainDevicePermissionAsync(a)),c=b.error,e=b.permissionGranted;return{error:c,permissionGranted:e}});function c(b){return a.apply(this,arguments)}return c}();c.requestDevicesCountAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("WALogger").DEV(M||(M=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] requestDevicesCountAsync called with:"]))).devConsole(arguments);var b=(yield this.$1.getDeviceCountAsync(a)),c=b.error,e=b.deviceCount;return{error:c,deviceCount:e}});function c(b){return a.apply(this,arguments)}return c}();return a}();g.VoipWinRTBridge_v2580=a}),98);
__d("WAWebWindowsHybridBridgeWam.v2580",["Promise","WALogger","WAWebCrashContextUtils","WAWebCrashLogWamEvent","WAWebWamCodegenWamEvent","WAWebWamEnumCrashApplicationState","WAWebWamEnumCrashType"],(function(a,b,c,d,e,f,g){var h,i,j,k;a=function(a){var c=this;this.$2=!1;this.initialize=function(){var a;if(c.$2)return;(a=c.$1)==null||a.addEventListener("eventsSaved",c.handleEvents);(a=c.$1)==null||a.subscribe(null);c.$2=!0};this.handleEvents=function(a){if(!c.$2){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received handleWamEvent while bridge is not initialized"])));return}d("WALogger").DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received handleWamEvent event: ",""])),a);a=JSON.parse(a);void (k||(k=b("Promise"))).all(a.map(function(a){if(a.id===d("WAWebCrashLogWamEvent").CrashLogWamEvent.prototype.id){var b=a[6],c=a[23],e=a[3],f=a[24],g=a[2];a[3]=d("WAWebCrashContextUtils").getCrashEventAppContext(b,g);if(b===d("WAWebWamEnumCrashType").CRASH_TYPE.DISPATCHER_NOT_RESPONDING&&c===d("WAWebWamEnumCrashApplicationState").CRASH_APPLICATION_STATE.FOREGROUND){g=f!=null?f:"unknown";d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["Native ","s ANR detected: ",""])),g,e).sendLogs("hybrid-native-anr-"+g+"s",{sampling:.01})}}return new(d("WAWebWamCodegenWamEvent").RawWamEvent)(a).commitAndWaitForFlush(!0)}))};this.$1=a};g.WindowsHybridBridgeWam_v2580=a}),98);
__d("WAWebWindowsHybridBridge.v2580",["WAWebBuildConstants","WAWebWindowsHybridAppActivationBridge.v2580","WAWebWindowsHybridBridgeAbProps.v2580","WAWebWindowsHybridBridgeAdv.v2580","WAWebWindowsHybridBridgeBrowserExtensions.v2580","WAWebWindowsHybridBridgeConnection.v2580","WAWebWindowsHybridBridgeContacts.v2580","WAWebWindowsHybridBridgeDebugFeatures.v2580","WAWebWindowsHybridBridgeLinksPreview.v2580","WAWebWindowsHybridBridgeMediaFiles.v2580","WAWebWindowsHybridBridgeMediaTranscoder.v2580","WAWebWindowsHybridBridgeNativeAppState.v2580","WAWebWindowsHybridBridgePictures.v2580","WAWebWindowsHybridBridgePreferences.v2580","WAWebWindowsHybridBridgeRateTheApp.v2580","WAWebWindowsHybridBridgeScalingControl.v2580","WAWebWindowsHybridBridgeSeamlessMigration.v2580","WAWebWindowsHybridBridgeSharesheet.v2580","WAWebWindowsHybridBridgeSystemIntegrations.v2580","WAWebWindowsHybridBridgeTouchpadFix.v2580","WAWebWindowsHybridBridgeVoip.v2580","WAWebWindowsHybridBridgeWam.v2580","cr:17220"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.serverEncKeySaltBridge=null;a.hostObjects.options.defaultSyncProxy=!0;a.hostObjects.options.forceAsyncMethodMatches=[/Async$/,/AsyncWithSpeller$/];a.hostObjects.options.ignoreMemberNotFoundError=!0;var c=a.hostObjects.AbPropsBridge;c!=null&&(this.abProps=new(d("WAWebWindowsHybridBridgeAbProps.v2580").WindowsHybridBridgeAbProps_v2580)(c));c=a.hostObjects.WamBridge;c!=null&&(this.wam=new(d("WAWebWindowsHybridBridgeWam.v2580").WindowsHybridBridgeWam_v2580)(c));c=a.hostObjects.PreferencesBridge;c&&(this.$1=new(d("WAWebWindowsHybridBridgePreferences.v2580").WindowsHybridBridgePreferences_v2580)(c));c=a.hostObjects.ScalingControlBridge;c&&(this.scalingControl=new(d("WAWebWindowsHybridBridgeScalingControl.v2580").WindowsHybridBridgeScalingControl_v2580)(c));c=a.hostObjects.PicturesBridge;c&&(this.pictures=new(d("WAWebWindowsHybridBridgePictures.v2580").WindowsHybridBridgePictures_v2580)(c));c=a.hostObjects.DebugFeaturesBridge;var e=b("cr:17220")==null?void 0:b("cr:17220").debugFeaturesMock;c!=null?this.$4=new(d("WAWebWindowsHybridBridgeDebugFeatures.v2580").WindowsHybridBridgeDebugFeatures_v2580)(c):e!=null;c=a.hostObjects.VoipBridge;e=a.hostObjects.VoipSignalingBridge;c&&e&&(this.voip=new(d("WAWebWindowsHybridBridgeVoip.v2580").VoipWinRTBridge_v2580)(c,e));this.$5=new(d("WAWebWindowsHybridBridgeRateTheApp.v2580").WAWebWindowsHybridBridgeRateTheApp_v2580)(a.hostObjects.RateAppBridge);this.$3=new(d("WAWebWindowsHybridBridgeConnection.v2580").WindowsHybridBridgeConnection_v2580)(a.hostObjects.ConnectionBridge);this.$2=a.hostObjects.ClientKeyBridge;this.touchpadFix=new(d("WAWebWindowsHybridBridgeTouchpadFix.v2580").WindowsHybridBridgeTouchpadFix_v2580)(a.hostObjects.TouchpadFix);this.linksPreview=new(d("WAWebWindowsHybridBridgeLinksPreview.v2580").WindowsHybridBridgeLinksPreview_v2580)(a.hostObjects.LinksPreviewBridge);try{c=a.hostObjects.sync.PopulatedContactsBridge;e=a.hostObjects.PopulatedContactsBridge;e!=null&&(this.contacts=new(d("WAWebWindowsHybridBridgeContacts.v2580").WindowsHybridBridgeContacts_v2580)(e,c,!0))}catch(b){e=a.hostObjects.ContactsBridge;e!=null&&(this.contacts=new(d("WAWebWindowsHybridBridgeContacts.v2580").WindowsHybridBridgeContacts_v2580)(e,a.hostObjects.sync.ContactsBridge,!1))}this.sqlite=a.hostObjects.SQLiteBridge;c=a.hostObjects.MediaFilesBridge;c!=null&&(this.mediaFiles=new(d("WAWebWindowsHybridBridgeMediaFiles.v2580").WAWebWindowsHybridBridgeMediaFiles_v2580)(c));e=a.hostObjects.SharesheetBridge;e!=null&&(this.sharesheetBridge=new(d("WAWebWindowsHybridBridgeSharesheet.v2580").WAWebWindowsHybridBridgeSharesheet_v2580)(e));c=a.hostObjects.AppActivationBridge;c!=null&&(this.appActivationBridge=new(d("WAWebWindowsHybridAppActivationBridge.v2580").WindowsHybridAppActivationBridge_v2580)(c));e=a.hostObjects.NativeAppStateBridge;c=a.hostObjects.sync.NativeAppStateBridge;e!=null&&(this.nativeAppStateBridge=new(d("WAWebWindowsHybridBridgeNativeAppState.v2580").WindowsHybridBridgeNativeAppState_v2580)(e,c));e=a.hostObjects.SystemIntegrationsBridge;e&&(this.systemIntegrationsBridge=new(d("WAWebWindowsHybridBridgeSystemIntegrations.v2580").WindowsHybridBridgeSystemIntegrations_v2580)(e));c=a.hostObjects.BrowserExtensionsBridge;c&&(this.browserExtensionsBridge=new(d("WAWebWindowsHybridBridgeBrowserExtensions.v2580").WindowsHybridBridgeBrowserExtensions_v2580)(c));e=a.hostObjects.SeamlessMigrationBridge;e&&(this.seamlessMigrationBridge=new(d("WAWebWindowsHybridBridgeSeamlessMigration.v2580").WindowsHybridBridgeSeamlessMigration_v2580)(e));c=a.hostObjects.MediaTranscodingBridge;c&&(this.mediaTranscodeBridge=new(d("WAWebWindowsHybridBridgeMediaTranscoder.v2580").WindowsHybridBridgeMediaTranscoder_v2580)(a,c));this.adv=new(d("WAWebWindowsHybridBridgeAdv.v2580").WindowsHybridBridgeAdv_v2580)(a.hostObjects.AdvBridge);(e=a.hostObjects.WebUpdateBridge)==null||e.updateWebRevision(d("WAWebBuildConstants").VERSION_TERTIARY)}var c=a.prototype;c.getPreferences=function(){var a;(a=this.$1)==null||a.initialize();return this.$1};c.getScalingControl=function(){var a;(a=this.scalingControl)==null||a.initialize();return this.scalingControl};c.getRateTheApp=function(){return this.$5};c.getClientKeyBridge=function(){return this.$2};c.getDebugFeatures=function(){return this.$4};return a}();g.WindowsHybridBridge_v2580=a}),98);
__d("WAWebWindowsHybridAppActivationBridge.v2581",["WAWebApi","WAWebApiParse","WAWebExecApiCmd"],(function(a,b,c,d,e,f,g){a=function(){function a(a){this.handleAppActivationViaProtocolEvent=function(a){a=a.toString();a=d("WAWebApiParse").parseAPICmd(a);a.resultType!==d("WAWebApi").APICmd.INVALID&&c("WAWebExecApiCmd")({cmdData:a,isExternal:!0})};this.$1=a;(a=this.$1)==null||a.addEventListener("handleAppActivationViaProtocolEvent",this.handleAppActivationViaProtocolEvent);this.$1.subscribe(null)}var b=a.prototype;b.initialize=function(){};b.cleanup=function(){var a;(a=this.$1)==null||a.removeEventListener("handleAppActivationViaProtocolEvent",this.handleAppActivationViaProtocolEvent)};return a}();g.WindowsHybridAppActivationBridge_v2581=a}),98);
__d("WAWebWindowsHybridBridgeAbProps.v2581",["WALogger","WAWebABPropsCache","WAWebABPropsLocalStorage","WAWebBackendApi","WAWebHybridABProps","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h;a=function(){function a(a){var c=this;this.$2=!1;this.$4=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b;c.$3==null&&(c.$3=d("WAWebHybridABProps").getAllHybridExpoKeys());a=a.toString();b=(b=c.$3)==null?void 0:b.get(a);if(b==null){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[abprops][windows hybrid] unknown exposure key: ",""])),a);return}d("WAWebABPropsCache").saveExposure(b);c.$1.acknowledgeExposure(a)});return function(b){return a.apply(this,arguments)}}();this.$5=function(a){c.$3=null;var b=d("WAWebABPropsLocalStorage").getABKey();if(a!==b){a=d("WAWebHybridABProps").getAllHybridAbProps(!1);c.$1.setConfigs(b,JSON.stringify(a))}};this.$1=a}var c=a.prototype;c.initialize=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=this;if(this.$2)return;this.$2=!0;yield d("WAWebABPropsCache").waitForABPropConfigsReady();this.$1.addEventListener("exposureLogged",this.$4);this.$1.subscribe(null);var b=(yield this.$1.getVersion());d("WAWebBackendApi").frontendFireAndForget("addAbPropsUpdateListener",function(){a.$5(null)});this.$5(b)});function c(){return a.apply(this,arguments)}return c}();return a}();g.WindowsHybridBridgeAbProps_v2581=a}),98);
__d("WAWebWindowsHybridBridgeAdv.v2581",["WABase64","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){a=function(){function a(a){this.$1=a}var c=a.prototype;c.verifySignatureAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){b=(yield this.$1.verify(d("WABase64").encodeB64(b),d("WABase64").encodeB64(c),d("WABase64").encodeB64(a)));return b});function c(b,c,d){return a.apply(this,arguments)}return c}();return a}();g.WindowsHybridBridgeAdv_v2581=a}),98);
__d("WAWebWindowsHybridBridgeBrowserExtensions.v2581",["asyncToGeneratorRuntime"],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=a}var c=a.prototype;c.getBrowserExtensionsInfoAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield this.$1.getBrowserExtensionsInfoAsync());return JSON.parse(a)});function c(){return a.apply(this,arguments)}return c}();c.enableBrowserExtensionAsync=function(a,b){return this.$1.enableBrowserExtensionAsync(a,b)};c.removeBrowserExtensionAsync=function(a){return this.$1.removeBrowserExtensionAsync(a)};c.hasBootstrappedSuccessfully=function(){return this.$1.hasBootstrappedSuccessfully()};c.getZoomBrowserExtensionInfoAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield this.$1.getZoomBrowserExtensionInfoAsync());return JSON.parse(a)});function c(){return a.apply(this,arguments)}return c}();c.enableZoomBrowserExtensionAsync=function(a){return this.$1.enableZoomBrowserExtensionAsync(a)};c.removeZoomBrowserExtensionAsync=function(){return this.$1.removeZoomBrowserExtensionAsync()};c.installZoomBrowserExtensionAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield this.$1.installZoomBrowserExtensionAsync());return JSON.parse(a)});function c(){return a.apply(this,arguments)}return c}();return a}();f.WindowsHybridBridgeBrowserExtensions_v2581=a}),66);
__d("WAWebWindowsHybridBridgeConnection.v2581",["WAComms","WALogger","WAPromiseDelays","WAResolvable","WAWebCallCollection","WAWebEventsWaitForMainStreamReadyMd","WAWebEventsWaitForOfflineDeliveryEnd","WAWebSetWindowsPushConfig","WAWebSocketConstants","WAWebSocketModel","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v;a=function(){function a(a){var e=this;this.$2=!1;this.$3=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.data.toString();a=(a=a.channel)==null?void 0:a.toString();d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleUpdateNotificationsTokenEvent"]))).devConsole(b,a);yield c("WAWebEventsWaitForMainStreamReadyMd")();yield d("WAWebSetWindowsPushConfig").setWindowsPushConfig(b,a);e.$1.handleConnectionState(!0);e.$1.acknowledgeNotificationsToken(b,a)});return function(b){return a.apply(this,arguments)}}();this.$4=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent"])));try{var a;if(!e.$2&&(((a=d("WAComms").getComms())==null?void 0:a.socket)==null||d("WAWebSocketModel").Socket.stream===d("WAWebSocketConstants").SOCKET_STREAM.DISCONNECTED)){d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: socket already closed"])));e.$1.handleConnectionState(!1);return}yield e.$6();yield d("WAPromiseDelays").delayMs(3e4);d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: offline resume complete"])));if(c("WAWebCallCollection").activeCall!=null){d("WALogger").LOG(l||(l=babelHelpers.taggedTemplateLiteralLoose(["voip: WindowsHybridBridgeConnection:handleDisconnectEvent: awaiting active call completion"])));var b=new(d("WAResolvable").Resolvable)();a=function(){c("WAWebCallCollection").activeCall==null&&b.resolve()};c("WAWebCallCollection").on("change:activeCall",a);yield b.promise;c("WAWebCallCollection").off("change:activeCall",a);d("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["voip: WindowsHybridBridgeConnection:handleDisconnectEvent: active call completed"])))}else d("WALogger").LOG(n||(n=babelHelpers.taggedTemplateLiteralLoose(["voip: WindowsHybridBridgeConnection:handleDisconnectEvent: no active call"])));d("WAComms").closeSocketAndPause();d("WALogger").LOG(o||(o=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: socket closed"])));e.$1.handleConnectionState(!1)}catch(a){d("WALogger").ERROR(p||(p=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: failed to close socket: ",""])),a)}});this.$5=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WALogger").LOG(q||(q=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection.handleConnectEvent"])));if(e.$2){d("WALogger").LOG(r||(r=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleConnectEvent: socket already opening"])));return}try{var a;a=((a=d("WAComms").getComms())==null?void 0:a.socket)!=null;a||(e.$2=!0,d("WAComms").closeSocketAndResume(),d("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleConnectEvent: socket opened"]))));yield e.$6();d("WALogger").LOG(t||(t=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleConnectEvent: offline resume complete"])));e.$1.handleConnectionState(!0)}catch(a){d("WALogger").ERROR(u||(u=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleConnectEvent: failed to open socket: ",""])),a)}finally{e.$2=!1}});this.$1=a;this.$1.addEventListener("updateNotificationsTokenEvent",this.$3);this.$1.addEventListener("disconnectEvent",this.$4);this.$1.addEventListener("connectEvent",this.$5);this.$1.subscribe(null)}var e=a.prototype;e.$6=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield d("WAComms").waitForConnection(),d("WAWebEventsWaitForOfflineDeliveryEnd").isOfflineDeliveryEnd()||(d("WALogger").LOG(v||(v=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:waitForOfflineResume"]))),yield d("WAWebEventsWaitForOfflineDeliveryEnd").waitForOfflineDeliveryEnd())});function c(){return a.apply(this,arguments)}return c}();return a}();g.WindowsHybridBridgeConnection_v2581=a}),98);
__d("WAWebWindowsHybridBridgeContacts.v2581",["WALogger","WAWebBackendApi","WAWebContactsDbLidMigrationUtils","WAWebEventsWaitForMainStreamReadyMd","WAWebLidAwareContactsDB","WAWebSchemaContact_DO_NOT_USE_DIRECTLY","WAWebSyncBootstrap","asyncToGeneratorRuntime","filterNulls"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a,e,f){var g=this;this.$4="contacts";this.$5=new Set();this.$6=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=JSON.parse(a);if(a.length===0)return;a.forEach(function(a){return g.$5.add(a)});var b=(yield c("WAWebLidAwareContactsDB").bulkGet(a));b.forEach(function(a){return g.$5["delete"](a==null?void 0:a.id)});a=a.filter(function(a){return g.$5.has(a)});a.forEach(function(a){return g.$5["delete"](a)});void g.$1.updateContacts(a,JSON.stringify(c("filterNulls")(b)))});return function(b){return a.apply(this,arguments)}}();this.$7=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.count;a=a.includeVoipCallableOnly;try{b=(yield d("WAWebBackendApi").frontendSendAndReceive("getFrequentContacts",{count:b,includeVoipCallableOnly:a}));a=JSON.stringify(b);void g.$1.receiveFrequentContacts(a)}catch(a){void g.$1.receiveFrequentContacts(JSON.stringify([]))}});return function(b){return a.apply(this,arguments)}}();this.$1=a;this.$2=e;this.$3=f;a.addEventListener("requestUpdateEvent",this.$6);a.addEventListener("requestFrequentContactsEvent",this.$7);a.subscribe(null)}var e=a.prototype;e.initialize=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=this;c("WAWebLidAwareContactsDB").setUpdateListener(function(b){return a.$8(b)});yield c("WAWebEventsWaitForMainStreamReadyMd")();if(this.$3)return;if(c("WAWebSyncBootstrap").isSyncDBootstrapInProcess())return;this.$3=!0;try{var b=200,e=(yield d("WAWebSchemaContact_DO_NOT_USE_DIRECTLY").getContactTable().all({limit:b,offset:0}));do{var f;f=(f=e[e.length-1])==null?void 0:f.id;e=(yield d("WAWebContactsDbLidMigrationUtils").replacePnRowsWithLidData(e));yield this.$1.updateContacts([],JSON.stringify(e));e=(yield d("WAWebSchemaContact_DO_NOT_USE_DIRECTLY").getContactTable().greaterThan(["id"],f,{limit:b}))}while(e.length>0);this.$1.acknowledgeInitialSync()}catch(a){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[WinUi] setInitialData "," error ",""])),this.$4,a)}});function e(){return a.apply(this,arguments)}return e}();e.$8=function(a){var b=this;if(!this.$3)return;a=a.filter(function(a){return!b.$5.has(a)});if(a.length===0)return;a.forEach(function(a){return b.$5.add(a)});this.$2.invalidateContacts(a)};return a}();g.WindowsHybridBridgeContacts_v2581=a}),98);
__d("WAWebWindowsHybridBridgeDebugFeatures.v2581",["WALogger","WAWebBackendApi","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i=1e3;a=function(){function a(a){var b=this;this.$2=null;this.ping=function(a){var c,e=self.performance.now();c=(e-((c=b.$2)!=null?c:e)).toFixed(0);b.$2=e;d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeDebugFeatures:ping:"," diff:","ms"])),a,c);b.$1.pong(a.valueOf())};this.$1=a;(a=this.$1)==null||a.addEventListener("jsLogs",function(){b.saveJSLogs()});(a=this.$1)==null||a.addEventListener("requestWebLogStringEvent",function(a){void b.requestWebLogString(a)});(a=this.$1)==null||a.addEventListener("pingEvent",this.ping);this.$1.subscribe(null)}var c=a.prototype;c.startHangsMonitor=function(){this.$1.startHangsMonitor()};c.saveNativeLogs=function(){this.$1.saveNativeLogs()};c.requestNativeLogs=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){return this.$1.requestNativeLogs()});function c(){return a.apply(this,arguments)}return c}();c.saveJSLogs=function(){d("WAWebBackendApi").frontendFireAndForget("createDownloadDataForMdWebLogs")};c.limitStringSize=function(a,b){var c=new Blob([a],{type:"text/plain"});if(c.size>b){c=c.size-b;return a.substr(c)}return a};c.requestWebLogString=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield d("WAWebBackendApi").frontendSendAndReceive("getWebLogs"));b=this.limitStringSize(b,30*i);this.$1.sendWebLogString(a.toString(),b)});function c(b){return a.apply(this,arguments)}return c}();return a}();g.WindowsHybridBridgeDebugFeatures_v2581=a}),98);
__d("WAWebWindowsHybridBridgeLinksPreview.v2581",["asyncToGeneratorRuntime"],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=a}var c=a.prototype;c.getPreviewAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield this.$1.getPreviewAsync(a));return a==null||a===""?null:JSON.parse(a)});function c(b){return a.apply(this,arguments)}return c}();return a}();f.WindowsHybridBridgeLinksPreview_v2581=a}),66);
__d("WAWebWindowsHybridBridgeMediaFiles.v2581",[],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=a}var b=a.prototype;b.isCachedMediaFileExist=function(a,b){return this.$1.isCachedMediaFileExist(a,b)};b.tryOpenCachedMediaFile=function(a,b){return this.$1.tryOpenCachedMediaFileFile(a,b)};b.prepareForMediaFileSaving=function(a,b,c){return this.$1.prepareForMediaFileSaving(a,b,c)};b.waitTillMediaDownloadCompletes=function(a,b,c){return this.$1.waitTillMediaDownloadCompletes(a,b,c)};b.selectFolderForBulkMediaSaving=function(){return this.$1.selectFolderForBulkMediaSaving()};b.prepareForZipArchiveSavingAndUnarchiveToFolder=function(a,b,c,d){return this.$1.prepareForZipArchiveSavingAndUnarchiveToFolder(a,b,c,d)};b.requestFileSystemDirectoryHandle=function(a){return this.$1.requestFileSystemDirectoryHandle(a)};b.tryCopyCachedMediaFile=function(a){return this.$1.tryCopyCachedMediaFile(a)};b.tryCopyCachedMediaFiles=function(a){return this.$1.tryCopyCachedMediaFiles(a)};return a}();f.WAWebWindowsHybridBridgeMediaFiles_v2581=a}),66);
__d("WAWebWindowsHybridBridgeMediaTranscoder.v2581",["Promise","WALogger","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D;a=function(){function a(a,b){var c=this;this.$3=new Map();this.$4=new Map();this.$6=function(a){d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[onProgressChanged] sourceBufferId=",", percentage=",""])),a.sourceBufferId,a.percentage);var b=c.$4.get(a.sourceBufferId);b&&b(a.percentage)};this.$1=b;this.$2=a;this.$2.addEventListener("sharedbufferreceived",function(a){a=a;c.$5(a)});this.$1.addEventListener("onProgressChangedEvent",this.$6);this.$1.subscribe(null)}var e=a.prototype;e.requestSharedBufferForTranscoding=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){var f=this;d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[requestSharedBufferForTranscoding] Starting shared buffer request for requestId=",", bufferSize=",""])),a,e);var g=2*1024*1024*1024;if(e>=g){g="Buffer size "+e+" exceeds maximum allowed size of "+g+" bytes (2GB)";d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[requestSharedBufferForTranscoding] ",""])),g);throw c("err")(g)}try{g=new(D||(D=b("Promise")))(function(){var g=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,g){f.$3.set(a,b);d("WALogger").DEV(k||(k=babelHelpers.taggedTemplateLiteralLoose(["[requestSharedBufferForTranscoding] Added pending request for requestId=",""])),a);try{b=(yield f.$1.tryRequestSharedBufferForTranscodingAsync(a,e));!b?(f.$3["delete"](a),d("WALogger").ERROR(l||(l=babelHelpers.taggedTemplateLiteralLoose(["[requestSharedBufferForTranscoding] Failed to create shared buffer for requestId=",", bufferSize=",""])),a,e),g(c("err")("Failed to create shared buffer for transcoding"))):d("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["[requestSharedBufferForTranscoding] Shared buffer creation initiated successfully, waiting for buffer"])))}catch(b){f.$3["delete"](a),d("WALogger").ERROR(n||(n=babelHelpers.taggedTemplateLiteralLoose(["[requestSharedBufferForTranscoding] Error during shared buffer request: ",""])),String(b)),g(b)}});return function(a,b){return g.apply(this,arguments)}}());g=(yield g);return[g.additionalData.BufferId,g.buffer]}catch(a){d("WALogger").ERROR(o||(o=babelHelpers.taggedTemplateLiteralLoose(["[requestSharedBufferForTranscoding] Error awaiting shared buffer response: ",""])),String(a));throw a}});function e(b,c){return a.apply(this,arguments)}return e}();e.performVideoTranscodingFromSharedBuffer=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f){var g=this;d("WALogger").LOG(p||(p=babelHelpers.taggedTemplateLiteralLoose(["[performVideoTranscodingFromSharedBuffer] Starting video transcoding from sourceBufferId="," to resultBufferId="," with maxResultSize=",""])),a,e,f);var h=(yield new(D||(D=b("Promise")))(function(){var h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,h){g.$3.set(e,b);d("WALogger").DEV(q||(q=babelHelpers.taggedTemplateLiteralLoose(["[performVideoTranscodingFromSharedBuffer] Added pending request for resultBufferId=",""])),e);try{b=(yield g.$1.performVideoTranscodingFromSharedBuffer(a,e,f));!b?(g.$3["delete"](e),d("WALogger").ERROR(r||(r=babelHelpers.taggedTemplateLiteralLoose(["[performVideoTranscodingFromSharedBuffer] Video transcoding failed for sourceBufferId=",", resultBufferId="," with maxResultSize=",""])),a,e,f),h(c("err")("Video transcoding failed"))):d("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["[performVideoTranscodingFromSharedBuffer] Video transcoding initiated successfully, waiting for result buffer"])))}catch(a){g.$3["delete"](e),d("WALogger").ERROR(t||(t=babelHelpers.taggedTemplateLiteralLoose(["[performVideoTranscodingFromSharedBuffer] Error during video transcoding: ",""])),String(a)),h(a)}});return function(a,b){return h.apply(this,arguments)}}()));return[h.additionalData.BufferId,h.buffer]});function e(b,c,d){return a.apply(this,arguments)}return e}();e.getVideoPreviewFrameFromSharedBuffer=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){var f=this,g,h;d("WALogger").LOG(u||(u=babelHelpers.taggedTemplateLiteralLoose(["[getVideoPreviewFrameFromSharedBuffer] Starting video preview frame extraction from sourceBufferId="," to resultBufferId=",""])),a,e);var i=(yield new(D||(D=b("Promise")))(function(){var g=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,g){f.$3.set(e,b);d("WALogger").DEV(v||(v=babelHelpers.taggedTemplateLiteralLoose(["[getVideoPreviewFrameFromSharedBuffer] Added pending request for resultBufferId=",""])),e);try{b=(yield f.$1.getVideoPreviewFrameFromSharedBuffer(a,e));!b?(f.$3["delete"](e),d("WALogger").ERROR(w||(w=babelHelpers.taggedTemplateLiteralLoose(["[getVideoPreviewFrameFromSharedBuffer] Video preview frame extraction failed for sourceBufferId=",", resultBufferId=",""])),a,e),g(c("err")("Video preview frame extraction failed"))):d("WALogger").LOG(x||(x=babelHelpers.taggedTemplateLiteralLoose(["[getVideoPreviewFrameFromSharedBuffer] Video preview frame extraction initiated successfully, waiting for result buffer"])))}catch(a){f.$3["delete"](e),d("WALogger").ERROR(y||(y=babelHelpers.taggedTemplateLiteralLoose(["[getVideoPreviewFrameFromSharedBuffer] Error during video preview frame extraction: ",""])),String(a)),g(a)}});return function(a,b){return g.apply(this,arguments)}}()));g=(g=(g=i.additionalData)==null?void 0:g.Width)!=null?g:0;h=(h=(h=i.additionalData)==null?void 0:h.Height)!=null?h:0;return[i.additionalData.BufferId,i.buffer,g,h]});function e(b,c){return a.apply(this,arguments)}return e}();e.releaseSharedBuffer=function(a){d("WALogger").LOG(z||(z=babelHelpers.taggedTemplateLiteralLoose(["[releaseSharedBuffer] Releasing shared buffer with bufferId=",""])),a),this.$1.releaseSharedBuffer(a)};e.setProgressCallback=function(a,b){this.$4.set(a,b)};e.clearProgressCallback=function(a){this.$4["delete"](a)};e.$5=function(a){if(a.additionalData&&a.additionalData.Source==="MediaTranscodingService"){var b;b=(b=a.additionalData)==null?void 0:b.BufferId;d("WALogger").LOG(A||(A=babelHelpers.taggedTemplateLiteralLoose(["[onSharedBufferReceived] Received shared buffer for bufferId=",""])),b);if(b!=null){var c=this.$3.get(b);c?(this.$3["delete"](b),d("WALogger").DEV(B||(B=babelHelpers.taggedTemplateLiteralLoose(["[onSharedBufferReceived] Resolving pending request for bufferId=",""])),b),c({buffer:a.getBuffer(),additionalData:a.additionalData})):d("WALogger").DEV(C||(C=babelHelpers.taggedTemplateLiteralLoose(["[onSharedBufferReceived] No pending request found for bufferId=",""])),b)}}};return a}();g.WindowsHybridBridgeMediaTranscoder_v2581=a}),98);
__d("WAWebWindowsHybridBridgeNativeAppState.v2581",["$InternalEnum","WALogger","WAWebEventEmitter","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l=b("$InternalEnum")({Normal:"normal",MinimizedToTray:"minimizedToTray"});a=function(a,e){var f=this;this.$4=new(c("WAWebEventEmitter"))();this.$5=function(a){a=a.toString();var b=l.cast(a);b!=null?d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeNativeAppState:appStateChanged: ",""])),l.getName(b)):d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeNativeAppState:appStateChanged: invalid appStateId: ",""])),a);f.$3=b;f.$4.trigger("appStateChanged",f.isMinimizedToTray())};this.getAppState=function(){return f.$3};this.getEvents=function(){return f.$4};this.isMinimizedToTray=function(){return f.getAppState()===l.MinimizedToTray};this.takeAppLaunchTimeStamp=function(){return f.$2.takeAppLaunchTimeStamp()};this.getFirstAppRestoreTimeStamp=function(){return f.$2.getFirstAppRestoreTimeStamp()};this.getLastAppRestoreTimeStamp=function(){return f.$2.getLastAppRestoreTimeStamp()};this.detectNativeClockSkew=function(){return f.$2.detectNativeClockSkew(Date.now())};this.getAppStateAsync=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=f.$1.getAppState();a=a.toString();var b=l.cast(a);b!=null?d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeNativeAppState:getAppStateAsync: ",""])),l.getName(b)):d("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeNativeAppState:getAppStateAsync: invalid appState '","'"])),a);return b});this.$1=a;this.$2=e;this.$1.addEventListener("appStateChangedEvent",this.$5);this.$1.subscribe(null)};g.AppState_v2581=l;g.WindowsHybridBridgeNativeAppState_v2581=a}),98);
__d("WAWebWindowsHybridBridgePictures.v2581",["WAJids","WALogger","WAWebLidMigrationUtils","WAWebProfilePicThumbCollection","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;a=function(){function a(a){var c=this;this.$2=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=JSON.parse(a);for(a of a){var b;if(d("WAJids").validateGroupJid(a.id.toString())){var e=d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.get(a.id);(e==null?void 0:e.eurl)!==a.eurl&&c.$1.setProfilePictures(JSON.stringify([{eurl:e==null?void 0:e.eurl,id:a.id.toString()}]));continue}e=d("WAWebLidMigrationUtils").toPn(a.id);if(e==null){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[WindowsHybridBridgePictures] PN WID is null"])));continue}var f=d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.get(e);f==null&&e!=null&&(f=(yield d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.resyncPicturesByWid([e])));if(((b=f)==null?void 0:b.eurl)!==a.eurl){c.$1.setProfilePictures(JSON.stringify([{eurl:(b=f)==null?void 0:b.eurl,id:e.toString()}]));b=d("WAWebLidMigrationUtils").toLid(a.id);if(b==null){d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[WindowsHybridBridgePictures] LID WID is null for PN WID: ",""])),e);continue}c.$1.setProfilePictures(JSON.stringify([{eurl:(e=f)==null?void 0:e.eurl,id:b.toString()}]))}}});return function(b){return a.apply(this,arguments)}}();this.$1=a;a.addEventListener("verifyPictureEvent",this.$2);a.subscribe(null)}var c=a.prototype;c.notifyUpdate=function(a){if(a==null)return;if(d("WAJids").validateGroupJid(a.id.toString())){this.$1.setProfilePictures(JSON.stringify([{eurl:a.eurl,id:a.id.toString()}]));return}if(!a.id.isUser())return;var b=d("WAWebLidMigrationUtils").toPn(a.id),c=d("WAWebLidMigrationUtils").toLid(a.id);if(b==null){d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[WindowsHybridBridgePictures] PN WID is null"])));return}if(c==null){d("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["[WindowsHybridBridgePictures] LID WID is null for PN WID: ",""])),b);return}this.$1.setProfilePictures(JSON.stringify([{eurl:a.eurl,id:b.toString()}]));this.$1.setProfilePictures(JSON.stringify([{eurl:a.eurl,id:c.toString()}]))};return a}();g.WindowsHybridBridgePictures_v2581=a}),98);
__d("WAWebWindowsHybridBridgePreferences.v2581",["WAWebUserPrefsBase","WAWebUserPrefsKeys","WAWebUserPrefsLocalStorage","WAWebUserPrefsStore"],(function(a,b,c,d,e,f,g){var h="WANativePreferencesRevision";a=function(){function a(a){var b=this;this.$2=!1;this.$3=null;this.$4=new Set();this.initialize=function(){var a;if(b.$2)return;b.$4.add(String(d("WAWebUserPrefsKeys").UserPrefs.WindowsIsSystemTrayEnabled));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.SYSTEM_THEME_MODE));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.THEME));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.ME_DISPLAY_NAME));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LAST_PUSHNAME));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LID));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LAST_WID_MD));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LANG_FROM_PHONE));b.$4.add(String(d("WAWebUserPrefsKeys").UserPrefs.AbpropsWebRefreshId));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.ABPROPS_REFRESH_ID));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.ABPROPS));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LANG_FROM_USER));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.GLOBAL_MUTE_CALL_RINGTONE));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.GLOBAL_MUTE_CALL_NOTIFICATIONS));b.$4.add(String(d("WAWebUserPrefsKeys").UserPrefs.WindowsNotificationBannerSetting));b.$4.add(String(d("WAWebUserPrefsKeys").UserPrefs.WindowsTaskbarNotificationSetting));(a=b.$1)==null||a.addEventListener("everythingRequested",function(){var a=b.$5();b.$3!==a&&(b.$3=a,b.$6())});(a=b.$1)==null||a.subscribe(null);b.$2=!0};this.$1=a}var b=a.prototype;b.$5=function(){var a=c("WAWebUserPrefsStore").getUser(h),b=0;typeof a==="number"?b=a:typeof a==="string"&&(b=Number(a)||0);return b};b.$7=function(a){c("WAWebUserPrefsStore").setUser(h,a)};b.handleSettingChange=function(a,b){var c;if(!this.$4.has(a))return;var d=this.$5();(c=this.$1)==null||c.updateLocalSetting(a,JSON.stringify(b),++d);this.$7(d)};b.$6=function(){var a=this.$5(),b=[],e=[];for(var f of this.$4){var g=c("WAWebUserPrefsStore").getUser(f);if(g!=null){b.push(f);e.push(JSON.stringify(g));continue}g=d("WAWebUserPrefsBase").userPreferencesStoreBase.get(f);g!=null&&(b.push(f),e.push(JSON.stringify(g)));g=c("WAWebUserPrefsLocalStorage").getItemFromLocalStorage(f);g!=null&&(b.push(f),e.push(JSON.stringify(g)))}(g=this.$1)==null||g.updateAllLocalSettings(b,e,a)};b.clean=function(){var a;(a=this.$1)==null||a.clean()};return a}();g.WindowsHybridBridgePreferences_v2581=a}),98);
__d("WAWebWindowsHybridBridgeRateTheApp.v2581",["asyncToGeneratorRuntime"],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=a}var c=a.prototype;c.getStoreProductForCurrentApp=function(){return this.$1.getStoreProductForCurrentAppAsync()};c.requestRateAndApp=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield this.$1.requestRateAndReviewAppAsync());return JSON.parse(a)});function c(){return a.apply(this,arguments)}return c}();return a}();f.WAWebWindowsHybridBridgeRateTheApp_v2581=a}),66);
__d("WAWebWindowsHybridBridgeScalingControl.v2581",["WAWebWindowsScalingControlEventEmitter"],(function(a,b,c,d,e,f,g){a=function(){function a(a){this.$2=!1,this.$3=function(){c("WAWebWindowsScalingControlEventEmitter").trigger("requestZoomIn")},this.$4=function(){c("WAWebWindowsScalingControlEventEmitter").trigger("requestZoomOut")},this.$1=a}var b=a.prototype;b.initialize=function(){var a;if(this.$2)return;this.$2=!0;(a=this.$1)==null||a.addEventListener("zoomInRequested",this.$3);(a=this.$1)==null||a.addEventListener("zoomOutRequested",this.$4);(a=this.$1)==null||a.subscribe(null)};b.zoomIn=function(){this.$3()};b.zoomOut=function(){this.$4()};b.showScalingControl=function(a){var b;(b=this.$1)==null||b.showScalingControl(a)};return a}();g.WindowsHybridBridgeScalingControl_v2581=a}),98);
__d("WAWebWindowsHybridBridgeSeamlessMigration.v2581",["WALogger","WAWebCmd","WAWebUserPrefsMeUser","WAWebWindowsUserPrefsMigrationEventEmitter","justknobx"],(function(a,b,c,d,e,f,g){var h,i;a=function(){function a(a){var b=this;this.$2=function(a){if(!b.$3())return;d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[SeamlessMigration] Received user preferences event ",""])),a);c("WAWebWindowsUserPrefsMigrationEventEmitter").trigger("storeUserPrefs",a)};this.$1=a;(a=this.$1)==null||a.subscribe(null);(a=this.$1)==null||a.addEventListener("SendUserPreferencesEvent",this.$2);this.initialize()}var b=a.prototype;b.initialize=function(){var a=this,b=c("justknobx")._("2741"),e=c("justknobx")._("2742");d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[SeamlessMigration] RequestIsSeamlessMigrationEnabledStateRequested "," and max retries ",""])),b,e);this.$1.executeLogout(b,e);d("WAWebCmd").Cmd.on("on_initial_chat_synced",function(){if(!a.$3())return;var b=d("WAWebUserPrefsMeUser").getMaybeMeDevicePn();b!=null&&a.$1.requestUserPrefsMigration(b.toJid())})};b.$3=function(){return c("justknobx")._("303")};return a}();g.WindowsHybridBridgeSeamlessMigration_v2581=a}),98);
__d("WAWebWindowsHybridBridgeSharesheet.v2581",[],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=a}var b=a.prototype;b.shareFile=function(a,b){return this.$1.shareFile(a,b)};return a}();f.WAWebWindowsHybridBridgeSharesheet_v2581=a}),66);
__d("WAWebWindowsHybridBridgeSystemIntegrations.v2581",["WAWebEventEmitter","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){a=function(){function a(a){var b=this;this.events=new(c("WAWebEventEmitter"))();this.$2=function(a){var c=a.tag,d=a.action;a=a.additionalData;b.events.trigger("MessageNotificationAction",{key:c,action:d,additionalData:a})};this.$1=a;(a=this.$1)==null||a.addEventListener("MessageNotificationActionEvent",this.$2);(a=this.$1)==null||a.subscribe(null)}var d=a.prototype;d.closeMessageNotification=function(a,b){var c;(c=this.$1)==null||c.closeMessageNotification(a,b)};d.showMessageNotification=function(a,b,c,d,e,f,g,h,i,j,k,l){var m;(m=this.$1)==null||m.showMessageNotification(a,b!=null?b:"",c,d,e,f!=null?f:"",g,h,i!=null?i:"",j!=null?j:"",k,l)};d.isNotificationEnabledInSystem=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){return this.$1==null?!1:this.$1.isNotificationEnabledInSystem()});function c(){return a.apply(this,arguments)}return c}();d.updateTaskbarBadge=function(a){this.$1.updateTaskbarBadge(a)};d.getStartupTaskState=function(){return this.$1.getStartupTaskState()};d.updateStartupTask=function(a){this.$1.updateStartupTask(a)};d.updateCurrentWebAppScreen=function(a){this.$1.updateCurrentWebAppScreen(a)};d.playTone=function(a){this.$1.playTone(a)};return a}();g.WindowsHybridBridgeSystemIntegrations_v2581=a}),98);
__d("WAWebWindowsHybridBridgeTouchpadFix.v2581",["WAWebDebounce"],(function(a,b,c,d,e,f,g){a=function(){function a(a){var b=this;this.$2=c("WAWebDebounce")(function(a){if(a.deltaX<=0)return;a=a.target;a=a;var c=!1,d=0;while(a&&a!==document.body&&d<3){var e=self.getComputedStyle(a);if((e.overflowX==="auto"||e.overflowX==="scroll")&&a.scrollWidth>a.clientWidth){c=!0;break}e=a.parentElement;if(!e)break;a=e;d++}c||b.interruptManipulations()},500);this.$1=a}var b=a.prototype;b.interruptManipulations=function(){return this.$1.interruptManipulations()};b.init=function(){document.addEventListener("wheel",this.$2,{passive:!1})};return a}();g.WindowsHybridBridgeTouchpadFix_v2581=a}),98);
__d("WAWebWindowsHybridBridgeVoip.v2581",["WABase64","WALogger","WAWebBackendApi","WAWebSerializeVoipWapNode","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N;a=function(){function a(a,b){var c=this;this.handleVoipReady=function(){var a;d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received voip ready event"])));d("WAWebBackendApi").frontendFireAndForget("addStartingLogoutListener",function(){return c.handleSignOut()});(a=c.$3)==null||a.onVoipReady()};this.sendSignalingXmpp=function(a){var b,e=a.peerJid,f=a.callId,g=a.payload;a=a.shouldEncryptBeforeSending;d("WALogger").DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received sendSignalingXmpp event: ",", ",", ",", ",""])),e,f,g,a);(b=c.$3)==null||b.onSignalingXmpp(e,f,g,a)};this.handleCallEvent=function(a){var b,e=a.eventType,f=a.userData;a=a.eventDataJson;d("WALogger").DEV(j||(j=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received handleCallEvent event: ",", ",", ",""])),e,f,a);(b=c.$3)==null||b.onCallEvent(e,f,a)};this.requestOpenChat=function(a){var b;d("WALogger").DEV(k||(k=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received requestOpenChat event: ",""])),a);(b=c.$3)==null||b.onRequestOpenChat(a)};this.requestDeviceJidList=function(a){var b;d("WALogger").DEV(l||(l=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received requestDeviceJidList event: ",""])),a);void ((b=c.$3)==null?void 0:b.onRequestDeviceJidList(a).then(function(b){var d;(d=c.$1)==null||d.handleDeviceJidList(a.toString(),b)}))};this.requestPhoneNumberJid=function(a){var b;d("WALogger").DEV(m||(m=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received requestPhoneNumberJid event: ",""])),a);void ((b=c.$3)==null||b.onRequestPhoneNumberJid==null?void 0:b.onRequestPhoneNumberJid(a).then(function(b){var d;(d=c.$1)==null||d.handlePhoneNumberJid(a.toString(),b)}))};this.requestLidJid=function(a){var b;d("WALogger").DEV(n||(n=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received requestLidJid event: ",""])),a);void ((b=c.$3)==null||b.onRequestLidJid==null?void 0:b.onRequestLidJid(a).then(function(b){var d;(d=c.$1)==null||d.handleLidJid(a.toString(),b)}))};this.callAgain=function(a){var b,e=a.peerJid;a=a.isVideoCall;d("WALogger").DEV(o||(o=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received callAgain event: ",", ",""])),e,a);(b=c.$3)==null||b.onCallAgain(e,a)};this.handleLidCallerDisplayInfo=function(a){var b;d("WALogger").DEV(p||(p=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received handleLidCallerDisplayInfo event: ",""])),a);(b=c.$3)==null||b.onLidCallerDisplayInfo(a)};this.$1=a;this.$2=b;this.$1.addEventListener("handleVoipReadyEvent",this.handleVoipReady);this.$1.addEventListener("handleVoipCallEvent",this.handleCallEvent);this.$1.addEventListener("handleSignalingXmppEvent",this.sendSignalingXmpp);this.$1.addEventListener("handleRequestOpenChatEvent",this.requestOpenChat);this.$1.addEventListener("handleRequestDeviceJidListEvent",this.requestDeviceJidList);this.$1.addEventListener("handleRequestPhoneNumberJidEvent",this.requestPhoneNumberJid);this.$1.addEventListener("handleRequestLidJidEvent",this.requestLidJid);this.$1.addEventListener("handleCallAgainEvent",this.callAgain);this.$1.addEventListener("handleLidCallerDisplayInfoEvent",this.handleLidCallerDisplayInfo);this.$1.subscribe(null)}var c=a.prototype;c.setHandlers=function(a){this.$3=a};c.cleanup=function(){this.$1.removeEventListener!=null&&(this.$1.removeEventListener("handleVoipReadyEvent",this.handleVoipReady),this.$1.removeEventListener("handleVoipCallEvent",this.handleCallEvent),this.$1.removeEventListener("handleSignalingXmppEvent",this.sendSignalingXmpp),this.$1.removeEventListener("handleRequestOpenChatEvent",this.requestOpenChat),this.$1.removeEventListener("handleRequestDeviceJidListEvent",this.requestDeviceJidList),this.$1.removeEventListener("handleRequestPhoneNumberJidEvent",this.requestPhoneNumberJid),this.$1.removeEventListener("handleRequestLidJidEvent",this.requestLidJid),this.$1.removeEventListener("handleCallAgainEvent",this.callAgain),this.$1.removeEventListener("handleLidCallerDisplayInfo",this.handleLidCallerDisplayInfo))};c.handleIncomingSignalingOffer=function(a,b,c,e,f,g,h,i,j){d("WALogger").DEV(q||(q=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleIncomingSignalingOffer called with:"]))).devConsole(arguments),this.$2.handleIncomingSignalingOffer(d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a),b,c,e,f,g,h,i,j?d("WABase64").encodeB64(j):null)};c.handleIncomingSignalingMessage=function(a,b,c,e,f,g,h,i){this.$2.handleIncomingSignalingMessage(d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a),b,c,e,f,g,h,i?d("WABase64").encodeB64(i):null)};c.handleIncomingSignalingAck=function(a,b,c,e,f){d("WALogger").DEV(r||(r=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleIncomingSignalingAck called with:"]))).devConsole(arguments),this.$2.handleIncomingSignalingAck(d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a),b,c,e,f?d("WABase64").encodeB64(f):null)};c.handleIncomingSignalingReceipt=function(a,b,c){d("WALogger").DEV(s||(s=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleIncomingSignalingReceipt called with:"]))).devConsole(arguments),this.$2.handleIncomingSignalingReceipt(d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a),b,c?d("WABase64").encodeB64(c):null)};c.resendOfferOnDecryptionFailure=function(a,b){d("WALogger").DEV(t||(t=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] resendOfferOnDecryptionFailure called with:"]))).devConsole(arguments),this.$2.resendOfferOnDecryptionFailure(a,b)};c.resendEncRekeyRetry=function(a,b){d("WALogger").DEV(u||(u=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] resendEncRekeyRetry called with:"]))).devConsole(arguments),this.$2.resendEncRekeyRetry(a,b)};c.notifyDeviceIdentityChangedOrDeleted=function(a,b){d("WALogger").DEV(v||(v=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] notifyDeviceIdentityChangedOrDeleted called with:"]))).devConsole(arguments),this.$2.notifyDeviceIdentityChangedOrDeleted(a,b)};c.handleWebViewReady=function(){var a;d("WALogger").DEV(w||(w=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleWebViewReady called"])));(a=this.$1)==null||a.handleWebViewReady()};c.voipInit=function(a,b,c){var e;d("WALogger").DEV(x||(x=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] voipInit called with:"]))).devConsole(arguments);(e=this.$1)==null||e.voipInit(a,b,c)};c.setHideMyIp=function(a){var b;d("WALogger").DEV(y||(y=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] setHideMyIp called with:"]))).devConsole(arguments);(b=this.$1)==null||b.setHideMyIp(a)};c.setChatNameAndIcon=function(a,b,c){var e;d("WALogger").DEV(z||(z=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] setChatNameAndIcon called"])));(e=this.$1)==null||e.setChatNameAndIcon(a,b,c)};c.handleSignOut=function(){var a;d("WALogger").DEV(A||(A=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleSignOut called"])));(a=this.$1)==null||a.handleSignOut()};c.startCall=function(a,b,c,e,f,g,h,i,j,k,l){var m;d("WALogger").DEV(B||(B=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] startCall called with:"]))).devConsole(arguments);(m=this.$1)==null||m.startCall(a.toString({legacy:!0}),b,c,e,f,g,h,i?d("WABase64").encodeB64(i):null,j,k,l)};c.startGroupCall=function(a,b,c,e,f,g,h,i,j,k,l,m,n){var o;d("WALogger").DEV(C||(C=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] startGroupCall called with:"]))).devConsole(arguments);(o=this.$1)==null||o.startGroupCall(a,b,c,e,f,g,h,i,j,k,l,m,n)};c.handleDeviceJidList=function(a,b){var c;d("WALogger").DEV(D||(D=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleDeviceJidList called with:"]))).devConsole(arguments);(c=this.$1)==null||c.handleDeviceJidList(a,b)};c.previewCallLink=function(a,b,c,e,f){var g;d("WALogger").DEV(E||(E=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] previewCallLink called with:"]))).devConsole(arguments);(g=this.$1)==null||g.previewCallLink(a,b,c,e)};c.previewAndJoinCallLink=function(a,b,c,e,f){var g;d("WALogger").DEV(F||(F=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] previewAndJoinCallLink called with:"]))).devConsole(arguments);(g=this.$1)==null||g.previewAndJoinCallLink(a,b,c,e)};c.endCall=function(a,b){var c;d("WALogger").DEV(G||(G=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] endCall called with:"]))).devConsole(arguments);(c=this.$1)==null||c.endCall(a,b)};c.rejectCallWithoutCallContext=function(a,b,c,e,f,g,h){var i;d("WALogger").DEV(H||(H=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] rejectCallWithoutCallContext called with:"]))).devConsole(arguments);(i=this.$1)==null||i.rejectCallWithoutCallContext(a,b,c,e,f,g,h)};c.joinOngoingCall=function(a,b,c,e,f,g,h,i,j,k,l,m,n,o,p,q){var r;d("WALogger").DEV(I||(I=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] joinOngoingCall called with:"]))).devConsole(arguments);(r=this.$1)==null||r.joinOngoingCall(a,b,c,e,f,g,h,i,j,k,l,m,n,o,p,q)};c.inviteToCall=function(a,b,c){var e;d("WALogger").DEV(J||(J=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] inviteToCall called with:"]))).devConsole(arguments);(e=this.$1)==null||e.inviteToCall(a,b,c)};c.simulateNativeAnr=function(a,b){var c;d("WALogger").DEV(K||(K=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] simulateNativeAnr called with:"]))).devConsole(arguments);(c=this.$1)==null||c.simulateNativeAnr(a,b)};c.requestCallInfo=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WALogger").DEV(L||(L=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] requestCallInfo called with:"]))).devConsole(arguments);var a=(yield this.$1.getCallInfo()),b=a.callInfoJsonBase64,c=a.error;return{callInfoJsonBase64:b,error:c}});function c(){return a.apply(this,arguments)}return c}();c.requestObtainDevicePermissionAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("WALogger").DEV(M||(M=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] requestObtainDevicePermissionAsync called with:"]))).devConsole(arguments);var b=(yield this.$1.requestObtainDevicePermissionAsync(a)),c=b.error,e=b.permissionGranted;return{error:c,permissionGranted:e}});function c(b){return a.apply(this,arguments)}return c}();c.requestDevicesCountAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("WALogger").DEV(N||(N=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] requestDevicesCountAsync called with:"]))).devConsole(arguments);var b=(yield this.$1.getDeviceCountAsync(a)),c=b.error,e=b.deviceCount;return{error:c,deviceCount:e}});function c(b){return a.apply(this,arguments)}return c}();return a}();g.VoipWinRTBridge_v2581=a}),98);
__d("WAWebWindowsHybridBridgeWam.v2581",["Promise","WALogger","WAWebCrashContextUtils","WAWebCrashLogWamEvent","WAWebWamCodegenWamEvent","WAWebWamEnumCrashApplicationState","WAWebWamEnumCrashType"],(function(a,b,c,d,e,f,g){var h,i,j,k;a=function(a){var c=this;this.$2=!1;this.initialize=function(){var a;if(c.$2)return;(a=c.$1)==null||a.addEventListener("eventsSaved",c.handleEvents);(a=c.$1)==null||a.subscribe(null);c.$2=!0};this.handleEvents=function(a){if(!c.$2){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received handleWamEvent while bridge is not initialized"])));return}d("WALogger").DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received handleWamEvent event: ",""])),a);a=JSON.parse(a);void (k||(k=b("Promise"))).all(a.map(function(a){if(a.id===d("WAWebCrashLogWamEvent").CrashLogWamEvent.prototype.id){var b=a[6],c=a[23],e=a[3],f=a[24],g=a[2];a[3]=d("WAWebCrashContextUtils").getCrashEventAppContext(b,g);if(b===d("WAWebWamEnumCrashType").CRASH_TYPE.DISPATCHER_NOT_RESPONDING&&c===d("WAWebWamEnumCrashApplicationState").CRASH_APPLICATION_STATE.FOREGROUND){g=f!=null?f:"unknown";d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["Native ","s ANR detected: ",""])),g,e).sendLogs("hybrid-native-anr-"+g+"s",{sampling:.01})}}return new(d("WAWebWamCodegenWamEvent").RawWamEvent)(a).commitAndWaitForFlush(!0)}))};this.$1=a};g.WindowsHybridBridgeWam_v2581=a}),98);
__d("WAWebWindowsHybridBridge.v2581",["WAWebBuildConstants","WAWebWindowsHybridAppActivationBridge.v2581","WAWebWindowsHybridBridgeAbProps.v2581","WAWebWindowsHybridBridgeAdv.v2581","WAWebWindowsHybridBridgeBrowserExtensions.v2581","WAWebWindowsHybridBridgeConnection.v2581","WAWebWindowsHybridBridgeContacts.v2581","WAWebWindowsHybridBridgeDebugFeatures.v2581","WAWebWindowsHybridBridgeLinksPreview.v2581","WAWebWindowsHybridBridgeMediaFiles.v2581","WAWebWindowsHybridBridgeMediaTranscoder.v2581","WAWebWindowsHybridBridgeNativeAppState.v2581","WAWebWindowsHybridBridgePictures.v2581","WAWebWindowsHybridBridgePreferences.v2581","WAWebWindowsHybridBridgeRateTheApp.v2581","WAWebWindowsHybridBridgeScalingControl.v2581","WAWebWindowsHybridBridgeSeamlessMigration.v2581","WAWebWindowsHybridBridgeSharesheet.v2581","WAWebWindowsHybridBridgeSystemIntegrations.v2581","WAWebWindowsHybridBridgeTouchpadFix.v2581","WAWebWindowsHybridBridgeVoip.v2581","WAWebWindowsHybridBridgeWam.v2581","cr:17220"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.serverEncKeySaltBridge=null;a.hostObjects.options.defaultSyncProxy=!0;a.hostObjects.options.forceAsyncMethodMatches=[/Async$/,/AsyncWithSpeller$/];a.hostObjects.options.ignoreMemberNotFoundError=!0;var c=a.hostObjects.AbPropsBridge;c!=null&&(this.abProps=new(d("WAWebWindowsHybridBridgeAbProps.v2581").WindowsHybridBridgeAbProps_v2581)(c));c=a.hostObjects.WamBridge;c!=null&&(this.wam=new(d("WAWebWindowsHybridBridgeWam.v2581").WindowsHybridBridgeWam_v2581)(c));c=a.hostObjects.PreferencesBridge;c&&(this.$1=new(d("WAWebWindowsHybridBridgePreferences.v2581").WindowsHybridBridgePreferences_v2581)(c));c=a.hostObjects.ScalingControlBridge;c&&(this.scalingControl=new(d("WAWebWindowsHybridBridgeScalingControl.v2581").WindowsHybridBridgeScalingControl_v2581)(c));c=a.hostObjects.PicturesBridge;c&&(this.pictures=new(d("WAWebWindowsHybridBridgePictures.v2581").WindowsHybridBridgePictures_v2581)(c));c=a.hostObjects.DebugFeaturesBridge;var e=b("cr:17220")==null?void 0:b("cr:17220").debugFeaturesMock;c!=null?this.$4=new(d("WAWebWindowsHybridBridgeDebugFeatures.v2581").WindowsHybridBridgeDebugFeatures_v2581)(c):e!=null;c=a.hostObjects.VoipBridge;e=a.hostObjects.VoipSignalingBridge;c&&e&&(this.voip=new(d("WAWebWindowsHybridBridgeVoip.v2581").VoipWinRTBridge_v2581)(c,e));this.$5=new(d("WAWebWindowsHybridBridgeRateTheApp.v2581").WAWebWindowsHybridBridgeRateTheApp_v2581)(a.hostObjects.RateAppBridge);this.$3=new(d("WAWebWindowsHybridBridgeConnection.v2581").WindowsHybridBridgeConnection_v2581)(a.hostObjects.ConnectionBridge);this.$2=a.hostObjects.ClientKeyBridge;this.touchpadFix=new(d("WAWebWindowsHybridBridgeTouchpadFix.v2581").WindowsHybridBridgeTouchpadFix_v2581)(a.hostObjects.TouchpadFix);this.linksPreview=new(d("WAWebWindowsHybridBridgeLinksPreview.v2581").WindowsHybridBridgeLinksPreview_v2581)(a.hostObjects.LinksPreviewBridge);try{c=a.hostObjects.sync.PopulatedContactsBridge;e=a.hostObjects.PopulatedContactsBridge;e!=null&&(this.contacts=new(d("WAWebWindowsHybridBridgeContacts.v2581").WindowsHybridBridgeContacts_v2581)(e,c,!0))}catch(b){e=a.hostObjects.ContactsBridge;e!=null&&(this.contacts=new(d("WAWebWindowsHybridBridgeContacts.v2581").WindowsHybridBridgeContacts_v2581)(e,a.hostObjects.sync.ContactsBridge,!1))}this.sqlite=a.hostObjects.SQLiteBridge;c=a.hostObjects.MediaFilesBridge;c!=null&&(this.mediaFiles=new(d("WAWebWindowsHybridBridgeMediaFiles.v2581").WAWebWindowsHybridBridgeMediaFiles_v2581)(c));e=a.hostObjects.SharesheetBridge;e!=null&&(this.sharesheetBridge=new(d("WAWebWindowsHybridBridgeSharesheet.v2581").WAWebWindowsHybridBridgeSharesheet_v2581)(e));c=a.hostObjects.AppActivationBridge;c!=null&&(this.appActivationBridge=new(d("WAWebWindowsHybridAppActivationBridge.v2581").WindowsHybridAppActivationBridge_v2581)(c));e=a.hostObjects.NativeAppStateBridge;c=a.hostObjects.sync.NativeAppStateBridge;e!=null&&(this.nativeAppStateBridge=new(d("WAWebWindowsHybridBridgeNativeAppState.v2581").WindowsHybridBridgeNativeAppState_v2581)(e,c));e=a.hostObjects.SystemIntegrationsBridge;e&&(this.systemIntegrationsBridge=new(d("WAWebWindowsHybridBridgeSystemIntegrations.v2581").WindowsHybridBridgeSystemIntegrations_v2581)(e));c=a.hostObjects.BrowserExtensionsBridge;c&&(this.browserExtensionsBridge=new(d("WAWebWindowsHybridBridgeBrowserExtensions.v2581").WindowsHybridBridgeBrowserExtensions_v2581)(c));e=a.hostObjects.SeamlessMigrationBridge;e&&(this.seamlessMigrationBridge=new(d("WAWebWindowsHybridBridgeSeamlessMigration.v2581").WindowsHybridBridgeSeamlessMigration_v2581)(e));c=a.hostObjects.MediaTranscodingBridge;c&&(this.mediaTranscodeBridge=new(d("WAWebWindowsHybridBridgeMediaTranscoder.v2581").WindowsHybridBridgeMediaTranscoder_v2581)(a,c));this.adv=new(d("WAWebWindowsHybridBridgeAdv.v2581").WindowsHybridBridgeAdv_v2581)(a.hostObjects.AdvBridge);(e=a.hostObjects.WebUpdateBridge)==null||e.updateWebRevision(d("WAWebBuildConstants").VERSION_TERTIARY)}var c=a.prototype;c.getPreferences=function(){var a;(a=this.$1)==null||a.initialize();return this.$1};c.getScalingControl=function(){var a;(a=this.scalingControl)==null||a.initialize();return this.scalingControl};c.getRateTheApp=function(){return this.$5};c.getClientKeyBridge=function(){return this.$2};c.getDebugFeatures=function(){return this.$4};return a}();g.WindowsHybridBridge_v2581=a}),98);
__d("WAWebWindowsHybridAppActivationBridge.v2582",["WAWebApi","WAWebApiParse","WAWebExecApiCmd"],(function(a,b,c,d,e,f,g){a=function(){function a(a){var b=this;this.initialize=function(){var a;(a=b.$1)==null||a.addEventListener("handleAppActivationViaProtocolEvent",b.handleAppActivationViaProtocolEvent);b.$1.subscribe(null)};this.handleAppActivationViaProtocolEvent=function(a){a=a.toString();a=d("WAWebApiParse").parseAPICmd(a);a.resultType!==d("WAWebApi").APICmd.INVALID&&c("WAWebExecApiCmd")({cmdData:a,isExternal:!0})};this.$1=a}var b=a.prototype;b.cleanup=function(){var a;(a=this.$1)==null||a.removeEventListener("handleAppActivationViaProtocolEvent",this.handleAppActivationViaProtocolEvent)};return a}();g.WindowsHybridAppActivationBridge_v2582=a}),98);
__d("WAWebWindowsHybridBridgeAbProps.v2582",["WALogger","WAWebABPropsCache","WAWebABPropsLocalStorage","WAWebBackendApi","WAWebHybridABProps","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h;a=function(){function a(a){var c=this;this.$2=!1;this.$4=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b;c.$3==null&&(c.$3=d("WAWebHybridABProps").getAllHybridExpoKeys());a=a.toString();b=(b=c.$3)==null?void 0:b.get(a);if(b==null){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[abprops][windows hybrid] unknown exposure key: ",""])),a);return}d("WAWebABPropsCache").saveExposure(b);c.$1.acknowledgeExposure(a)});return function(b){return a.apply(this,arguments)}}();this.$5=function(a){c.$3=null;var b=d("WAWebABPropsLocalStorage").getABKey();if(a!==b){a=d("WAWebHybridABProps").getAllHybridAbProps(!1);c.$1.setConfigs(b,JSON.stringify(a))}};this.$1=a}var c=a.prototype;c.initialize=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=this;if(this.$2)return;this.$2=!0;yield d("WAWebABPropsCache").waitForABPropConfigsReady();this.$1.addEventListener("exposureLogged",this.$4);this.$1.subscribe(null);var b=(yield this.$1.getVersion());d("WAWebBackendApi").frontendFireAndForget("addAbPropsUpdateListener",function(){a.$5(null)});this.$5(b)});function c(){return a.apply(this,arguments)}return c}();return a}();g.WindowsHybridBridgeAbProps_v2582=a}),98);
__d("WAWebWindowsHybridBridgeAdv.v2582",["WABase64","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){a=function(){function a(a){this.$1=a}var c=a.prototype;c.verifySignatureAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){b=(yield this.$1.verify(d("WABase64").encodeB64(b),d("WABase64").encodeB64(c),d("WABase64").encodeB64(a)));return b});function c(b,c,d){return a.apply(this,arguments)}return c}();return a}();g.WindowsHybridBridgeAdv_v2582=a}),98);
__d("WAWebWindowsHybridBridgeBrowserExtensions.v2582",["asyncToGeneratorRuntime"],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=a}var c=a.prototype;c.getBrowserExtensionsInfoAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield this.$1.getBrowserExtensionsInfoAsync());return JSON.parse(a)});function c(){return a.apply(this,arguments)}return c}();c.enableBrowserExtensionAsync=function(a,b){return this.$1.enableBrowserExtensionAsync(a,b)};c.removeBrowserExtensionAsync=function(a){return this.$1.removeBrowserExtensionAsync(a)};c.hasBootstrappedSuccessfully=function(){return this.$1.hasBootstrappedSuccessfully()};c.getZoomBrowserExtensionInfoAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield this.$1.getZoomBrowserExtensionInfoAsync());return JSON.parse(a)});function c(){return a.apply(this,arguments)}return c}();c.enableZoomBrowserExtensionAsync=function(a){return this.$1.enableZoomBrowserExtensionAsync(a)};c.removeZoomBrowserExtensionAsync=function(){return this.$1.removeZoomBrowserExtensionAsync()};c.installZoomBrowserExtensionAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield this.$1.installZoomBrowserExtensionAsync());return JSON.parse(a)});function c(){return a.apply(this,arguments)}return c}();return a}();f.WindowsHybridBridgeBrowserExtensions_v2582=a}),66);
__d("WAWebWindowsHybridBridgeConnection.v2582",["WAComms","WALogger","WAPromiseDelays","WAResolvable","WAWebCallCollection","WAWebEventsWaitForMainStreamReadyMd","WAWebEventsWaitForOfflineDeliveryEnd","WAWebSetWindowsPushConfig","WAWebSocketConstants","WAWebSocketModel","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v;a=function(){function a(a){var e=this;this.$2=!1;this.$3=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.data.toString();a=(a=a.channel)==null?void 0:a.toString();d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleUpdateNotificationsTokenEvent"]))).devConsole(b,a);yield c("WAWebEventsWaitForMainStreamReadyMd")();yield d("WAWebSetWindowsPushConfig").setWindowsPushConfig(b,a);e.$1.handleConnectionState(!0);e.$1.acknowledgeNotificationsToken(b,a)});return function(b){return a.apply(this,arguments)}}();this.$4=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent"])));try{var a;if(!e.$2&&(((a=d("WAComms").getComms())==null?void 0:a.socket)==null||d("WAWebSocketModel").Socket.stream===d("WAWebSocketConstants").SOCKET_STREAM.DISCONNECTED)){d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: socket already closed"])));e.$1.handleConnectionState(!1);return}yield e.$6();yield d("WAPromiseDelays").delayMs(3e4);d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: offline resume complete"])));if(c("WAWebCallCollection").activeCall!=null){d("WALogger").LOG(l||(l=babelHelpers.taggedTemplateLiteralLoose(["voip: WindowsHybridBridgeConnection:handleDisconnectEvent: awaiting active call completion"])));var b=new(d("WAResolvable").Resolvable)();a=function(){c("WAWebCallCollection").activeCall==null&&b.resolve()};c("WAWebCallCollection").on("change:activeCall",a);yield b.promise;c("WAWebCallCollection").off("change:activeCall",a);d("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["voip: WindowsHybridBridgeConnection:handleDisconnectEvent: active call completed"])))}else d("WALogger").LOG(n||(n=babelHelpers.taggedTemplateLiteralLoose(["voip: WindowsHybridBridgeConnection:handleDisconnectEvent: no active call"])));d("WAComms").closeSocketAndPause();d("WALogger").LOG(o||(o=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: socket closed"])));e.$1.handleConnectionState(!1)}catch(a){d("WALogger").ERROR(p||(p=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: failed to close socket: ",""])),a)}});this.$5=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WALogger").LOG(q||(q=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection.handleConnectEvent"])));if(e.$2){d("WALogger").LOG(r||(r=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleConnectEvent: socket already opening"])));return}try{var a;a=((a=d("WAComms").getComms())==null?void 0:a.socket)!=null;a||(e.$2=!0,d("WAComms").closeSocketAndResume(),d("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleConnectEvent: socket opened"]))));yield e.$6();d("WALogger").LOG(t||(t=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleConnectEvent: offline resume complete"])));e.$1.handleConnectionState(!0)}catch(a){d("WALogger").ERROR(u||(u=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleConnectEvent: failed to open socket: ",""])),a)}finally{e.$2=!1}});this.$1=a;this.$1.addEventListener("updateNotificationsTokenEvent",this.$3);this.$1.addEventListener("disconnectEvent",this.$4);this.$1.addEventListener("connectEvent",this.$5);this.$1.subscribe(null)}var e=a.prototype;e.$6=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield d("WAComms").waitForConnection(),d("WAWebEventsWaitForOfflineDeliveryEnd").isOfflineDeliveryEnd()||(d("WALogger").LOG(v||(v=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:waitForOfflineResume"]))),yield d("WAWebEventsWaitForOfflineDeliveryEnd").waitForOfflineDeliveryEnd())});function c(){return a.apply(this,arguments)}return c}();return a}();g.WindowsHybridBridgeConnection_v2582=a}),98);
__d("WAWebWindowsHybridBridgeContacts.v2582",["WALogger","WAWebBackendApi","WAWebContactsDbLidMigrationUtils","WAWebEventsWaitForMainStreamReadyMd","WAWebLidAwareContactsDB","WAWebSchemaContact_DO_NOT_USE_DIRECTLY","WAWebSyncBootstrap","asyncToGeneratorRuntime","filterNulls"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a,e,f){var g=this;this.$4="contacts";this.$5=new Set();this.$6=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=JSON.parse(a);if(a.length===0)return;a.forEach(function(a){return g.$5.add(a)});var b=(yield c("WAWebLidAwareContactsDB").bulkGet(a));b.forEach(function(a){return g.$5["delete"](a==null?void 0:a.id)});a=a.filter(function(a){return g.$5.has(a)});a.forEach(function(a){return g.$5["delete"](a)});void g.$1.updateContacts(a,JSON.stringify(c("filterNulls")(b)))});return function(b){return a.apply(this,arguments)}}();this.$7=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.count;a=a.includeVoipCallableOnly;try{b=(yield d("WAWebBackendApi").frontendSendAndReceive("getFrequentContacts",{count:b,includeVoipCallableOnly:a}));a=JSON.stringify(b);void g.$1.receiveFrequentContacts(a)}catch(a){void g.$1.receiveFrequentContacts(JSON.stringify([]))}});return function(b){return a.apply(this,arguments)}}();this.$1=a;this.$2=e;this.$3=f;a.addEventListener("requestUpdateEvent",this.$6);a.addEventListener("requestFrequentContactsEvent",this.$7);a.subscribe(null)}var e=a.prototype;e.initialize=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=this;c("WAWebLidAwareContactsDB").setUpdateListener(function(b){return a.$8(b)});yield c("WAWebEventsWaitForMainStreamReadyMd")();if(this.$3)return;if(c("WAWebSyncBootstrap").isSyncDBootstrapInProcess())return;this.$3=!0;try{var b=200,e=(yield d("WAWebSchemaContact_DO_NOT_USE_DIRECTLY").getContactTable().all({limit:b,offset:0}));do{var f;f=(f=e[e.length-1])==null?void 0:f.id;e=(yield d("WAWebContactsDbLidMigrationUtils").replacePnRowsWithLidData(e));yield this.$1.updateContacts([],JSON.stringify(e));e=(yield d("WAWebSchemaContact_DO_NOT_USE_DIRECTLY").getContactTable().greaterThan(["id"],f,{limit:b}))}while(e.length>0);this.$1.acknowledgeInitialSync()}catch(a){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[WinUi] setInitialData "," error ",""])),this.$4,a)}});function e(){return a.apply(this,arguments)}return e}();e.$8=function(a){var b=this;if(!this.$3)return;a=a.filter(function(a){return!b.$5.has(a)});if(a.length===0)return;a.forEach(function(a){return b.$5.add(a)});this.$2.invalidateContacts(a)};return a}();g.WindowsHybridBridgeContacts_v2582=a}),98);
__d("WAWebWindowsHybridBridgeDebugFeatures.v2582",["WALogger","WAWebBackendApi","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i=1e3;a=function(){function a(a){var b=this;this.$2=null;this.ping=function(a){var c,e=self.performance.now();c=(e-((c=b.$2)!=null?c:e)).toFixed(0);b.$2=e;d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeDebugFeatures:ping:"," diff:","ms"])),a,c);b.$1.pong(a.valueOf())};this.$1=a;(a=this.$1)==null||a.addEventListener("jsLogs",function(){b.saveJSLogs()});(a=this.$1)==null||a.addEventListener("requestWebLogStringEvent",function(a){void b.requestWebLogString(a)});(a=this.$1)==null||a.addEventListener("pingEvent",this.ping);this.$1.subscribe(null)}var c=a.prototype;c.startHangsMonitor=function(){this.$1.startHangsMonitor()};c.saveNativeLogs=function(){this.$1.saveNativeLogs()};c.requestNativeLogs=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){return this.$1.requestNativeLogs()});function c(){return a.apply(this,arguments)}return c}();c.saveJSLogs=function(){d("WAWebBackendApi").frontendFireAndForget("createDownloadDataForMdWebLogs")};c.limitStringSize=function(a,b){var c=new Blob([a],{type:"text/plain"});if(c.size>b){c=c.size-b;return a.substr(c)}return a};c.requestWebLogString=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield d("WAWebBackendApi").frontendSendAndReceive("getWebLogs"));b=this.limitStringSize(b,30*i);this.$1.sendWebLogString(a.toString(),b)});function c(b){return a.apply(this,arguments)}return c}();return a}();g.WindowsHybridBridgeDebugFeatures_v2582=a}),98);
__d("WAWebWindowsHybridBridgeLinksPreview.v2582",["asyncToGeneratorRuntime"],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=a}var c=a.prototype;c.getPreviewAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield this.$1.getPreviewAsync(a));return a==null||a===""?null:JSON.parse(a)});function c(b){return a.apply(this,arguments)}return c}();return a}();f.WindowsHybridBridgeLinksPreview_v2582=a}),66);
__d("WAWebWindowsHybridBridgeMediaFiles.v2582",[],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=a}var b=a.prototype;b.isCachedMediaFileExist=function(a,b){return this.$1.isCachedMediaFileExist(a,b)};b.tryOpenCachedMediaFile=function(a,b){return this.$1.tryOpenCachedMediaFileFile(a,b)};b.prepareForMediaFileSaving=function(a,b,c){return this.$1.prepareForMediaFileSaving(a,b,c)};b.waitTillMediaDownloadCompletes=function(a,b,c){return this.$1.waitTillMediaDownloadCompletes(a,b,c)};b.selectFolderForBulkMediaSaving=function(){return this.$1.selectFolderForBulkMediaSaving()};b.prepareForZipArchiveSavingAndUnarchiveToFolder=function(a,b,c,d){return this.$1.prepareForZipArchiveSavingAndUnarchiveToFolder(a,b,c,d)};b.requestFileSystemDirectoryHandle=function(a){return this.$1.requestFileSystemDirectoryHandle(a)};b.tryCopyCachedMediaFile=function(a){return this.$1.tryCopyCachedMediaFile(a)};b.tryCopyCachedMediaFiles=function(a){return this.$1.tryCopyCachedMediaFiles(a)};return a}();f.WAWebWindowsHybridBridgeMediaFiles_v2582=a}),66);
__d("WAWebWindowsHybridBridgeMediaTranscoder.v2582",["Promise","WALogger","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D;a=function(){function a(a,b){var c=this;this.$3=new Map();this.$4=new Map();this.$6=function(a){d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[onProgressChanged] sourceBufferId=",", percentage=",""])),a.sourceBufferId,a.percentage);var b=c.$4.get(a.sourceBufferId);b&&b(a.percentage)};this.$1=b;this.$2=a;this.$2.addEventListener("sharedbufferreceived",function(a){a=a;c.$5(a)});this.$1.addEventListener("onProgressChangedEvent",this.$6);this.$1.subscribe(null)}var e=a.prototype;e.requestSharedBufferForTranscoding=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){var f=this;d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[requestSharedBufferForTranscoding] Starting shared buffer request for requestId=",", bufferSize=",""])),a,e);var g=2*1024*1024*1024;if(e>=g){g="Buffer size "+e+" exceeds maximum allowed size of "+g+" bytes (2GB)";d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[requestSharedBufferForTranscoding] ",""])),g);throw c("err")(g)}try{g=new(D||(D=b("Promise")))(function(){var g=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,g){f.$3.set(a,b);d("WALogger").DEV(k||(k=babelHelpers.taggedTemplateLiteralLoose(["[requestSharedBufferForTranscoding] Added pending request for requestId=",""])),a);try{b=(yield f.$1.tryRequestSharedBufferForTranscodingAsync(a,e));!b?(f.$3["delete"](a),d("WALogger").ERROR(l||(l=babelHelpers.taggedTemplateLiteralLoose(["[requestSharedBufferForTranscoding] Failed to create shared buffer for requestId=",", bufferSize=",""])),a,e),g(c("err")("Failed to create shared buffer for transcoding"))):d("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["[requestSharedBufferForTranscoding] Shared buffer creation initiated successfully, waiting for buffer"])))}catch(b){f.$3["delete"](a),d("WALogger").ERROR(n||(n=babelHelpers.taggedTemplateLiteralLoose(["[requestSharedBufferForTranscoding] Error during shared buffer request: ",""])),String(b)),g(b)}});return function(a,b){return g.apply(this,arguments)}}());g=(yield g);return[g.additionalData.BufferId,g.buffer]}catch(a){d("WALogger").ERROR(o||(o=babelHelpers.taggedTemplateLiteralLoose(["[requestSharedBufferForTranscoding] Error awaiting shared buffer response: ",""])),String(a));throw a}});function e(b,c){return a.apply(this,arguments)}return e}();e.performVideoTranscodingFromSharedBuffer=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f){var g=this;d("WALogger").LOG(p||(p=babelHelpers.taggedTemplateLiteralLoose(["[performVideoTranscodingFromSharedBuffer] Starting video transcoding from sourceBufferId="," to resultBufferId="," with maxResultSize=",""])),a,e,f);var h=(yield new(D||(D=b("Promise")))(function(){var h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,h){g.$3.set(e,b);d("WALogger").DEV(q||(q=babelHelpers.taggedTemplateLiteralLoose(["[performVideoTranscodingFromSharedBuffer] Added pending request for resultBufferId=",""])),e);try{b=(yield g.$1.performVideoTranscodingFromSharedBuffer(a,e,f));!b?(g.$3["delete"](e),d("WALogger").ERROR(r||(r=babelHelpers.taggedTemplateLiteralLoose(["[performVideoTranscodingFromSharedBuffer] Video transcoding failed for sourceBufferId=",", resultBufferId="," with maxResultSize=",""])),a,e,f),h(c("err")("Video transcoding failed"))):d("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["[performVideoTranscodingFromSharedBuffer] Video transcoding initiated successfully, waiting for result buffer"])))}catch(a){g.$3["delete"](e),d("WALogger").ERROR(t||(t=babelHelpers.taggedTemplateLiteralLoose(["[performVideoTranscodingFromSharedBuffer] Error during video transcoding: ",""])),String(a)),h(a)}});return function(a,b){return h.apply(this,arguments)}}()));return[h.additionalData.BufferId,h.buffer]});function e(b,c,d){return a.apply(this,arguments)}return e}();e.getVideoPreviewFrameFromSharedBuffer=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){var f=this,g,h;d("WALogger").LOG(u||(u=babelHelpers.taggedTemplateLiteralLoose(["[getVideoPreviewFrameFromSharedBuffer] Starting video preview frame extraction from sourceBufferId="," to resultBufferId=",""])),a,e);var i=(yield new(D||(D=b("Promise")))(function(){var g=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,g){f.$3.set(e,b);d("WALogger").DEV(v||(v=babelHelpers.taggedTemplateLiteralLoose(["[getVideoPreviewFrameFromSharedBuffer] Added pending request for resultBufferId=",""])),e);try{b=(yield f.$1.getVideoPreviewFrameFromSharedBuffer(a,e));!b?(f.$3["delete"](e),d("WALogger").ERROR(w||(w=babelHelpers.taggedTemplateLiteralLoose(["[getVideoPreviewFrameFromSharedBuffer] Video preview frame extraction failed for sourceBufferId=",", resultBufferId=",""])),a,e),g(c("err")("Video preview frame extraction failed"))):d("WALogger").LOG(x||(x=babelHelpers.taggedTemplateLiteralLoose(["[getVideoPreviewFrameFromSharedBuffer] Video preview frame extraction initiated successfully, waiting for result buffer"])))}catch(a){f.$3["delete"](e),d("WALogger").ERROR(y||(y=babelHelpers.taggedTemplateLiteralLoose(["[getVideoPreviewFrameFromSharedBuffer] Error during video preview frame extraction: ",""])),String(a)),g(a)}});return function(a,b){return g.apply(this,arguments)}}()));g=(g=(g=i.additionalData)==null?void 0:g.Width)!=null?g:0;h=(h=(h=i.additionalData)==null?void 0:h.Height)!=null?h:0;return[i.additionalData.BufferId,i.buffer,g,h]});function e(b,c){return a.apply(this,arguments)}return e}();e.releaseSharedBuffer=function(a){d("WALogger").LOG(z||(z=babelHelpers.taggedTemplateLiteralLoose(["[releaseSharedBuffer] Releasing shared buffer with bufferId=",""])),a),this.$1.releaseSharedBuffer(a)};e.setProgressCallback=function(a,b){this.$4.set(a,b)};e.clearProgressCallback=function(a){this.$4["delete"](a)};e.$5=function(a){if(a.additionalData&&a.additionalData.Source==="MediaTranscodingService"){var b;b=(b=a.additionalData)==null?void 0:b.BufferId;d("WALogger").LOG(A||(A=babelHelpers.taggedTemplateLiteralLoose(["[onSharedBufferReceived] Received shared buffer for bufferId=",""])),b);if(b!=null){var c=this.$3.get(b);c?(this.$3["delete"](b),d("WALogger").DEV(B||(B=babelHelpers.taggedTemplateLiteralLoose(["[onSharedBufferReceived] Resolving pending request for bufferId=",""])),b),c({buffer:a.getBuffer(),additionalData:a.additionalData})):d("WALogger").DEV(C||(C=babelHelpers.taggedTemplateLiteralLoose(["[onSharedBufferReceived] No pending request found for bufferId=",""])),b)}}};return a}();g.WindowsHybridBridgeMediaTranscoder_v2582=a}),98);
__d("WAWebWindowsHybridBridgeNativeAppState.v2582",["$InternalEnum","WALogger","WAWebEventEmitter","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l=b("$InternalEnum")({Normal:"normal",MinimizedToTray:"minimizedToTray"});a=function(a,e){var f=this;this.$4=new(c("WAWebEventEmitter"))();this.$5=function(a){a=a.toString();var b=l.cast(a);b!=null?d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeNativeAppState:appStateChanged: ",""])),l.getName(b)):d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeNativeAppState:appStateChanged: invalid appStateId: ",""])),a);f.$3=b;f.$4.trigger("appStateChanged",f.isMinimizedToTray())};this.getAppState=function(){return f.$3};this.getEvents=function(){return f.$4};this.isMinimizedToTray=function(){return f.getAppState()===l.MinimizedToTray};this.takeAppLaunchTimeStamp=function(){return f.$2.takeAppLaunchTimeStamp()};this.getFirstAppRestoreTimeStamp=function(){return f.$2.getFirstAppRestoreTimeStamp()};this.getLastAppRestoreTimeStamp=function(){return f.$2.getLastAppRestoreTimeStamp()};this.detectNativeClockSkew=function(){return f.$2.detectNativeClockSkew(Date.now())};this.getAppStateAsync=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=f.$1.getAppState();a=a.toString();var b=l.cast(a);b!=null?d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeNativeAppState:getAppStateAsync: ",""])),l.getName(b)):d("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeNativeAppState:getAppStateAsync: invalid appState '","'"])),a);return b});this.$1=a;this.$2=e;this.$1.addEventListener("appStateChangedEvent",this.$5);this.$1.subscribe(null)};g.AppState_v2582=l;g.WindowsHybridBridgeNativeAppState_v2582=a}),98);
__d("WAWebWindowsHybridBridgePictures.v2582",["WAJids","WALogger","WAWebLidMigrationUtils","WAWebProfilePicThumbCollection","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;a=function(){function a(a){var c=this;this.$2=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=JSON.parse(a);for(a of a){var b;if(d("WAJids").validateGroupJid(a.id.toString())){var e=d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.get(a.id);(e==null?void 0:e.eurl)!==a.eurl&&c.$1.setProfilePictures(JSON.stringify([{eurl:e==null?void 0:e.eurl,id:a.id.toString()}]));continue}e=d("WAWebLidMigrationUtils").toPn(a.id);if(e==null){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[WindowsHybridBridgePictures] PN WID is null"])));continue}var f=d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.get(e);f==null&&e!=null&&(f=(yield d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.resyncPicturesByWid([e])));if(((b=f)==null?void 0:b.eurl)!==a.eurl){c.$1.setProfilePictures(JSON.stringify([{eurl:(b=f)==null?void 0:b.eurl,id:e.toString()}]));b=d("WAWebLidMigrationUtils").toLid(a.id);if(b==null){d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[WindowsHybridBridgePictures] LID WID is null for PN WID: ",""])),e);continue}c.$1.setProfilePictures(JSON.stringify([{eurl:(e=f)==null?void 0:e.eurl,id:b.toString()}]))}}});return function(b){return a.apply(this,arguments)}}();this.$1=a;a.addEventListener("verifyPictureEvent",this.$2);a.subscribe(null)}var c=a.prototype;c.notifyUpdate=function(a){if(a==null)return;if(d("WAJids").validateGroupJid(a.id.toString())){this.$1.setProfilePictures(JSON.stringify([{eurl:a.eurl,id:a.id.toString()}]));return}if(!a.id.isUser())return;var b=d("WAWebLidMigrationUtils").toPn(a.id),c=d("WAWebLidMigrationUtils").toLid(a.id);if(b==null){d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[WindowsHybridBridgePictures] PN WID is null"])));return}if(c==null){d("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["[WindowsHybridBridgePictures] LID WID is null for PN WID: ",""])),b);return}this.$1.setProfilePictures(JSON.stringify([{eurl:a.eurl,id:b.toString()}]));this.$1.setProfilePictures(JSON.stringify([{eurl:a.eurl,id:c.toString()}]))};return a}();g.WindowsHybridBridgePictures_v2582=a}),98);
__d("WAWebWindowsHybridBridgePreferences.v2582",["WAWebUserPrefsBase","WAWebUserPrefsKeys","WAWebUserPrefsLocalStorage","WAWebUserPrefsStore"],(function(a,b,c,d,e,f,g){var h="WANativePreferencesRevision";a=function(){function a(a){var b=this;this.$2=!1;this.$3=null;this.$4=new Set();this.initialize=function(){var a;if(b.$2)return;b.$4.add(String(d("WAWebUserPrefsKeys").UserPrefs.WindowsIsSystemTrayEnabled));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.SYSTEM_THEME_MODE));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.THEME));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.ME_DISPLAY_NAME));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LAST_PUSHNAME));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LID));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LAST_WID_MD));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LANG_FROM_PHONE));b.$4.add(String(d("WAWebUserPrefsKeys").UserPrefs.AbpropsWebRefreshId));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.ABPROPS_REFRESH_ID));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.ABPROPS));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LANG_FROM_USER));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.GLOBAL_MUTE_CALL_RINGTONE));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.GLOBAL_MUTE_CALL_NOTIFICATIONS));b.$4.add(String(d("WAWebUserPrefsKeys").UserPrefs.WindowsNotificationBannerSetting));b.$4.add(String(d("WAWebUserPrefsKeys").UserPrefs.WindowsTaskbarNotificationSetting));(a=b.$1)==null||a.addEventListener("everythingRequested",function(){var a=b.$5();b.$3!==a&&(b.$3=a,b.$6())});(a=b.$1)==null||a.subscribe(null);b.$2=!0};this.$1=a}var b=a.prototype;b.$5=function(){var a=c("WAWebUserPrefsStore").getUser(h),b=0;typeof a==="number"?b=a:typeof a==="string"&&(b=Number(a)||0);return b};b.$7=function(a){c("WAWebUserPrefsStore").setUser(h,a)};b.handleSettingChange=function(a,b){var c;if(!this.$4.has(a))return;var d=this.$5();(c=this.$1)==null||c.updateLocalSetting(a,JSON.stringify(b),++d);this.$7(d)};b.$6=function(){var a=this.$5(),b=[],e=[];for(var f of this.$4){var g=c("WAWebUserPrefsStore").getUser(f);if(g!=null){b.push(f);e.push(JSON.stringify(g));continue}g=d("WAWebUserPrefsBase").userPreferencesStoreBase.get(f);g!=null&&(b.push(f),e.push(JSON.stringify(g)));g=c("WAWebUserPrefsLocalStorage").getItemFromLocalStorage(f);g!=null&&(b.push(f),e.push(JSON.stringify(g)))}(g=this.$1)==null||g.updateAllLocalSettings(b,e,a)};b.clean=function(){var a;(a=this.$1)==null||a.clean()};return a}();g.WindowsHybridBridgePreferences_v2582=a}),98);
__d("WAWebWindowsHybridBridgeRateTheApp.v2582",["asyncToGeneratorRuntime"],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=a}var c=a.prototype;c.getStoreProductForCurrentApp=function(){return this.$1.getStoreProductForCurrentAppAsync()};c.requestRateAndApp=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield this.$1.requestRateAndReviewAppAsync());return JSON.parse(a)});function c(){return a.apply(this,arguments)}return c}();return a}();f.WAWebWindowsHybridBridgeRateTheApp_v2582=a}),66);
__d("WAWebWindowsHybridBridgeScalingControl.v2582",["WAWebWindowsScalingControlEventEmitter"],(function(a,b,c,d,e,f,g){a=function(){function a(a){this.$2=!1,this.$3=function(){c("WAWebWindowsScalingControlEventEmitter").trigger("requestZoomIn")},this.$4=function(){c("WAWebWindowsScalingControlEventEmitter").trigger("requestZoomOut")},this.$1=a}var b=a.prototype;b.initialize=function(){var a;if(this.$2)return;this.$2=!0;(a=this.$1)==null||a.addEventListener("zoomInRequested",this.$3);(a=this.$1)==null||a.addEventListener("zoomOutRequested",this.$4);(a=this.$1)==null||a.subscribe(null)};b.zoomIn=function(){this.$3()};b.zoomOut=function(){this.$4()};b.showScalingControl=function(a){var b;(b=this.$1)==null||b.showScalingControl(a)};return a}();g.WindowsHybridBridgeScalingControl_v2582=a}),98);
__d("WAWebWindowsHybridBridgeSeamlessMigration.v2582",["WALogger","WAWebCmd","WAWebUserPrefsMeUser","WAWebWindowsUserPrefsMigrationEventEmitter","justknobx"],(function(a,b,c,d,e,f,g){var h,i;a=function(){function a(a){var b=this;this.$2=function(a){if(!b.$3())return;d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[SeamlessMigration] Received user preferences event ",""])),a);c("WAWebWindowsUserPrefsMigrationEventEmitter").trigger("storeUserPrefs",a)};this.$1=a;(a=this.$1)==null||a.subscribe(null);(a=this.$1)==null||a.addEventListener("SendUserPreferencesEvent",this.$2);this.initialize()}var b=a.prototype;b.initialize=function(){var a=this,b=c("justknobx")._("2741"),e=c("justknobx")._("2742");d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[SeamlessMigration] RequestIsSeamlessMigrationEnabledStateRequested "," and max retries ",""])),b,e);this.$1.executeLogout(b,e);d("WAWebCmd").Cmd.on("on_initial_chat_synced",function(){if(!a.$3())return;var b=d("WAWebUserPrefsMeUser").getMaybeMeDevicePn();b!=null&&a.$1.requestUserPrefsMigration(b.toJid())})};b.$3=function(){return c("justknobx")._("303")};return a}();g.WindowsHybridBridgeSeamlessMigration_v2582=a}),98);
__d("WAWebWindowsHybridBridgeSharesheet.v2582",[],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=a}var b=a.prototype;b.shareFile=function(a,b){return this.$1.shareFile(a,b)};return a}();f.WAWebWindowsHybridBridgeSharesheet_v2582=a}),66);
__d("WAWebWindowsHybridBridgeSystemIntegrations.v2582",["WAWebEventEmitter","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){a=function(){function a(a){var b=this;this.events=new(c("WAWebEventEmitter"))();this.$2=function(a){var c=a.tag,d=a.action;a=a.additionalData;b.events.trigger("MessageNotificationAction",{key:c,action:d,additionalData:a})};this.$1=a;(a=this.$1)==null||a.addEventListener("MessageNotificationActionEvent",this.$2);(a=this.$1)==null||a.subscribe(null)}var d=a.prototype;d.closeMessageNotification=function(a,b){var c;(c=this.$1)==null||c.closeMessageNotification(a,b)};d.showMessageNotification=function(a,b,c,d,e,f,g,h,i,j,k,l){var m;(m=this.$1)==null||m.showMessageNotification(a,b!=null?b:"",c,d,e,f!=null?f:"",g,h,i!=null?i:"",j!=null?j:"",k,l)};d.isNotificationEnabledInSystem=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){return this.$1==null?!1:this.$1.isNotificationEnabledInSystem()});function c(){return a.apply(this,arguments)}return c}();d.updateTaskbarBadge=function(a){this.$1.updateTaskbarBadge(a)};d.getStartupTaskState=function(){return this.$1.getStartupTaskState()};d.updateStartupTask=function(a){this.$1.updateStartupTask(a)};d.updateCurrentWebAppScreen=function(a){this.$1.updateCurrentWebAppScreen(a)};d.playTone=function(a){this.$1.playTone(a)};return a}();g.WindowsHybridBridgeSystemIntegrations_v2582=a}),98);
__d("WAWebWindowsHybridBridgeTouchpadFix.v2582",["WAWebDebounce"],(function(a,b,c,d,e,f,g){a=function(){function a(a){var b=this;this.$2=c("WAWebDebounce")(function(a){if(a.deltaX<=0)return;a=a.target;a=a;var c=!1,d=0;while(a&&a!==document.body&&d<3){var e=self.getComputedStyle(a);if((e.overflowX==="auto"||e.overflowX==="scroll")&&a.scrollWidth>a.clientWidth){c=!0;break}e=a.parentElement;if(!e)break;a=e;d++}c||b.interruptManipulations()},500);this.$1=a}var b=a.prototype;b.interruptManipulations=function(){return this.$1.interruptManipulations()};b.init=function(){document.addEventListener("wheel",this.$2,{passive:!1})};return a}();g.WindowsHybridBridgeTouchpadFix_v2582=a}),98);
__d("WAWebWindowsHybridBridgeVoip.v2582",["WABase64","WALogger","WAWebBackendApi","WAWebSerializeVoipWapNode","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N;a=function(){function a(a,b){var c=this;this.handleVoipReady=function(){var a;d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received voip ready event"])));d("WAWebBackendApi").frontendFireAndForget("addStartingLogoutListener",function(){return c.handleSignOut()});(a=c.$3)==null||a.onVoipReady()};this.sendSignalingXmpp=function(a){var b,e=a.peerJid,f=a.callId,g=a.payload;a=a.shouldEncryptBeforeSending;d("WALogger").DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received sendSignalingXmpp event: ",", ",", ",", ",""])),e,f,g,a);(b=c.$3)==null||b.onSignalingXmpp(e,f,g,a)};this.handleCallEvent=function(a){var b,e=a.eventType,f=a.userData;a=a.eventDataJson;d("WALogger").DEV(j||(j=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received handleCallEvent event: ",", ",", ",""])),e,f,a);(b=c.$3)==null||b.onCallEvent(e,f,a)};this.requestOpenChat=function(a){var b;d("WALogger").DEV(k||(k=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received requestOpenChat event: ",""])),a);(b=c.$3)==null||b.onRequestOpenChat(a)};this.requestDeviceJidList=function(a){var b;d("WALogger").DEV(l||(l=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received requestDeviceJidList event: ",""])),a);void ((b=c.$3)==null?void 0:b.onRequestDeviceJidList(a).then(function(b){var d;(d=c.$1)==null||d.handleDeviceJidList(a.toString(),b)}))};this.requestPhoneNumberJid=function(a){var b;d("WALogger").DEV(m||(m=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received requestPhoneNumberJid event: ",""])),a);void ((b=c.$3)==null||b.onRequestPhoneNumberJid==null?void 0:b.onRequestPhoneNumberJid(a).then(function(b){var d;(d=c.$1)==null||d.handlePhoneNumberJid(a.toString(),b)}))};this.requestLidJid=function(a){var b;d("WALogger").DEV(n||(n=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received requestLidJid event: ",""])),a);void ((b=c.$3)==null||b.onRequestLidJid==null?void 0:b.onRequestLidJid(a).then(function(b){var d;(d=c.$1)==null||d.handleLidJid(a.toString(),b)}))};this.callAgain=function(a){var b,e=a.peerJid;a=a.isVideoCall;d("WALogger").DEV(o||(o=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received callAgain event: ",", ",""])),e,a);(b=c.$3)==null||b.onCallAgain(e,a)};this.handleLidCallerDisplayInfo=function(a){var b;d("WALogger").DEV(p||(p=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received handleLidCallerDisplayInfo event: ",""])),a);(b=c.$3)==null||b.onLidCallerDisplayInfo(a)};this.$1=a;this.$2=b;this.$1.addEventListener("handleVoipReadyEvent",this.handleVoipReady);this.$1.addEventListener("handleVoipCallEvent",this.handleCallEvent);this.$1.addEventListener("handleSignalingXmppEvent",this.sendSignalingXmpp);this.$1.addEventListener("handleRequestOpenChatEvent",this.requestOpenChat);this.$1.addEventListener("handleRequestDeviceJidListEvent",this.requestDeviceJidList);this.$1.addEventListener("handleRequestPhoneNumberJidEvent",this.requestPhoneNumberJid);this.$1.addEventListener("handleRequestLidJidEvent",this.requestLidJid);this.$1.addEventListener("handleCallAgainEvent",this.callAgain);this.$1.addEventListener("handleLidCallerDisplayInfoEvent",this.handleLidCallerDisplayInfo);this.$1.subscribe(null)}var c=a.prototype;c.setHandlers=function(a){this.$3=a};c.cleanup=function(){this.$1.removeEventListener!=null&&(this.$1.removeEventListener("handleVoipReadyEvent",this.handleVoipReady),this.$1.removeEventListener("handleVoipCallEvent",this.handleCallEvent),this.$1.removeEventListener("handleSignalingXmppEvent",this.sendSignalingXmpp),this.$1.removeEventListener("handleRequestOpenChatEvent",this.requestOpenChat),this.$1.removeEventListener("handleRequestDeviceJidListEvent",this.requestDeviceJidList),this.$1.removeEventListener("handleRequestPhoneNumberJidEvent",this.requestPhoneNumberJid),this.$1.removeEventListener("handleRequestLidJidEvent",this.requestLidJid),this.$1.removeEventListener("handleCallAgainEvent",this.callAgain),this.$1.removeEventListener("handleLidCallerDisplayInfo",this.handleLidCallerDisplayInfo))};c.handleIncomingSignalingOffer=function(a,b,c,e,f,g,h,i,j){d("WALogger").DEV(q||(q=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleIncomingSignalingOffer called with:"]))).devConsole(arguments),this.$2.handleIncomingSignalingOffer(d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a),b,c,e,f,g,h,i,j?d("WABase64").encodeB64(j):null)};c.handleIncomingSignalingMessage=function(a,b,c,e,f,g,h,i){this.$2.handleIncomingSignalingMessage(d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a),b,c,e,f,g,h,i?d("WABase64").encodeB64(i):null)};c.handleIncomingSignalingAck=function(a,b,c,e,f){d("WALogger").DEV(r||(r=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleIncomingSignalingAck called with:"]))).devConsole(arguments),this.$2.handleIncomingSignalingAck(d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a),b,c,e,f?d("WABase64").encodeB64(f):null)};c.handleIncomingSignalingReceipt=function(a,b,c){d("WALogger").DEV(s||(s=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleIncomingSignalingReceipt called with:"]))).devConsole(arguments),this.$2.handleIncomingSignalingReceipt(d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a),b,c?d("WABase64").encodeB64(c):null)};c.resendOfferOnDecryptionFailure=function(a,b){d("WALogger").DEV(t||(t=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] resendOfferOnDecryptionFailure called with:"]))).devConsole(arguments),this.$2.resendOfferOnDecryptionFailure(a,b)};c.resendEncRekeyRetry=function(a,b){d("WALogger").DEV(u||(u=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] resendEncRekeyRetry called with:"]))).devConsole(arguments),this.$2.resendEncRekeyRetry(a,b)};c.notifyDeviceIdentityChangedOrDeleted=function(a,b){d("WALogger").DEV(v||(v=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] notifyDeviceIdentityChangedOrDeleted called with:"]))).devConsole(arguments),this.$2.notifyDeviceIdentityChangedOrDeleted(a,b)};c.handleWebViewReady=function(){var a;d("WALogger").DEV(w||(w=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleWebViewReady called"])));(a=this.$1)==null||a.handleWebViewReady()};c.voipInit=function(a,b,c){var e;d("WALogger").DEV(x||(x=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] voipInit called with:"]))).devConsole(arguments);(e=this.$1)==null||e.voipInit(a,b,c)};c.setHideMyIp=function(a){var b;d("WALogger").DEV(y||(y=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] setHideMyIp called with:"]))).devConsole(arguments);(b=this.$1)==null||b.setHideMyIp(a)};c.setChatNameAndIcon=function(a,b,c){var e;d("WALogger").DEV(z||(z=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] setChatNameAndIcon called"])));(e=this.$1)==null||e.setChatNameAndIcon(a,b,c)};c.handleSignOut=function(){var a;d("WALogger").DEV(A||(A=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleSignOut called"])));(a=this.$1)==null||a.handleSignOut()};c.startCall=function(a,b,c,e,f,g,h,i,j,k,l){var m;d("WALogger").DEV(B||(B=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] startCall called with:"]))).devConsole(arguments);(m=this.$1)==null||m.startCall(a.toString({legacy:!0}),b,c,e,f,g,h,i?d("WABase64").encodeB64(i):null,j,k,l)};c.startGroupCall=function(a,b,c,e,f,g,h,i,j,k,l,m,n,o){var p;d("WALogger").DEV(C||(C=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] startGroupCall called with:"]))).devConsole(arguments);(p=this.$1)==null||p.startGroupCall(a,b,c,e,f,g,h,i,j,k,l,m,n,o)};c.handleDeviceJidList=function(a,b){var c;d("WALogger").DEV(D||(D=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleDeviceJidList called with:"]))).devConsole(arguments);(c=this.$1)==null||c.handleDeviceJidList(a,b)};c.previewCallLink=function(a,b,c,e,f){var g;d("WALogger").DEV(E||(E=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] previewCallLink called with:"]))).devConsole(arguments);(g=this.$1)==null||g.previewCallLink(a,b,c,e)};c.previewAndJoinCallLink=function(a,b,c,e,f){var g;d("WALogger").DEV(F||(F=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] previewAndJoinCallLink called with:"]))).devConsole(arguments);(g=this.$1)==null||g.previewAndJoinCallLink(a,b,c,e)};c.endCall=function(a,b){var c;d("WALogger").DEV(G||(G=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] endCall called with:"]))).devConsole(arguments);(c=this.$1)==null||c.endCall(a,b)};c.rejectCallWithoutCallContext=function(a,b,c,e,f,g,h){var i;d("WALogger").DEV(H||(H=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] rejectCallWithoutCallContext called with:"]))).devConsole(arguments);(i=this.$1)==null||i.rejectCallWithoutCallContext(a,b,c,e,f,g,h)};c.joinOngoingCall=function(a,b,c,e,f,g,h,i,j,k,l,m,n,o,p,q){var r;d("WALogger").DEV(I||(I=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] joinOngoingCall called with:"]))).devConsole(arguments);(r=this.$1)==null||r.joinOngoingCall(a,b,c,e,f,g,h,i,j,k,l,m,n,o,p,q)};c.inviteToCall=function(a,b,c){var e;d("WALogger").DEV(J||(J=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] inviteToCall called with:"]))).devConsole(arguments);(e=this.$1)==null||e.inviteToCall(a,b,c)};c.simulateNativeAnr=function(a,b){var c;d("WALogger").DEV(K||(K=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] simulateNativeAnr called with:"]))).devConsole(arguments);(c=this.$1)==null||c.simulateNativeAnr(a,b)};c.requestCallInfo=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WALogger").DEV(L||(L=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] requestCallInfo called with:"]))).devConsole(arguments);var a=(yield this.$1.getCallInfo()),b=a.callInfoJsonBase64,c=a.error;return{callInfoJsonBase64:b,error:c}});function c(){return a.apply(this,arguments)}return c}();c.requestObtainDevicePermissionAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("WALogger").DEV(M||(M=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] requestObtainDevicePermissionAsync called with:"]))).devConsole(arguments);var b=(yield this.$1.requestObtainDevicePermissionAsync(a)),c=b.error,e=b.permissionGranted;return{error:c,permissionGranted:e}});function c(b){return a.apply(this,arguments)}return c}();c.requestDevicesCountAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("WALogger").DEV(N||(N=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] requestDevicesCountAsync called with:"]))).devConsole(arguments);var b=(yield this.$1.getDeviceCountAsync(a)),c=b.error,e=b.deviceCount;return{error:c,deviceCount:e}});function c(b){return a.apply(this,arguments)}return c}();return a}();g.VoipWinRTBridge_v2582=a}),98);
__d("WAWebWindowsHybridBridgeWam.v2582",["Promise","WALogger","WAWebCrashContextUtils","WAWebCrashLogWamEvent","WAWebWamCodegenWamEvent","WAWebWamEnumCrashApplicationState","WAWebWamEnumCrashType"],(function(a,b,c,d,e,f,g){var h,i,j,k;a=function(a){var c=this;this.$2=!1;this.initialize=function(){var a;if(c.$2)return;(a=c.$1)==null||a.addEventListener("eventsSaved",c.handleEvents);(a=c.$1)==null||a.subscribe(null);c.$2=!0};this.handleEvents=function(a){if(!c.$2){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received handleWamEvent while bridge is not initialized"])));return}d("WALogger").DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received handleWamEvent event: ",""])),a);a=JSON.parse(a);void (k||(k=b("Promise"))).all(a.map(function(a){if(a.id===d("WAWebCrashLogWamEvent").CrashLogWamEvent.prototype.id){var b=a[6],c=a[23],e=a[3],f=a[24],g=a[2];a[3]=d("WAWebCrashContextUtils").getCrashEventAppContext(b,g);if(b===d("WAWebWamEnumCrashType").CRASH_TYPE.DISPATCHER_NOT_RESPONDING&&c===d("WAWebWamEnumCrashApplicationState").CRASH_APPLICATION_STATE.FOREGROUND){g=f!=null?f:"unknown";d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["Native ","s ANR detected: ",""])),g,e).sendLogs("hybrid-native-anr-"+g+"s",{sampling:.01})}}return new(d("WAWebWamCodegenWamEvent").RawWamEvent)(a).commitAndWaitForFlush(!0)}))};this.$1=a};g.WindowsHybridBridgeWam_v2582=a}),98);
__d("WAWebWindowsHybridBridge.v2582",["WAWebBuildConstants","WAWebWindowsHybridAppActivationBridge.v2582","WAWebWindowsHybridBridgeAbProps.v2582","WAWebWindowsHybridBridgeAdv.v2582","WAWebWindowsHybridBridgeBrowserExtensions.v2582","WAWebWindowsHybridBridgeConnection.v2582","WAWebWindowsHybridBridgeContacts.v2582","WAWebWindowsHybridBridgeDebugFeatures.v2582","WAWebWindowsHybridBridgeLinksPreview.v2582","WAWebWindowsHybridBridgeMediaFiles.v2582","WAWebWindowsHybridBridgeMediaTranscoder.v2582","WAWebWindowsHybridBridgeNativeAppState.v2582","WAWebWindowsHybridBridgePictures.v2582","WAWebWindowsHybridBridgePreferences.v2582","WAWebWindowsHybridBridgeRateTheApp.v2582","WAWebWindowsHybridBridgeScalingControl.v2582","WAWebWindowsHybridBridgeSeamlessMigration.v2582","WAWebWindowsHybridBridgeSharesheet.v2582","WAWebWindowsHybridBridgeSystemIntegrations.v2582","WAWebWindowsHybridBridgeTouchpadFix.v2582","WAWebWindowsHybridBridgeVoip.v2582","WAWebWindowsHybridBridgeWam.v2582","cr:17220"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.serverEncKeySaltBridge=null;a.hostObjects.options.defaultSyncProxy=!0;a.hostObjects.options.forceAsyncMethodMatches=[/Async$/,/AsyncWithSpeller$/];a.hostObjects.options.ignoreMemberNotFoundError=!0;var c=a.hostObjects.AbPropsBridge;c!=null&&(this.abProps=new(d("WAWebWindowsHybridBridgeAbProps.v2582").WindowsHybridBridgeAbProps_v2582)(c));c=a.hostObjects.WamBridge;c!=null&&(this.wam=new(d("WAWebWindowsHybridBridgeWam.v2582").WindowsHybridBridgeWam_v2582)(c));c=a.hostObjects.PreferencesBridge;c&&(this.$1=new(d("WAWebWindowsHybridBridgePreferences.v2582").WindowsHybridBridgePreferences_v2582)(c));c=a.hostObjects.ScalingControlBridge;c&&(this.scalingControl=new(d("WAWebWindowsHybridBridgeScalingControl.v2582").WindowsHybridBridgeScalingControl_v2582)(c));c=a.hostObjects.PicturesBridge;c&&(this.pictures=new(d("WAWebWindowsHybridBridgePictures.v2582").WindowsHybridBridgePictures_v2582)(c));c=a.hostObjects.DebugFeaturesBridge;var e=b("cr:17220")==null?void 0:b("cr:17220").debugFeaturesMock;c!=null?this.$4=new(d("WAWebWindowsHybridBridgeDebugFeatures.v2582").WindowsHybridBridgeDebugFeatures_v2582)(c):e!=null;c=a.hostObjects.VoipBridge;e=a.hostObjects.VoipSignalingBridge;c&&e&&(this.voip=new(d("WAWebWindowsHybridBridgeVoip.v2582").VoipWinRTBridge_v2582)(c,e));this.$5=new(d("WAWebWindowsHybridBridgeRateTheApp.v2582").WAWebWindowsHybridBridgeRateTheApp_v2582)(a.hostObjects.RateAppBridge);this.$3=new(d("WAWebWindowsHybridBridgeConnection.v2582").WindowsHybridBridgeConnection_v2582)(a.hostObjects.ConnectionBridge);this.$2=a.hostObjects.ClientKeyBridge;this.touchpadFix=new(d("WAWebWindowsHybridBridgeTouchpadFix.v2582").WindowsHybridBridgeTouchpadFix_v2582)(a.hostObjects.TouchpadFix);this.linksPreview=new(d("WAWebWindowsHybridBridgeLinksPreview.v2582").WindowsHybridBridgeLinksPreview_v2582)(a.hostObjects.LinksPreviewBridge);try{c=a.hostObjects.sync.PopulatedContactsBridge;e=a.hostObjects.PopulatedContactsBridge;e!=null&&(this.contacts=new(d("WAWebWindowsHybridBridgeContacts.v2582").WindowsHybridBridgeContacts_v2582)(e,c,!0))}catch(b){e=a.hostObjects.ContactsBridge;e!=null&&(this.contacts=new(d("WAWebWindowsHybridBridgeContacts.v2582").WindowsHybridBridgeContacts_v2582)(e,a.hostObjects.sync.ContactsBridge,!1))}this.sqlite=a.hostObjects.SQLiteBridge;c=a.hostObjects.MediaFilesBridge;c!=null&&(this.mediaFiles=new(d("WAWebWindowsHybridBridgeMediaFiles.v2582").WAWebWindowsHybridBridgeMediaFiles_v2582)(c));e=a.hostObjects.SharesheetBridge;e!=null&&(this.sharesheetBridge=new(d("WAWebWindowsHybridBridgeSharesheet.v2582").WAWebWindowsHybridBridgeSharesheet_v2582)(e));c=a.hostObjects.AppActivationBridge;c!=null&&(this.appActivationBridge=new(d("WAWebWindowsHybridAppActivationBridge.v2582").WindowsHybridAppActivationBridge_v2582)(c));e=a.hostObjects.NativeAppStateBridge;c=a.hostObjects.sync.NativeAppStateBridge;e!=null&&(this.nativeAppStateBridge=new(d("WAWebWindowsHybridBridgeNativeAppState.v2582").WindowsHybridBridgeNativeAppState_v2582)(e,c));e=a.hostObjects.SystemIntegrationsBridge;e&&(this.systemIntegrationsBridge=new(d("WAWebWindowsHybridBridgeSystemIntegrations.v2582").WindowsHybridBridgeSystemIntegrations_v2582)(e));c=a.hostObjects.BrowserExtensionsBridge;c&&(this.browserExtensionsBridge=new(d("WAWebWindowsHybridBridgeBrowserExtensions.v2582").WindowsHybridBridgeBrowserExtensions_v2582)(c));e=a.hostObjects.SeamlessMigrationBridge;e&&(this.seamlessMigrationBridge=new(d("WAWebWindowsHybridBridgeSeamlessMigration.v2582").WindowsHybridBridgeSeamlessMigration_v2582)(e));c=a.hostObjects.MediaTranscodingBridge;c&&(this.mediaTranscodeBridge=new(d("WAWebWindowsHybridBridgeMediaTranscoder.v2582").WindowsHybridBridgeMediaTranscoder_v2582)(a,c));this.adv=new(d("WAWebWindowsHybridBridgeAdv.v2582").WindowsHybridBridgeAdv_v2582)(a.hostObjects.AdvBridge);(e=a.hostObjects.WebUpdateBridge)==null||e.updateWebRevision(d("WAWebBuildConstants").VERSION_TERTIARY)}var c=a.prototype;c.getPreferences=function(){var a;(a=this.$1)==null||a.initialize();return this.$1};c.getScalingControl=function(){var a;(a=this.scalingControl)==null||a.initialize();return this.scalingControl};c.getRateTheApp=function(){return this.$5};c.getClientKeyBridge=function(){return this.$2};c.getDebugFeatures=function(){return this.$4};return a}();g.WindowsHybridBridge_v2582=a}),98);
__d("WAWebWindowsHybridAppActivationBridge.v2583",["WAWebApi","WAWebApiParse","WAWebExecApiCmd"],(function(a,b,c,d,e,f,g){a=function(){function a(a){var b=this;this.initialize=function(){var a;(a=b.$1)==null||a.addEventListener("handleAppActivationViaProtocolEvent",b.handleAppActivationViaProtocolEvent);b.$1.subscribe(null)};this.handleAppActivationViaProtocolEvent=function(a){a=a.toString();a=d("WAWebApiParse").parseAPICmd(a);a.resultType!==d("WAWebApi").APICmd.INVALID&&c("WAWebExecApiCmd")({cmdData:a,isExternal:!0})};this.$1=a}var b=a.prototype;b.cleanup=function(){var a;(a=this.$1)==null||a.removeEventListener("handleAppActivationViaProtocolEvent",this.handleAppActivationViaProtocolEvent)};return a}();g.WindowsHybridAppActivationBridge_v2583=a}),98);
__d("WAWebWindowsHybridBridgeAbProps.v2583",["WALogger","WAWebABPropsCache","WAWebABPropsLocalStorage","WAWebBackendApi","WAWebHybridABProps","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h;a=function(){function a(a){var c=this;this.$2=!1;this.$4=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b;c.$3==null&&(c.$3=d("WAWebHybridABProps").getAllHybridExpoKeys());a=a.toString();b=(b=c.$3)==null?void 0:b.get(a);if(b==null){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[abprops][windows hybrid] unknown exposure key: ",""])),a);return}d("WAWebABPropsCache").saveExposure(b);c.$1.acknowledgeExposure(a)});return function(b){return a.apply(this,arguments)}}();this.$5=function(a){c.$3=null;var b=d("WAWebABPropsLocalStorage").getABKey();if(a!==b){a=d("WAWebHybridABProps").getAllHybridAbProps(!1);c.$1.setConfigs(b,JSON.stringify(a))}};this.$1=a}var c=a.prototype;c.initialize=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=this;if(this.$2)return;this.$2=!0;yield d("WAWebABPropsCache").waitForABPropConfigsReady();this.$1.addEventListener("exposureLogged",this.$4);this.$1.subscribe(null);var b=(yield this.$1.getVersion());d("WAWebBackendApi").frontendFireAndForget("addAbPropsUpdateListener",function(){a.$5(null)});this.$5(b)});function c(){return a.apply(this,arguments)}return c}();return a}();g.WindowsHybridBridgeAbProps_v2583=a}),98);
__d("WAWebWindowsHybridBridgeAdv.v2583",["WABase64","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){a=function(){function a(a){this.$1=a}var c=a.prototype;c.verifySignatureAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){b=(yield this.$1.verify(d("WABase64").encodeB64(b),d("WABase64").encodeB64(c),d("WABase64").encodeB64(a)));return b});function c(b,c,d){return a.apply(this,arguments)}return c}();return a}();g.WindowsHybridBridgeAdv_v2583=a}),98);
__d("WAWebWindowsHybridBridgeBrowserExtensions.v2583",["asyncToGeneratorRuntime"],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=a}var c=a.prototype;c.getBrowserExtensionsInfoAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield this.$1.getBrowserExtensionsInfoAsync());return JSON.parse(a)});function c(){return a.apply(this,arguments)}return c}();c.enableBrowserExtensionAsync=function(a,b){return this.$1.enableBrowserExtensionAsync(a,b)};c.removeBrowserExtensionAsync=function(a){return this.$1.removeBrowserExtensionAsync(a)};c.hasBootstrappedSuccessfully=function(){return this.$1.hasBootstrappedSuccessfully()};c.getZoomBrowserExtensionInfoAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield this.$1.getZoomBrowserExtensionInfoAsync());return JSON.parse(a)});function c(){return a.apply(this,arguments)}return c}();c.enableZoomBrowserExtensionAsync=function(a){return this.$1.enableZoomBrowserExtensionAsync(a)};c.removeZoomBrowserExtensionAsync=function(){return this.$1.removeZoomBrowserExtensionAsync()};c.installZoomBrowserExtensionAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield this.$1.installZoomBrowserExtensionAsync());return JSON.parse(a)});function c(){return a.apply(this,arguments)}return c}();return a}();f.WindowsHybridBridgeBrowserExtensions_v2583=a}),66);
__d("WAWebWindowsHybridBridgeConnection.v2583",["WAComms","WALogger","WAPromiseDelays","WAResolvable","WAWebCallCollection","WAWebEventsWaitForMainStreamReadyMd","WAWebEventsWaitForOfflineDeliveryEnd","WAWebSetWindowsPushConfig","WAWebSocketConstants","WAWebSocketModel","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v;a=function(){function a(a){var e=this;this.$2=!1;this.$3=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.data.toString();a=(a=a.channel)==null?void 0:a.toString();d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleUpdateNotificationsTokenEvent"]))).devConsole(b,a);yield c("WAWebEventsWaitForMainStreamReadyMd")();yield d("WAWebSetWindowsPushConfig").setWindowsPushConfig(b,a);e.$1.handleConnectionState(!0);e.$1.acknowledgeNotificationsToken(b,a)});return function(b){return a.apply(this,arguments)}}();this.$4=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent"])));try{var a;if(!e.$2&&(((a=d("WAComms").getComms())==null?void 0:a.socket)==null||d("WAWebSocketModel").Socket.stream===d("WAWebSocketConstants").SOCKET_STREAM.DISCONNECTED)){d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: socket already closed"])));e.$1.handleConnectionState(!1);return}yield e.$6();yield d("WAPromiseDelays").delayMs(3e4);d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: offline resume complete"])));if(c("WAWebCallCollection").activeCall!=null){d("WALogger").LOG(l||(l=babelHelpers.taggedTemplateLiteralLoose(["voip: WindowsHybridBridgeConnection:handleDisconnectEvent: awaiting active call completion"])));var b=new(d("WAResolvable").Resolvable)();a=function(){c("WAWebCallCollection").activeCall==null&&b.resolve()};c("WAWebCallCollection").on("change:activeCall",a);yield b.promise;c("WAWebCallCollection").off("change:activeCall",a);d("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["voip: WindowsHybridBridgeConnection:handleDisconnectEvent: active call completed"])))}else d("WALogger").LOG(n||(n=babelHelpers.taggedTemplateLiteralLoose(["voip: WindowsHybridBridgeConnection:handleDisconnectEvent: no active call"])));d("WAComms").closeSocketAndPause();d("WALogger").LOG(o||(o=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: socket closed"])));e.$1.handleConnectionState(!1)}catch(a){d("WALogger").ERROR(p||(p=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: failed to close socket: ",""])),a)}});this.$5=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WALogger").LOG(q||(q=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection.handleConnectEvent"])));if(e.$2){d("WALogger").LOG(r||(r=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleConnectEvent: socket already opening"])));return}try{var a;a=((a=d("WAComms").getComms())==null?void 0:a.socket)!=null;a||(e.$2=!0,d("WAComms").closeSocketAndResume(),d("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleConnectEvent: socket opened"]))));yield e.$6();d("WALogger").LOG(t||(t=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleConnectEvent: offline resume complete"])));e.$1.handleConnectionState(!0)}catch(a){d("WALogger").ERROR(u||(u=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleConnectEvent: failed to open socket: ",""])),a)}finally{e.$2=!1}});this.$1=a;this.$1.addEventListener("updateNotificationsTokenEvent",this.$3);this.$1.addEventListener("disconnectEvent",this.$4);this.$1.addEventListener("connectEvent",this.$5);this.$1.subscribe(null)}var e=a.prototype;e.$6=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield d("WAComms").waitForConnection(),d("WAWebEventsWaitForOfflineDeliveryEnd").isOfflineDeliveryEnd()||(d("WALogger").LOG(v||(v=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:waitForOfflineResume"]))),yield d("WAWebEventsWaitForOfflineDeliveryEnd").waitForOfflineDeliveryEnd())});function c(){return a.apply(this,arguments)}return c}();return a}();g.WindowsHybridBridgeConnection_v2583=a}),98);
__d("WAWebWindowsHybridBridgeContacts.v2583",["WALogger","WAWebBackendApi","WAWebContactsDbLidMigrationUtils","WAWebEventsWaitForMainStreamReadyMd","WAWebLidAwareContactsDB","WAWebSchemaContact_DO_NOT_USE_DIRECTLY","WAWebSyncBootstrap","asyncToGeneratorRuntime","filterNulls"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a,e,f){var g=this;this.$4="contacts";this.$5=new Set();this.$6=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=JSON.parse(a);if(a.length===0)return;a.forEach(function(a){return g.$5.add(a)});var b=(yield c("WAWebLidAwareContactsDB").bulkGet(a));b.forEach(function(a){return g.$5["delete"](a==null?void 0:a.id)});a=a.filter(function(a){return g.$5.has(a)});a.forEach(function(a){return g.$5["delete"](a)});void g.$1.updateContacts(a,JSON.stringify(c("filterNulls")(b)))});return function(b){return a.apply(this,arguments)}}();this.$7=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.count;a=a.includeVoipCallableOnly;try{b=(yield d("WAWebBackendApi").frontendSendAndReceive("getFrequentContacts",{count:b,includeVoipCallableOnly:a}));a=JSON.stringify(b);void g.$1.receiveFrequentContacts(a)}catch(a){void g.$1.receiveFrequentContacts(JSON.stringify([]))}});return function(b){return a.apply(this,arguments)}}();this.$1=a;this.$2=e;this.$3=f;a.addEventListener("requestUpdateEvent",this.$6);a.addEventListener("requestFrequentContactsEvent",this.$7);a.subscribe(null)}var e=a.prototype;e.initialize=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=this;c("WAWebLidAwareContactsDB").setUpdateListener(function(b){return a.$8(b)});yield c("WAWebEventsWaitForMainStreamReadyMd")();if(this.$3)return;if(c("WAWebSyncBootstrap").isSyncDBootstrapInProcess())return;this.$3=!0;try{var b=200,e=(yield d("WAWebSchemaContact_DO_NOT_USE_DIRECTLY").getContactTable().all({limit:b,offset:0}));do{var f;f=(f=e[e.length-1])==null?void 0:f.id;e=(yield d("WAWebContactsDbLidMigrationUtils").replacePnRowsWithLidData(e));yield this.$1.updateContacts([],JSON.stringify(e));e=(yield d("WAWebSchemaContact_DO_NOT_USE_DIRECTLY").getContactTable().greaterThan(["id"],f,{limit:b}))}while(e.length>0);this.$1.acknowledgeInitialSync()}catch(a){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[WinUi] setInitialData "," error ",""])),this.$4,a)}});function e(){return a.apply(this,arguments)}return e}();e.$8=function(a){var b=this;if(!this.$3)return;a=a.filter(function(a){return!b.$5.has(a)});if(a.length===0)return;a.forEach(function(a){return b.$5.add(a)});this.$2.invalidateContacts(a)};return a}();g.WindowsHybridBridgeContacts_v2583=a}),98);
__d("WAWebWindowsHybridBridgeDebugFeatures.v2583",["WALogger","WAWebBackendApi","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i=1e3;a=function(){function a(a){var b=this;this.$2=null;this.ping=function(a){var c,e=self.performance.now();c=(e-((c=b.$2)!=null?c:e)).toFixed(0);b.$2=e;d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeDebugFeatures:ping:"," diff:","ms"])),a,c);b.$1.pong(a.valueOf())};this.$1=a;(a=this.$1)==null||a.addEventListener("jsLogs",function(){b.saveJSLogs()});(a=this.$1)==null||a.addEventListener("requestWebLogStringEvent",function(a){void b.requestWebLogString(a)});(a=this.$1)==null||a.addEventListener("pingEvent",this.ping);this.$1.subscribe(null)}var c=a.prototype;c.startHangsMonitor=function(){this.$1.startHangsMonitor()};c.saveNativeLogs=function(){this.$1.saveNativeLogs()};c.requestNativeLogs=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){return this.$1.requestNativeLogs()});function c(){return a.apply(this,arguments)}return c}();c.saveJSLogs=function(){d("WAWebBackendApi").frontendFireAndForget("createDownloadDataForMdWebLogs")};c.limitStringSize=function(a,b){var c=new Blob([a],{type:"text/plain"});if(c.size>b){c=c.size-b;return a.substr(c)}return a};c.requestWebLogString=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield d("WAWebBackendApi").frontendSendAndReceive("getWebLogs"));b=this.limitStringSize(b,30*i);this.$1.sendWebLogString(a.toString(),b)});function c(b){return a.apply(this,arguments)}return c}();return a}();g.WindowsHybridBridgeDebugFeatures_v2583=a}),98);
__d("WAWebWindowsHybridBridgeLinksPreview.v2583",["asyncToGeneratorRuntime"],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=a}var c=a.prototype;c.getPreviewAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield this.$1.getPreviewAsync(a));return a==null||a===""?null:JSON.parse(a)});function c(b){return a.apply(this,arguments)}return c}();return a}();f.WindowsHybridBridgeLinksPreview_v2583=a}),66);
__d("WAWebWindowsHybridBridgeMediaFiles.v2583",[],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=a}var b=a.prototype;b.isCachedMediaFileExist=function(a,b){return this.$1.isCachedMediaFileExist(a,b)};b.tryOpenCachedMediaFile=function(a,b){return this.$1.tryOpenCachedMediaFileFile(a,b)};b.prepareForMediaFileSaving=function(a,b,c){return this.$1.prepareForMediaFileSaving(a,b,c)};b.waitTillMediaDownloadCompletes=function(a,b,c){return this.$1.waitTillMediaDownloadCompletes(a,b,c)};b.selectFolderForBulkMediaSaving=function(){return this.$1.selectFolderForBulkMediaSaving()};b.prepareForZipArchiveSavingAndUnarchiveToFolder=function(a,b,c,d){return this.$1.prepareForZipArchiveSavingAndUnarchiveToFolder(a,b,c,d)};b.requestFileSystemDirectoryHandle=function(a){return this.$1.requestFileSystemDirectoryHandle(a)};b.tryCopyCachedMediaFile=function(a){return this.$1.tryCopyCachedMediaFile(a)};b.tryCopyCachedMediaFiles=function(a){return this.$1.tryCopyCachedMediaFiles(a)};return a}();f.WAWebWindowsHybridBridgeMediaFiles_v2583=a}),66);
__d("WAWebWindowsHybridBridgeMediaTranscoder.v2583",["Promise","WALogger","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D;a=function(){function a(a,b){var c=this;this.$3=new Map();this.$4=new Map();this.$6=function(a){d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[onProgressChanged] sourceBufferId=",", percentage=",""])),a.sourceBufferId,a.percentage);var b=c.$4.get(a.sourceBufferId);b&&b(a.percentage)};this.$1=b;this.$2=a;this.$2.addEventListener("sharedbufferreceived",function(a){a=a;c.$5(a)});this.$1.addEventListener("onProgressChangedEvent",this.$6);this.$1.subscribe(null)}var e=a.prototype;e.requestSharedBufferForTranscoding=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){var f=this;d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[requestSharedBufferForTranscoding] Starting shared buffer request for requestId=",", bufferSize=",""])),a,e);var g=2*1024*1024*1024;if(e>=g){g="Buffer size "+e+" exceeds maximum allowed size of "+g+" bytes (2GB)";d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[requestSharedBufferForTranscoding] ",""])),g);throw c("err")(g)}try{g=new(D||(D=b("Promise")))(function(){var g=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,g){f.$3.set(a,b);d("WALogger").DEV(k||(k=babelHelpers.taggedTemplateLiteralLoose(["[requestSharedBufferForTranscoding] Added pending request for requestId=",""])),a);try{b=(yield f.$1.tryRequestSharedBufferForTranscodingAsync(a,e));!b?(f.$3["delete"](a),d("WALogger").ERROR(l||(l=babelHelpers.taggedTemplateLiteralLoose(["[requestSharedBufferForTranscoding] Failed to create shared buffer for requestId=",", bufferSize=",""])),a,e),g(c("err")("Failed to create shared buffer for transcoding"))):d("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["[requestSharedBufferForTranscoding] Shared buffer creation initiated successfully, waiting for buffer"])))}catch(b){f.$3["delete"](a),d("WALogger").ERROR(n||(n=babelHelpers.taggedTemplateLiteralLoose(["[requestSharedBufferForTranscoding] Error during shared buffer request: ",""])),String(b)),g(b)}});return function(a,b){return g.apply(this,arguments)}}());g=(yield g);return[g.additionalData.BufferId,g.buffer]}catch(a){d("WALogger").ERROR(o||(o=babelHelpers.taggedTemplateLiteralLoose(["[requestSharedBufferForTranscoding] Error awaiting shared buffer response: ",""])),String(a));throw a}});function e(b,c){return a.apply(this,arguments)}return e}();e.performVideoTranscodingFromSharedBuffer=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f){var g=this;d("WALogger").LOG(p||(p=babelHelpers.taggedTemplateLiteralLoose(["[performVideoTranscodingFromSharedBuffer] Starting video transcoding from sourceBufferId="," to resultBufferId="," with maxResultSize=",""])),a,e,f);var h=(yield new(D||(D=b("Promise")))(function(){var h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,h){g.$3.set(e,b);d("WALogger").DEV(q||(q=babelHelpers.taggedTemplateLiteralLoose(["[performVideoTranscodingFromSharedBuffer] Added pending request for resultBufferId=",""])),e);try{b=(yield g.$1.performVideoTranscodingFromSharedBuffer(a,e,f));!b?(g.$3["delete"](e),d("WALogger").ERROR(r||(r=babelHelpers.taggedTemplateLiteralLoose(["[performVideoTranscodingFromSharedBuffer] Video transcoding failed for sourceBufferId=",", resultBufferId="," with maxResultSize=",""])),a,e,f),h(c("err")("Video transcoding failed"))):d("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["[performVideoTranscodingFromSharedBuffer] Video transcoding initiated successfully, waiting for result buffer"])))}catch(a){g.$3["delete"](e),d("WALogger").ERROR(t||(t=babelHelpers.taggedTemplateLiteralLoose(["[performVideoTranscodingFromSharedBuffer] Error during video transcoding: ",""])),String(a)),h(a)}});return function(a,b){return h.apply(this,arguments)}}()));return[h.additionalData.BufferId,h.buffer]});function e(b,c,d){return a.apply(this,arguments)}return e}();e.getVideoPreviewFrameFromSharedBuffer=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){var f=this,g,h;d("WALogger").LOG(u||(u=babelHelpers.taggedTemplateLiteralLoose(["[getVideoPreviewFrameFromSharedBuffer] Starting video preview frame extraction from sourceBufferId="," to resultBufferId=",""])),a,e);var i=(yield new(D||(D=b("Promise")))(function(){var g=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,g){f.$3.set(e,b);d("WALogger").DEV(v||(v=babelHelpers.taggedTemplateLiteralLoose(["[getVideoPreviewFrameFromSharedBuffer] Added pending request for resultBufferId=",""])),e);try{b=(yield f.$1.getVideoPreviewFrameFromSharedBuffer(a,e));!b?(f.$3["delete"](e),d("WALogger").ERROR(w||(w=babelHelpers.taggedTemplateLiteralLoose(["[getVideoPreviewFrameFromSharedBuffer] Video preview frame extraction failed for sourceBufferId=",", resultBufferId=",""])),a,e),g(c("err")("Video preview frame extraction failed"))):d("WALogger").LOG(x||(x=babelHelpers.taggedTemplateLiteralLoose(["[getVideoPreviewFrameFromSharedBuffer] Video preview frame extraction initiated successfully, waiting for result buffer"])))}catch(a){f.$3["delete"](e),d("WALogger").ERROR(y||(y=babelHelpers.taggedTemplateLiteralLoose(["[getVideoPreviewFrameFromSharedBuffer] Error during video preview frame extraction: ",""])),String(a)),g(a)}});return function(a,b){return g.apply(this,arguments)}}()));g=(g=(g=i.additionalData)==null?void 0:g.Width)!=null?g:0;h=(h=(h=i.additionalData)==null?void 0:h.Height)!=null?h:0;return[i.additionalData.BufferId,i.buffer,g,h]});function e(b,c){return a.apply(this,arguments)}return e}();e.releaseSharedBuffer=function(a){d("WALogger").LOG(z||(z=babelHelpers.taggedTemplateLiteralLoose(["[releaseSharedBuffer] Releasing shared buffer with bufferId=",""])),a),this.$1.releaseSharedBuffer(a)};e.setProgressCallback=function(a,b){this.$4.set(a,b)};e.clearProgressCallback=function(a){this.$4["delete"](a)};e.$5=function(a){if(a.additionalData&&a.additionalData.Source==="MediaTranscodingService"){var b;b=(b=a.additionalData)==null?void 0:b.BufferId;d("WALogger").LOG(A||(A=babelHelpers.taggedTemplateLiteralLoose(["[onSharedBufferReceived] Received shared buffer for bufferId=",""])),b);if(b!=null){var c=this.$3.get(b);c?(this.$3["delete"](b),d("WALogger").DEV(B||(B=babelHelpers.taggedTemplateLiteralLoose(["[onSharedBufferReceived] Resolving pending request for bufferId=",""])),b),c({buffer:a.getBuffer(),additionalData:a.additionalData})):d("WALogger").DEV(C||(C=babelHelpers.taggedTemplateLiteralLoose(["[onSharedBufferReceived] No pending request found for bufferId=",""])),b)}}};return a}();g.WindowsHybridBridgeMediaTranscoder_v2583=a}),98);
__d("WAWebWindowsHybridBridgeNativeAppState.v2583",["$InternalEnum","WALogger","WAWebEventEmitter","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l=b("$InternalEnum")({Normal:"normal",MinimizedToTray:"minimizedToTray"});a=function(a,e){var f=this;this.$4=new(c("WAWebEventEmitter"))();this.$5=function(a){a=a.toString();var b=l.cast(a);b!=null?d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeNativeAppState:appStateChanged: ",""])),l.getName(b)):d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeNativeAppState:appStateChanged: invalid appStateId: ",""])),a);f.$3=b;f.$4.trigger("appStateChanged",f.isMinimizedToTray())};this.getAppState=function(){return f.$3};this.getEvents=function(){return f.$4};this.isMinimizedToTray=function(){return f.getAppState()===l.MinimizedToTray};this.takeAppLaunchTimeStamp=function(){return f.$2.takeAppLaunchTimeStamp()};this.getFirstAppRestoreTimeStamp=function(){return f.$2.getFirstAppRestoreTimeStamp()};this.getLastAppRestoreTimeStamp=function(){return f.$2.getLastAppRestoreTimeStamp()};this.detectNativeClockSkew=function(){return f.$2.detectNativeClockSkew(Date.now())};this.getAppStateAsync=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=f.$1.getAppState();a=a.toString();var b=l.cast(a);b!=null?d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeNativeAppState:getAppStateAsync: ",""])),l.getName(b)):d("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeNativeAppState:getAppStateAsync: invalid appState '","'"])),a);return b});this.$1=a;this.$2=e;this.$1.addEventListener("appStateChangedEvent",this.$5);this.$1.subscribe(null)};g.AppState_v2583=l;g.WindowsHybridBridgeNativeAppState_v2583=a}),98);
__d("WAWebWindowsHybridBridgePictures.v2583",["WAJids","WALogger","WAWebLidMigrationUtils","WAWebProfilePicThumbCollection","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;a=function(){function a(a){var c=this;this.$2=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=JSON.parse(a);for(a of a){var b;if(d("WAJids").validateGroupJid(a.id.toString())){var e=d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.get(a.id);(e==null?void 0:e.eurl)!==a.eurl&&c.$1.setProfilePictures(JSON.stringify([{eurl:e==null?void 0:e.eurl,id:a.id.toString()}]));continue}e=d("WAWebLidMigrationUtils").toPn(a.id);if(e==null){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[WindowsHybridBridgePictures] PN WID is null"])));continue}var f=d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.get(e);f==null&&e!=null&&(f=(yield d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.resyncPicturesByWid([e])));if(((b=f)==null?void 0:b.eurl)!==a.eurl){c.$1.setProfilePictures(JSON.stringify([{eurl:(b=f)==null?void 0:b.eurl,id:e.toString()}]));b=d("WAWebLidMigrationUtils").toLid(a.id);if(b==null){d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[WindowsHybridBridgePictures] LID WID is null for PN WID: ",""])),e);continue}c.$1.setProfilePictures(JSON.stringify([{eurl:(e=f)==null?void 0:e.eurl,id:b.toString()}]))}}});return function(b){return a.apply(this,arguments)}}();this.$1=a;a.addEventListener("verifyPictureEvent",this.$2);a.subscribe(null)}var c=a.prototype;c.notifyUpdate=function(a){if(a==null)return;if(d("WAJids").validateGroupJid(a.id.toString())){this.$1.setProfilePictures(JSON.stringify([{eurl:a.eurl,id:a.id.toString()}]));return}if(!a.id.isUser())return;var b=d("WAWebLidMigrationUtils").toPn(a.id),c=d("WAWebLidMigrationUtils").toLid(a.id);if(b==null){d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[WindowsHybridBridgePictures] PN WID is null"])));return}if(c==null){d("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["[WindowsHybridBridgePictures] LID WID is null for PN WID: ",""])),b);return}this.$1.setProfilePictures(JSON.stringify([{eurl:a.eurl,id:b.toString()}]));this.$1.setProfilePictures(JSON.stringify([{eurl:a.eurl,id:c.toString()}]))};return a}();g.WindowsHybridBridgePictures_v2583=a}),98);
__d("WAWebWindowsHybridBridgePreferences.v2583",["WAWebUserPrefsBase","WAWebUserPrefsKeys","WAWebUserPrefsLocalStorage","WAWebUserPrefsStore"],(function(a,b,c,d,e,f,g){var h="WANativePreferencesRevision";a=function(){function a(a){var b=this;this.$2=!1;this.$3=null;this.$4=new Set();this.initialize=function(){var a;if(b.$2)return;b.$4.add(String(d("WAWebUserPrefsKeys").UserPrefs.WindowsIsSystemTrayEnabled));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.SYSTEM_THEME_MODE));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.THEME));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.ME_DISPLAY_NAME));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LAST_PUSHNAME));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LID));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LAST_WID_MD));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LANG_FROM_PHONE));b.$4.add(String(d("WAWebUserPrefsKeys").UserPrefs.AbpropsWebRefreshId));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.ABPROPS_REFRESH_ID));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.ABPROPS));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LANG_FROM_USER));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.GLOBAL_MUTE_CALL_RINGTONE));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.GLOBAL_MUTE_CALL_NOTIFICATIONS));b.$4.add(String(d("WAWebUserPrefsKeys").UserPrefs.WindowsNotificationBannerSetting));b.$4.add(String(d("WAWebUserPrefsKeys").UserPrefs.WindowsTaskbarNotificationSetting));(a=b.$1)==null||a.addEventListener("everythingRequested",function(){var a=b.$5();b.$3!==a&&(b.$3=a,b.$6())});(a=b.$1)==null||a.subscribe(null);b.$2=!0};this.$1=a}var b=a.prototype;b.$5=function(){var a=c("WAWebUserPrefsStore").getUser(h),b=0;typeof a==="number"?b=a:typeof a==="string"&&(b=Number(a)||0);return b};b.$7=function(a){c("WAWebUserPrefsStore").setUser(h,a)};b.handleSettingChange=function(a,b){var c;if(!this.$4.has(a))return;var d=this.$5();(c=this.$1)==null||c.updateLocalSetting(a,JSON.stringify(b),++d);this.$7(d)};b.$6=function(){var a=this.$5(),b=[],e=[];for(var f of this.$4){var g=c("WAWebUserPrefsStore").getUser(f);if(g!=null){b.push(f);e.push(JSON.stringify(g));continue}g=d("WAWebUserPrefsBase").userPreferencesStoreBase.get(f);g!=null&&(b.push(f),e.push(JSON.stringify(g)));g=c("WAWebUserPrefsLocalStorage").getItemFromLocalStorage(f);g!=null&&(b.push(f),e.push(JSON.stringify(g)))}(g=this.$1)==null||g.updateAllLocalSettings(b,e,a)};b.clean=function(){var a;(a=this.$1)==null||a.clean()};return a}();g.WindowsHybridBridgePreferences_v2583=a}),98);
__d("WAWebWindowsHybridBridgeRateTheApp.v2583",["asyncToGeneratorRuntime"],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=a}var c=a.prototype;c.getStoreProductForCurrentApp=function(){return this.$1.getStoreProductForCurrentAppAsync()};c.requestRateAndApp=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield this.$1.requestRateAndReviewAppAsync());return JSON.parse(a)});function c(){return a.apply(this,arguments)}return c}();return a}();f.WAWebWindowsHybridBridgeRateTheApp_v2583=a}),66);
__d("WAWebWindowsHybridBridgeScalingControl.v2583",["WAWebWindowsScalingControlEventEmitter"],(function(a,b,c,d,e,f,g){a=function(){function a(a){this.$2=!1,this.$3=function(){c("WAWebWindowsScalingControlEventEmitter").trigger("requestZoomIn")},this.$4=function(){c("WAWebWindowsScalingControlEventEmitter").trigger("requestZoomOut")},this.$1=a}var b=a.prototype;b.initialize=function(){var a;if(this.$2)return;this.$2=!0;(a=this.$1)==null||a.addEventListener("zoomInRequested",this.$3);(a=this.$1)==null||a.addEventListener("zoomOutRequested",this.$4);(a=this.$1)==null||a.subscribe(null)};b.zoomIn=function(){this.$3()};b.zoomOut=function(){this.$4()};b.showScalingControl=function(a){var b;(b=this.$1)==null||b.showScalingControl(a)};return a}();g.WindowsHybridBridgeScalingControl_v2583=a}),98);
__d("WAWebWindowsHybridBridgeSeamlessMigration.v2583",["WALogger","WAWebCmd","WAWebUserPrefsMeUser","WAWebWindowsUserPrefsMigrationEventEmitter","justknobx"],(function(a,b,c,d,e,f,g){var h,i,j,k;a=function(){function a(a){var b=this;this.$2=function(a){if(!b.$3())return;d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[SeamlessMigration] Received user preferences event ",""])),a);c("WAWebWindowsUserPrefsMigrationEventEmitter").trigger("storeUserPrefs",a)};this.$1=a;(a=this.$1)==null||a.subscribe(null);(a=this.$1)==null||a.addEventListener("SendUserPreferencesEvent",this.$2);this.initialize()}var b=a.prototype;b.initialize=function(){var a=this,b=c("justknobx")._("2741"),e=c("justknobx")._("2742");d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[SeamlessMigration] RequestIsSeamlessMigrationEnabledStateRequested "," and max retries ",""])),b,e);this.$1.executeLogout(b,e);d("WAWebCmd").Cmd.on("on_initial_chat_synced",function(){if(!a.$3())return;var b=d("WAWebUserPrefsMeUser").getMaybeMeDevicePn();b!=null&&a.$1.requestUserPrefsMigration(b.toJid())});b=c("justknobx")._("4754");d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[SeamlessMigration] RequestIsFilesCleanupEnabledStateRequested ",""])),b);if(b){e=c("justknobx")._("5099");d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["[SeamlessMigration] RequestFilesCleanupAfterDays ",""])),e);this.$1.requestFilesCleanup(e)}};b.$3=function(){return c("justknobx")._("303")};return a}();g.WindowsHybridBridgeSeamlessMigration_v2583=a}),98);
__d("WAWebWindowsHybridBridgeSharesheet.v2583",[],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=a}var b=a.prototype;b.shareFile=function(a,b){return this.$1.shareFile(a,b)};return a}();f.WAWebWindowsHybridBridgeSharesheet_v2583=a}),66);
__d("WAWebWindowsHybridBridgeSystemIntegrations.v2583",["WAWebEventEmitter","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){a=function(){function a(a){var b=this;this.events=new(c("WAWebEventEmitter"))();this.$2=function(a){var c=a.tag,d=a.action;a=a.additionalData;b.events.trigger("MessageNotificationAction",{key:c,action:d,additionalData:a})};this.$1=a;(a=this.$1)==null||a.addEventListener("MessageNotificationActionEvent",this.$2);(a=this.$1)==null||a.subscribe(null)}var d=a.prototype;d.closeMessageNotification=function(a,b){var c;(c=this.$1)==null||c.closeMessageNotification(a,b)};d.showMessageNotification=function(a,b,c,d,e,f,g,h,i,j,k,l){var m;(m=this.$1)==null||m.showMessageNotification(a,b!=null?b:"",c,d,e,f!=null?f:"",g,h,i!=null?i:"",j!=null?j:"",k,l)};d.isNotificationEnabledInSystem=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){return this.$1==null?!1:this.$1.isNotificationEnabledInSystem()});function c(){return a.apply(this,arguments)}return c}();d.updateTaskbarBadge=function(a){this.$1.updateTaskbarBadge(a)};d.getStartupTaskState=function(){return this.$1.getStartupTaskState()};d.updateStartupTask=function(a){this.$1.updateStartupTask(a)};d.updateCurrentWebAppScreen=function(a){this.$1.updateCurrentWebAppScreen(a)};d.playTone=function(a){this.$1.playTone(a)};return a}();g.WindowsHybridBridgeSystemIntegrations_v2583=a}),98);
__d("WAWebWindowsHybridBridgeTouchpadFix.v2583",["WAWebDebounce"],(function(a,b,c,d,e,f,g){a=function(){function a(a){var b=this;this.$2=c("WAWebDebounce")(function(a){if(a.deltaX<=0)return;a=a.target;a=a;var c=!1,d=0;while(a&&a!==document.body&&d<3){var e=self.getComputedStyle(a);if((e.overflowX==="auto"||e.overflowX==="scroll")&&a.scrollWidth>a.clientWidth){c=!0;break}e=a.parentElement;if(!e)break;a=e;d++}c||b.interruptManipulations()},500);this.$1=a}var b=a.prototype;b.interruptManipulations=function(){return this.$1.interruptManipulations()};b.init=function(){document.addEventListener("wheel",this.$2,{passive:!1})};return a}();g.WindowsHybridBridgeTouchpadFix_v2583=a}),98);
__d("WAWebWindowsHybridBridgeVoip.v2583",["WABase64","WALogger","WAWebBackendApi","WAWebSerializeVoipWapNode","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N;a=function(){function a(a,b){var c=this;this.handleVoipReady=function(){var a;d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received voip ready event"])));d("WAWebBackendApi").frontendFireAndForget("addStartingLogoutListener",function(){return c.handleSignOut()});(a=c.$3)==null||a.onVoipReady()};this.sendSignalingXmpp=function(a){var b,e=a.peerJid,f=a.callId,g=a.payload;a=a.shouldEncryptBeforeSending;d("WALogger").DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received sendSignalingXmpp event: ",", ",", ",", ",""])),e,f,g,a);(b=c.$3)==null||b.onSignalingXmpp(e,f,g,a)};this.handleCallEvent=function(a){var b,e=a.eventType,f=a.userData;a=a.eventDataJson;d("WALogger").DEV(j||(j=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received handleCallEvent event: ",", ",", ",""])),e,f,a);(b=c.$3)==null||b.onCallEvent(e,f,a)};this.requestOpenChat=function(a){var b;d("WALogger").DEV(k||(k=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received requestOpenChat event: ",""])),a);(b=c.$3)==null||b.onRequestOpenChat(a)};this.requestDeviceJidList=function(a){var b;d("WALogger").DEV(l||(l=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received requestDeviceJidList event: ",""])),a);void ((b=c.$3)==null?void 0:b.onRequestDeviceJidList(a).then(function(b){var d;(d=c.$1)==null||d.handleDeviceJidList(a.toString(),b)}))};this.requestPhoneNumberJid=function(a){var b;d("WALogger").DEV(m||(m=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received requestPhoneNumberJid event: ",""])),a);void ((b=c.$3)==null||b.onRequestPhoneNumberJid==null?void 0:b.onRequestPhoneNumberJid(a).then(function(b){var d;(d=c.$1)==null||d.handlePhoneNumberJid(a.toString(),b)}))};this.requestLidJid=function(a){var b;d("WALogger").DEV(n||(n=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received requestLidJid event: ",""])),a);void ((b=c.$3)==null||b.onRequestLidJid==null?void 0:b.onRequestLidJid(a).then(function(b){var d;(d=c.$1)==null||d.handleLidJid(a.toString(),b)}))};this.callAgain=function(a){var b,e=a.peerJid;a=a.isVideoCall;d("WALogger").DEV(o||(o=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received callAgain event: ",", ",""])),e,a);(b=c.$3)==null||b.onCallAgain(e,a)};this.handleLidCallerDisplayInfo=function(a){var b;d("WALogger").DEV(p||(p=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received handleLidCallerDisplayInfo event: ",""])),a);(b=c.$3)==null||b.onLidCallerDisplayInfo(a)};this.$1=a;this.$2=b;this.$1.addEventListener("handleVoipReadyEvent",this.handleVoipReady);this.$1.addEventListener("handleVoipCallEvent",this.handleCallEvent);this.$1.addEventListener("handleSignalingXmppEvent",this.sendSignalingXmpp);this.$1.addEventListener("handleRequestOpenChatEvent",this.requestOpenChat);this.$1.addEventListener("handleRequestDeviceJidListEvent",this.requestDeviceJidList);this.$1.addEventListener("handleRequestPhoneNumberJidEvent",this.requestPhoneNumberJid);this.$1.addEventListener("handleRequestLidJidEvent",this.requestLidJid);this.$1.addEventListener("handleCallAgainEvent",this.callAgain);this.$1.addEventListener("handleLidCallerDisplayInfoEvent",this.handleLidCallerDisplayInfo);this.$1.subscribe(null)}var c=a.prototype;c.setHandlers=function(a){this.$3=a};c.cleanup=function(){this.$1.removeEventListener!=null&&(this.$1.removeEventListener("handleVoipReadyEvent",this.handleVoipReady),this.$1.removeEventListener("handleVoipCallEvent",this.handleCallEvent),this.$1.removeEventListener("handleSignalingXmppEvent",this.sendSignalingXmpp),this.$1.removeEventListener("handleRequestOpenChatEvent",this.requestOpenChat),this.$1.removeEventListener("handleRequestDeviceJidListEvent",this.requestDeviceJidList),this.$1.removeEventListener("handleRequestPhoneNumberJidEvent",this.requestPhoneNumberJid),this.$1.removeEventListener("handleRequestLidJidEvent",this.requestLidJid),this.$1.removeEventListener("handleCallAgainEvent",this.callAgain),this.$1.removeEventListener("handleLidCallerDisplayInfo",this.handleLidCallerDisplayInfo))};c.handleIncomingSignalingOffer=function(a,b,c,e,f,g,h,i,j){d("WALogger").DEV(q||(q=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleIncomingSignalingOffer called with:"]))).devConsole(arguments),this.$2.handleIncomingSignalingOffer(d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a),b,c,e,f,g,h,i,j?d("WABase64").encodeB64(j):null)};c.handleIncomingSignalingMessage=function(a,b,c,e,f,g,h,i){this.$2.handleIncomingSignalingMessage(d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a),b,c,e,f,g,h,i?d("WABase64").encodeB64(i):null)};c.handleIncomingSignalingAck=function(a,b,c,e,f){d("WALogger").DEV(r||(r=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleIncomingSignalingAck called with:"]))).devConsole(arguments),this.$2.handleIncomingSignalingAck(d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a),b,c,e,f?d("WABase64").encodeB64(f):null)};c.handleIncomingSignalingReceipt=function(a,b,c){d("WALogger").DEV(s||(s=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleIncomingSignalingReceipt called with:"]))).devConsole(arguments),this.$2.handleIncomingSignalingReceipt(d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a),b,c?d("WABase64").encodeB64(c):null)};c.resendOfferOnDecryptionFailure=function(a,b){d("WALogger").DEV(t||(t=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] resendOfferOnDecryptionFailure called with:"]))).devConsole(arguments),this.$2.resendOfferOnDecryptionFailure(a,b)};c.resendEncRekeyRetry=function(a,b){d("WALogger").DEV(u||(u=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] resendEncRekeyRetry called with:"]))).devConsole(arguments),this.$2.resendEncRekeyRetry(a,b)};c.notifyDeviceIdentityChangedOrDeleted=function(a,b){d("WALogger").DEV(v||(v=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] notifyDeviceIdentityChangedOrDeleted called with:"]))).devConsole(arguments),this.$2.notifyDeviceIdentityChangedOrDeleted(a,b)};c.handleWebViewReady=function(){var a;d("WALogger").DEV(w||(w=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleWebViewReady called"])));(a=this.$1)==null||a.handleWebViewReady()};c.voipInit=function(a,b,c){var e;d("WALogger").DEV(x||(x=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] voipInit called with:"]))).devConsole(arguments);(e=this.$1)==null||e.voipInit(a,b,c)};c.setHideMyIp=function(a){var b;d("WALogger").DEV(y||(y=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] setHideMyIp called with:"]))).devConsole(arguments);(b=this.$1)==null||b.setHideMyIp(a)};c.setChatNameAndIcon=function(a,b,c){var e;d("WALogger").DEV(z||(z=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] setChatNameAndIcon called"])));(e=this.$1)==null||e.setChatNameAndIcon(a,b,c)};c.handleSignOut=function(){var a;d("WALogger").DEV(A||(A=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleSignOut called"])));(a=this.$1)==null||a.handleSignOut()};c.startCall=function(a,b,c,e,f,g,h,i,j,k,l){var m;d("WALogger").DEV(B||(B=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] startCall called with:"]))).devConsole(arguments);(m=this.$1)==null||m.startCall(a.toString({legacy:!0}),b,c,e,f,g,h,i?d("WABase64").encodeB64(i):null,j,k,l)};c.startGroupCall=function(a,b,c,e,f,g,h,i,j,k,l,m,n,o){var p;d("WALogger").DEV(C||(C=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] startGroupCall called with:"]))).devConsole(arguments);(p=this.$1)==null||p.startGroupCall(a,b,c,e,f,g,h,i,j,k,l,m,n,o)};c.handleDeviceJidList=function(a,b){var c;d("WALogger").DEV(D||(D=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleDeviceJidList called with:"]))).devConsole(arguments);(c=this.$1)==null||c.handleDeviceJidList(a,b)};c.previewCallLink=function(a,b,c,e,f){var g;d("WALogger").DEV(E||(E=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] previewCallLink called with:"]))).devConsole(arguments);(g=this.$1)==null||g.previewCallLink(a,b,c,e,f)};c.previewAndJoinCallLink=function(a,b,c,e,f){var g;d("WALogger").DEV(F||(F=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] previewAndJoinCallLink called with:"]))).devConsole(arguments);(g=this.$1)==null||g.previewAndJoinCallLink(a,b,c,e,f)};c.endCall=function(a,b){var c;d("WALogger").DEV(G||(G=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] endCall called with:"]))).devConsole(arguments);(c=this.$1)==null||c.endCall(a,b)};c.rejectCallWithoutCallContext=function(a,b,c,e,f,g,h){var i;d("WALogger").DEV(H||(H=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] rejectCallWithoutCallContext called with:"]))).devConsole(arguments);(i=this.$1)==null||i.rejectCallWithoutCallContext(a,b,c,e,f,g,h)};c.joinOngoingCall=function(a,b,c,e,f,g,h,i,j,k,l,m,n,o,p,q){var r;d("WALogger").DEV(I||(I=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] joinOngoingCall called with:"]))).devConsole(arguments);(r=this.$1)==null||r.joinOngoingCall(a,b,c,e,f,g,h,i,j,k,l,m,n,o,p,q)};c.inviteToCall=function(a,b,c){var e;d("WALogger").DEV(J||(J=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] inviteToCall called with:"]))).devConsole(arguments);(e=this.$1)==null||e.inviteToCall(a,b,c)};c.simulateNativeAnr=function(a,b){var c;d("WALogger").DEV(K||(K=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] simulateNativeAnr called with:"]))).devConsole(arguments);(c=this.$1)==null||c.simulateNativeAnr(a,b)};c.requestCallInfo=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WALogger").DEV(L||(L=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] requestCallInfo called with:"]))).devConsole(arguments);var a=(yield this.$1.getCallInfo()),b=a.callInfoJsonBase64,c=a.error;return{callInfoJsonBase64:b,error:c}});function c(){return a.apply(this,arguments)}return c}();c.requestObtainDevicePermissionAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("WALogger").DEV(M||(M=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] requestObtainDevicePermissionAsync called with:"]))).devConsole(arguments);var b=(yield this.$1.requestObtainDevicePermissionAsync(a)),c=b.error,e=b.permissionGranted;return{error:c,permissionGranted:e}});function c(b){return a.apply(this,arguments)}return c}();c.requestDevicesCountAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("WALogger").DEV(N||(N=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] requestDevicesCountAsync called with:"]))).devConsole(arguments);var b=(yield this.$1.getDeviceCountAsync(a)),c=b.error,e=b.deviceCount;return{error:c,deviceCount:e}});function c(b){return a.apply(this,arguments)}return c}();return a}();g.VoipWinRTBridge_v2583=a}),98);
__d("WAWebWindowsHybridBridgeWam.v2583",["Promise","WALogger","WAWebCrashContextUtils","WAWebCrashLogWamEvent","WAWebWamCodegenWamEvent","WAWebWamEnumCrashApplicationState","WAWebWamEnumCrashType"],(function(a,b,c,d,e,f,g){var h,i,j,k;a=function(a){var c=this;this.$2=!1;this.initialize=function(){var a;if(c.$2)return;(a=c.$1)==null||a.addEventListener("eventsSaved",c.handleEvents);(a=c.$1)==null||a.subscribe(null);c.$2=!0};this.handleEvents=function(a){if(!c.$2){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received handleWamEvent while bridge is not initialized"])));return}d("WALogger").DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received handleWamEvent event: ",""])),a);a=JSON.parse(a);void (k||(k=b("Promise"))).all(a.map(function(a){if(a.id===d("WAWebCrashLogWamEvent").CrashLogWamEvent.prototype.id){var b=a[6],c=a[23],e=a[3],f=a[24],g=a[2];a[3]=d("WAWebCrashContextUtils").getCrashEventAppContext(b,g);if(b===d("WAWebWamEnumCrashType").CRASH_TYPE.DISPATCHER_NOT_RESPONDING&&c===d("WAWebWamEnumCrashApplicationState").CRASH_APPLICATION_STATE.FOREGROUND){g=f!=null?f:"unknown";d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["Native ","s ANR detected: ",""])),g,e).sendLogs("hybrid-native-anr-"+g+"s",{sampling:.01})}}return new(d("WAWebWamCodegenWamEvent").RawWamEvent)(a).commitAndWaitForFlush(!0)}))};this.$1=a};g.WindowsHybridBridgeWam_v2583=a}),98);
__d("WAWebWindowsHybridBridge.v2583",["WAWebBuildConstants","WAWebWindowsHybridAppActivationBridge.v2583","WAWebWindowsHybridBridgeAbProps.v2583","WAWebWindowsHybridBridgeAdv.v2583","WAWebWindowsHybridBridgeBrowserExtensions.v2583","WAWebWindowsHybridBridgeConnection.v2583","WAWebWindowsHybridBridgeContacts.v2583","WAWebWindowsHybridBridgeDebugFeatures.v2583","WAWebWindowsHybridBridgeLinksPreview.v2583","WAWebWindowsHybridBridgeMediaFiles.v2583","WAWebWindowsHybridBridgeMediaTranscoder.v2583","WAWebWindowsHybridBridgeNativeAppState.v2583","WAWebWindowsHybridBridgePictures.v2583","WAWebWindowsHybridBridgePreferences.v2583","WAWebWindowsHybridBridgeRateTheApp.v2583","WAWebWindowsHybridBridgeScalingControl.v2583","WAWebWindowsHybridBridgeSeamlessMigration.v2583","WAWebWindowsHybridBridgeSharesheet.v2583","WAWebWindowsHybridBridgeSystemIntegrations.v2583","WAWebWindowsHybridBridgeTouchpadFix.v2583","WAWebWindowsHybridBridgeVoip.v2583","WAWebWindowsHybridBridgeWam.v2583","cr:17220"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.serverEncKeySaltBridge=null;a.hostObjects.options.defaultSyncProxy=!0;a.hostObjects.options.forceAsyncMethodMatches=[/Async$/,/AsyncWithSpeller$/];a.hostObjects.options.ignoreMemberNotFoundError=!0;var c=a.hostObjects.AbPropsBridge;c!=null&&(this.abProps=new(d("WAWebWindowsHybridBridgeAbProps.v2583").WindowsHybridBridgeAbProps_v2583)(c));c=a.hostObjects.WamBridge;c!=null&&(this.wam=new(d("WAWebWindowsHybridBridgeWam.v2583").WindowsHybridBridgeWam_v2583)(c));c=a.hostObjects.PreferencesBridge;c&&(this.$1=new(d("WAWebWindowsHybridBridgePreferences.v2583").WindowsHybridBridgePreferences_v2583)(c));c=a.hostObjects.ScalingControlBridge;c&&(this.scalingControl=new(d("WAWebWindowsHybridBridgeScalingControl.v2583").WindowsHybridBridgeScalingControl_v2583)(c));c=a.hostObjects.PicturesBridge;c&&(this.pictures=new(d("WAWebWindowsHybridBridgePictures.v2583").WindowsHybridBridgePictures_v2583)(c));c=a.hostObjects.DebugFeaturesBridge;var e=b("cr:17220")==null?void 0:b("cr:17220").debugFeaturesMock;c!=null?this.$4=new(d("WAWebWindowsHybridBridgeDebugFeatures.v2583").WindowsHybridBridgeDebugFeatures_v2583)(c):e!=null;c=a.hostObjects.VoipBridge;e=a.hostObjects.VoipSignalingBridge;c&&e&&(this.voip=new(d("WAWebWindowsHybridBridgeVoip.v2583").VoipWinRTBridge_v2583)(c,e));this.$5=new(d("WAWebWindowsHybridBridgeRateTheApp.v2583").WAWebWindowsHybridBridgeRateTheApp_v2583)(a.hostObjects.RateAppBridge);this.$3=new(d("WAWebWindowsHybridBridgeConnection.v2583").WindowsHybridBridgeConnection_v2583)(a.hostObjects.ConnectionBridge);this.$2=a.hostObjects.ClientKeyBridge;this.touchpadFix=new(d("WAWebWindowsHybridBridgeTouchpadFix.v2583").WindowsHybridBridgeTouchpadFix_v2583)(a.hostObjects.TouchpadFix);this.linksPreview=new(d("WAWebWindowsHybridBridgeLinksPreview.v2583").WindowsHybridBridgeLinksPreview_v2583)(a.hostObjects.LinksPreviewBridge);try{c=a.hostObjects.sync.PopulatedContactsBridge;e=a.hostObjects.PopulatedContactsBridge;e!=null&&(this.contacts=new(d("WAWebWindowsHybridBridgeContacts.v2583").WindowsHybridBridgeContacts_v2583)(e,c,!0))}catch(b){e=a.hostObjects.ContactsBridge;e!=null&&(this.contacts=new(d("WAWebWindowsHybridBridgeContacts.v2583").WindowsHybridBridgeContacts_v2583)(e,a.hostObjects.sync.ContactsBridge,!1))}this.sqlite=a.hostObjects.SQLiteBridge;c=a.hostObjects.MediaFilesBridge;c!=null&&(this.mediaFiles=new(d("WAWebWindowsHybridBridgeMediaFiles.v2583").WAWebWindowsHybridBridgeMediaFiles_v2583)(c));e=a.hostObjects.SharesheetBridge;e!=null&&(this.sharesheetBridge=new(d("WAWebWindowsHybridBridgeSharesheet.v2583").WAWebWindowsHybridBridgeSharesheet_v2583)(e));c=a.hostObjects.AppActivationBridge;c!=null&&(this.appActivationBridge=new(d("WAWebWindowsHybridAppActivationBridge.v2583").WindowsHybridAppActivationBridge_v2583)(c));e=a.hostObjects.NativeAppStateBridge;c=a.hostObjects.sync.NativeAppStateBridge;e!=null&&(this.nativeAppStateBridge=new(d("WAWebWindowsHybridBridgeNativeAppState.v2583").WindowsHybridBridgeNativeAppState_v2583)(e,c));e=a.hostObjects.SystemIntegrationsBridge;e&&(this.systemIntegrationsBridge=new(d("WAWebWindowsHybridBridgeSystemIntegrations.v2583").WindowsHybridBridgeSystemIntegrations_v2583)(e));c=a.hostObjects.BrowserExtensionsBridge;c&&(this.browserExtensionsBridge=new(d("WAWebWindowsHybridBridgeBrowserExtensions.v2583").WindowsHybridBridgeBrowserExtensions_v2583)(c));e=a.hostObjects.SeamlessMigrationBridge;e&&(this.seamlessMigrationBridge=new(d("WAWebWindowsHybridBridgeSeamlessMigration.v2583").WindowsHybridBridgeSeamlessMigration_v2583)(e));c=a.hostObjects.MediaTranscodingBridge;c&&(this.mediaTranscodeBridge=new(d("WAWebWindowsHybridBridgeMediaTranscoder.v2583").WindowsHybridBridgeMediaTranscoder_v2583)(a,c));this.adv=new(d("WAWebWindowsHybridBridgeAdv.v2583").WindowsHybridBridgeAdv_v2583)(a.hostObjects.AdvBridge);(e=a.hostObjects.WebUpdateBridge)==null||e.updateWebRevision(d("WAWebBuildConstants").VERSION_TERTIARY)}var c=a.prototype;c.getPreferences=function(){var a;(a=this.$1)==null||a.initialize();return this.$1};c.getScalingControl=function(){var a;(a=this.scalingControl)==null||a.initialize();return this.scalingControl};c.getRateTheApp=function(){return this.$5};c.getClientKeyBridge=function(){return this.$2};c.getDebugFeatures=function(){return this.$4};return a}();g.WindowsHybridBridge_v2583=a}),98);
__d("WAWebWindowsHybridAppActivationBridge.v2584",["WAWebApi","WAWebApiParse","WAWebExecApiCmd"],(function(a,b,c,d,e,f,g){a=function(){function a(a){var b=this;this.initialize=function(){var a;(a=b.$1)==null||a.addEventListener("handleAppActivationViaProtocolEvent",b.handleAppActivationViaProtocolEvent);b.$1.subscribe(null)};this.handleAppActivationViaProtocolEvent=function(a){a=a.toString();a=d("WAWebApiParse").parseAPICmd(a);a.resultType!==d("WAWebApi").APICmd.INVALID&&c("WAWebExecApiCmd")({cmdData:a,isExternal:!0})};this.$1=a}var b=a.prototype;b.cleanup=function(){var a;(a=this.$1)==null||a.removeEventListener("handleAppActivationViaProtocolEvent",this.handleAppActivationViaProtocolEvent)};return a}();g.WindowsHybridAppActivationBridge_v2584=a}),98);
__d("WAWebWindowsHybridBridgeAbProps.v2584",["WALogger","WAWebABPropsCache","WAWebABPropsLocalStorage","WAWebBackendApi","WAWebHybridABProps","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h;a=function(){function a(a){var c=this;this.$2=!1;this.$4=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b;c.$3==null&&(c.$3=d("WAWebHybridABProps").getAllHybridExpoKeys());a=a.toString();b=(b=c.$3)==null?void 0:b.get(a);if(b==null){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[abprops][windows hybrid] unknown exposure key: ",""])),a);return}d("WAWebABPropsCache").saveExposure(b);c.$1.acknowledgeExposure(a)});return function(b){return a.apply(this,arguments)}}();this.$5=function(a){c.$3=null;var b=d("WAWebABPropsLocalStorage").getABKey();if(a!==b){a=d("WAWebHybridABProps").getAllHybridAbProps(!1);c.$1.setConfigs(b,JSON.stringify(a))}};this.$1=a}var c=a.prototype;c.initialize=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=this;if(this.$2)return;this.$2=!0;yield d("WAWebABPropsCache").waitForABPropConfigsReady();this.$1.addEventListener("exposureLogged",this.$4);this.$1.subscribe(null);var b=(yield this.$1.getVersion());d("WAWebBackendApi").frontendFireAndForget("addAbPropsUpdateListener",function(){a.$5(null)});this.$5(b)});function c(){return a.apply(this,arguments)}return c}();return a}();g.WindowsHybridBridgeAbProps_v2584=a}),98);
__d("WAWebWindowsHybridBridgeAdv.v2584",["WABase64","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){a=function(){function a(a){this.$1=a}var c=a.prototype;c.verifySignatureAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){b=(yield this.$1.verify(d("WABase64").encodeB64(b),d("WABase64").encodeB64(c),d("WABase64").encodeB64(a)));return b});function c(b,c,d){return a.apply(this,arguments)}return c}();return a}();g.WindowsHybridBridgeAdv_v2584=a}),98);
__d("WAWebWindowsHybridBridgeBrowserExtensions.v2584",["asyncToGeneratorRuntime"],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=a}var c=a.prototype;c.getBrowserExtensionsInfoAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield this.$1.getBrowserExtensionsInfoAsync());return JSON.parse(a)});function c(){return a.apply(this,arguments)}return c}();c.enableBrowserExtensionAsync=function(a,b){return this.$1.enableBrowserExtensionAsync(a,b)};c.removeBrowserExtensionAsync=function(a){return this.$1.removeBrowserExtensionAsync(a)};c.hasBootstrappedSuccessfully=function(){return this.$1.hasBootstrappedSuccessfully()};c.getZoomBrowserExtensionInfoAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield this.$1.getZoomBrowserExtensionInfoAsync());return JSON.parse(a)});function c(){return a.apply(this,arguments)}return c}();c.enableZoomBrowserExtensionAsync=function(a){return this.$1.enableZoomBrowserExtensionAsync(a)};c.removeZoomBrowserExtensionAsync=function(){return this.$1.removeZoomBrowserExtensionAsync()};c.installZoomBrowserExtensionAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield this.$1.installZoomBrowserExtensionAsync());return JSON.parse(a)});function c(){return a.apply(this,arguments)}return c}();return a}();f.WindowsHybridBridgeBrowserExtensions_v2584=a}),66);
__d("WAWebWindowsHybridBridgeConnection.v2584",["WAComms","WALogger","WAPromiseDelays","WAResolvable","WAWebCallCollection","WAWebEventsWaitForMainStreamReadyMd","WAWebEventsWaitForOfflineDeliveryEnd","WAWebSetWindowsPushConfig","WAWebSocketConstants","WAWebSocketModel","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v;a=function(){function a(a){var e=this;this.$2=!1;this.$3=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.data.toString();a=(a=a.channel)==null?void 0:a.toString();d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleUpdateNotificationsTokenEvent"]))).devConsole(b,a);yield c("WAWebEventsWaitForMainStreamReadyMd")();yield d("WAWebSetWindowsPushConfig").setWindowsPushConfig(b,a);e.$1.handleConnectionState(!0);e.$1.acknowledgeNotificationsToken(b,a)});return function(b){return a.apply(this,arguments)}}();this.$4=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent"])));try{var a;if(!e.$2&&(((a=d("WAComms").getComms())==null?void 0:a.socket)==null||d("WAWebSocketModel").Socket.stream===d("WAWebSocketConstants").SOCKET_STREAM.DISCONNECTED)){d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: socket already closed"])));e.$1.handleConnectionState(!1);return}yield e.$6();yield d("WAPromiseDelays").delayMs(3e4);d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: offline resume complete"])));if(c("WAWebCallCollection").activeCall!=null){d("WALogger").LOG(l||(l=babelHelpers.taggedTemplateLiteralLoose(["voip: WindowsHybridBridgeConnection:handleDisconnectEvent: awaiting active call completion"])));var b=new(d("WAResolvable").Resolvable)();a=function(){c("WAWebCallCollection").activeCall==null&&b.resolve()};c("WAWebCallCollection").on("change:activeCall",a);yield b.promise;c("WAWebCallCollection").off("change:activeCall",a);d("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["voip: WindowsHybridBridgeConnection:handleDisconnectEvent: active call completed"])))}else d("WALogger").LOG(n||(n=babelHelpers.taggedTemplateLiteralLoose(["voip: WindowsHybridBridgeConnection:handleDisconnectEvent: no active call"])));d("WAComms").closeSocketAndPause();d("WALogger").LOG(o||(o=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: socket closed"])));e.$1.handleConnectionState(!1)}catch(a){d("WALogger").ERROR(p||(p=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleDisconnectEvent: failed to close socket: ",""])),a)}});this.$5=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WALogger").LOG(q||(q=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection.handleConnectEvent"])));if(e.$2){d("WALogger").LOG(r||(r=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleConnectEvent: socket already opening"])));return}try{var a;a=((a=d("WAComms").getComms())==null?void 0:a.socket)!=null;a||(e.$2=!0,d("WAComms").closeSocketAndResume(),d("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleConnectEvent: socket opened"]))));yield e.$6();d("WALogger").LOG(t||(t=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleConnectEvent: offline resume complete"])));e.$1.handleConnectionState(!0)}catch(a){d("WALogger").ERROR(u||(u=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:handleConnectEvent: failed to open socket: ",""])),a)}finally{e.$2=!1}});this.$1=a;this.$1.addEventListener("updateNotificationsTokenEvent",this.$3);this.$1.addEventListener("disconnectEvent",this.$4);this.$1.addEventListener("connectEvent",this.$5);this.$1.subscribe(null)}var e=a.prototype;e.$6=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield d("WAComms").waitForConnection(),d("WAWebEventsWaitForOfflineDeliveryEnd").isOfflineDeliveryEnd()||(d("WALogger").LOG(v||(v=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeConnection:waitForOfflineResume"]))),yield d("WAWebEventsWaitForOfflineDeliveryEnd").waitForOfflineDeliveryEnd())});function c(){return a.apply(this,arguments)}return c}();return a}();g.WindowsHybridBridgeConnection_v2584=a}),98);
__d("WAWebWindowsHybridBridgeContacts.v2584",["WALogger","WAWebBackendApi","WAWebContactsDbLidMigrationUtils","WAWebEventsWaitForMainStreamReadyMd","WAWebLidAwareContactsDB","WAWebSchemaContact_DO_NOT_USE_DIRECTLY","WAWebSyncBootstrap","asyncToGeneratorRuntime","filterNulls"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a,e,f){var g=this;this.$4="contacts";this.$5=new Set();this.$6=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=JSON.parse(a);if(a.length===0)return;a.forEach(function(a){return g.$5.add(a)});var b=(yield c("WAWebLidAwareContactsDB").bulkGet(a));b.forEach(function(a){return g.$5["delete"](a==null?void 0:a.id)});a=a.filter(function(a){return g.$5.has(a)});a.forEach(function(a){return g.$5["delete"](a)});void g.$1.updateContacts(a,JSON.stringify(c("filterNulls")(b)))});return function(b){return a.apply(this,arguments)}}();this.$7=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.count;a=a.includeVoipCallableOnly;try{b=(yield d("WAWebBackendApi").frontendSendAndReceive("getFrequentContacts",{count:b,includeVoipCallableOnly:a}));a=JSON.stringify(b);void g.$1.receiveFrequentContacts(a)}catch(a){void g.$1.receiveFrequentContacts(JSON.stringify([]))}});return function(b){return a.apply(this,arguments)}}();this.$1=a;this.$2=e;this.$3=f;a.addEventListener("requestUpdateEvent",this.$6);a.addEventListener("requestFrequentContactsEvent",this.$7);a.subscribe(null)}var e=a.prototype;e.initialize=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=this;c("WAWebLidAwareContactsDB").setUpdateListener(function(b){return a.$8(b)});yield c("WAWebEventsWaitForMainStreamReadyMd")();if(this.$3)return;if(c("WAWebSyncBootstrap").isSyncDBootstrapInProcess())return;this.$3=!0;try{var b=200,e=(yield d("WAWebSchemaContact_DO_NOT_USE_DIRECTLY").getContactTable().all({limit:b,offset:0}));do{var f;f=(f=e[e.length-1])==null?void 0:f.id;e=(yield d("WAWebContactsDbLidMigrationUtils").replacePnRowsWithLidData(e));yield this.$1.updateContacts([],JSON.stringify(e));e=(yield d("WAWebSchemaContact_DO_NOT_USE_DIRECTLY").getContactTable().greaterThan(["id"],f,{limit:b}))}while(e.length>0);this.$1.acknowledgeInitialSync()}catch(a){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[WinUi] setInitialData "," error ",""])),this.$4,a)}});function e(){return a.apply(this,arguments)}return e}();e.$8=function(a){var b=this;if(!this.$3)return;a=a.filter(function(a){return!b.$5.has(a)});if(a.length===0)return;a.forEach(function(a){return b.$5.add(a)});this.$2.invalidateContacts(a)};return a}();g.WindowsHybridBridgeContacts_v2584=a}),98);
__d("WAWebWindowsHybridBridgeDebugFeatures.v2584",["WALogger","WAWebBackendApi","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i=1e3;a=function(){function a(a){var b=this;this.$2=null;this.ping=function(a){var c,e=self.performance.now();c=(e-((c=b.$2)!=null?c:e)).toFixed(0);b.$2=e;d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeDebugFeatures:ping:"," diff:","ms"])),a,c);b.$1.pong(a.valueOf())};this.$1=a;(a=this.$1)==null||a.addEventListener("jsLogs",function(){b.saveJSLogs()});(a=this.$1)==null||a.addEventListener("requestWebLogStringEvent",function(a){void b.requestWebLogString(a)});(a=this.$1)==null||a.addEventListener("pingEvent",this.ping);this.$1.subscribe(null)}var c=a.prototype;c.startHangsMonitor=function(){this.$1.startHangsMonitor()};c.saveNativeLogs=function(){this.$1.saveNativeLogs()};c.requestNativeLogs=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){return this.$1.requestNativeLogs()});function c(){return a.apply(this,arguments)}return c}();c.saveJSLogs=function(){d("WAWebBackendApi").frontendFireAndForget("createDownloadDataForMdWebLogs")};c.limitStringSize=function(a,b){var c=new Blob([a],{type:"text/plain"});if(c.size>b){c=c.size-b;return a.substr(c)}return a};c.requestWebLogString=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield d("WAWebBackendApi").frontendSendAndReceive("getWebLogs"));b=this.limitStringSize(b,30*i);this.$1.sendWebLogString(a.toString(),b)});function c(b){return a.apply(this,arguments)}return c}();return a}();g.WindowsHybridBridgeDebugFeatures_v2584=a}),98);
__d("WAWebWindowsHybridBridgeLinksPreview.v2584",["asyncToGeneratorRuntime"],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=a}var c=a.prototype;c.getPreviewAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield this.$1.getPreviewAsync(a));return a==null||a===""?null:JSON.parse(a)});function c(b){return a.apply(this,arguments)}return c}();return a}();f.WindowsHybridBridgeLinksPreview_v2584=a}),66);
__d("WAWebWindowsHybridBridgeMediaFiles.v2584",[],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=a}var b=a.prototype;b.isCachedMediaFileExist=function(a,b){return this.$1.isCachedMediaFileExist(a,b)};b.tryOpenCachedMediaFile=function(a,b){return this.$1.tryOpenCachedMediaFileFile(a,b)};b.prepareForMediaFileSaving=function(a,b,c){return this.$1.prepareForMediaFileSaving(a,b,c)};b.waitTillMediaDownloadCompletes=function(a,b,c){return this.$1.waitTillMediaDownloadCompletes(a,b,c)};b.selectFolderForBulkMediaSaving=function(){return this.$1.selectFolderForBulkMediaSaving()};b.prepareForZipArchiveSavingAndUnarchiveToFolder=function(a,b,c,d){return this.$1.prepareForZipArchiveSavingAndUnarchiveToFolder(a,b,c,d)};b.requestFileSystemDirectoryHandle=function(a){return this.$1.requestFileSystemDirectoryHandle(a)};b.tryCopyCachedMediaFile=function(a){return this.$1.tryCopyCachedMediaFile(a)};b.tryCopyCachedMediaFiles=function(a){return this.$1.tryCopyCachedMediaFiles(a)};return a}();f.WAWebWindowsHybridBridgeMediaFiles_v2584=a}),66);
__d("WAWebWindowsHybridBridgeMediaTranscoder.v2584",["Promise","WALogger","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D;a=function(){function a(a,b){var c=this;this.$3=new Map();this.$4=new Map();this.$6=function(a){d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[onProgressChanged] sourceBufferId=",", percentage=",""])),a.sourceBufferId,a.percentage);var b=c.$4.get(a.sourceBufferId);b&&b(a.percentage)};this.$1=b;this.$2=a;this.$2.addEventListener("sharedbufferreceived",function(a){a=a;c.$5(a)});this.$1.addEventListener("onProgressChangedEvent",this.$6);this.$1.subscribe(null)}var e=a.prototype;e.requestSharedBufferForTranscoding=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){var f=this;d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[requestSharedBufferForTranscoding] Starting shared buffer request for requestId=",", bufferSize=",""])),a,e);var g=2*1024*1024*1024;if(e>=g){g="Buffer size "+e+" exceeds maximum allowed size of "+g+" bytes (2GB)";d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[requestSharedBufferForTranscoding] ",""])),g);throw c("err")(g)}try{g=new(D||(D=b("Promise")))(function(){var g=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,g){f.$3.set(a,b);d("WALogger").DEV(k||(k=babelHelpers.taggedTemplateLiteralLoose(["[requestSharedBufferForTranscoding] Added pending request for requestId=",""])),a);try{b=(yield f.$1.tryRequestSharedBufferForTranscodingAsync(a,e));!b?(f.$3["delete"](a),d("WALogger").ERROR(l||(l=babelHelpers.taggedTemplateLiteralLoose(["[requestSharedBufferForTranscoding] Failed to create shared buffer for requestId=",", bufferSize=",""])),a,e),g(c("err")("Failed to create shared buffer for transcoding"))):d("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["[requestSharedBufferForTranscoding] Shared buffer creation initiated successfully, waiting for buffer"])))}catch(b){f.$3["delete"](a),d("WALogger").ERROR(n||(n=babelHelpers.taggedTemplateLiteralLoose(["[requestSharedBufferForTranscoding] Error during shared buffer request: ",""])),String(b)),g(b)}});return function(a,b){return g.apply(this,arguments)}}());g=(yield g);return[g.additionalData.BufferId,g.buffer]}catch(a){d("WALogger").ERROR(o||(o=babelHelpers.taggedTemplateLiteralLoose(["[requestSharedBufferForTranscoding] Error awaiting shared buffer response: ",""])),String(a));throw a}});function e(b,c){return a.apply(this,arguments)}return e}();e.performVideoTranscodingFromSharedBuffer=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f){var g=this;d("WALogger").LOG(p||(p=babelHelpers.taggedTemplateLiteralLoose(["[performVideoTranscodingFromSharedBuffer] Starting video transcoding from sourceBufferId="," to resultBufferId="," with maxResultSize=",""])),a,e,f);var h=(yield new(D||(D=b("Promise")))(function(){var h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,h){g.$3.set(e,b);d("WALogger").DEV(q||(q=babelHelpers.taggedTemplateLiteralLoose(["[performVideoTranscodingFromSharedBuffer] Added pending request for resultBufferId=",""])),e);try{b=(yield g.$1.performVideoTranscodingFromSharedBuffer(a,e,f));!b?(g.$3["delete"](e),d("WALogger").ERROR(r||(r=babelHelpers.taggedTemplateLiteralLoose(["[performVideoTranscodingFromSharedBuffer] Video transcoding failed for sourceBufferId=",", resultBufferId="," with maxResultSize=",""])),a,e,f),h(c("err")("Video transcoding failed"))):d("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["[performVideoTranscodingFromSharedBuffer] Video transcoding initiated successfully, waiting for result buffer"])))}catch(a){g.$3["delete"](e),d("WALogger").ERROR(t||(t=babelHelpers.taggedTemplateLiteralLoose(["[performVideoTranscodingFromSharedBuffer] Error during video transcoding: ",""])),String(a)),h(a)}});return function(a,b){return h.apply(this,arguments)}}()));return[h.additionalData.BufferId,h.buffer]});function e(b,c,d){return a.apply(this,arguments)}return e}();e.getVideoPreviewFrameFromSharedBuffer=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){var f=this,g,h;d("WALogger").LOG(u||(u=babelHelpers.taggedTemplateLiteralLoose(["[getVideoPreviewFrameFromSharedBuffer] Starting video preview frame extraction from sourceBufferId="," to resultBufferId=",""])),a,e);var i=(yield new(D||(D=b("Promise")))(function(){var g=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,g){f.$3.set(e,b);d("WALogger").DEV(v||(v=babelHelpers.taggedTemplateLiteralLoose(["[getVideoPreviewFrameFromSharedBuffer] Added pending request for resultBufferId=",""])),e);try{b=(yield f.$1.getVideoPreviewFrameFromSharedBuffer(a,e));!b?(f.$3["delete"](e),d("WALogger").ERROR(w||(w=babelHelpers.taggedTemplateLiteralLoose(["[getVideoPreviewFrameFromSharedBuffer] Video preview frame extraction failed for sourceBufferId=",", resultBufferId=",""])),a,e),g(c("err")("Video preview frame extraction failed"))):d("WALogger").LOG(x||(x=babelHelpers.taggedTemplateLiteralLoose(["[getVideoPreviewFrameFromSharedBuffer] Video preview frame extraction initiated successfully, waiting for result buffer"])))}catch(a){f.$3["delete"](e),d("WALogger").ERROR(y||(y=babelHelpers.taggedTemplateLiteralLoose(["[getVideoPreviewFrameFromSharedBuffer] Error during video preview frame extraction: ",""])),String(a)),g(a)}});return function(a,b){return g.apply(this,arguments)}}()));g=(g=(g=i.additionalData)==null?void 0:g.Width)!=null?g:0;h=(h=(h=i.additionalData)==null?void 0:h.Height)!=null?h:0;return[i.additionalData.BufferId,i.buffer,g,h]});function e(b,c){return a.apply(this,arguments)}return e}();e.releaseSharedBuffer=function(a){d("WALogger").LOG(z||(z=babelHelpers.taggedTemplateLiteralLoose(["[releaseSharedBuffer] Releasing shared buffer with bufferId=",""])),a),this.$1.releaseSharedBuffer(a)};e.setProgressCallback=function(a,b){this.$4.set(a,b)};e.clearProgressCallback=function(a){this.$4["delete"](a)};e.$5=function(a){if(a.additionalData&&a.additionalData.Source==="MediaTranscodingService"){var b;b=(b=a.additionalData)==null?void 0:b.BufferId;d("WALogger").LOG(A||(A=babelHelpers.taggedTemplateLiteralLoose(["[onSharedBufferReceived] Received shared buffer for bufferId=",""])),b);if(b!=null){var c=this.$3.get(b);c?(this.$3["delete"](b),d("WALogger").DEV(B||(B=babelHelpers.taggedTemplateLiteralLoose(["[onSharedBufferReceived] Resolving pending request for bufferId=",""])),b),c({buffer:a.getBuffer(),additionalData:a.additionalData})):d("WALogger").DEV(C||(C=babelHelpers.taggedTemplateLiteralLoose(["[onSharedBufferReceived] No pending request found for bufferId=",""])),b)}}};return a}();g.WindowsHybridBridgeMediaTranscoder_v2584=a}),98);
__d("WAWebWindowsHybridBridgeNativeAppState.v2584",["$InternalEnum","WALogger","WAWebEventEmitter","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l=b("$InternalEnum")({Normal:"normal",MinimizedToTray:"minimizedToTray"});a=function(a,e){var f=this;this.$4=new(c("WAWebEventEmitter"))();this.$5=function(a){a=a.toString();var b=l.cast(a);b!=null?d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeNativeAppState:appStateChanged: ",""])),l.getName(b)):d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeNativeAppState:appStateChanged: invalid appStateId: ",""])),a);f.$3=b;f.$4.trigger("appStateChanged",f.isMinimizedToTray())};this.getAppState=function(){return f.$3};this.getEvents=function(){return f.$4};this.isMinimizedToTray=function(){return f.getAppState()===l.MinimizedToTray};this.takeAppLaunchTimeStamp=function(){return f.$2.takeAppLaunchTimeStamp()};this.getFirstAppRestoreTimeStamp=function(){return f.$2.getFirstAppRestoreTimeStamp()};this.getLastAppRestoreTimeStamp=function(){return f.$2.getLastAppRestoreTimeStamp()};this.detectNativeClockSkew=function(){return f.$2.detectNativeClockSkew(Date.now())};this.getAppStateAsync=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=f.$1.getAppState();a=a.toString();var b=l.cast(a);b!=null?d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeNativeAppState:getAppStateAsync: ",""])),l.getName(b)):d("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["WindowsHybridBridgeNativeAppState:getAppStateAsync: invalid appState '","'"])),a);return b});this.$1=a;this.$2=e;this.$1.addEventListener("appStateChangedEvent",this.$5);this.$1.subscribe(null)};g.AppState_v2584=l;g.WindowsHybridBridgeNativeAppState_v2584=a}),98);
__d("WAWebWindowsHybridBridgePictures.v2584",["WAJids","WALogger","WAWebLidMigrationUtils","WAWebProfilePicThumbCollection","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;a=function(){function a(a){var c=this;this.$2=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=JSON.parse(a);for(a of a){var b;if(d("WAJids").validateGroupJid(a.id.toString())){var e=d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.get(a.id);(e==null?void 0:e.eurl)!==a.eurl&&c.$1.setProfilePictures(JSON.stringify([{eurl:e==null?void 0:e.eurl,id:a.id.toString()}]));continue}e=d("WAWebLidMigrationUtils").toPn(a.id);if(e==null){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[WindowsHybridBridgePictures] PN WID is null"])));continue}var f=d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.get(e);f==null&&e!=null&&(f=(yield d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.resyncPicturesByWid([e])));if(((b=f)==null?void 0:b.eurl)!==a.eurl){c.$1.setProfilePictures(JSON.stringify([{eurl:(b=f)==null?void 0:b.eurl,id:e.toString()}]));b=d("WAWebLidMigrationUtils").toLid(a.id);if(b==null){d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[WindowsHybridBridgePictures] LID WID is null for PN WID: ",""])),e);continue}c.$1.setProfilePictures(JSON.stringify([{eurl:(e=f)==null?void 0:e.eurl,id:b.toString()}]))}}});return function(b){return a.apply(this,arguments)}}();this.$1=a;a.addEventListener("verifyPictureEvent",this.$2);a.subscribe(null)}var c=a.prototype;c.notifyUpdate=function(a){if(a==null)return;if(d("WAJids").validateGroupJid(a.id.toString())){this.$1.setProfilePictures(JSON.stringify([{eurl:a.eurl,id:a.id.toString()}]));return}if(!a.id.isUser())return;var b=d("WAWebLidMigrationUtils").toPn(a.id),c=d("WAWebLidMigrationUtils").toLid(a.id);if(b==null){d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[WindowsHybridBridgePictures] PN WID is null"])));return}if(c==null){d("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["[WindowsHybridBridgePictures] LID WID is null for PN WID: ",""])),b);return}this.$1.setProfilePictures(JSON.stringify([{eurl:a.eurl,id:b.toString()}]));this.$1.setProfilePictures(JSON.stringify([{eurl:a.eurl,id:c.toString()}]))};return a}();g.WindowsHybridBridgePictures_v2584=a}),98);
__d("WAWebWindowsHybridBridgePreferences.v2584",["WAWebUserPrefsBase","WAWebUserPrefsKeys","WAWebUserPrefsLocalStorage","WAWebUserPrefsStore"],(function(a,b,c,d,e,f,g){var h="WANativePreferencesRevision";a=function(){function a(a){var b=this;this.$2=!1;this.$3=null;this.$4=new Set();this.initialize=function(){var a;if(b.$2)return;b.$4.add(String(d("WAWebUserPrefsKeys").UserPrefs.WindowsIsSystemTrayEnabled));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.SYSTEM_THEME_MODE));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.THEME));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.ME_DISPLAY_NAME));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LAST_PUSHNAME));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LID));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LAST_WID_MD));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LANG_FROM_PHONE));b.$4.add(String(d("WAWebUserPrefsKeys").UserPrefs.AbpropsWebRefreshId));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.ABPROPS_REFRESH_ID));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.ABPROPS));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.LANG_FROM_USER));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.GLOBAL_MUTE_CALL_RINGTONE));b.$4.add(String(d("WAWebUserPrefsKeys").KEYS.GLOBAL_MUTE_CALL_NOTIFICATIONS));b.$4.add(String(d("WAWebUserPrefsKeys").UserPrefs.WindowsNotificationBannerSetting));b.$4.add(String(d("WAWebUserPrefsKeys").UserPrefs.WindowsTaskbarNotificationSetting));(a=b.$1)==null||a.addEventListener("everythingRequested",function(){var a=b.$5();b.$3!==a&&(b.$3=a,b.$6())});(a=b.$1)==null||a.subscribe(null);b.$2=!0};this.$1=a}var b=a.prototype;b.$5=function(){var a=c("WAWebUserPrefsStore").getUser(h),b=0;typeof a==="number"?b=a:typeof a==="string"&&(b=Number(a)||0);return b};b.$7=function(a){c("WAWebUserPrefsStore").setUser(h,a)};b.handleSettingChange=function(a,b){var c;if(!this.$4.has(a))return;var d=this.$5();(c=this.$1)==null||c.updateLocalSetting(a,JSON.stringify(b),++d);this.$7(d)};b.$6=function(){var a=this.$5(),b=[],e=[];for(var f of this.$4){var g=c("WAWebUserPrefsStore").getUser(f);if(g!=null){b.push(f);e.push(JSON.stringify(g));continue}g=d("WAWebUserPrefsBase").userPreferencesStoreBase.get(f);g!=null&&(b.push(f),e.push(JSON.stringify(g)));g=c("WAWebUserPrefsLocalStorage").getItemFromLocalStorage(f);g!=null&&(b.push(f),e.push(JSON.stringify(g)))}(g=this.$1)==null||g.updateAllLocalSettings(b,e,a)};b.clean=function(){var a;(a=this.$1)==null||a.clean()};return a}();g.WindowsHybridBridgePreferences_v2584=a}),98);
__d("WAWebWindowsHybridBridgeRateTheApp.v2584",["asyncToGeneratorRuntime"],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=a}var c=a.prototype;c.getStoreProductForCurrentApp=function(){return this.$1.getStoreProductForCurrentAppAsync()};c.requestRateAndApp=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield this.$1.requestRateAndReviewAppAsync());return JSON.parse(a)});function c(){return a.apply(this,arguments)}return c}();return a}();f.WAWebWindowsHybridBridgeRateTheApp_v2584=a}),66);
__d("WAWebWindowsHybridBridgeScalingControl.v2584",["WAWebWindowsScalingControlEventEmitter"],(function(a,b,c,d,e,f,g){a=function(){function a(a){this.$2=!1,this.$3=function(){c("WAWebWindowsScalingControlEventEmitter").trigger("requestZoomIn")},this.$4=function(){c("WAWebWindowsScalingControlEventEmitter").trigger("requestZoomOut")},this.$1=a}var b=a.prototype;b.initialize=function(){var a;if(this.$2)return;this.$2=!0;(a=this.$1)==null||a.addEventListener("zoomInRequested",this.$3);(a=this.$1)==null||a.addEventListener("zoomOutRequested",this.$4);(a=this.$1)==null||a.subscribe(null)};b.zoomIn=function(){this.$3()};b.zoomOut=function(){this.$4()};b.showScalingControl=function(a){var b;(b=this.$1)==null||b.showScalingControl(a)};return a}();g.WindowsHybridBridgeScalingControl_v2584=a}),98);
__d("WAWebWindowsHybridBridgeSeamlessMigration.v2584",["WALogger","WAWebCmd","WAWebUserPrefsMeUser","WAWebWindowsUserPrefsMigrationEventEmitter","justknobx"],(function(a,b,c,d,e,f,g){var h,i,j,k;a=function(){function a(a){var b=this;this.$2=function(a){if(!b.$3())return;d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[SeamlessMigration] Received user preferences event ",""])),a);c("WAWebWindowsUserPrefsMigrationEventEmitter").trigger("storeUserPrefs",a)};this.$1=a;(a=this.$1)==null||a.subscribe(null);(a=this.$1)==null||a.addEventListener("SendUserPreferencesEvent",this.$2);this.initialize()}var b=a.prototype;b.initialize=function(){var a=this,b=c("justknobx")._("2741"),e=c("justknobx")._("2742");d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[SeamlessMigration] RequestIsSeamlessMigrationEnabledStateRequested "," and max retries ",""])),b,e);this.$1.executeLogout(b,e);d("WAWebCmd").Cmd.on("on_initial_chat_synced",function(){if(!a.$3())return;var b=d("WAWebUserPrefsMeUser").getMaybeMeDevicePn();b!=null&&a.$1.requestUserPrefsMigration(b.toJid())});b=c("justknobx")._("4754");d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[SeamlessMigration] RequestIsFilesCleanupEnabledStateRequested ",""])),b);if(b){e=c("justknobx")._("5099");d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["[SeamlessMigration] RequestFilesCleanupAfterDays ",""])),e);this.$1.requestFilesCleanup(e)}};b.$3=function(){return c("justknobx")._("303")};return a}();g.WindowsHybridBridgeSeamlessMigration_v2584=a}),98);
__d("WAWebWindowsHybridBridgeSharesheet.v2584",[],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=a}var b=a.prototype;b.shareFile=function(a,b){return this.$1.shareFile(a,b)};return a}();f.WAWebWindowsHybridBridgeSharesheet_v2584=a}),66);
__d("WAWebWindowsHybridBridgeSystemIntegrations.v2584",["WAWebEventEmitter","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){a=function(){function a(a){var b=this;this.events=new(c("WAWebEventEmitter"))();this.$2=function(a){var c=a.tag,d=a.action;a=a.additionalData;b.events.trigger("MessageNotificationAction",{key:c,action:d,additionalData:a})};this.$1=a;(a=this.$1)==null||a.addEventListener("MessageNotificationActionEvent",this.$2);(a=this.$1)==null||a.subscribe(null)}var d=a.prototype;d.closeMessageNotification=function(a,b){var c;(c=this.$1)==null||c.closeMessageNotification(a,b)};d.showMessageNotification=function(a,b,c,d,e,f,g,h,i,j,k,l){var m;(m=this.$1)==null||m.showMessageNotification(a,b!=null?b:"",c,d,e,f!=null?f:"",g,h,i!=null?i:"",j!=null?j:"",k,l)};d.isNotificationEnabledInSystem=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){return this.$1==null?!1:this.$1.isNotificationEnabledInSystem()});function c(){return a.apply(this,arguments)}return c}();d.updateTaskbarBadge=function(a){this.$1.updateTaskbarBadge(a)};d.getStartupTaskState=function(){return this.$1.getStartupTaskState()};d.updateStartupTask=function(a){this.$1.updateStartupTask(a)};d.updateCurrentWebAppScreen=function(a){this.$1.updateCurrentWebAppScreen(a)};d.playTone=function(a){this.$1.playTone(a)};return a}();g.WindowsHybridBridgeSystemIntegrations_v2584=a}),98);
__d("WAWebWindowsHybridBridgeTouchpadFix.v2584",["WAWebDebounce"],(function(a,b,c,d,e,f,g){a=function(){function a(a){var b=this;this.$2=c("WAWebDebounce")(function(a){if(a.deltaX<=0)return;a=a.target;a=a;var c=!1,d=0;while(a&&a!==document.body&&d<3){var e=self.getComputedStyle(a);if((e.overflowX==="auto"||e.overflowX==="scroll")&&a.scrollWidth>a.clientWidth){c=!0;break}e=a.parentElement;if(!e)break;a=e;d++}c||b.interruptManipulations()},500);this.$1=a}var b=a.prototype;b.interruptManipulations=function(){return this.$1.interruptManipulations()};b.init=function(){document.addEventListener("wheel",this.$2,{passive:!1})};return a}();g.WindowsHybridBridgeTouchpadFix_v2584=a}),98);
__d("WAWebWindowsHybridBridgeVoip.v2584",["WABase64","WALogger","WAWebBackendApi","WAWebSerializeVoipWapNode","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N;a=function(){function a(a,b){var c=this;this.handleVoipReady=function(){var a;d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received voip ready event"])));d("WAWebBackendApi").frontendFireAndForget("addStartingLogoutListener",function(){return c.handleSignOut()});(a=c.$3)==null||a.onVoipReady()};this.sendSignalingXmpp=function(a){var b,e=a.peerJid,f=a.callId,g=a.payload;a=a.shouldEncryptBeforeSending;d("WALogger").DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received sendSignalingXmpp event: ",", ",", ",", ",""])),e,f,g,a);(b=c.$3)==null||b.onSignalingXmpp(e,f,g,a)};this.handleCallEvent=function(a){var b,e=a.eventType,f=a.userData;a=a.eventDataJson;d("WALogger").DEV(j||(j=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received handleCallEvent event: ",", ",", ",""])),e,f,a);(b=c.$3)==null||b.onCallEvent(e,f,a)};this.requestOpenChat=function(a){var b;d("WALogger").DEV(k||(k=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received requestOpenChat event: ",""])),a);(b=c.$3)==null||b.onRequestOpenChat(a)};this.requestDeviceJidList=function(a){var b;d("WALogger").DEV(l||(l=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received requestDeviceJidList event: ",""])),a);void ((b=c.$3)==null?void 0:b.onRequestDeviceJidList(a).then(function(b){var d;(d=c.$1)==null||d.handleDeviceJidList(a.toString(),b)}))};this.requestPhoneNumberJid=function(a){var b;d("WALogger").DEV(m||(m=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received requestPhoneNumberJid event: ",""])),a);void ((b=c.$3)==null||b.onRequestPhoneNumberJid==null?void 0:b.onRequestPhoneNumberJid(a).then(function(b){var d;(d=c.$1)==null||d.handlePhoneNumberJid(a.toString(),b)}))};this.requestLidJid=function(a){var b;d("WALogger").DEV(n||(n=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received requestLidJid event: ",""])),a);void ((b=c.$3)==null||b.onRequestLidJid==null?void 0:b.onRequestLidJid(a).then(function(b){var d;(d=c.$1)==null||d.handleLidJid(a.toString(),b)}))};this.callAgain=function(a){var b,e=a.peerJid;a=a.isVideoCall;d("WALogger").DEV(o||(o=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received callAgain event: ",", ",""])),e,a);(b=c.$3)==null||b.onCallAgain(e,a)};this.handleLidCallerDisplayInfo=function(a){var b;d("WALogger").DEV(p||(p=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received handleLidCallerDisplayInfo event: ",""])),a);(b=c.$3)==null||b.onLidCallerDisplayInfo(a)};this.$1=a;this.$2=b;this.$1.addEventListener("handleVoipReadyEvent",this.handleVoipReady);this.$1.addEventListener("handleVoipCallEvent",this.handleCallEvent);this.$1.addEventListener("handleSignalingXmppEvent",this.sendSignalingXmpp);this.$1.addEventListener("handleRequestOpenChatEvent",this.requestOpenChat);this.$1.addEventListener("handleRequestDeviceJidListEvent",this.requestDeviceJidList);this.$1.addEventListener("handleRequestPhoneNumberJidEvent",this.requestPhoneNumberJid);this.$1.addEventListener("handleRequestLidJidEvent",this.requestLidJid);this.$1.addEventListener("handleCallAgainEvent",this.callAgain);this.$1.addEventListener("handleLidCallerDisplayInfoEvent",this.handleLidCallerDisplayInfo);this.$1.subscribe(null)}var c=a.prototype;c.setHandlers=function(a){this.$3=a};c.cleanup=function(){this.$1.removeEventListener!=null&&(this.$1.removeEventListener("handleVoipReadyEvent",this.handleVoipReady),this.$1.removeEventListener("handleVoipCallEvent",this.handleCallEvent),this.$1.removeEventListener("handleSignalingXmppEvent",this.sendSignalingXmpp),this.$1.removeEventListener("handleRequestOpenChatEvent",this.requestOpenChat),this.$1.removeEventListener("handleRequestDeviceJidListEvent",this.requestDeviceJidList),this.$1.removeEventListener("handleRequestPhoneNumberJidEvent",this.requestPhoneNumberJid),this.$1.removeEventListener("handleRequestLidJidEvent",this.requestLidJid),this.$1.removeEventListener("handleCallAgainEvent",this.callAgain),this.$1.removeEventListener("handleLidCallerDisplayInfo",this.handleLidCallerDisplayInfo))};c.handleIncomingSignalingOffer=function(a,b,c,e,f,g,h,i,j){d("WALogger").DEV(q||(q=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleIncomingSignalingOffer called with:"]))).devConsole(arguments),this.$2.handleIncomingSignalingOffer(d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a),b,c,e,f,g,h,i,j?d("WABase64").encodeB64(j):null)};c.handleIncomingSignalingMessage=function(a,b,c,e,f,g,h,i){this.$2.handleIncomingSignalingMessage(d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a),b,c,e,f,g,h,i?d("WABase64").encodeB64(i):null)};c.handleIncomingSignalingAck=function(a,b,c,e,f){d("WALogger").DEV(r||(r=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleIncomingSignalingAck called with:"]))).devConsole(arguments),this.$2.handleIncomingSignalingAck(d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a),b,c,e,f?d("WABase64").encodeB64(f):null)};c.handleIncomingSignalingReceipt=function(a,b,c){d("WALogger").DEV(s||(s=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleIncomingSignalingReceipt called with:"]))).devConsole(arguments),this.$2.handleIncomingSignalingReceipt(d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a),b,c?d("WABase64").encodeB64(c):null)};c.resendOfferOnDecryptionFailure=function(a,b){d("WALogger").DEV(t||(t=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] resendOfferOnDecryptionFailure called with:"]))).devConsole(arguments),this.$2.resendOfferOnDecryptionFailure(a,b)};c.resendEncRekeyRetry=function(a,b){d("WALogger").DEV(u||(u=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] resendEncRekeyRetry called with:"]))).devConsole(arguments),this.$2.resendEncRekeyRetry(a,b)};c.notifyDeviceIdentityChangedOrDeleted=function(a,b){d("WALogger").DEV(v||(v=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] notifyDeviceIdentityChangedOrDeleted called with:"]))).devConsole(arguments),this.$2.notifyDeviceIdentityChangedOrDeleted(a,b)};c.handleWebViewReady=function(){var a;d("WALogger").DEV(w||(w=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleWebViewReady called"])));(a=this.$1)==null||a.handleWebViewReady()};c.voipInit=function(a,b,c){var e;d("WALogger").DEV(x||(x=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] voipInit called with:"]))).devConsole(arguments);(e=this.$1)==null||e.voipInit(a,b,c)};c.setHideMyIp=function(a){var b;d("WALogger").DEV(y||(y=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] setHideMyIp called with:"]))).devConsole(arguments);(b=this.$1)==null||b.setHideMyIp(a)};c.setChatNameAndIcon=function(a,b,c){var e;d("WALogger").DEV(z||(z=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] setChatNameAndIcon called"])));(e=this.$1)==null||e.setChatNameAndIcon(a,b,c)};c.handleSignOut=function(){var a;d("WALogger").DEV(A||(A=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleSignOut called"])));(a=this.$1)==null||a.handleSignOut()};c.startCall=function(a,b,c,e,f,g,h,i,j,k,l){var m;d("WALogger").DEV(B||(B=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] startCall called with:"]))).devConsole(arguments);(m=this.$1)==null||m.startCall(a.toString({legacy:!0}),b,c,e,f,g,h,i?d("WABase64").encodeB64(i):null,j,k,l)};c.startGroupCall=function(a,b,c,e,f,g,h,i,j,k,l,m,n,o){var p;d("WALogger").DEV(C||(C=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] startGroupCall called with:"]))).devConsole(arguments);(p=this.$1)==null||p.startGroupCall(a,b,c,e,f,g,h,i,j,k,l,m,n,o)};c.handleDeviceJidList=function(a,b){var c;d("WALogger").DEV(D||(D=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] handleDeviceJidList called with:"]))).devConsole(arguments);(c=this.$1)==null||c.handleDeviceJidList(a,b)};c.previewCallLink=function(a,b,c,e,f){var g;d("WALogger").DEV(E||(E=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] previewCallLink called with:"]))).devConsole(arguments);(g=this.$1)==null||g.previewCallLink(a,b,c,e,f)};c.previewAndJoinCallLink=function(a,b,c,e,f){var g;d("WALogger").DEV(F||(F=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] previewAndJoinCallLink called with:"]))).devConsole(arguments);(g=this.$1)==null||g.previewAndJoinCallLink(a,b,c,e,f)};c.endCall=function(a,b){var c;d("WALogger").DEV(G||(G=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] endCall called with:"]))).devConsole(arguments);(c=this.$1)==null||c.endCall(a,b)};c.rejectCallWithoutCallContext=function(a,b,c,e,f,g,h){var i;d("WALogger").DEV(H||(H=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] rejectCallWithoutCallContext called with:"]))).devConsole(arguments);(i=this.$1)==null||i.rejectCallWithoutCallContext(a,b,c,e,f,g,h)};c.joinOngoingCall=function(a,b,c,e,f,g,h,i,j,k,l,m,n,o,p,q){var r;d("WALogger").DEV(I||(I=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] joinOngoingCall called with:"]))).devConsole(arguments);(r=this.$1)==null||r.joinOngoingCall(a,b,c,e,f,g,h,i,j,k,l,m,n,o,p,q)};c.inviteToCall=function(a,b,c){var e;d("WALogger").DEV(J||(J=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] inviteToCall called with:"]))).devConsole(arguments);(e=this.$1)==null||e.inviteToCall(a,b,c)};c.simulateNativeAnr=function(a,b){var c;d("WALogger").DEV(K||(K=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] simulateNativeAnr called with:"]))).devConsole(arguments);(c=this.$1)==null||c.simulateNativeAnr(a,b)};c.requestCallInfo=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WALogger").DEV(L||(L=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] requestCallInfo called with:"]))).devConsole(arguments);var a=(yield this.$1.getCallInfo()),b=a.callInfoJsonBase64,c=a.error;return{callInfoJsonBase64:b,error:c}});function c(){return a.apply(this,arguments)}return c}();c.requestObtainDevicePermissionAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("WALogger").DEV(M||(M=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] requestObtainDevicePermissionAsync called with:"]))).devConsole(arguments);var b=(yield this.$1.requestObtainDevicePermissionAsync(a)),c=b.error,e=b.permissionGranted;return{error:c,permissionGranted:e}});function c(b){return a.apply(this,arguments)}return c}();c.requestDevicesCountAsync=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("WALogger").DEV(N||(N=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: [JS -> Native] requestDevicesCountAsync called with:"]))).devConsole(arguments);var b=(yield this.$1.getDeviceCountAsync(a)),c=b.error,e=b.deviceCount;return{error:c,deviceCount:e}});function c(b){return a.apply(this,arguments)}return c}();return a}();g.VoipWinRTBridge_v2584=a}),98);
__d("WAWebWindowsHybridBridgeWam.v2584",["Promise","WALogger","WAWebCrashContextUtils","WAWebCrashLogWamEvent","WAWebWamCodegenWamEvent","WAWebWamEnumCrashApplicationState","WAWebWamEnumCrashType"],(function(a,b,c,d,e,f,g){var h,i,j,k;a=function(a){var c=this;this.$2=!1;this.initialize=function(){var a;if(c.$2)return;(a=c.$1)==null||a.addEventListener("eventsSaved",c.handleEvents);(a=c.$1)==null||a.subscribe(null);c.$2=!0};this.handleEvents=function(a){if(!c.$2){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received handleWamEvent while bridge is not initialized"])));return}d("WALogger").DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["VoipWinRTBridge: received handleWamEvent event: ",""])),a);a=JSON.parse(a);void (k||(k=b("Promise"))).all(a.map(function(a){if(a.id===d("WAWebCrashLogWamEvent").CrashLogWamEvent.prototype.id){var b=a[6],c=a[23],e=a[3],f=a[24],g=a[2];a[3]=d("WAWebCrashContextUtils").getCrashEventAppContext(b,g);if(b===d("WAWebWamEnumCrashType").CRASH_TYPE.DISPATCHER_NOT_RESPONDING&&c===d("WAWebWamEnumCrashApplicationState").CRASH_APPLICATION_STATE.FOREGROUND){g=f!=null?f:"unknown";d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["Native ","s ANR detected: ",""])),g,e).sendLogs("hybrid-native-anr-"+g+"s",{sampling:.01})}}return new(d("WAWebWamCodegenWamEvent").RawWamEvent)(a).commitAndWaitForFlush(!0)}))};this.$1=a};g.WindowsHybridBridgeWam_v2584=a}),98);
__d("WAWebWindowsHybridBridge.v2584",["WAWebBuildConstants","WAWebWindowsHybridAppActivationBridge.v2584","WAWebWindowsHybridBridgeAbProps.v2584","WAWebWindowsHybridBridgeAdv.v2584","WAWebWindowsHybridBridgeBrowserExtensions.v2584","WAWebWindowsHybridBridgeConnection.v2584","WAWebWindowsHybridBridgeContacts.v2584","WAWebWindowsHybridBridgeDebugFeatures.v2584","WAWebWindowsHybridBridgeLinksPreview.v2584","WAWebWindowsHybridBridgeMediaFiles.v2584","WAWebWindowsHybridBridgeMediaTranscoder.v2584","WAWebWindowsHybridBridgeNativeAppState.v2584","WAWebWindowsHybridBridgePictures.v2584","WAWebWindowsHybridBridgePreferences.v2584","WAWebWindowsHybridBridgeRateTheApp.v2584","WAWebWindowsHybridBridgeScalingControl.v2584","WAWebWindowsHybridBridgeSeamlessMigration.v2584","WAWebWindowsHybridBridgeSharesheet.v2584","WAWebWindowsHybridBridgeSystemIntegrations.v2584","WAWebWindowsHybridBridgeTouchpadFix.v2584","WAWebWindowsHybridBridgeVoip.v2584","WAWebWindowsHybridBridgeWam.v2584","cr:17220"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.serverEncKeySaltBridge=null;a.hostObjects.options.defaultSyncProxy=!0;a.hostObjects.options.forceAsyncMethodMatches=[/Async$/,/AsyncWithSpeller$/];a.hostObjects.options.ignoreMemberNotFoundError=!0;var c=a.hostObjects.AbPropsBridge;c!=null&&(this.abProps=new(d("WAWebWindowsHybridBridgeAbProps.v2584").WindowsHybridBridgeAbProps_v2584)(c));c=a.hostObjects.WamBridge;c!=null&&(this.wam=new(d("WAWebWindowsHybridBridgeWam.v2584").WindowsHybridBridgeWam_v2584)(c));c=a.hostObjects.PreferencesBridge;c&&(this.$1=new(d("WAWebWindowsHybridBridgePreferences.v2584").WindowsHybridBridgePreferences_v2584)(c));c=a.hostObjects.ScalingControlBridge;c&&(this.scalingControl=new(d("WAWebWindowsHybridBridgeScalingControl.v2584").WindowsHybridBridgeScalingControl_v2584)(c));c=a.hostObjects.PicturesBridge;c&&(this.pictures=new(d("WAWebWindowsHybridBridgePictures.v2584").WindowsHybridBridgePictures_v2584)(c));c=a.hostObjects.DebugFeaturesBridge;var e=b("cr:17220")==null?void 0:b("cr:17220").debugFeaturesMock;c!=null?this.$4=new(d("WAWebWindowsHybridBridgeDebugFeatures.v2584").WindowsHybridBridgeDebugFeatures_v2584)(c):e!=null;c=a.hostObjects.VoipBridge;e=a.hostObjects.VoipSignalingBridge;c&&e&&(this.voip=new(d("WAWebWindowsHybridBridgeVoip.v2584").VoipWinRTBridge_v2584)(c,e));this.$5=new(d("WAWebWindowsHybridBridgeRateTheApp.v2584").WAWebWindowsHybridBridgeRateTheApp_v2584)(a.hostObjects.RateAppBridge);this.$3=new(d("WAWebWindowsHybridBridgeConnection.v2584").WindowsHybridBridgeConnection_v2584)(a.hostObjects.ConnectionBridge);this.$2=a.hostObjects.ClientKeyBridge;this.touchpadFix=new(d("WAWebWindowsHybridBridgeTouchpadFix.v2584").WindowsHybridBridgeTouchpadFix_v2584)(a.hostObjects.TouchpadFix);this.linksPreview=new(d("WAWebWindowsHybridBridgeLinksPreview.v2584").WindowsHybridBridgeLinksPreview_v2584)(a.hostObjects.LinksPreviewBridge);try{c=a.hostObjects.sync.PopulatedContactsBridge;e=a.hostObjects.PopulatedContactsBridge;e!=null&&(this.contacts=new(d("WAWebWindowsHybridBridgeContacts.v2584").WindowsHybridBridgeContacts_v2584)(e,c,!0))}catch(b){e=a.hostObjects.ContactsBridge;e!=null&&(this.contacts=new(d("WAWebWindowsHybridBridgeContacts.v2584").WindowsHybridBridgeContacts_v2584)(e,a.hostObjects.sync.ContactsBridge,!1))}this.sqlite=a.hostObjects.SQLiteBridge;c=a.hostObjects.MediaFilesBridge;c!=null&&(this.mediaFiles=new(d("WAWebWindowsHybridBridgeMediaFiles.v2584").WAWebWindowsHybridBridgeMediaFiles_v2584)(c));e=a.hostObjects.SharesheetBridge;e!=null&&(this.sharesheetBridge=new(d("WAWebWindowsHybridBridgeSharesheet.v2584").WAWebWindowsHybridBridgeSharesheet_v2584)(e));c=a.hostObjects.AppActivationBridge;c!=null&&(this.appActivationBridge=new(d("WAWebWindowsHybridAppActivationBridge.v2584").WindowsHybridAppActivationBridge_v2584)(c));e=a.hostObjects.NativeAppStateBridge;c=a.hostObjects.sync.NativeAppStateBridge;e!=null&&(this.nativeAppStateBridge=new(d("WAWebWindowsHybridBridgeNativeAppState.v2584").WindowsHybridBridgeNativeAppState_v2584)(e,c));e=a.hostObjects.SystemIntegrationsBridge;e&&(this.systemIntegrationsBridge=new(d("WAWebWindowsHybridBridgeSystemIntegrations.v2584").WindowsHybridBridgeSystemIntegrations_v2584)(e));c=a.hostObjects.BrowserExtensionsBridge;c&&(this.browserExtensionsBridge=new(d("WAWebWindowsHybridBridgeBrowserExtensions.v2584").WindowsHybridBridgeBrowserExtensions_v2584)(c));e=a.hostObjects.SeamlessMigrationBridge;e&&(this.seamlessMigrationBridge=new(d("WAWebWindowsHybridBridgeSeamlessMigration.v2584").WindowsHybridBridgeSeamlessMigration_v2584)(e));c=a.hostObjects.MediaTranscodingBridge;c&&(this.mediaTranscodeBridge=new(d("WAWebWindowsHybridBridgeMediaTranscoder.v2584").WindowsHybridBridgeMediaTranscoder_v2584)(a,c));this.adv=new(d("WAWebWindowsHybridBridgeAdv.v2584").WindowsHybridBridgeAdv_v2584)(a.hostObjects.AdvBridge);(e=a.hostObjects.WebUpdateBridge)==null||e.updateWebRevision(d("WAWebBuildConstants").VERSION_TERTIARY)}var c=a.prototype;c.getPreferences=function(){var a;(a=this.$1)==null||a.initialize();return this.$1};c.getScalingControl=function(){var a;(a=this.scalingControl)==null||a.initialize();return this.scalingControl};c.getRateTheApp=function(){return this.$5};c.getClientKeyBridge=function(){return this.$2};c.getDebugFeatures=function(){return this.$4};return a}();g.WindowsHybridBridge_v2584=a}),98);
__d("WAWebWindowsHybridBridgeCommon",[],(function(a,b,c,d,e,f){"use strict";var g=null;function a(a){g=a}function b(){return g}f.WAWebWindowsSetBridge=a;f.WAWebWindowsGetBridge=b}),66);
__d("WAWebWindowsHybridBridgeUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(a==null||a.length!==6||!/^\d{6}$/.test(a))return a;var b=a.slice(0,4),c=a.slice(-2);b=parseInt(b,10);c=parseInt(c,10);if(b<2574||b>=2577)return a;a=b-2574;b=a*10+Math.floor(c/10);a=2574+b;b=c%10;return""+a+String(b).padStart(2,"0")}f.getBetaHybridVersionForBridgeCut=a}),66);
__d("WAWebWindowsHybridFlowHelpers",[],(function(a,b,c,d,e,f){function a(a){return a}f.unsafeCastCustomWebView=a}),66);
__d("WAWebWindowsHybridBridgeFactory",["WALogger","WAWebBuildConstants","WAWebEnvironment","WAWebWindowsHybridBridge","WAWebWindowsHybridBridge.v2558","WAWebWindowsHybridBridge.v2559","WAWebWindowsHybridBridge.v2560","WAWebWindowsHybridBridge.v2562","WAWebWindowsHybridBridge.v2563","WAWebWindowsHybridBridge.v2564","WAWebWindowsHybridBridge.v2566","WAWebWindowsHybridBridge.v2567","WAWebWindowsHybridBridge.v2569","WAWebWindowsHybridBridge.v2570","WAWebWindowsHybridBridge.v2571","WAWebWindowsHybridBridge.v2572","WAWebWindowsHybridBridge.v2573","WAWebWindowsHybridBridge.v2574","WAWebWindowsHybridBridge.v2575","WAWebWindowsHybridBridge.v2576","WAWebWindowsHybridBridge.v2577","WAWebWindowsHybridBridge.v2579","WAWebWindowsHybridBridge.v2580","WAWebWindowsHybridBridge.v2581","WAWebWindowsHybridBridge.v2582","WAWebWindowsHybridBridge.v2583","WAWebWindowsHybridBridge.v2584","WAWebWindowsHybridBridgeCommon","WAWebWindowsHybridBridgeUtils","WAWebWindowsHybridFlowHelpers","err","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m;e=new URLSearchParams((b=self.location.search)!=null?b:"");var n=e.get("bridgeError")==="1";function o(a){var b;if(!c("WAWebEnvironment").isWindows)return!1;if(((b=window.chrome)==null?void 0:b.webview)==null){if(c("gkx")("26258")||n)throw c("err")(a);d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[windows] bridge was not initialized: ",""])),a);return!1}return!0}function p(a){a===void 0&&(a="getWebView: no bridge available");return!o(a)?null:(a=window.chrome)==null?void 0:a.webview}function q(){try{var a=p();if(a!=null){var b=d("WAWebBuildConstants").WINDOWS_BUILD;b!=null&&(b=d("WAWebWindowsHybridBridgeUtils").getBetaHybridVersionForBridgeCut(b));b=r(b,a);d("WAWebWindowsHybridBridgeCommon").WAWebWindowsSetBridge(b);return b}}catch(a){d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["WinRTBridge: failed to initialize: ",""])),a)}return null}function r(a,b){try{if(a!=null&&a.startsWith("2559"))return new(d("WAWebWindowsHybridBridge.v2559").WindowsHybridBridge_v2559)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2558"))return new(d("WAWebWindowsHybridBridge.v2558").WindowsHybridBridge_v2558)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2560"))return new(d("WAWebWindowsHybridBridge.v2560").WindowsHybridBridge_v2560)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2562"))return new(d("WAWebWindowsHybridBridge.v2562").WindowsHybridBridge_v2562)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2563"))return new(d("WAWebWindowsHybridBridge.v2563").WindowsHybridBridge_v2563)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2564"))return new(d("WAWebWindowsHybridBridge.v2564").WindowsHybridBridge_v2564)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2566"))return new(d("WAWebWindowsHybridBridge.v2566").WindowsHybridBridge_v2566)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2567"))return new(d("WAWebWindowsHybridBridge.v2567").WindowsHybridBridge_v2567)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2569"))return new(d("WAWebWindowsHybridBridge.v2569").WindowsHybridBridge_v2569)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2570"))return new(d("WAWebWindowsHybridBridge.v2570").WindowsHybridBridge_v2570)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2571"))return new(d("WAWebWindowsHybridBridge.v2571").WindowsHybridBridge_v2571)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2572"))return new(d("WAWebWindowsHybridBridge.v2572").WindowsHybridBridge_v2572)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2573"))return new(d("WAWebWindowsHybridBridge.v2573").WindowsHybridBridge_v2573)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2574"))return new(d("WAWebWindowsHybridBridge.v2574").WindowsHybridBridge_v2574)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2575"))return new(d("WAWebWindowsHybridBridge.v2575").WindowsHybridBridge_v2575)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2576"))return new(d("WAWebWindowsHybridBridge.v2576").WindowsHybridBridge_v2576)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2577"))return new(d("WAWebWindowsHybridBridge.v2577").WindowsHybridBridge_v2577)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2579"))return new(d("WAWebWindowsHybridBridge.v2579").WindowsHybridBridge_v2579)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2580"))return new(d("WAWebWindowsHybridBridge.v2580").WindowsHybridBridge_v2580)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2581"))return new(d("WAWebWindowsHybridBridge.v2581").WindowsHybridBridge_v2581)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2582"))return new(d("WAWebWindowsHybridBridge.v2582").WindowsHybridBridge_v2582)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2583"))return new(d("WAWebWindowsHybridBridge.v2583").WindowsHybridBridge_v2583)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2584"))return new(d("WAWebWindowsHybridBridge.v2584").WindowsHybridBridge_v2584)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["windows hybrid bridge: unsupported build version ",""])),a).sendLogs("windows hybrid bridge version missing");return new(d("WAWebWindowsHybridBridge").WindowsHybridBridge)(b)}catch(a){d("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["WinRTBridge: failed to initialize bridge instance: ",""])),a)}}var s=null,t=0;function a(){if(s==null){t>0&&d("WALogger").ERROR(l||(l=babelHelpers.taggedTemplateLiteralLoose(["WinRTBridge: bridge is being initialized "," times for WINDOWS_BUILD ",""])),t,d("WAWebBuildConstants").WINDOWS_BUILD).sendLogs("windows bridge multiple init");t++;try{s=q()}catch(a){d("WALogger").ERROR(m||(m=babelHelpers.taggedTemplateLiteralLoose(["WinRTBridge: failed to initialize: ",""])),a).devConsole(a).sendLogs("windows bridge init error")}}return s}g.getIsBridgeReady=o;g.getWebView=p;g.getWindowsBridge=a}),98);
__d("WAWebWindowsMessagePassingBridgeArgsList",[],(function(a,b,c,d,e,f){a={CompatibilityGetSupportedNativeIpcs:[],ExecuteSqlite:["queries"],ShowMessageNotification:["key","tag","header","body","thumbnailPath","footer","contextMenu","replyInputPlaceholder","replyButtonContent","suppressBanner","suppressNotificationOnAppClosed"],CloseMessageNotification:["key","tag"],IsNotificationEnabledInSystem:[],OpenSystemNotificationsSettings:[],UpdateTaskbarBadge:["count","ignoreIfAppInSystemTray"],UpdateLocalSetting:["key","value","revision"],GetStartupTaskState:[],UpdateStartupTask:["enabled"]};f["default"]=a}),66);
__d("WAWebWindowsMessagePassingBridgeCompatibilityAdapter",["WALogger","WAResolvable","WAWebWindowsMessagePassingBridgeArgsList","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=null,l=null;function m(a){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(l!=null)return l.promise;l=new(d("WAResolvable").Resolvable)();try{d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["initCompatibilityAdapter: requesting list of IPCs from Native"])));a=(yield a.call("CompatibilityGetSupportedNativeIpcs"));k=JSON.parse(a);d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["initCompatibilityAdapter: received list of IPCs from Native"])));(a=l)==null||a.resolve()}catch(b){d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["initCompatibilityAdapter: failed with error ",""])),b).sendLogs("initCompatibilityAdapter: failed with error");(a=l)==null||a.reject(b)}l=null});return n.apply(this,arguments)}function a(a,b,c){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,d){if(k==null){if(b==="CompatibilityGetSupportedNativeIpcs")return[];yield m(a);if(k==null)throw c("err")("IPC_TO_NUM_ARGS should not be null after init")}a=k[b];b=c("WAWebWindowsMessagePassingBridgeArgsList")[b].slice(0,a);return b.map(function(a){return d[a]})});return o.apply(this,arguments)}g.initCompatibilityAdapter=m;g.selectArgsForIpc=a}),98);
__d("WAWebWindowsMessagePassingBridgeEventEmitter",["invariant","WAWebTypedEventEmitter"],(function(a,b,c,d,e,f,g,h){"use strict";a=function(a){function b(){return a.apply(this,arguments)||this}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.handleNativeEvent=function(a){a=a.split(",");var b=a.shift();switch(b){case"MessageNotificationAction":a.length>=3||h(0,89560);this.trigger("MessageNotificationAction",{key:a[0],action:a[1],additionalData:decodeURIComponent(a[2])});break;case"RequestOpenChat":a.length>=1||h(0,90387);this.trigger("RequestOpenChat",{chatJid:a[0]});break;case"OnIsAppInSystemTrayChanged":this.trigger("OnIsAppInSystemTrayChanged",{isAppInSystemTray:a[0]==="True"});break;case"RequestAllWebClientPreferences":this.trigger("RequestAllWebClientPreferences",{});break}};return b}(c("WAWebTypedEventEmitter"));g.WAWebWindowsMessagePassingBridgeEventEmitter=a}),98);
__d("WAWebWindowsMessagePassingBridge",["invariant","WALogger","WAParsableWapNode","WAResolvable","WAWap","WAWebSerializeVoipWapNode","WAWebWid","WAWebWindowsHybridBridgeFactory","WAWebWindowsMessagePassingBridgeCompatibilityAdapter","WAWebWindowsMessagePassingBridgeEventEmitter","asyncToGeneratorRuntime","err","nullthrows"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m,n,o,p,q,r=new Map([["CompatibilityGetSupportedNativeIpcs","CompatibilityGetSupportedNativeIpcs"],["ExecuteSqlite","RequestExecuteSqlite"],["ShowMessageNotification","ShowMessageNotification"],["CloseMessageNotification","CloseMessageNotification"],["IsNotificationEnabledInSystem","IsNotificationEnabledInSystem"],["OpenSystemNotificationsSettings","OpenSystemNotificationsSettings"],["UpdateTaskbarBadge","UpdateTaskbarBadge"],["UpdateLocalSetting","UpdateLocalSetting"],["GetStartupTaskState","GetStartupTaskState"],["UpdateStartupTask","UpdateStartupTask"]]);a=function(){function a(){var a=this;this.latestTransactionId=0;this.pendingCallIpcs=new Map();this.nativeEventEmitter=new(d("WAWebWindowsMessagePassingBridgeEventEmitter").WAWebWindowsMessagePassingBridgeEventEmitter)();var b=d("WAWebWindowsHybridBridgeFactory").getWebView("invokeWAWebWindowsWebViewNativeBridge: postMessage not available (not in the Windows WebView?)");b==null||b.addEventListener==null||b.addEventListener("message",function(b){typeof b.data==="string"&&a.handleNativeIpcResponseEvent(b.data)});b==null||b.addEventListener==null||b.addEventListener("message",function(b){typeof b.data==="string"&&a.nativeEventEmitter.handleNativeEvent(b.data)});void d("WAWebWindowsMessagePassingBridgeCompatibilityAdapter").initCompatibilityAdapter(this)}var e=a.prototype;e.call=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b===void 0&&(b={});d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Starting IPC call for method: ",""])),a);d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Arguments: ",""])),JSON.stringify(b));b=(yield d("WAWebWindowsMessagePassingBridgeCompatibilityAdapter").selectArgsForIpc(this,a,b));b=b.map(s).join(",");d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Processed arg string: ",""])),b);if(!r.has(a)){d("WALogger").ERROR(l||(l=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Invalid callable method: ",""])),a);throw c("err")("invokeWAWebWindowsWebViewNativeBridge: invalid callable method: "+a)}var e=c("nullthrows")(r.get(a));d("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Mapped IPC method name: ",""])),e);var f=new(d("WAResolvable").Resolvable)();this.pendingCallIpcs.set(++this.latestTransactionId,f);d("WALogger").LOG(n||(n=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Created transaction ID: ",""])),this.latestTransactionId);b=b.split(",");b.push(this.latestTransactionId.toString());var g=d("WAWebWindowsHybridBridgeFactory").getWebView("invokeWAWebWindowsWebViewNativeBridge: postMessage not available (not in the Windows WebView?)");e=e+","+b.join(",");d("WALogger").LOG(o||(o=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Sending message to native: ",""])),e);try{yield g==null||g.postMessage==null?void 0:g.postMessage(e);b=(yield f.promise);d("WALogger").LOG(p||(p=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Received successful response for "," (txId: ","): ",""])),a,this.latestTransactionId,b);return b}catch(b){d("WALogger").ERROR(q||(q=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: IPC call failed for "," (txId: ","): ",""])),a,this.latestTransactionId,b).devConsole(b);throw b}});function e(b,c){return a.apply(this,arguments)}return e}();e.handleNativeIpcResponseEvent=function(a){a=a.split(",");var b=parseInt(a.shift(),10),c=a.shift();if(Number.isNaN(b)||c!=="NativeResponseToJS")return;this.handleNativeResponseEvent(b,a)};e.handleNativeResponseEvent=function(a,b){var c=b.shift();c!=null||h(0,88527);c=c==="0";this.pendingCallIpcs.has(a)||h(0,88528,a);var d=this.pendingCallIpcs.get(a);this.pendingCallIpcs["delete"](a);a=b.join(",");c?d==null?void 0:d.resolve(a):d==null?void 0:d.reject(a)};return a}();function s(a){if(typeof a==="string")return encodeURIComponent(a);else if(typeof a==="boolean")return a?"true":"false";else if(typeof a==="number")return a.toString(10);else if(a instanceof d("WAWap").WapNode||a instanceof d("WAParsableWapNode").ParsableWapNode){var b=d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a);return encodeURIComponent(b)}else if(a instanceof c("WAWebWid"))return a.toString({legacy:!0});else if(Array.isArray(a))return"["+a.map(s).join("|")+"]";else if(a==null)return"";throw c("err")("Windows WebView2 bridge: invokeNative: Unsupported argument type.",a)}g.WAWebWindowsMessagePassingBridge=a}),98);
__d("WAWebWindowsMessagePassingBridgeArgsList.v2558",[],(function(a,b,c,d,e,f){a={CompatibilityGetSupportedNativeIpcs:[],ExecuteSqlite:["queries"],ShowMessageNotification:["key","tag","header","body","thumbnailPath","footer","contextMenu","replyInputPlaceholder","replyButtonContent","suppressBanner","suppressNotificationOnAppClosed"],CloseMessageNotification:["key","tag"],IsNotificationEnabledInSystem:[],OpenSystemNotificationsSettings:[],UpdateTaskbarBadge:["count","ignoreIfAppInSystemTray"],UpdateLocalSetting:["key","value","revision"],GetStartupTaskState:[],UpdateStartupTask:["enabled"]};f["default"]=a}),66);
__d("WAWebWindowsMessagePassingBridgeCompatibilityAdapter.v2558",["WALogger","WAResolvable","WAWebWindowsMessagePassingBridgeArgsList.v2558","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=null,l=null;function m(a){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(l!=null)return l.promise;l=new(d("WAResolvable").Resolvable)();try{d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["initCompatibilityAdapter: requesting list of IPCs from Native"])));a=(yield a.call("CompatibilityGetSupportedNativeIpcs"));k=JSON.parse(a);d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["initCompatibilityAdapter: received list of IPCs from Native"])));(a=l)==null||a.resolve()}catch(b){d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["initCompatibilityAdapter: failed with error ",""])),b).sendLogs("initCompatibilityAdapter: failed with error");(a=l)==null||a.reject(b)}l=null});return n.apply(this,arguments)}function a(a,b,c){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,d){if(k==null){if(b==="CompatibilityGetSupportedNativeIpcs")return[];yield m(a);if(k==null)throw c("err")("IPC_TO_NUM_ARGS should not be null after init")}a=k[b];b=c("WAWebWindowsMessagePassingBridgeArgsList.v2558")[b].slice(0,a);return b.map(function(a){return d[a]})});return o.apply(this,arguments)}g.initCompatibilityAdapter_v2558=m;g.selectArgsForIpc_v2558=a}),98);
__d("WAWebWindowsMessagePassingBridgeEventEmitter.v2558",["invariant","WAWebTypedEventEmitter"],(function(a,b,c,d,e,f,g,h){"use strict";a=function(a){function b(){return a.apply(this,arguments)||this}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.handleNativeEvent=function(a){a=a.split(",");var b=a.shift();switch(b){case"MessageNotificationAction":a.length>=3||h(0,89560);this.trigger("MessageNotificationAction",{key:a[0],action:a[1],additionalData:decodeURIComponent(a[2])});break;case"RequestOpenChat":a.length>=1||h(0,90387);this.trigger("RequestOpenChat",{chatJid:a[0]});break;case"OnIsAppInSystemTrayChanged":this.trigger("OnIsAppInSystemTrayChanged",{isAppInSystemTray:a[0]==="True"});break;case"RequestAllWebClientPreferences":this.trigger("RequestAllWebClientPreferences",{});break}};return b}(c("WAWebTypedEventEmitter"));g.WAWebWindowsMessagePassingBridgeEventEmitter_v2558=a}),98);
__d("WAWebWindowsMessagePassingBridge.v2558",["invariant","WAParsableWapNode","WAResolvable","WAWap","WAWebSerializeVoipWapNode","WAWebWid","WAWebWindowsHybridBridgeFactory","WAWebWindowsMessagePassingBridgeCompatibilityAdapter.v2558","WAWebWindowsMessagePassingBridgeEventEmitter.v2558","asyncToGeneratorRuntime","err","nullthrows"],(function(a,b,c,d,e,f,g,h){"use strict";var i=new Map([["CompatibilityGetSupportedNativeIpcs","CompatibilityGetSupportedNativeIpcs"],["ExecuteSqlite","RequestExecuteSqlite"],["ShowMessageNotification","ShowMessageNotification"],["CloseMessageNotification","CloseMessageNotification"],["IsNotificationEnabledInSystem","IsNotificationEnabledInSystem"],["OpenSystemNotificationsSettings","OpenSystemNotificationsSettings"],["UpdateTaskbarBadge","UpdateTaskbarBadge"],["UpdateLocalSetting","UpdateLocalSetting"],["GetStartupTaskState","GetStartupTaskState"],["UpdateStartupTask","UpdateStartupTask"]]);a=function(){function a(){var a=this;this.latestTransactionId=0;this.pendingCallIpcs=new Map();this.nativeEventEmitter=new(d("WAWebWindowsMessagePassingBridgeEventEmitter.v2558").WAWebWindowsMessagePassingBridgeEventEmitter_v2558)();var b=d("WAWebWindowsHybridBridgeFactory").getWebView("invokeWAWebWindowsWebViewNativeBridge: postMessage not available (not in the Windows WebView?)");b==null||b.addEventListener==null||b.addEventListener("message",function(b){typeof b.data==="string"&&a.handleNativeIpcResponseEvent(b.data)});b==null||b.addEventListener==null||b.addEventListener("message",function(b){typeof b.data==="string"&&a.nativeEventEmitter.handleNativeEvent(b.data)});void d("WAWebWindowsMessagePassingBridgeCompatibilityAdapter.v2558").initCompatibilityAdapter_v2558(this)}var e=a.prototype;e.call=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b===void 0&&(b={});b=(yield d("WAWebWindowsMessagePassingBridgeCompatibilityAdapter.v2558").selectArgsForIpc_v2558(this,a,b));b=b.map(j).join(",");if(!i.has(a))throw c("err")("invokeWAWebWindowsWebViewNativeBridge: invalid callable method: "+a);a=c("nullthrows")(i.get(a));var e=new(d("WAResolvable").Resolvable)();this.pendingCallIpcs.set(++this.latestTransactionId,e);b=b.split(",");b.push(this.latestTransactionId.toString());var f=d("WAWebWindowsHybridBridgeFactory").getWebView("invokeWAWebWindowsWebViewNativeBridge: postMessage not available (not in the Windows WebView?)");f==null||f.postMessage==null||f.postMessage(a+","+b.join(","));return e.promise});function e(b,c){return a.apply(this,arguments)}return e}();e.handleNativeIpcResponseEvent=function(a){a=a.split(",");var b=parseInt(a.shift(),10),c=a.shift();if(Number.isNaN(b)||c!=="NativeResponseToJS")return;this.handleNativeResponseEvent(b,a)};e.handleNativeResponseEvent=function(a,b){var c=b.shift();c!=null||h(0,88527);c=c==="0";this.pendingCallIpcs.has(a)||h(0,88528,a);var d=this.pendingCallIpcs.get(a);this.pendingCallIpcs["delete"](a);a=b.join(",");c?d==null?void 0:d.resolve(a):d==null?void 0:d.reject(a)};return a}();function j(a){if(typeof a==="string")return encodeURIComponent(a);else if(typeof a==="boolean")return a?"true":"false";else if(typeof a==="number")return a.toString(10);else if(a instanceof d("WAWap").WapNode||a instanceof d("WAParsableWapNode").ParsableWapNode){var b=d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a);return encodeURIComponent(b)}else if(a instanceof c("WAWebWid"))return a.toString({legacy:!0});else if(Array.isArray(a))return"["+a.map(j).join("|")+"]";else if(a==null)return"";throw c("err")("Windows WebView2 bridge: invokeNative: Unsupported argument type.",a)}g.WAWebWindowsMessagePassingBridge_v2558=a}),98);
__d("WAWebWindowsMessagePassingBridgeArgsList.v2559",[],(function(a,b,c,d,e,f){a={CompatibilityGetSupportedNativeIpcs:[],ExecuteSqlite:["queries"],ShowMessageNotification:["key","tag","header","body","thumbnailPath","footer","contextMenu","replyInputPlaceholder","replyButtonContent","suppressBanner","suppressNotificationOnAppClosed"],CloseMessageNotification:["key","tag"],IsNotificationEnabledInSystem:[],OpenSystemNotificationsSettings:[],UpdateTaskbarBadge:["count","ignoreIfAppInSystemTray"],UpdateLocalSetting:["key","value","revision"],GetStartupTaskState:[],UpdateStartupTask:["enabled"]};f["default"]=a}),66);
__d("WAWebWindowsMessagePassingBridgeCompatibilityAdapter.v2559",["WALogger","WAResolvable","WAWebWindowsMessagePassingBridgeArgsList.v2559","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=null,l=null;function m(a){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(l!=null)return l.promise;l=new(d("WAResolvable").Resolvable)();try{d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["initCompatibilityAdapter: requesting list of IPCs from Native"])));a=(yield a.call("CompatibilityGetSupportedNativeIpcs"));k=JSON.parse(a);d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["initCompatibilityAdapter: received list of IPCs from Native"])));(a=l)==null||a.resolve()}catch(b){d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["initCompatibilityAdapter: failed with error ",""])),b).sendLogs("initCompatibilityAdapter: failed with error");(a=l)==null||a.reject(b)}l=null});return n.apply(this,arguments)}function a(a,b,c){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,d){if(k==null){if(b==="CompatibilityGetSupportedNativeIpcs")return[];yield m(a);if(k==null)throw c("err")("IPC_TO_NUM_ARGS should not be null after init")}a=k[b];b=c("WAWebWindowsMessagePassingBridgeArgsList.v2559")[b].slice(0,a);return b.map(function(a){return d[a]})});return o.apply(this,arguments)}g.initCompatibilityAdapter_v2559=m;g.selectArgsForIpc_v2559=a}),98);
__d("WAWebWindowsMessagePassingBridgeEventEmitter.v2559",["invariant","WAWebTypedEventEmitter"],(function(a,b,c,d,e,f,g,h){"use strict";a=function(a){function b(){return a.apply(this,arguments)||this}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.handleNativeEvent=function(a){a=a.split(",");var b=a.shift();switch(b){case"MessageNotificationAction":a.length>=3||h(0,89560);this.trigger("MessageNotificationAction",{key:a[0],action:a[1],additionalData:decodeURIComponent(a[2])});break;case"RequestOpenChat":a.length>=1||h(0,90387);this.trigger("RequestOpenChat",{chatJid:a[0]});break;case"OnIsAppInSystemTrayChanged":this.trigger("OnIsAppInSystemTrayChanged",{isAppInSystemTray:a[0]==="True"});break;case"RequestAllWebClientPreferences":this.trigger("RequestAllWebClientPreferences",{});break}};return b}(c("WAWebTypedEventEmitter"));g.WAWebWindowsMessagePassingBridgeEventEmitter_v2559=a}),98);
__d("WAWebWindowsMessagePassingBridge.v2559",["invariant","WAParsableWapNode","WAResolvable","WAWap","WAWebSerializeVoipWapNode","WAWebWid","WAWebWindowsHybridBridgeFactory","WAWebWindowsMessagePassingBridgeCompatibilityAdapter.v2559","WAWebWindowsMessagePassingBridgeEventEmitter.v2559","asyncToGeneratorRuntime","err","nullthrows"],(function(a,b,c,d,e,f,g,h){"use strict";var i=new Map([["CompatibilityGetSupportedNativeIpcs","CompatibilityGetSupportedNativeIpcs"],["ExecuteSqlite","RequestExecuteSqlite"],["ShowMessageNotification","ShowMessageNotification"],["CloseMessageNotification","CloseMessageNotification"],["IsNotificationEnabledInSystem","IsNotificationEnabledInSystem"],["OpenSystemNotificationsSettings","OpenSystemNotificationsSettings"],["UpdateTaskbarBadge","UpdateTaskbarBadge"],["UpdateLocalSetting","UpdateLocalSetting"],["GetStartupTaskState","GetStartupTaskState"],["UpdateStartupTask","UpdateStartupTask"]]);a=function(){function a(){var a=this;this.latestTransactionId=0;this.pendingCallIpcs=new Map();this.nativeEventEmitter=new(d("WAWebWindowsMessagePassingBridgeEventEmitter.v2559").WAWebWindowsMessagePassingBridgeEventEmitter_v2559)();var b=d("WAWebWindowsHybridBridgeFactory").getWebView("invokeWAWebWindowsWebViewNativeBridge: postMessage not available (not in the Windows WebView?)");b==null||b.addEventListener==null||b.addEventListener("message",function(b){typeof b.data==="string"&&a.handleNativeIpcResponseEvent(b.data)});b==null||b.addEventListener==null||b.addEventListener("message",function(b){typeof b.data==="string"&&a.nativeEventEmitter.handleNativeEvent(b.data)});void d("WAWebWindowsMessagePassingBridgeCompatibilityAdapter.v2559").initCompatibilityAdapter_v2559(this)}var e=a.prototype;e.call=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b===void 0&&(b={});b=(yield d("WAWebWindowsMessagePassingBridgeCompatibilityAdapter.v2559").selectArgsForIpc_v2559(this,a,b));b=b.map(j).join(",");if(!i.has(a))throw c("err")("invokeWAWebWindowsWebViewNativeBridge: invalid callable method: "+a);a=c("nullthrows")(i.get(a));var e=new(d("WAResolvable").Resolvable)();this.pendingCallIpcs.set(++this.latestTransactionId,e);b=b.split(",");b.push(this.latestTransactionId.toString());var f=d("WAWebWindowsHybridBridgeFactory").getWebView("invokeWAWebWindowsWebViewNativeBridge: postMessage not available (not in the Windows WebView?)");f==null||f.postMessage==null||f.postMessage(a+","+b.join(","));return e.promise});function e(b,c){return a.apply(this,arguments)}return e}();e.handleNativeIpcResponseEvent=function(a){a=a.split(",");var b=parseInt(a.shift(),10),c=a.shift();if(Number.isNaN(b)||c!=="NativeResponseToJS")return;this.handleNativeResponseEvent(b,a)};e.handleNativeResponseEvent=function(a,b){var c=b.shift();c!=null||h(0,88527);c=c==="0";this.pendingCallIpcs.has(a)||h(0,88528,a);var d=this.pendingCallIpcs.get(a);this.pendingCallIpcs["delete"](a);a=b.join(",");c?d==null?void 0:d.resolve(a):d==null?void 0:d.reject(a)};return a}();function j(a){if(typeof a==="string")return encodeURIComponent(a);else if(typeof a==="boolean")return a?"true":"false";else if(typeof a==="number")return a.toString(10);else if(a instanceof d("WAWap").WapNode||a instanceof d("WAParsableWapNode").ParsableWapNode){var b=d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a);return encodeURIComponent(b)}else if(a instanceof c("WAWebWid"))return a.toString({legacy:!0});else if(Array.isArray(a))return"["+a.map(j).join("|")+"]";else if(a==null)return"";throw c("err")("Windows WebView2 bridge: invokeNative: Unsupported argument type.",a)}g.WAWebWindowsMessagePassingBridge_v2559=a}),98);
__d("WAWebWindowsMessagePassingBridgeArgsList.v2560",[],(function(a,b,c,d,e,f){a={CompatibilityGetSupportedNativeIpcs:[],ExecuteSqlite:["queries"],ShowMessageNotification:["key","tag","header","body","thumbnailPath","footer","contextMenu","replyInputPlaceholder","replyButtonContent","suppressBanner","suppressNotificationOnAppClosed"],CloseMessageNotification:["key","tag"],IsNotificationEnabledInSystem:[],OpenSystemNotificationsSettings:[],UpdateTaskbarBadge:["count","ignoreIfAppInSystemTray"],UpdateLocalSetting:["key","value","revision"],GetStartupTaskState:[],UpdateStartupTask:["enabled"]};f["default"]=a}),66);
__d("WAWebWindowsMessagePassingBridgeCompatibilityAdapter.v2560",["WALogger","WAResolvable","WAWebWindowsMessagePassingBridgeArgsList.v2560","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=null,l=null;function m(a){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(l!=null)return l.promise;l=new(d("WAResolvable").Resolvable)();try{d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["initCompatibilityAdapter: requesting list of IPCs from Native"])));a=(yield a.call("CompatibilityGetSupportedNativeIpcs"));k=JSON.parse(a);d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["initCompatibilityAdapter: received list of IPCs from Native"])));(a=l)==null||a.resolve()}catch(b){d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["initCompatibilityAdapter: failed with error ",""])),b).sendLogs("initCompatibilityAdapter: failed with error");(a=l)==null||a.reject(b)}l=null});return n.apply(this,arguments)}function a(a,b,c){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,d){if(k==null){if(b==="CompatibilityGetSupportedNativeIpcs")return[];yield m(a);if(k==null)throw c("err")("IPC_TO_NUM_ARGS should not be null after init")}a=k[b];b=c("WAWebWindowsMessagePassingBridgeArgsList.v2560")[b].slice(0,a);return b.map(function(a){return d[a]})});return o.apply(this,arguments)}g.initCompatibilityAdapter_v2560=m;g.selectArgsForIpc_v2560=a}),98);
__d("WAWebWindowsMessagePassingBridgeEventEmitter.v2560",["invariant","WAWebTypedEventEmitter"],(function(a,b,c,d,e,f,g,h){"use strict";a=function(a){function b(){return a.apply(this,arguments)||this}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.handleNativeEvent=function(a){a=a.split(",");var b=a.shift();switch(b){case"MessageNotificationAction":a.length>=3||h(0,89560);this.trigger("MessageNotificationAction",{key:a[0],action:a[1],additionalData:decodeURIComponent(a[2])});break;case"RequestOpenChat":a.length>=1||h(0,90387);this.trigger("RequestOpenChat",{chatJid:a[0]});break;case"OnIsAppInSystemTrayChanged":this.trigger("OnIsAppInSystemTrayChanged",{isAppInSystemTray:a[0]==="True"});break;case"RequestAllWebClientPreferences":this.trigger("RequestAllWebClientPreferences",{});break}};return b}(c("WAWebTypedEventEmitter"));g.WAWebWindowsMessagePassingBridgeEventEmitter_v2560=a}),98);
__d("WAWebWindowsMessagePassingBridge.v2560",["invariant","WAParsableWapNode","WAResolvable","WAWap","WAWebSerializeVoipWapNode","WAWebWid","WAWebWindowsHybridBridgeFactory","WAWebWindowsMessagePassingBridgeCompatibilityAdapter.v2560","WAWebWindowsMessagePassingBridgeEventEmitter.v2560","asyncToGeneratorRuntime","err","nullthrows"],(function(a,b,c,d,e,f,g,h){"use strict";var i=new Map([["CompatibilityGetSupportedNativeIpcs","CompatibilityGetSupportedNativeIpcs"],["ExecuteSqlite","RequestExecuteSqlite"],["ShowMessageNotification","ShowMessageNotification"],["CloseMessageNotification","CloseMessageNotification"],["IsNotificationEnabledInSystem","IsNotificationEnabledInSystem"],["OpenSystemNotificationsSettings","OpenSystemNotificationsSettings"],["UpdateTaskbarBadge","UpdateTaskbarBadge"],["UpdateLocalSetting","UpdateLocalSetting"],["GetStartupTaskState","GetStartupTaskState"],["UpdateStartupTask","UpdateStartupTask"]]);a=function(){function a(){var a=this;this.latestTransactionId=0;this.pendingCallIpcs=new Map();this.nativeEventEmitter=new(d("WAWebWindowsMessagePassingBridgeEventEmitter.v2560").WAWebWindowsMessagePassingBridgeEventEmitter_v2560)();var b=d("WAWebWindowsHybridBridgeFactory").getWebView("invokeWAWebWindowsWebViewNativeBridge: postMessage not available (not in the Windows WebView?)");b==null||b.addEventListener==null||b.addEventListener("message",function(b){typeof b.data==="string"&&a.handleNativeIpcResponseEvent(b.data)});b==null||b.addEventListener==null||b.addEventListener("message",function(b){typeof b.data==="string"&&a.nativeEventEmitter.handleNativeEvent(b.data)});void d("WAWebWindowsMessagePassingBridgeCompatibilityAdapter.v2560").initCompatibilityAdapter_v2560(this)}var e=a.prototype;e.call=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b===void 0&&(b={});b=(yield d("WAWebWindowsMessagePassingBridgeCompatibilityAdapter.v2560").selectArgsForIpc_v2560(this,a,b));b=b.map(j).join(",");if(!i.has(a))throw c("err")("invokeWAWebWindowsWebViewNativeBridge: invalid callable method: "+a);a=c("nullthrows")(i.get(a));var e=new(d("WAResolvable").Resolvable)();this.pendingCallIpcs.set(++this.latestTransactionId,e);b=b.split(",");b.push(this.latestTransactionId.toString());var f=d("WAWebWindowsHybridBridgeFactory").getWebView("invokeWAWebWindowsWebViewNativeBridge: postMessage not available (not in the Windows WebView?)");f==null||f.postMessage==null||f.postMessage(a+","+b.join(","));return e.promise});function e(b,c){return a.apply(this,arguments)}return e}();e.handleNativeIpcResponseEvent=function(a){a=a.split(",");var b=parseInt(a.shift(),10),c=a.shift();if(Number.isNaN(b)||c!=="NativeResponseToJS")return;this.handleNativeResponseEvent(b,a)};e.handleNativeResponseEvent=function(a,b){var c=b.shift();c!=null||h(0,88527);c=c==="0";this.pendingCallIpcs.has(a)||h(0,88528,a);var d=this.pendingCallIpcs.get(a);this.pendingCallIpcs["delete"](a);a=b.join(",");c?d==null?void 0:d.resolve(a):d==null?void 0:d.reject(a)};return a}();function j(a){if(typeof a==="string")return encodeURIComponent(a);else if(typeof a==="boolean")return a?"true":"false";else if(typeof a==="number")return a.toString(10);else if(a instanceof d("WAWap").WapNode||a instanceof d("WAParsableWapNode").ParsableWapNode){var b=d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a);return encodeURIComponent(b)}else if(a instanceof c("WAWebWid"))return a.toString({legacy:!0});else if(Array.isArray(a))return"["+a.map(j).join("|")+"]";else if(a==null)return"";throw c("err")("Windows WebView2 bridge: invokeNative: Unsupported argument type.",a)}g.WAWebWindowsMessagePassingBridge_v2560=a}),98);
__d("WAWebWindowsMessagePassingBridgeArgsList.v2562",[],(function(a,b,c,d,e,f){a={CompatibilityGetSupportedNativeIpcs:[],ExecuteSqlite:["queries"],ShowMessageNotification:["key","tag","header","body","thumbnailPath","footer","contextMenu","replyInputPlaceholder","replyButtonContent","suppressBanner","suppressNotificationOnAppClosed"],CloseMessageNotification:["key","tag"],IsNotificationEnabledInSystem:[],OpenSystemNotificationsSettings:[],UpdateTaskbarBadge:["count","ignoreIfAppInSystemTray"],UpdateLocalSetting:["key","value","revision"],GetStartupTaskState:[],UpdateStartupTask:["enabled"]};f["default"]=a}),66);
__d("WAWebWindowsMessagePassingBridgeCompatibilityAdapter.v2562",["WALogger","WAResolvable","WAWebWindowsMessagePassingBridgeArgsList.v2562","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=null,l=null;function m(a){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(l!=null)return l.promise;l=new(d("WAResolvable").Resolvable)();try{d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["initCompatibilityAdapter: requesting list of IPCs from Native"])));a=(yield a.call("CompatibilityGetSupportedNativeIpcs"));k=JSON.parse(a);d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["initCompatibilityAdapter: received list of IPCs from Native"])));(a=l)==null||a.resolve()}catch(b){d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["initCompatibilityAdapter: failed with error ",""])),b).sendLogs("initCompatibilityAdapter: failed with error");(a=l)==null||a.reject(b)}l=null});return n.apply(this,arguments)}function a(a,b,c){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,d){if(k==null){if(b==="CompatibilityGetSupportedNativeIpcs")return[];yield m(a);if(k==null)throw c("err")("IPC_TO_NUM_ARGS should not be null after init")}a=k[b];b=c("WAWebWindowsMessagePassingBridgeArgsList.v2562")[b].slice(0,a);return b.map(function(a){return d[a]})});return o.apply(this,arguments)}g.initCompatibilityAdapter_v2562=m;g.selectArgsForIpc_v2562=a}),98);
__d("WAWebWindowsMessagePassingBridgeEventEmitter.v2562",["invariant","WAWebTypedEventEmitter"],(function(a,b,c,d,e,f,g,h){"use strict";a=function(a){function b(){return a.apply(this,arguments)||this}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.handleNativeEvent=function(a){a=a.split(",");var b=a.shift();switch(b){case"MessageNotificationAction":a.length>=3||h(0,89560);this.trigger("MessageNotificationAction",{key:a[0],action:a[1],additionalData:decodeURIComponent(a[2])});break;case"RequestOpenChat":a.length>=1||h(0,90387);this.trigger("RequestOpenChat",{chatJid:a[0]});break;case"OnIsAppInSystemTrayChanged":this.trigger("OnIsAppInSystemTrayChanged",{isAppInSystemTray:a[0]==="True"});break;case"RequestAllWebClientPreferences":this.trigger("RequestAllWebClientPreferences",{});break}};return b}(c("WAWebTypedEventEmitter"));g.WAWebWindowsMessagePassingBridgeEventEmitter_v2562=a}),98);
__d("WAWebWindowsMessagePassingBridge.v2562",["invariant","WAParsableWapNode","WAResolvable","WAWap","WAWebSerializeVoipWapNode","WAWebWid","WAWebWindowsHybridBridgeFactory","WAWebWindowsMessagePassingBridgeCompatibilityAdapter.v2562","WAWebWindowsMessagePassingBridgeEventEmitter.v2562","asyncToGeneratorRuntime","err","nullthrows"],(function(a,b,c,d,e,f,g,h){"use strict";var i=new Map([["CompatibilityGetSupportedNativeIpcs","CompatibilityGetSupportedNativeIpcs"],["ExecuteSqlite","RequestExecuteSqlite"],["ShowMessageNotification","ShowMessageNotification"],["CloseMessageNotification","CloseMessageNotification"],["IsNotificationEnabledInSystem","IsNotificationEnabledInSystem"],["OpenSystemNotificationsSettings","OpenSystemNotificationsSettings"],["UpdateTaskbarBadge","UpdateTaskbarBadge"],["UpdateLocalSetting","UpdateLocalSetting"],["GetStartupTaskState","GetStartupTaskState"],["UpdateStartupTask","UpdateStartupTask"]]);a=function(){function a(){var a=this;this.latestTransactionId=0;this.pendingCallIpcs=new Map();this.nativeEventEmitter=new(d("WAWebWindowsMessagePassingBridgeEventEmitter.v2562").WAWebWindowsMessagePassingBridgeEventEmitter_v2562)();var b=d("WAWebWindowsHybridBridgeFactory").getWebView("invokeWAWebWindowsWebViewNativeBridge: postMessage not available (not in the Windows WebView?)");b==null||b.addEventListener==null||b.addEventListener("message",function(b){typeof b.data==="string"&&a.handleNativeIpcResponseEvent(b.data)});b==null||b.addEventListener==null||b.addEventListener("message",function(b){typeof b.data==="string"&&a.nativeEventEmitter.handleNativeEvent(b.data)});void d("WAWebWindowsMessagePassingBridgeCompatibilityAdapter.v2562").initCompatibilityAdapter_v2562(this)}var e=a.prototype;e.call=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b===void 0&&(b={});b=(yield d("WAWebWindowsMessagePassingBridgeCompatibilityAdapter.v2562").selectArgsForIpc_v2562(this,a,b));b=b.map(j).join(",");if(!i.has(a))throw c("err")("invokeWAWebWindowsWebViewNativeBridge: invalid callable method: "+a);a=c("nullthrows")(i.get(a));var e=new(d("WAResolvable").Resolvable)();this.pendingCallIpcs.set(++this.latestTransactionId,e);b=b.split(",");b.push(this.latestTransactionId.toString());var f=d("WAWebWindowsHybridBridgeFactory").getWebView("invokeWAWebWindowsWebViewNativeBridge: postMessage not available (not in the Windows WebView?)");f==null||f.postMessage==null||f.postMessage(a+","+b.join(","));return e.promise});function e(b,c){return a.apply(this,arguments)}return e}();e.handleNativeIpcResponseEvent=function(a){a=a.split(",");var b=parseInt(a.shift(),10),c=a.shift();if(Number.isNaN(b)||c!=="NativeResponseToJS")return;this.handleNativeResponseEvent(b,a)};e.handleNativeResponseEvent=function(a,b){var c=b.shift();c!=null||h(0,88527);c=c==="0";this.pendingCallIpcs.has(a)||h(0,88528,a);var d=this.pendingCallIpcs.get(a);this.pendingCallIpcs["delete"](a);a=b.join(",");c?d==null?void 0:d.resolve(a):d==null?void 0:d.reject(a)};return a}();function j(a){if(typeof a==="string")return encodeURIComponent(a);else if(typeof a==="boolean")return a?"true":"false";else if(typeof a==="number")return a.toString(10);else if(a instanceof d("WAWap").WapNode||a instanceof d("WAParsableWapNode").ParsableWapNode){var b=d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a);return encodeURIComponent(b)}else if(a instanceof c("WAWebWid"))return a.toString({legacy:!0});else if(Array.isArray(a))return"["+a.map(j).join("|")+"]";else if(a==null)return"";throw c("err")("Windows WebView2 bridge: invokeNative: Unsupported argument type.",a)}g.WAWebWindowsMessagePassingBridge_v2562=a}),98);
__d("WAWebWindowsMessagePassingBridgeArgsList.v2563",[],(function(a,b,c,d,e,f){a={CompatibilityGetSupportedNativeIpcs:[],ExecuteSqlite:["queries"],ShowMessageNotification:["key","tag","header","body","thumbnailPath","footer","contextMenu","replyInputPlaceholder","replyButtonContent","suppressBanner","suppressNotificationOnAppClosed"],CloseMessageNotification:["key","tag"],IsNotificationEnabledInSystem:[],OpenSystemNotificationsSettings:[],UpdateTaskbarBadge:["count","ignoreIfAppInSystemTray"],UpdateLocalSetting:["key","value","revision"],GetStartupTaskState:[],UpdateStartupTask:["enabled"]};f["default"]=a}),66);
__d("WAWebWindowsMessagePassingBridgeCompatibilityAdapter.v2563",["WALogger","WAResolvable","WAWebWindowsMessagePassingBridgeArgsList.v2563","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=null,l=null;function m(a){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(l!=null)return l.promise;l=new(d("WAResolvable").Resolvable)();try{d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["initCompatibilityAdapter: requesting list of IPCs from Native"])));a=(yield a.call("CompatibilityGetSupportedNativeIpcs"));k=JSON.parse(a);d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["initCompatibilityAdapter: received list of IPCs from Native"])));(a=l)==null||a.resolve()}catch(b){d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["initCompatibilityAdapter: failed with error ",""])),b).sendLogs("initCompatibilityAdapter: failed with error");(a=l)==null||a.reject(b)}l=null});return n.apply(this,arguments)}function a(a,b,c){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,d){if(k==null){if(b==="CompatibilityGetSupportedNativeIpcs")return[];yield m(a);if(k==null)throw c("err")("IPC_TO_NUM_ARGS should not be null after init")}a=k[b];b=c("WAWebWindowsMessagePassingBridgeArgsList.v2563")[b].slice(0,a);return b.map(function(a){return d[a]})});return o.apply(this,arguments)}g.initCompatibilityAdapter_v2563=m;g.selectArgsForIpc_v2563=a}),98);
__d("WAWebWindowsMessagePassingBridgeEventEmitter.v2563",["invariant","WAWebTypedEventEmitter"],(function(a,b,c,d,e,f,g,h){"use strict";a=function(a){function b(){return a.apply(this,arguments)||this}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.handleNativeEvent=function(a){a=a.split(",");var b=a.shift();switch(b){case"MessageNotificationAction":a.length>=3||h(0,89560);this.trigger("MessageNotificationAction",{key:a[0],action:a[1],additionalData:decodeURIComponent(a[2])});break;case"RequestOpenChat":a.length>=1||h(0,90387);this.trigger("RequestOpenChat",{chatJid:a[0]});break;case"OnIsAppInSystemTrayChanged":this.trigger("OnIsAppInSystemTrayChanged",{isAppInSystemTray:a[0]==="True"});break;case"RequestAllWebClientPreferences":this.trigger("RequestAllWebClientPreferences",{});break}};return b}(c("WAWebTypedEventEmitter"));g.WAWebWindowsMessagePassingBridgeEventEmitter_v2563=a}),98);
__d("WAWebWindowsMessagePassingBridge.v2563",["invariant","WAParsableWapNode","WAResolvable","WAWap","WAWebSerializeVoipWapNode","WAWebWid","WAWebWindowsHybridBridgeFactory","WAWebWindowsMessagePassingBridgeCompatibilityAdapter.v2563","WAWebWindowsMessagePassingBridgeEventEmitter.v2563","asyncToGeneratorRuntime","err","nullthrows"],(function(a,b,c,d,e,f,g,h){"use strict";var i=new Map([["CompatibilityGetSupportedNativeIpcs","CompatibilityGetSupportedNativeIpcs"],["ExecuteSqlite","RequestExecuteSqlite"],["ShowMessageNotification","ShowMessageNotification"],["CloseMessageNotification","CloseMessageNotification"],["IsNotificationEnabledInSystem","IsNotificationEnabledInSystem"],["OpenSystemNotificationsSettings","OpenSystemNotificationsSettings"],["UpdateTaskbarBadge","UpdateTaskbarBadge"],["UpdateLocalSetting","UpdateLocalSetting"],["GetStartupTaskState","GetStartupTaskState"],["UpdateStartupTask","UpdateStartupTask"]]);a=function(){function a(){var a=this;this.latestTransactionId=0;this.pendingCallIpcs=new Map();this.nativeEventEmitter=new(d("WAWebWindowsMessagePassingBridgeEventEmitter.v2563").WAWebWindowsMessagePassingBridgeEventEmitter_v2563)();var b=d("WAWebWindowsHybridBridgeFactory").getWebView("invokeWAWebWindowsWebViewNativeBridge: postMessage not available (not in the Windows WebView?)");b==null||b.addEventListener==null||b.addEventListener("message",function(b){typeof b.data==="string"&&a.handleNativeIpcResponseEvent(b.data)});b==null||b.addEventListener==null||b.addEventListener("message",function(b){typeof b.data==="string"&&a.nativeEventEmitter.handleNativeEvent(b.data)});void d("WAWebWindowsMessagePassingBridgeCompatibilityAdapter.v2563").initCompatibilityAdapter_v2563(this)}var e=a.prototype;e.call=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b===void 0&&(b={});b=(yield d("WAWebWindowsMessagePassingBridgeCompatibilityAdapter.v2563").selectArgsForIpc_v2563(this,a,b));b=b.map(j).join(",");if(!i.has(a))throw c("err")("invokeWAWebWindowsWebViewNativeBridge: invalid callable method: "+a);a=c("nullthrows")(i.get(a));var e=new(d("WAResolvable").Resolvable)();this.pendingCallIpcs.set(++this.latestTransactionId,e);b=b.split(",");b.push(this.latestTransactionId.toString());var f=d("WAWebWindowsHybridBridgeFactory").getWebView("invokeWAWebWindowsWebViewNativeBridge: postMessage not available (not in the Windows WebView?)");f==null||f.postMessage==null||f.postMessage(a+","+b.join(","));return e.promise});function e(b,c){return a.apply(this,arguments)}return e}();e.handleNativeIpcResponseEvent=function(a){a=a.split(",");var b=parseInt(a.shift(),10),c=a.shift();if(Number.isNaN(b)||c!=="NativeResponseToJS")return;this.handleNativeResponseEvent(b,a)};e.handleNativeResponseEvent=function(a,b){var c=b.shift();c!=null||h(0,88527);c=c==="0";this.pendingCallIpcs.has(a)||h(0,88528,a);var d=this.pendingCallIpcs.get(a);this.pendingCallIpcs["delete"](a);a=b.join(",");c?d==null?void 0:d.resolve(a):d==null?void 0:d.reject(a)};return a}();function j(a){if(typeof a==="string")return encodeURIComponent(a);else if(typeof a==="boolean")return a?"true":"false";else if(typeof a==="number")return a.toString(10);else if(a instanceof d("WAWap").WapNode||a instanceof d("WAParsableWapNode").ParsableWapNode){var b=d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a);return encodeURIComponent(b)}else if(a instanceof c("WAWebWid"))return a.toString({legacy:!0});else if(Array.isArray(a))return"["+a.map(j).join("|")+"]";else if(a==null)return"";throw c("err")("Windows WebView2 bridge: invokeNative: Unsupported argument type.",a)}g.WAWebWindowsMessagePassingBridge_v2563=a}),98);
__d("WAWebWindowsMessagePassingBridgeArgsList.v2564",[],(function(a,b,c,d,e,f){a={CompatibilityGetSupportedNativeIpcs:[],ExecuteSqlite:["queries"],ShowMessageNotification:["key","tag","header","body","thumbnailPath","footer","contextMenu","replyInputPlaceholder","replyButtonContent","suppressBanner","suppressNotificationOnAppClosed"],CloseMessageNotification:["key","tag"],IsNotificationEnabledInSystem:[],OpenSystemNotificationsSettings:[],UpdateTaskbarBadge:["count","ignoreIfAppInSystemTray"],UpdateLocalSetting:["key","value","revision"],GetStartupTaskState:[],UpdateStartupTask:["enabled"]};f["default"]=a}),66);
__d("WAWebWindowsMessagePassingBridgeCompatibilityAdapter.v2564",["WALogger","WAResolvable","WAWebWindowsMessagePassingBridgeArgsList.v2564","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=null,l=null;function m(a){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(l!=null)return l.promise;l=new(d("WAResolvable").Resolvable)();try{d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["initCompatibilityAdapter: requesting list of IPCs from Native"])));a=(yield a.call("CompatibilityGetSupportedNativeIpcs"));k=JSON.parse(a);d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["initCompatibilityAdapter: received list of IPCs from Native"])));(a=l)==null||a.resolve()}catch(b){d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["initCompatibilityAdapter: failed with error ",""])),b).sendLogs("initCompatibilityAdapter: failed with error");(a=l)==null||a.reject(b)}l=null});return n.apply(this,arguments)}function a(a,b,c){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,d){if(k==null){if(b==="CompatibilityGetSupportedNativeIpcs")return[];yield m(a);if(k==null)throw c("err")("IPC_TO_NUM_ARGS should not be null after init")}a=k[b];b=c("WAWebWindowsMessagePassingBridgeArgsList.v2564")[b].slice(0,a);return b.map(function(a){return d[a]})});return o.apply(this,arguments)}g.initCompatibilityAdapter_v2564=m;g.selectArgsForIpc_v2564=a}),98);
__d("WAWebWindowsMessagePassingBridgeEventEmitter.v2564",["invariant","WAWebTypedEventEmitter"],(function(a,b,c,d,e,f,g,h){"use strict";a=function(a){function b(){return a.apply(this,arguments)||this}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.handleNativeEvent=function(a){a=a.split(",");var b=a.shift();switch(b){case"MessageNotificationAction":a.length>=3||h(0,89560);this.trigger("MessageNotificationAction",{key:a[0],action:a[1],additionalData:decodeURIComponent(a[2])});break;case"RequestOpenChat":a.length>=1||h(0,90387);this.trigger("RequestOpenChat",{chatJid:a[0]});break;case"OnIsAppInSystemTrayChanged":this.trigger("OnIsAppInSystemTrayChanged",{isAppInSystemTray:a[0]==="True"});break;case"RequestAllWebClientPreferences":this.trigger("RequestAllWebClientPreferences",{});break}};return b}(c("WAWebTypedEventEmitter"));g.WAWebWindowsMessagePassingBridgeEventEmitter_v2564=a}),98);
__d("WAWebWindowsMessagePassingBridge.v2564",["invariant","WAParsableWapNode","WAResolvable","WAWap","WAWebSerializeVoipWapNode","WAWebWid","WAWebWindowsHybridBridgeFactory","WAWebWindowsMessagePassingBridgeCompatibilityAdapter.v2564","WAWebWindowsMessagePassingBridgeEventEmitter.v2564","asyncToGeneratorRuntime","err","nullthrows"],(function(a,b,c,d,e,f,g,h){"use strict";var i=new Map([["CompatibilityGetSupportedNativeIpcs","CompatibilityGetSupportedNativeIpcs"],["ExecuteSqlite","RequestExecuteSqlite"],["ShowMessageNotification","ShowMessageNotification"],["CloseMessageNotification","CloseMessageNotification"],["IsNotificationEnabledInSystem","IsNotificationEnabledInSystem"],["OpenSystemNotificationsSettings","OpenSystemNotificationsSettings"],["UpdateTaskbarBadge","UpdateTaskbarBadge"],["UpdateLocalSetting","UpdateLocalSetting"],["GetStartupTaskState","GetStartupTaskState"],["UpdateStartupTask","UpdateStartupTask"]]);a=function(){function a(){var a=this;this.latestTransactionId=0;this.pendingCallIpcs=new Map();this.nativeEventEmitter=new(d("WAWebWindowsMessagePassingBridgeEventEmitter.v2564").WAWebWindowsMessagePassingBridgeEventEmitter_v2564)();var b=d("WAWebWindowsHybridBridgeFactory").getWebView("invokeWAWebWindowsWebViewNativeBridge: postMessage not available (not in the Windows WebView?)");b==null||b.addEventListener==null||b.addEventListener("message",function(b){typeof b.data==="string"&&a.handleNativeIpcResponseEvent(b.data)});b==null||b.addEventListener==null||b.addEventListener("message",function(b){typeof b.data==="string"&&a.nativeEventEmitter.handleNativeEvent(b.data)});void d("WAWebWindowsMessagePassingBridgeCompatibilityAdapter.v2564").initCompatibilityAdapter_v2564(this)}var e=a.prototype;e.call=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b===void 0&&(b={});b=(yield d("WAWebWindowsMessagePassingBridgeCompatibilityAdapter.v2564").selectArgsForIpc_v2564(this,a,b));b=b.map(j).join(",");if(!i.has(a))throw c("err")("invokeWAWebWindowsWebViewNativeBridge: invalid callable method: "+a);a=c("nullthrows")(i.get(a));var e=new(d("WAResolvable").Resolvable)();this.pendingCallIpcs.set(++this.latestTransactionId,e);b=b.split(",");b.push(this.latestTransactionId.toString());var f=d("WAWebWindowsHybridBridgeFactory").getWebView("invokeWAWebWindowsWebViewNativeBridge: postMessage not available (not in the Windows WebView?)");f==null||f.postMessage==null||f.postMessage(a+","+b.join(","));return e.promise});function e(b,c){return a.apply(this,arguments)}return e}();e.handleNativeIpcResponseEvent=function(a){a=a.split(",");var b=parseInt(a.shift(),10),c=a.shift();if(Number.isNaN(b)||c!=="NativeResponseToJS")return;this.handleNativeResponseEvent(b,a)};e.handleNativeResponseEvent=function(a,b){var c=b.shift();c!=null||h(0,88527);c=c==="0";this.pendingCallIpcs.has(a)||h(0,88528,a);var d=this.pendingCallIpcs.get(a);this.pendingCallIpcs["delete"](a);a=b.join(",");c?d==null?void 0:d.resolve(a):d==null?void 0:d.reject(a)};return a}();function j(a){if(typeof a==="string")return encodeURIComponent(a);else if(typeof a==="boolean")return a?"true":"false";else if(typeof a==="number")return a.toString(10);else if(a instanceof d("WAWap").WapNode||a instanceof d("WAParsableWapNode").ParsableWapNode){var b=d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a);return encodeURIComponent(b)}else if(a instanceof c("WAWebWid"))return a.toString({legacy:!0});else if(Array.isArray(a))return"["+a.map(j).join("|")+"]";else if(a==null)return"";throw c("err")("Windows WebView2 bridge: invokeNative: Unsupported argument type.",a)}g.WAWebWindowsMessagePassingBridge_v2564=a}),98);
__d("WAWebWindowsHybridBridgeFactory.v2566",["WALogger","WAWebBuildConstants","WAWebEnvironment","WAWebWindowsHybridBridge.v2558","WAWebWindowsHybridBridge.v2559","WAWebWindowsHybridBridge.v2560","WAWebWindowsHybridBridge.v2562","WAWebWindowsHybridBridge.v2563","WAWebWindowsHybridBridge.v2564","WAWebWindowsHybridBridge.v2566","WAWebWindowsHybridBridgeCommon","WAWebWindowsHybridFlowHelpers","err","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m;e=new URLSearchParams((b=self.location.search)!=null?b:"");var n=e.get("bridgeError")==="1";function o(a){var b;if(!c("WAWebEnvironment").isWindows)return!1;if(((b=window.chrome)==null?void 0:b.webview)==null){if(c("gkx")("26258")||n)throw c("err")(a);d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[windows] bridge was not initialized: ",""])),a);return!1}return!0}function p(a){a===void 0&&(a="getWebView: no bridge available");return!o(a)?null:(a=window.chrome)==null?void 0:a.webview}function q(){try{var a=p();if(a!=null){a=r(a);d("WAWebWindowsHybridBridgeCommon").WAWebWindowsSetBridge(a);return a}}catch(a){d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["WinRTBridge: failed to initialize: ",""])),a)}return null}function r(a){try{if(d("WAWebBuildConstants").WINDOWS_BUILD!=null&&d("WAWebBuildConstants").WINDOWS_BUILD.startsWith("2559"))return new(d("WAWebWindowsHybridBridge.v2559").WindowsHybridBridge_v2559)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if(d("WAWebBuildConstants").WINDOWS_BUILD!=null&&d("WAWebBuildConstants").WINDOWS_BUILD.startsWith("2558"))return new(d("WAWebWindowsHybridBridge.v2558").WindowsHybridBridge_v2558)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if(d("WAWebBuildConstants").WINDOWS_BUILD!=null&&d("WAWebBuildConstants").WINDOWS_BUILD.startsWith("2560"))return new(d("WAWebWindowsHybridBridge.v2560").WindowsHybridBridge_v2560)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if(d("WAWebBuildConstants").WINDOWS_BUILD!=null&&d("WAWebBuildConstants").WINDOWS_BUILD.startsWith("2562"))return new(d("WAWebWindowsHybridBridge.v2562").WindowsHybridBridge_v2562)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if(d("WAWebBuildConstants").WINDOWS_BUILD!=null&&d("WAWebBuildConstants").WINDOWS_BUILD.startsWith("2563"))return new(d("WAWebWindowsHybridBridge.v2563").WindowsHybridBridge_v2563)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if(d("WAWebBuildConstants").WINDOWS_BUILD!=null&&d("WAWebBuildConstants").WINDOWS_BUILD.startsWith("2564"))return new(d("WAWebWindowsHybridBridge.v2564").WindowsHybridBridge_v2564)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["windows hybrid bridge: unsupported build version ",""])),d("WAWebBuildConstants").WINDOWS_BUILD).sendLogs("windows hybrid bridge version missing");return new(d("WAWebWindowsHybridBridge.v2566").WindowsHybridBridge_v2566)(a)}catch(a){d("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["WinRTBridge: failed to initialize bridge instance: ",""])),a)}}var s=null,t=0;function a(){if(s==null){t>0&&d("WALogger").ERROR(l||(l=babelHelpers.taggedTemplateLiteralLoose(["WinRTBridge: bridge is being initialized "," times for WINDOWS_BUILD ",""])),t,d("WAWebBuildConstants").WINDOWS_BUILD).sendLogs("windows bridge multiple init");t++;try{s=q()}catch(a){d("WALogger").ERROR(m||(m=babelHelpers.taggedTemplateLiteralLoose(["WinRTBridge: failed to initialize: ",""])),a).devConsole(a).sendLogs("windows bridge init error")}}return s}g.getIsBridgeReady_v2566=o;g.getWebView_v2566=p;g.getWindowsBridge_v2566=a}),98);
__d("WAWebWindowsMessagePassingBridgeArgsList.v2566",[],(function(a,b,c,d,e,f){a={CompatibilityGetSupportedNativeIpcs:[],ExecuteSqlite:["queries"],ShowMessageNotification:["key","tag","header","body","thumbnailPath","footer","contextMenu","replyInputPlaceholder","replyButtonContent","suppressBanner","suppressNotificationOnAppClosed"],CloseMessageNotification:["key","tag"],IsNotificationEnabledInSystem:[],OpenSystemNotificationsSettings:[],UpdateTaskbarBadge:["count","ignoreIfAppInSystemTray"],UpdateLocalSetting:["key","value","revision"],GetStartupTaskState:[],UpdateStartupTask:["enabled"]};f["default"]=a}),66);
__d("WAWebWindowsMessagePassingBridgeCompatibilityAdapter.v2566",["WALogger","WAResolvable","WAWebWindowsMessagePassingBridgeArgsList.v2566","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=null,l=null;function m(a){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(l!=null)return l.promise;l=new(d("WAResolvable").Resolvable)();try{d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["initCompatibilityAdapter: requesting list of IPCs from Native"])));a=(yield a.call("CompatibilityGetSupportedNativeIpcs"));k=JSON.parse(a);d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["initCompatibilityAdapter: received list of IPCs from Native"])));(a=l)==null||a.resolve()}catch(b){d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["initCompatibilityAdapter: failed with error ",""])),b).sendLogs("initCompatibilityAdapter: failed with error");(a=l)==null||a.reject(b)}l=null});return n.apply(this,arguments)}function a(a,b,c){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,d){if(k==null){if(b==="CompatibilityGetSupportedNativeIpcs")return[];yield m(a);if(k==null)throw c("err")("IPC_TO_NUM_ARGS should not be null after init")}a=k[b];b=c("WAWebWindowsMessagePassingBridgeArgsList.v2566")[b].slice(0,a);return b.map(function(a){return d[a]})});return o.apply(this,arguments)}g.initCompatibilityAdapter_v2566=m;g.selectArgsForIpc_v2566=a}),98);
__d("WAWebWindowsMessagePassingBridgeEventEmitter.v2566",["invariant","WAWebTypedEventEmitter"],(function(a,b,c,d,e,f,g,h){"use strict";a=function(a){function b(){return a.apply(this,arguments)||this}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.handleNativeEvent=function(a){a=a.split(",");var b=a.shift();switch(b){case"MessageNotificationAction":a.length>=3||h(0,89560);this.trigger("MessageNotificationAction",{key:a[0],action:a[1],additionalData:decodeURIComponent(a[2])});break;case"RequestOpenChat":a.length>=1||h(0,90387);this.trigger("RequestOpenChat",{chatJid:a[0]});break;case"OnIsAppInSystemTrayChanged":this.trigger("OnIsAppInSystemTrayChanged",{isAppInSystemTray:a[0]==="True"});break;case"RequestAllWebClientPreferences":this.trigger("RequestAllWebClientPreferences",{});break}};return b}(c("WAWebTypedEventEmitter"));g.WAWebWindowsMessagePassingBridgeEventEmitter_v2566=a}),98);
__d("WAWebWindowsMessagePassingBridge.v2566",["invariant","WAParsableWapNode","WAResolvable","WAWap","WAWebSerializeVoipWapNode","WAWebWid","WAWebWindowsHybridBridgeFactory.v2566","WAWebWindowsMessagePassingBridgeCompatibilityAdapter.v2566","WAWebWindowsMessagePassingBridgeEventEmitter.v2566","asyncToGeneratorRuntime","err","nullthrows"],(function(a,b,c,d,e,f,g,h){"use strict";var i=new Map([["CompatibilityGetSupportedNativeIpcs","CompatibilityGetSupportedNativeIpcs"],["ExecuteSqlite","RequestExecuteSqlite"],["ShowMessageNotification","ShowMessageNotification"],["CloseMessageNotification","CloseMessageNotification"],["IsNotificationEnabledInSystem","IsNotificationEnabledInSystem"],["OpenSystemNotificationsSettings","OpenSystemNotificationsSettings"],["UpdateTaskbarBadge","UpdateTaskbarBadge"],["UpdateLocalSetting","UpdateLocalSetting"],["GetStartupTaskState","GetStartupTaskState"],["UpdateStartupTask","UpdateStartupTask"]]);a=function(){function a(){var a=this;this.latestTransactionId=0;this.pendingCallIpcs=new Map();this.nativeEventEmitter=new(d("WAWebWindowsMessagePassingBridgeEventEmitter.v2566").WAWebWindowsMessagePassingBridgeEventEmitter_v2566)();var b=d("WAWebWindowsHybridBridgeFactory.v2566").getWebView_v2566("invokeWAWebWindowsWebViewNativeBridge: postMessage not available (not in the Windows WebView?)");b==null||b.addEventListener==null||b.addEventListener("message",function(b){return a.handleNativeIpcResponseEvent(b.data)});b==null||b.addEventListener==null||b.addEventListener("message",function(b){return a.nativeEventEmitter.handleNativeEvent(b.data)});void d("WAWebWindowsMessagePassingBridgeCompatibilityAdapter.v2566").initCompatibilityAdapter_v2566(this)}var e=a.prototype;e.call=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b===void 0&&(b={});b=(yield d("WAWebWindowsMessagePassingBridgeCompatibilityAdapter.v2566").selectArgsForIpc_v2566(this,a,b));b=b.map(j).join(",");if(!i.has(a))throw c("err")("invokeWAWebWindowsWebViewNativeBridge: invalid callable method: "+a);a=c("nullthrows")(i.get(a));var e=new(d("WAResolvable").Resolvable)();this.pendingCallIpcs.set(++this.latestTransactionId,e);b=b.split(",");b.push(this.latestTransactionId.toString());var f=d("WAWebWindowsHybridBridgeFactory.v2566").getWebView_v2566("invokeWAWebWindowsWebViewNativeBridge: postMessage not available (not in the Windows WebView?)");f==null||f.postMessage==null||f.postMessage(a+","+b.join(","));return e.promise});function e(b,c){return a.apply(this,arguments)}return e}();e.handleNativeIpcResponseEvent=function(a){a=a.split(",");var b=parseInt(a.shift(),10),c=a.shift();if(Number.isNaN(b)||c!=="NativeResponseToJS")return;this.handleNativeResponseEvent(b,a)};e.handleNativeResponseEvent=function(a,b){var c=b.shift();c!=null||h(0,88527);c=c==="0";this.pendingCallIpcs.has(a)||h(0,88528,a);var d=this.pendingCallIpcs.get(a);this.pendingCallIpcs["delete"](a);a=b.join(",");c?d==null?void 0:d.resolve(a):d==null?void 0:d.reject(a)};return a}();function j(a){if(typeof a==="string")return encodeURIComponent(a);else if(typeof a==="boolean")return a?"true":"false";else if(typeof a==="number")return a.toString(10);else if(a instanceof d("WAWap").WapNode||a instanceof d("WAParsableWapNode").ParsableWapNode){var b=d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a);return encodeURIComponent(b)}else if(a instanceof c("WAWebWid"))return a.toString({legacy:!0});else if(Array.isArray(a))return"["+a.map(j).join("|")+"]";else if(a==null)return"";throw c("err")("Windows WebView2 bridge: invokeNative: Unsupported argument type.",a)}g.WAWebWindowsMessagePassingBridge_v2566=a}),98);
__d("WAWebWindowsHybridBridgeFactory.v2567",["WALogger","WAWebBuildConstants","WAWebEnvironment","WAWebWindowsHybridBridge.v2558","WAWebWindowsHybridBridge.v2559","WAWebWindowsHybridBridge.v2560","WAWebWindowsHybridBridge.v2562","WAWebWindowsHybridBridge.v2563","WAWebWindowsHybridBridge.v2564","WAWebWindowsHybridBridge.v2566","WAWebWindowsHybridBridge.v2567","WAWebWindowsHybridBridgeCommon","WAWebWindowsHybridFlowHelpers","err","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m;e=new URLSearchParams((b=self.location.search)!=null?b:"");var n=e.get("bridgeError")==="1";function o(a){var b;if(!c("WAWebEnvironment").isWindows)return!1;if(((b=window.chrome)==null?void 0:b.webview)==null){if(c("gkx")("26258")||n)throw c("err")(a);d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[windows] bridge was not initialized: ",""])),a);return!1}return!0}function p(a){a===void 0&&(a="getWebView: no bridge available");return!o(a)?null:(a=window.chrome)==null?void 0:a.webview}function q(){try{var a=p();if(a!=null){a=r(a);d("WAWebWindowsHybridBridgeCommon").WAWebWindowsSetBridge(a);return a}}catch(a){d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["WinRTBridge: failed to initialize: ",""])),a)}return null}function r(a){try{if(d("WAWebBuildConstants").WINDOWS_BUILD!=null&&d("WAWebBuildConstants").WINDOWS_BUILD.startsWith("2559"))return new(d("WAWebWindowsHybridBridge.v2559").WindowsHybridBridge_v2559)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if(d("WAWebBuildConstants").WINDOWS_BUILD!=null&&d("WAWebBuildConstants").WINDOWS_BUILD.startsWith("2558"))return new(d("WAWebWindowsHybridBridge.v2558").WindowsHybridBridge_v2558)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if(d("WAWebBuildConstants").WINDOWS_BUILD!=null&&d("WAWebBuildConstants").WINDOWS_BUILD.startsWith("2560"))return new(d("WAWebWindowsHybridBridge.v2560").WindowsHybridBridge_v2560)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if(d("WAWebBuildConstants").WINDOWS_BUILD!=null&&d("WAWebBuildConstants").WINDOWS_BUILD.startsWith("2562"))return new(d("WAWebWindowsHybridBridge.v2562").WindowsHybridBridge_v2562)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if(d("WAWebBuildConstants").WINDOWS_BUILD!=null&&d("WAWebBuildConstants").WINDOWS_BUILD.startsWith("2563"))return new(d("WAWebWindowsHybridBridge.v2563").WindowsHybridBridge_v2563)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if(d("WAWebBuildConstants").WINDOWS_BUILD!=null&&d("WAWebBuildConstants").WINDOWS_BUILD.startsWith("2564"))return new(d("WAWebWindowsHybridBridge.v2564").WindowsHybridBridge_v2564)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if(d("WAWebBuildConstants").WINDOWS_BUILD!=null&&d("WAWebBuildConstants").WINDOWS_BUILD.startsWith("2566"))return new(d("WAWebWindowsHybridBridge.v2566").WindowsHybridBridge_v2566)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["windows hybrid bridge: unsupported build version ",""])),d("WAWebBuildConstants").WINDOWS_BUILD).sendLogs("windows hybrid bridge version missing");return new(d("WAWebWindowsHybridBridge.v2567").WindowsHybridBridge_v2567)(a)}catch(a){d("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["WinRTBridge: failed to initialize bridge instance: ",""])),a)}}var s=null,t=0;function a(){if(s==null){t>0&&d("WALogger").ERROR(l||(l=babelHelpers.taggedTemplateLiteralLoose(["WinRTBridge: bridge is being initialized "," times for WINDOWS_BUILD ",""])),t,d("WAWebBuildConstants").WINDOWS_BUILD).sendLogs("windows bridge multiple init");t++;try{s=q()}catch(a){d("WALogger").ERROR(m||(m=babelHelpers.taggedTemplateLiteralLoose(["WinRTBridge: failed to initialize: ",""])),a).devConsole(a).sendLogs("windows bridge init error")}}return s}g.getIsBridgeReady_v2567=o;g.getWebView_v2567=p;g.getWindowsBridge_v2567=a}),98);
__d("WAWebWindowsMessagePassingBridgeArgsList.v2567",[],(function(a,b,c,d,e,f){a={CompatibilityGetSupportedNativeIpcs:[],ExecuteSqlite:["queries"],ShowMessageNotification:["key","tag","header","body","thumbnailPath","footer","contextMenu","replyInputPlaceholder","replyButtonContent","suppressBanner","suppressNotificationOnAppClosed"],CloseMessageNotification:["key","tag"],IsNotificationEnabledInSystem:[],OpenSystemNotificationsSettings:[],UpdateTaskbarBadge:["count","ignoreIfAppInSystemTray"],UpdateLocalSetting:["key","value","revision"],GetStartupTaskState:[],UpdateStartupTask:["enabled"]};f["default"]=a}),66);
__d("WAWebWindowsMessagePassingBridgeCompatibilityAdapter.v2567",["WALogger","WAResolvable","WAWebWindowsMessagePassingBridgeArgsList.v2567","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=null,l=null;function m(a){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(l!=null)return l.promise;l=new(d("WAResolvable").Resolvable)();try{d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["initCompatibilityAdapter: requesting list of IPCs from Native"])));a=(yield a.call("CompatibilityGetSupportedNativeIpcs"));k=JSON.parse(a);d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["initCompatibilityAdapter: received list of IPCs from Native"])));(a=l)==null||a.resolve()}catch(b){d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["initCompatibilityAdapter: failed with error ",""])),b).sendLogs("initCompatibilityAdapter: failed with error");(a=l)==null||a.reject(b)}l=null});return n.apply(this,arguments)}function a(a,b,c){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,d){if(k==null){if(b==="CompatibilityGetSupportedNativeIpcs")return[];yield m(a);if(k==null)throw c("err")("IPC_TO_NUM_ARGS should not be null after init")}a=k[b];b=c("WAWebWindowsMessagePassingBridgeArgsList.v2567")[b].slice(0,a);return b.map(function(a){return d[a]})});return o.apply(this,arguments)}g.initCompatibilityAdapter_v2567=m;g.selectArgsForIpc_v2567=a}),98);
__d("WAWebWindowsMessagePassingBridgeEventEmitter.v2567",["invariant","WAWebTypedEventEmitter"],(function(a,b,c,d,e,f,g,h){"use strict";a=function(a){function b(){return a.apply(this,arguments)||this}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.handleNativeEvent=function(a){a=a.split(",");var b=a.shift();switch(b){case"MessageNotificationAction":a.length>=3||h(0,89560);this.trigger("MessageNotificationAction",{key:a[0],action:a[1],additionalData:decodeURIComponent(a[2])});break;case"RequestOpenChat":a.length>=1||h(0,90387);this.trigger("RequestOpenChat",{chatJid:a[0]});break;case"OnIsAppInSystemTrayChanged":this.trigger("OnIsAppInSystemTrayChanged",{isAppInSystemTray:a[0]==="True"});break;case"RequestAllWebClientPreferences":this.trigger("RequestAllWebClientPreferences",{});break}};return b}(c("WAWebTypedEventEmitter"));g.WAWebWindowsMessagePassingBridgeEventEmitter_v2567=a}),98);
__d("WAWebWindowsMessagePassingBridge.v2567",["invariant","WAParsableWapNode","WAResolvable","WAWap","WAWebSerializeVoipWapNode","WAWebWid","WAWebWindowsHybridBridgeFactory.v2567","WAWebWindowsMessagePassingBridgeCompatibilityAdapter.v2567","WAWebWindowsMessagePassingBridgeEventEmitter.v2567","asyncToGeneratorRuntime","err","nullthrows"],(function(a,b,c,d,e,f,g,h){"use strict";var i=new Map([["CompatibilityGetSupportedNativeIpcs","CompatibilityGetSupportedNativeIpcs"],["ExecuteSqlite","RequestExecuteSqlite"],["ShowMessageNotification","ShowMessageNotification"],["CloseMessageNotification","CloseMessageNotification"],["IsNotificationEnabledInSystem","IsNotificationEnabledInSystem"],["OpenSystemNotificationsSettings","OpenSystemNotificationsSettings"],["UpdateTaskbarBadge","UpdateTaskbarBadge"],["UpdateLocalSetting","UpdateLocalSetting"],["GetStartupTaskState","GetStartupTaskState"],["UpdateStartupTask","UpdateStartupTask"]]);a=function(){function a(){var a=this;this.latestTransactionId=0;this.pendingCallIpcs=new Map();this.nativeEventEmitter=new(d("WAWebWindowsMessagePassingBridgeEventEmitter.v2567").WAWebWindowsMessagePassingBridgeEventEmitter_v2567)();var b=d("WAWebWindowsHybridBridgeFactory.v2567").getWebView_v2567("invokeWAWebWindowsWebViewNativeBridge: postMessage not available (not in the Windows WebView?)");b==null||b.addEventListener==null||b.addEventListener("message",function(b){typeof b.data==="string"&&a.handleNativeIpcResponseEvent(b.data)});b==null||b.addEventListener==null||b.addEventListener("message",function(b){typeof b.data==="string"&&a.nativeEventEmitter.handleNativeEvent(b.data)});void d("WAWebWindowsMessagePassingBridgeCompatibilityAdapter.v2567").initCompatibilityAdapter_v2567(this)}var e=a.prototype;e.call=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b===void 0&&(b={});b=(yield d("WAWebWindowsMessagePassingBridgeCompatibilityAdapter.v2567").selectArgsForIpc_v2567(this,a,b));b=b.map(j).join(",");if(!i.has(a))throw c("err")("invokeWAWebWindowsWebViewNativeBridge: invalid callable method: "+a);a=c("nullthrows")(i.get(a));var e=new(d("WAResolvable").Resolvable)();this.pendingCallIpcs.set(++this.latestTransactionId,e);b=b.split(",");b.push(this.latestTransactionId.toString());var f=d("WAWebWindowsHybridBridgeFactory.v2567").getWebView_v2567("invokeWAWebWindowsWebViewNativeBridge: postMessage not available (not in the Windows WebView?)");f==null||f.postMessage==null||f.postMessage(a+","+b.join(","));return e.promise});function e(b,c){return a.apply(this,arguments)}return e}();e.handleNativeIpcResponseEvent=function(a){a=a.split(",");var b=parseInt(a.shift(),10),c=a.shift();if(Number.isNaN(b)||c!=="NativeResponseToJS")return;this.handleNativeResponseEvent(b,a)};e.handleNativeResponseEvent=function(a,b){var c=b.shift();c!=null||h(0,88527);c=c==="0";this.pendingCallIpcs.has(a)||h(0,88528,a);var d=this.pendingCallIpcs.get(a);this.pendingCallIpcs["delete"](a);a=b.join(",");c?d==null?void 0:d.resolve(a):d==null?void 0:d.reject(a)};return a}();function j(a){if(typeof a==="string")return encodeURIComponent(a);else if(typeof a==="boolean")return a?"true":"false";else if(typeof a==="number")return a.toString(10);else if(a instanceof d("WAWap").WapNode||a instanceof d("WAParsableWapNode").ParsableWapNode){var b=d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a);return encodeURIComponent(b)}else if(a instanceof c("WAWebWid"))return a.toString({legacy:!0});else if(Array.isArray(a))return"["+a.map(j).join("|")+"]";else if(a==null)return"";throw c("err")("Windows WebView2 bridge: invokeNative: Unsupported argument type.",a)}g.WAWebWindowsMessagePassingBridge_v2567=a}),98);
__d("WAWebWindowsHybridBridgeFactory.v2569",["WALogger","WAWebBuildConstants","WAWebEnvironment","WAWebWindowsHybridBridge.v2558","WAWebWindowsHybridBridge.v2559","WAWebWindowsHybridBridge.v2560","WAWebWindowsHybridBridge.v2562","WAWebWindowsHybridBridge.v2563","WAWebWindowsHybridBridge.v2564","WAWebWindowsHybridBridge.v2566","WAWebWindowsHybridBridge.v2567","WAWebWindowsHybridBridge.v2569","WAWebWindowsHybridBridgeCommon","WAWebWindowsHybridFlowHelpers","err","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m;e=new URLSearchParams((b=self.location.search)!=null?b:"");var n=e.get("bridgeError")==="1";function o(a){var b;if(!c("WAWebEnvironment").isWindows)return!1;if(((b=window.chrome)==null?void 0:b.webview)==null){if(c("gkx")("26258")||n)throw c("err")(a);d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[windows] bridge was not initialized: ",""])),a);return!1}return!0}function p(a){a===void 0&&(a="getWebView: no bridge available");return!o(a)?null:(a=window.chrome)==null?void 0:a.webview}function q(){try{var a=p();if(a!=null){a=r(a);d("WAWebWindowsHybridBridgeCommon").WAWebWindowsSetBridge(a);return a}}catch(a){d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["WinRTBridge: failed to initialize: ",""])),a)}return null}function r(a){try{if(d("WAWebBuildConstants").WINDOWS_BUILD!=null&&d("WAWebBuildConstants").WINDOWS_BUILD.startsWith("2559"))return new(d("WAWebWindowsHybridBridge.v2559").WindowsHybridBridge_v2559)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if(d("WAWebBuildConstants").WINDOWS_BUILD!=null&&d("WAWebBuildConstants").WINDOWS_BUILD.startsWith("2558"))return new(d("WAWebWindowsHybridBridge.v2558").WindowsHybridBridge_v2558)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if(d("WAWebBuildConstants").WINDOWS_BUILD!=null&&d("WAWebBuildConstants").WINDOWS_BUILD.startsWith("2560"))return new(d("WAWebWindowsHybridBridge.v2560").WindowsHybridBridge_v2560)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if(d("WAWebBuildConstants").WINDOWS_BUILD!=null&&d("WAWebBuildConstants").WINDOWS_BUILD.startsWith("2562"))return new(d("WAWebWindowsHybridBridge.v2562").WindowsHybridBridge_v2562)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if(d("WAWebBuildConstants").WINDOWS_BUILD!=null&&d("WAWebBuildConstants").WINDOWS_BUILD.startsWith("2563"))return new(d("WAWebWindowsHybridBridge.v2563").WindowsHybridBridge_v2563)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if(d("WAWebBuildConstants").WINDOWS_BUILD!=null&&d("WAWebBuildConstants").WINDOWS_BUILD.startsWith("2564"))return new(d("WAWebWindowsHybridBridge.v2564").WindowsHybridBridge_v2564)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if(d("WAWebBuildConstants").WINDOWS_BUILD!=null&&d("WAWebBuildConstants").WINDOWS_BUILD.startsWith("2566"))return new(d("WAWebWindowsHybridBridge.v2566").WindowsHybridBridge_v2566)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if(d("WAWebBuildConstants").WINDOWS_BUILD!=null&&d("WAWebBuildConstants").WINDOWS_BUILD.startsWith("2567"))return new(d("WAWebWindowsHybridBridge.v2567").WindowsHybridBridge_v2567)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["windows hybrid bridge: unsupported build version ",""])),d("WAWebBuildConstants").WINDOWS_BUILD).sendLogs("windows hybrid bridge version missing");return new(d("WAWebWindowsHybridBridge.v2569").WindowsHybridBridge_v2569)(a)}catch(a){d("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["WinRTBridge: failed to initialize bridge instance: ",""])),a)}}var s=null,t=0;function a(){if(s==null){t>0&&d("WALogger").ERROR(l||(l=babelHelpers.taggedTemplateLiteralLoose(["WinRTBridge: bridge is being initialized "," times for WINDOWS_BUILD ",""])),t,d("WAWebBuildConstants").WINDOWS_BUILD).sendLogs("windows bridge multiple init");t++;try{s=q()}catch(a){d("WALogger").ERROR(m||(m=babelHelpers.taggedTemplateLiteralLoose(["WinRTBridge: failed to initialize: ",""])),a).devConsole(a).sendLogs("windows bridge init error")}}return s}g.getIsBridgeReady_v2569=o;g.getWebView_v2569=p;g.getWindowsBridge_v2569=a}),98);
__d("WAWebWindowsMessagePassingBridgeArgsList.v2569",[],(function(a,b,c,d,e,f){a={CompatibilityGetSupportedNativeIpcs:[],ExecuteSqlite:["queries"],ShowMessageNotification:["key","tag","header","body","thumbnailPath","footer","contextMenu","replyInputPlaceholder","replyButtonContent","suppressBanner","suppressNotificationOnAppClosed"],CloseMessageNotification:["key","tag"],IsNotificationEnabledInSystem:[],OpenSystemNotificationsSettings:[],UpdateTaskbarBadge:["count","ignoreIfAppInSystemTray"],UpdateLocalSetting:["key","value","revision"],GetStartupTaskState:[],UpdateStartupTask:["enabled"]};f["default"]=a}),66);
__d("WAWebWindowsMessagePassingBridgeCompatibilityAdapter.v2569",["WALogger","WAResolvable","WAWebWindowsMessagePassingBridgeArgsList.v2569","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=null,l=null;function m(a){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(l!=null)return l.promise;l=new(d("WAResolvable").Resolvable)();try{d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["initCompatibilityAdapter: requesting list of IPCs from Native"])));a=(yield a.call("CompatibilityGetSupportedNativeIpcs"));k=JSON.parse(a);d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["initCompatibilityAdapter: received list of IPCs from Native"])));(a=l)==null||a.resolve()}catch(b){d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["initCompatibilityAdapter: failed with error ",""])),b).sendLogs("initCompatibilityAdapter: failed with error");(a=l)==null||a.reject(b)}l=null});return n.apply(this,arguments)}function a(a,b,c){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,d){if(k==null){if(b==="CompatibilityGetSupportedNativeIpcs")return[];yield m(a);if(k==null)throw c("err")("IPC_TO_NUM_ARGS should not be null after init")}a=k[b];b=c("WAWebWindowsMessagePassingBridgeArgsList.v2569")[b].slice(0,a);return b.map(function(a){return d[a]})});return o.apply(this,arguments)}g.initCompatibilityAdapter_v2569=m;g.selectArgsForIpc_v2569=a}),98);
__d("WAWebWindowsMessagePassingBridgeEventEmitter.v2569",["invariant","WAWebTypedEventEmitter"],(function(a,b,c,d,e,f,g,h){"use strict";a=function(a){function b(){return a.apply(this,arguments)||this}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.handleNativeEvent=function(a){a=a.split(",");var b=a.shift();switch(b){case"MessageNotificationAction":a.length>=3||h(0,89560);this.trigger("MessageNotificationAction",{key:a[0],action:a[1],additionalData:decodeURIComponent(a[2])});break;case"RequestOpenChat":a.length>=1||h(0,90387);this.trigger("RequestOpenChat",{chatJid:a[0]});break;case"OnIsAppInSystemTrayChanged":this.trigger("OnIsAppInSystemTrayChanged",{isAppInSystemTray:a[0]==="True"});break;case"RequestAllWebClientPreferences":this.trigger("RequestAllWebClientPreferences",{});break}};return b}(c("WAWebTypedEventEmitter"));g.WAWebWindowsMessagePassingBridgeEventEmitter_v2569=a}),98);
__d("WAWebWindowsMessagePassingBridge.v2569",["invariant","WAParsableWapNode","WAResolvable","WAWap","WAWebSerializeVoipWapNode","WAWebWid","WAWebWindowsHybridBridgeFactory.v2569","WAWebWindowsMessagePassingBridgeCompatibilityAdapter.v2569","WAWebWindowsMessagePassingBridgeEventEmitter.v2569","asyncToGeneratorRuntime","err","nullthrows"],(function(a,b,c,d,e,f,g,h){"use strict";var i=new Map([["CompatibilityGetSupportedNativeIpcs","CompatibilityGetSupportedNativeIpcs"],["ExecuteSqlite","RequestExecuteSqlite"],["ShowMessageNotification","ShowMessageNotification"],["CloseMessageNotification","CloseMessageNotification"],["IsNotificationEnabledInSystem","IsNotificationEnabledInSystem"],["OpenSystemNotificationsSettings","OpenSystemNotificationsSettings"],["UpdateTaskbarBadge","UpdateTaskbarBadge"],["UpdateLocalSetting","UpdateLocalSetting"],["GetStartupTaskState","GetStartupTaskState"],["UpdateStartupTask","UpdateStartupTask"]]);a=function(){function a(){var a=this;this.latestTransactionId=0;this.pendingCallIpcs=new Map();this.nativeEventEmitter=new(d("WAWebWindowsMessagePassingBridgeEventEmitter.v2569").WAWebWindowsMessagePassingBridgeEventEmitter_v2569)();var b=d("WAWebWindowsHybridBridgeFactory.v2569").getWebView_v2569("invokeWAWebWindowsWebViewNativeBridge: postMessage not available (not in the Windows WebView?)");b==null||b.addEventListener==null||b.addEventListener("message",function(b){typeof b.data==="string"&&a.handleNativeIpcResponseEvent(b.data)});b==null||b.addEventListener==null||b.addEventListener("message",function(b){typeof b.data==="string"&&a.nativeEventEmitter.handleNativeEvent(b.data)});void d("WAWebWindowsMessagePassingBridgeCompatibilityAdapter.v2569").initCompatibilityAdapter_v2569(this)}var e=a.prototype;e.call=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b===void 0&&(b={});b=(yield d("WAWebWindowsMessagePassingBridgeCompatibilityAdapter.v2569").selectArgsForIpc_v2569(this,a,b));b=b.map(j).join(",");if(!i.has(a))throw c("err")("invokeWAWebWindowsWebViewNativeBridge: invalid callable method: "+a);a=c("nullthrows")(i.get(a));var e=new(d("WAResolvable").Resolvable)();this.pendingCallIpcs.set(++this.latestTransactionId,e);b=b.split(",");b.push(this.latestTransactionId.toString());var f=d("WAWebWindowsHybridBridgeFactory.v2569").getWebView_v2569("invokeWAWebWindowsWebViewNativeBridge: postMessage not available (not in the Windows WebView?)");f==null||f.postMessage==null||f.postMessage(a+","+b.join(","));return e.promise});function e(b,c){return a.apply(this,arguments)}return e}();e.handleNativeIpcResponseEvent=function(a){a=a.split(",");var b=parseInt(a.shift(),10),c=a.shift();if(Number.isNaN(b)||c!=="NativeResponseToJS")return;this.handleNativeResponseEvent(b,a)};e.handleNativeResponseEvent=function(a,b){var c=b.shift();c!=null||h(0,88527);c=c==="0";this.pendingCallIpcs.has(a)||h(0,88528,a);var d=this.pendingCallIpcs.get(a);this.pendingCallIpcs["delete"](a);a=b.join(",");c?d==null?void 0:d.resolve(a):d==null?void 0:d.reject(a)};return a}();function j(a){if(typeof a==="string")return encodeURIComponent(a);else if(typeof a==="boolean")return a?"true":"false";else if(typeof a==="number")return a.toString(10);else if(a instanceof d("WAWap").WapNode||a instanceof d("WAParsableWapNode").ParsableWapNode){var b=d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a);return encodeURIComponent(b)}else if(a instanceof c("WAWebWid"))return a.toString({legacy:!0});else if(Array.isArray(a))return"["+a.map(j).join("|")+"]";else if(a==null)return"";throw c("err")("Windows WebView2 bridge: invokeNative: Unsupported argument type.",a)}g.WAWebWindowsMessagePassingBridge_v2569=a}),98);
__d("WAWebWindowsHybridBridgeFactory.v2570",["WALogger","WAWebBuildConstants","WAWebEnvironment","WAWebWindowsHybridBridge.v2558","WAWebWindowsHybridBridge.v2559","WAWebWindowsHybridBridge.v2560","WAWebWindowsHybridBridge.v2562","WAWebWindowsHybridBridge.v2563","WAWebWindowsHybridBridge.v2564","WAWebWindowsHybridBridge.v2566","WAWebWindowsHybridBridge.v2567","WAWebWindowsHybridBridge.v2569","WAWebWindowsHybridBridge.v2570","WAWebWindowsHybridBridgeCommon","WAWebWindowsHybridFlowHelpers","err","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m;e=new URLSearchParams((b=self.location.search)!=null?b:"");var n=e.get("bridgeError")==="1";function o(a){var b;if(!c("WAWebEnvironment").isWindows)return!1;if(((b=window.chrome)==null?void 0:b.webview)==null){if(c("gkx")("26258")||n)throw c("err")(a);d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[windows] bridge was not initialized: ",""])),a);return!1}return!0}function p(a){a===void 0&&(a="getWebView: no bridge available");return!o(a)?null:(a=window.chrome)==null?void 0:a.webview}function q(){try{var a=p();if(a!=null){a=r(a);d("WAWebWindowsHybridBridgeCommon").WAWebWindowsSetBridge(a);return a}}catch(a){d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["WinRTBridge: failed to initialize: ",""])),a)}return null}function r(a){try{if(d("WAWebBuildConstants").WINDOWS_BUILD!=null&&d("WAWebBuildConstants").WINDOWS_BUILD.startsWith("2559"))return new(d("WAWebWindowsHybridBridge.v2559").WindowsHybridBridge_v2559)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if(d("WAWebBuildConstants").WINDOWS_BUILD!=null&&d("WAWebBuildConstants").WINDOWS_BUILD.startsWith("2558"))return new(d("WAWebWindowsHybridBridge.v2558").WindowsHybridBridge_v2558)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if(d("WAWebBuildConstants").WINDOWS_BUILD!=null&&d("WAWebBuildConstants").WINDOWS_BUILD.startsWith("2560"))return new(d("WAWebWindowsHybridBridge.v2560").WindowsHybridBridge_v2560)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if(d("WAWebBuildConstants").WINDOWS_BUILD!=null&&d("WAWebBuildConstants").WINDOWS_BUILD.startsWith("2562"))return new(d("WAWebWindowsHybridBridge.v2562").WindowsHybridBridge_v2562)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if(d("WAWebBuildConstants").WINDOWS_BUILD!=null&&d("WAWebBuildConstants").WINDOWS_BUILD.startsWith("2563"))return new(d("WAWebWindowsHybridBridge.v2563").WindowsHybridBridge_v2563)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if(d("WAWebBuildConstants").WINDOWS_BUILD!=null&&d("WAWebBuildConstants").WINDOWS_BUILD.startsWith("2564"))return new(d("WAWebWindowsHybridBridge.v2564").WindowsHybridBridge_v2564)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if(d("WAWebBuildConstants").WINDOWS_BUILD!=null&&d("WAWebBuildConstants").WINDOWS_BUILD.startsWith("2566"))return new(d("WAWebWindowsHybridBridge.v2566").WindowsHybridBridge_v2566)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if(d("WAWebBuildConstants").WINDOWS_BUILD!=null&&d("WAWebBuildConstants").WINDOWS_BUILD.startsWith("2567"))return new(d("WAWebWindowsHybridBridge.v2567").WindowsHybridBridge_v2567)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if(d("WAWebBuildConstants").WINDOWS_BUILD!=null&&d("WAWebBuildConstants").WINDOWS_BUILD.startsWith("2569"))return new(d("WAWebWindowsHybridBridge.v2569").WindowsHybridBridge_v2569)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["windows hybrid bridge: unsupported build version ",""])),d("WAWebBuildConstants").WINDOWS_BUILD).sendLogs("windows hybrid bridge version missing");return new(d("WAWebWindowsHybridBridge.v2570").WindowsHybridBridge_v2570)(a)}catch(a){d("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["WinRTBridge: failed to initialize bridge instance: ",""])),a)}}var s=null,t=0;function a(){if(s==null){t>0&&d("WALogger").ERROR(l||(l=babelHelpers.taggedTemplateLiteralLoose(["WinRTBridge: bridge is being initialized "," times for WINDOWS_BUILD ",""])),t,d("WAWebBuildConstants").WINDOWS_BUILD).sendLogs("windows bridge multiple init");t++;try{s=q()}catch(a){d("WALogger").ERROR(m||(m=babelHelpers.taggedTemplateLiteralLoose(["WinRTBridge: failed to initialize: ",""])),a).devConsole(a).sendLogs("windows bridge init error")}}return s}g.getIsBridgeReady_v2570=o;g.getWebView_v2570=p;g.getWindowsBridge_v2570=a}),98);
__d("WAWebWindowsMessagePassingBridgeArgsList.v2570",[],(function(a,b,c,d,e,f){a={CompatibilityGetSupportedNativeIpcs:[],ExecuteSqlite:["queries"],ShowMessageNotification:["key","tag","header","body","thumbnailPath","footer","contextMenu","replyInputPlaceholder","replyButtonContent","suppressBanner","suppressNotificationOnAppClosed"],CloseMessageNotification:["key","tag"],IsNotificationEnabledInSystem:[],OpenSystemNotificationsSettings:[],UpdateTaskbarBadge:["count","ignoreIfAppInSystemTray"],UpdateLocalSetting:["key","value","revision"],GetStartupTaskState:[],UpdateStartupTask:["enabled"]};f["default"]=a}),66);
__d("WAWebWindowsMessagePassingBridgeCompatibilityAdapter.v2570",["WALogger","WAResolvable","WAWebWindowsMessagePassingBridgeArgsList.v2570","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=null,l=null;function m(a){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(l!=null)return l.promise;l=new(d("WAResolvable").Resolvable)();try{d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["initCompatibilityAdapter: requesting list of IPCs from Native"])));a=(yield a.call("CompatibilityGetSupportedNativeIpcs"));k=JSON.parse(a);d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["initCompatibilityAdapter: received list of IPCs from Native"])));(a=l)==null||a.resolve()}catch(b){d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["initCompatibilityAdapter: failed with error ",""])),b).sendLogs("initCompatibilityAdapter: failed with error");(a=l)==null||a.reject(b)}l=null});return n.apply(this,arguments)}function a(a,b,c){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,d){if(k==null){if(b==="CompatibilityGetSupportedNativeIpcs")return[];yield m(a);if(k==null)throw c("err")("IPC_TO_NUM_ARGS should not be null after init")}a=k[b];b=c("WAWebWindowsMessagePassingBridgeArgsList.v2570")[b].slice(0,a);return b.map(function(a){return d[a]})});return o.apply(this,arguments)}g.initCompatibilityAdapter_v2570=m;g.selectArgsForIpc_v2570=a}),98);
__d("WAWebWindowsMessagePassingBridgeEventEmitter.v2570",["invariant","WAWebTypedEventEmitter"],(function(a,b,c,d,e,f,g,h){"use strict";a=function(a){function b(){return a.apply(this,arguments)||this}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.handleNativeEvent=function(a){a=a.split(",");var b=a.shift();switch(b){case"MessageNotificationAction":a.length>=3||h(0,89560);this.trigger("MessageNotificationAction",{key:a[0],action:a[1],additionalData:decodeURIComponent(a[2])});break;case"RequestOpenChat":a.length>=1||h(0,90387);this.trigger("RequestOpenChat",{chatJid:a[0]});break;case"OnIsAppInSystemTrayChanged":this.trigger("OnIsAppInSystemTrayChanged",{isAppInSystemTray:a[0]==="True"});break;case"RequestAllWebClientPreferences":this.trigger("RequestAllWebClientPreferences",{});break}};return b}(c("WAWebTypedEventEmitter"));g.WAWebWindowsMessagePassingBridgeEventEmitter_v2570=a}),98);
__d("WAWebWindowsMessagePassingBridge.v2570",["invariant","WAParsableWapNode","WAResolvable","WAWap","WAWebSerializeVoipWapNode","WAWebWid","WAWebWindowsHybridBridgeFactory.v2570","WAWebWindowsMessagePassingBridgeCompatibilityAdapter.v2570","WAWebWindowsMessagePassingBridgeEventEmitter.v2570","asyncToGeneratorRuntime","err","nullthrows"],(function(a,b,c,d,e,f,g,h){"use strict";var i=new Map([["CompatibilityGetSupportedNativeIpcs","CompatibilityGetSupportedNativeIpcs"],["ExecuteSqlite","RequestExecuteSqlite"],["ShowMessageNotification","ShowMessageNotification"],["CloseMessageNotification","CloseMessageNotification"],["IsNotificationEnabledInSystem","IsNotificationEnabledInSystem"],["OpenSystemNotificationsSettings","OpenSystemNotificationsSettings"],["UpdateTaskbarBadge","UpdateTaskbarBadge"],["UpdateLocalSetting","UpdateLocalSetting"],["GetStartupTaskState","GetStartupTaskState"],["UpdateStartupTask","UpdateStartupTask"]]);a=function(){function a(){var a=this;this.latestTransactionId=0;this.pendingCallIpcs=new Map();this.nativeEventEmitter=new(d("WAWebWindowsMessagePassingBridgeEventEmitter.v2570").WAWebWindowsMessagePassingBridgeEventEmitter_v2570)();var b=d("WAWebWindowsHybridBridgeFactory.v2570").getWebView_v2570("invokeWAWebWindowsWebViewNativeBridge: postMessage not available (not in the Windows WebView?)");b==null||b.addEventListener==null||b.addEventListener("message",function(b){typeof b.data==="string"&&a.handleNativeIpcResponseEvent(b.data)});b==null||b.addEventListener==null||b.addEventListener("message",function(b){typeof b.data==="string"&&a.nativeEventEmitter.handleNativeEvent(b.data)});void d("WAWebWindowsMessagePassingBridgeCompatibilityAdapter.v2570").initCompatibilityAdapter_v2570(this)}var e=a.prototype;e.call=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b===void 0&&(b={});b=(yield d("WAWebWindowsMessagePassingBridgeCompatibilityAdapter.v2570").selectArgsForIpc_v2570(this,a,b));b=b.map(j).join(",");if(!i.has(a))throw c("err")("invokeWAWebWindowsWebViewNativeBridge: invalid callable method: "+a);a=c("nullthrows")(i.get(a));var e=new(d("WAResolvable").Resolvable)();this.pendingCallIpcs.set(++this.latestTransactionId,e);b=b.split(",");b.push(this.latestTransactionId.toString());var f=d("WAWebWindowsHybridBridgeFactory.v2570").getWebView_v2570("invokeWAWebWindowsWebViewNativeBridge: postMessage not available (not in the Windows WebView?)");f==null||f.postMessage==null||f.postMessage(a+","+b.join(","));return e.promise});function e(b,c){return a.apply(this,arguments)}return e}();e.handleNativeIpcResponseEvent=function(a){a=a.split(",");var b=parseInt(a.shift(),10),c=a.shift();if(Number.isNaN(b)||c!=="NativeResponseToJS")return;this.handleNativeResponseEvent(b,a)};e.handleNativeResponseEvent=function(a,b){var c=b.shift();c!=null||h(0,88527);c=c==="0";this.pendingCallIpcs.has(a)||h(0,88528,a);var d=this.pendingCallIpcs.get(a);this.pendingCallIpcs["delete"](a);a=b.join(",");c?d==null?void 0:d.resolve(a):d==null?void 0:d.reject(a)};return a}();function j(a){if(typeof a==="string")return encodeURIComponent(a);else if(typeof a==="boolean")return a?"true":"false";else if(typeof a==="number")return a.toString(10);else if(a instanceof d("WAWap").WapNode||a instanceof d("WAParsableWapNode").ParsableWapNode){var b=d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a);return encodeURIComponent(b)}else if(a instanceof c("WAWebWid"))return a.toString({legacy:!0});else if(Array.isArray(a))return"["+a.map(j).join("|")+"]";else if(a==null)return"";throw c("err")("Windows WebView2 bridge: invokeNative: Unsupported argument type.",a)}g.WAWebWindowsMessagePassingBridge_v2570=a}),98);
__d("WAWebWindowsHybridBridgeFactory.v2571",["WALogger","WAWebBuildConstants","WAWebEnvironment","WAWebWindowsHybridBridge.v2558","WAWebWindowsHybridBridge.v2559","WAWebWindowsHybridBridge.v2560","WAWebWindowsHybridBridge.v2562","WAWebWindowsHybridBridge.v2563","WAWebWindowsHybridBridge.v2564","WAWebWindowsHybridBridge.v2566","WAWebWindowsHybridBridge.v2567","WAWebWindowsHybridBridge.v2569","WAWebWindowsHybridBridge.v2570","WAWebWindowsHybridBridge.v2571","WAWebWindowsHybridBridgeCommon","WAWebWindowsHybridFlowHelpers","err","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m;e=new URLSearchParams((b=self.location.search)!=null?b:"");var n=e.get("bridgeError")==="1";function o(a){var b;if(!c("WAWebEnvironment").isWindows)return!1;if(((b=window.chrome)==null?void 0:b.webview)==null){if(c("gkx")("26258")||n)throw c("err")(a);d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[windows] bridge was not initialized: ",""])),a);return!1}return!0}function p(a){a===void 0&&(a="getWebView: no bridge available");return!o(a)?null:(a=window.chrome)==null?void 0:a.webview}function q(){try{var a=p();if(a!=null){a=r(a);d("WAWebWindowsHybridBridgeCommon").WAWebWindowsSetBridge(a);return a}}catch(a){d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["WinRTBridge: failed to initialize: ",""])),a)}return null}function r(a){try{if(d("WAWebBuildConstants").WINDOWS_BUILD!=null&&d("WAWebBuildConstants").WINDOWS_BUILD.startsWith("2559"))return new(d("WAWebWindowsHybridBridge.v2559").WindowsHybridBridge_v2559)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if(d("WAWebBuildConstants").WINDOWS_BUILD!=null&&d("WAWebBuildConstants").WINDOWS_BUILD.startsWith("2558"))return new(d("WAWebWindowsHybridBridge.v2558").WindowsHybridBridge_v2558)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if(d("WAWebBuildConstants").WINDOWS_BUILD!=null&&d("WAWebBuildConstants").WINDOWS_BUILD.startsWith("2560"))return new(d("WAWebWindowsHybridBridge.v2560").WindowsHybridBridge_v2560)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if(d("WAWebBuildConstants").WINDOWS_BUILD!=null&&d("WAWebBuildConstants").WINDOWS_BUILD.startsWith("2562"))return new(d("WAWebWindowsHybridBridge.v2562").WindowsHybridBridge_v2562)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if(d("WAWebBuildConstants").WINDOWS_BUILD!=null&&d("WAWebBuildConstants").WINDOWS_BUILD.startsWith("2563"))return new(d("WAWebWindowsHybridBridge.v2563").WindowsHybridBridge_v2563)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if(d("WAWebBuildConstants").WINDOWS_BUILD!=null&&d("WAWebBuildConstants").WINDOWS_BUILD.startsWith("2564"))return new(d("WAWebWindowsHybridBridge.v2564").WindowsHybridBridge_v2564)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if(d("WAWebBuildConstants").WINDOWS_BUILD!=null&&d("WAWebBuildConstants").WINDOWS_BUILD.startsWith("2566"))return new(d("WAWebWindowsHybridBridge.v2566").WindowsHybridBridge_v2566)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if(d("WAWebBuildConstants").WINDOWS_BUILD!=null&&d("WAWebBuildConstants").WINDOWS_BUILD.startsWith("2567"))return new(d("WAWebWindowsHybridBridge.v2567").WindowsHybridBridge_v2567)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if(d("WAWebBuildConstants").WINDOWS_BUILD!=null&&d("WAWebBuildConstants").WINDOWS_BUILD.startsWith("2569"))return new(d("WAWebWindowsHybridBridge.v2569").WindowsHybridBridge_v2569)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if(d("WAWebBuildConstants").WINDOWS_BUILD!=null&&d("WAWebBuildConstants").WINDOWS_BUILD.startsWith("2570"))return new(d("WAWebWindowsHybridBridge.v2570").WindowsHybridBridge_v2570)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["windows hybrid bridge: unsupported build version ",""])),d("WAWebBuildConstants").WINDOWS_BUILD).sendLogs("windows hybrid bridge version missing");return new(d("WAWebWindowsHybridBridge.v2571").WindowsHybridBridge_v2571)(a)}catch(a){d("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["WinRTBridge: failed to initialize bridge instance: ",""])),a)}}var s=null,t=0;function a(){if(s==null){t>0&&d("WALogger").ERROR(l||(l=babelHelpers.taggedTemplateLiteralLoose(["WinRTBridge: bridge is being initialized "," times for WINDOWS_BUILD ",""])),t,d("WAWebBuildConstants").WINDOWS_BUILD).sendLogs("windows bridge multiple init");t++;try{s=q()}catch(a){d("WALogger").ERROR(m||(m=babelHelpers.taggedTemplateLiteralLoose(["WinRTBridge: failed to initialize: ",""])),a).devConsole(a).sendLogs("windows bridge init error")}}return s}g.getIsBridgeReady_v2571=o;g.getWebView_v2571=p;g.getWindowsBridge_v2571=a}),98);
__d("WAWebWindowsMessagePassingBridgeArgsList.v2571",[],(function(a,b,c,d,e,f){a={CompatibilityGetSupportedNativeIpcs:[],ExecuteSqlite:["queries"],ShowMessageNotification:["key","tag","header","body","thumbnailPath","footer","contextMenu","replyInputPlaceholder","replyButtonContent","suppressBanner","suppressNotificationOnAppClosed"],CloseMessageNotification:["key","tag"],IsNotificationEnabledInSystem:[],OpenSystemNotificationsSettings:[],UpdateTaskbarBadge:["count","ignoreIfAppInSystemTray"],UpdateLocalSetting:["key","value","revision"],GetStartupTaskState:[],UpdateStartupTask:["enabled"]};f["default"]=a}),66);
__d("WAWebWindowsMessagePassingBridgeCompatibilityAdapter.v2571",["WALogger","WAResolvable","WAWebWindowsMessagePassingBridgeArgsList.v2571","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=null,l=null;function m(a){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(l!=null)return l.promise;l=new(d("WAResolvable").Resolvable)();try{d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["initCompatibilityAdapter: requesting list of IPCs from Native"])));a=(yield a.call("CompatibilityGetSupportedNativeIpcs"));k=JSON.parse(a);d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["initCompatibilityAdapter: received list of IPCs from Native"])));(a=l)==null||a.resolve()}catch(b){d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["initCompatibilityAdapter: failed with error ",""])),b).sendLogs("initCompatibilityAdapter: failed with error");(a=l)==null||a.reject(b)}l=null});return n.apply(this,arguments)}function a(a,b,c){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,d){if(k==null){if(b==="CompatibilityGetSupportedNativeIpcs")return[];yield m(a);if(k==null)throw c("err")("IPC_TO_NUM_ARGS should not be null after init")}a=k[b];b=c("WAWebWindowsMessagePassingBridgeArgsList.v2571")[b].slice(0,a);return b.map(function(a){return d[a]})});return o.apply(this,arguments)}g.initCompatibilityAdapter_v2571=m;g.selectArgsForIpc_v2571=a}),98);
__d("WAWebWindowsMessagePassingBridgeEventEmitter.v2571",["invariant","WAWebTypedEventEmitter"],(function(a,b,c,d,e,f,g,h){"use strict";a=function(a){function b(){return a.apply(this,arguments)||this}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.handleNativeEvent=function(a){a=a.split(",");var b=a.shift();switch(b){case"MessageNotificationAction":a.length>=3||h(0,89560);this.trigger("MessageNotificationAction",{key:a[0],action:a[1],additionalData:decodeURIComponent(a[2])});break;case"RequestOpenChat":a.length>=1||h(0,90387);this.trigger("RequestOpenChat",{chatJid:a[0]});break;case"OnIsAppInSystemTrayChanged":this.trigger("OnIsAppInSystemTrayChanged",{isAppInSystemTray:a[0]==="True"});break;case"RequestAllWebClientPreferences":this.trigger("RequestAllWebClientPreferences",{});break}};return b}(c("WAWebTypedEventEmitter"));g.WAWebWindowsMessagePassingBridgeEventEmitter_v2571=a}),98);
__d("WAWebWindowsMessagePassingBridge.v2571",["invariant","WAParsableWapNode","WAResolvable","WAWap","WAWebSerializeVoipWapNode","WAWebWid","WAWebWindowsHybridBridgeFactory.v2571","WAWebWindowsMessagePassingBridgeCompatibilityAdapter.v2571","WAWebWindowsMessagePassingBridgeEventEmitter.v2571","asyncToGeneratorRuntime","err","nullthrows"],(function(a,b,c,d,e,f,g,h){"use strict";var i=new Map([["CompatibilityGetSupportedNativeIpcs","CompatibilityGetSupportedNativeIpcs"],["ExecuteSqlite","RequestExecuteSqlite"],["ShowMessageNotification","ShowMessageNotification"],["CloseMessageNotification","CloseMessageNotification"],["IsNotificationEnabledInSystem","IsNotificationEnabledInSystem"],["OpenSystemNotificationsSettings","OpenSystemNotificationsSettings"],["UpdateTaskbarBadge","UpdateTaskbarBadge"],["UpdateLocalSetting","UpdateLocalSetting"],["GetStartupTaskState","GetStartupTaskState"],["UpdateStartupTask","UpdateStartupTask"]]);a=function(){function a(){var a=this;this.latestTransactionId=0;this.pendingCallIpcs=new Map();this.nativeEventEmitter=new(d("WAWebWindowsMessagePassingBridgeEventEmitter.v2571").WAWebWindowsMessagePassingBridgeEventEmitter_v2571)();var b=d("WAWebWindowsHybridBridgeFactory.v2571").getWebView_v2571("invokeWAWebWindowsWebViewNativeBridge: postMessage not available (not in the Windows WebView?)");b==null||b.addEventListener==null||b.addEventListener("message",function(b){typeof b.data==="string"&&a.handleNativeIpcResponseEvent(b.data)});b==null||b.addEventListener==null||b.addEventListener("message",function(b){typeof b.data==="string"&&a.nativeEventEmitter.handleNativeEvent(b.data)});void d("WAWebWindowsMessagePassingBridgeCompatibilityAdapter.v2571").initCompatibilityAdapter_v2571(this)}var e=a.prototype;e.call=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b===void 0&&(b={});b=(yield d("WAWebWindowsMessagePassingBridgeCompatibilityAdapter.v2571").selectArgsForIpc_v2571(this,a,b));b=b.map(j).join(",");if(!i.has(a))throw c("err")("invokeWAWebWindowsWebViewNativeBridge: invalid callable method: "+a);a=c("nullthrows")(i.get(a));var e=new(d("WAResolvable").Resolvable)();this.pendingCallIpcs.set(++this.latestTransactionId,e);b=b.split(",");b.push(this.latestTransactionId.toString());var f=d("WAWebWindowsHybridBridgeFactory.v2571").getWebView_v2571("invokeWAWebWindowsWebViewNativeBridge: postMessage not available (not in the Windows WebView?)");f==null||f.postMessage==null||f.postMessage(a+","+b.join(","));return e.promise});function e(b,c){return a.apply(this,arguments)}return e}();e.handleNativeIpcResponseEvent=function(a){a=a.split(",");var b=parseInt(a.shift(),10),c=a.shift();if(Number.isNaN(b)||c!=="NativeResponseToJS")return;this.handleNativeResponseEvent(b,a)};e.handleNativeResponseEvent=function(a,b){var c=b.shift();c!=null||h(0,88527);c=c==="0";this.pendingCallIpcs.has(a)||h(0,88528,a);var d=this.pendingCallIpcs.get(a);this.pendingCallIpcs["delete"](a);a=b.join(",");c?d==null?void 0:d.resolve(a):d==null?void 0:d.reject(a)};return a}();function j(a){if(typeof a==="string")return encodeURIComponent(a);else if(typeof a==="boolean")return a?"true":"false";else if(typeof a==="number")return a.toString(10);else if(a instanceof d("WAWap").WapNode||a instanceof d("WAParsableWapNode").ParsableWapNode){var b=d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a);return encodeURIComponent(b)}else if(a instanceof c("WAWebWid"))return a.toString({legacy:!0});else if(Array.isArray(a))return"["+a.map(j).join("|")+"]";else if(a==null)return"";throw c("err")("Windows WebView2 bridge: invokeNative: Unsupported argument type.",a)}g.WAWebWindowsMessagePassingBridge_v2571=a}),98);
__d("WAWebWindowsHybridBridgeFactory.v2572",["WALogger","WAWebBuildConstants","WAWebEnvironment","WAWebWindowsHybridBridge.v2558","WAWebWindowsHybridBridge.v2559","WAWebWindowsHybridBridge.v2560","WAWebWindowsHybridBridge.v2562","WAWebWindowsHybridBridge.v2563","WAWebWindowsHybridBridge.v2564","WAWebWindowsHybridBridge.v2566","WAWebWindowsHybridBridge.v2567","WAWebWindowsHybridBridge.v2569","WAWebWindowsHybridBridge.v2570","WAWebWindowsHybridBridge.v2571","WAWebWindowsHybridBridge.v2572","WAWebWindowsHybridBridgeCommon","WAWebWindowsHybridFlowHelpers","err","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m;e=new URLSearchParams((b=self.location.search)!=null?b:"");var n=e.get("bridgeError")==="1";function o(a){var b;if(!c("WAWebEnvironment").isWindows)return!1;if(((b=window.chrome)==null?void 0:b.webview)==null){if(c("gkx")("26258")||n)throw c("err")(a);d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[windows] bridge was not initialized: ",""])),a);return!1}return!0}function p(a){a===void 0&&(a="getWebView: no bridge available");return!o(a)?null:(a=window.chrome)==null?void 0:a.webview}function q(){try{var a=p();if(a!=null){a=r(a);d("WAWebWindowsHybridBridgeCommon").WAWebWindowsSetBridge(a);return a}}catch(a){d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["WinRTBridge: failed to initialize: ",""])),a)}return null}function r(a){try{if(d("WAWebBuildConstants").WINDOWS_BUILD!=null&&d("WAWebBuildConstants").WINDOWS_BUILD.startsWith("2559"))return new(d("WAWebWindowsHybridBridge.v2559").WindowsHybridBridge_v2559)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if(d("WAWebBuildConstants").WINDOWS_BUILD!=null&&d("WAWebBuildConstants").WINDOWS_BUILD.startsWith("2558"))return new(d("WAWebWindowsHybridBridge.v2558").WindowsHybridBridge_v2558)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if(d("WAWebBuildConstants").WINDOWS_BUILD!=null&&d("WAWebBuildConstants").WINDOWS_BUILD.startsWith("2560"))return new(d("WAWebWindowsHybridBridge.v2560").WindowsHybridBridge_v2560)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if(d("WAWebBuildConstants").WINDOWS_BUILD!=null&&d("WAWebBuildConstants").WINDOWS_BUILD.startsWith("2562"))return new(d("WAWebWindowsHybridBridge.v2562").WindowsHybridBridge_v2562)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if(d("WAWebBuildConstants").WINDOWS_BUILD!=null&&d("WAWebBuildConstants").WINDOWS_BUILD.startsWith("2563"))return new(d("WAWebWindowsHybridBridge.v2563").WindowsHybridBridge_v2563)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if(d("WAWebBuildConstants").WINDOWS_BUILD!=null&&d("WAWebBuildConstants").WINDOWS_BUILD.startsWith("2564"))return new(d("WAWebWindowsHybridBridge.v2564").WindowsHybridBridge_v2564)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if(d("WAWebBuildConstants").WINDOWS_BUILD!=null&&d("WAWebBuildConstants").WINDOWS_BUILD.startsWith("2566"))return new(d("WAWebWindowsHybridBridge.v2566").WindowsHybridBridge_v2566)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if(d("WAWebBuildConstants").WINDOWS_BUILD!=null&&d("WAWebBuildConstants").WINDOWS_BUILD.startsWith("2567"))return new(d("WAWebWindowsHybridBridge.v2567").WindowsHybridBridge_v2567)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if(d("WAWebBuildConstants").WINDOWS_BUILD!=null&&d("WAWebBuildConstants").WINDOWS_BUILD.startsWith("2569"))return new(d("WAWebWindowsHybridBridge.v2569").WindowsHybridBridge_v2569)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if(d("WAWebBuildConstants").WINDOWS_BUILD!=null&&d("WAWebBuildConstants").WINDOWS_BUILD.startsWith("2570"))return new(d("WAWebWindowsHybridBridge.v2570").WindowsHybridBridge_v2570)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if(d("WAWebBuildConstants").WINDOWS_BUILD!=null&&d("WAWebBuildConstants").WINDOWS_BUILD.startsWith("2571"))return new(d("WAWebWindowsHybridBridge.v2571").WindowsHybridBridge_v2571)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["windows hybrid bridge: unsupported build version ",""])),d("WAWebBuildConstants").WINDOWS_BUILD).sendLogs("windows hybrid bridge version missing");return new(d("WAWebWindowsHybridBridge.v2572").WindowsHybridBridge_v2572)(a)}catch(a){d("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["WinRTBridge: failed to initialize bridge instance: ",""])),a)}}var s=null,t=0;function a(){if(s==null){t>0&&d("WALogger").ERROR(l||(l=babelHelpers.taggedTemplateLiteralLoose(["WinRTBridge: bridge is being initialized "," times for WINDOWS_BUILD ",""])),t,d("WAWebBuildConstants").WINDOWS_BUILD).sendLogs("windows bridge multiple init");t++;try{s=q()}catch(a){d("WALogger").ERROR(m||(m=babelHelpers.taggedTemplateLiteralLoose(["WinRTBridge: failed to initialize: ",""])),a).devConsole(a).sendLogs("windows bridge init error")}}return s}g.getIsBridgeReady_v2572=o;g.getWebView_v2572=p;g.getWindowsBridge_v2572=a}),98);
__d("WAWebWindowsMessagePassingBridgeArgsList.v2572",[],(function(a,b,c,d,e,f){a={CompatibilityGetSupportedNativeIpcs:[],ExecuteSqlite:["queries"],ShowMessageNotification:["key","tag","header","body","thumbnailPath","footer","contextMenu","replyInputPlaceholder","replyButtonContent","suppressBanner","suppressNotificationOnAppClosed"],CloseMessageNotification:["key","tag"],IsNotificationEnabledInSystem:[],OpenSystemNotificationsSettings:[],UpdateTaskbarBadge:["count","ignoreIfAppInSystemTray"],UpdateLocalSetting:["key","value","revision"],GetStartupTaskState:[],UpdateStartupTask:["enabled"]};f["default"]=a}),66);
__d("WAWebWindowsMessagePassingBridgeCompatibilityAdapter.v2572",["WALogger","WAResolvable","WAWebWindowsMessagePassingBridgeArgsList.v2572","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=null,l=null;function m(a){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(l!=null)return l.promise;l=new(d("WAResolvable").Resolvable)();try{d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["initCompatibilityAdapter: requesting list of IPCs from Native"])));a=(yield a.call("CompatibilityGetSupportedNativeIpcs"));k=JSON.parse(a);d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["initCompatibilityAdapter: received list of IPCs from Native"])));(a=l)==null||a.resolve()}catch(b){d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["initCompatibilityAdapter: failed with error ",""])),b).sendLogs("initCompatibilityAdapter: failed with error");(a=l)==null||a.reject(b)}l=null});return n.apply(this,arguments)}function a(a,b,c){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,d){if(k==null){if(b==="CompatibilityGetSupportedNativeIpcs")return[];yield m(a);if(k==null)throw c("err")("IPC_TO_NUM_ARGS should not be null after init")}a=k[b];b=c("WAWebWindowsMessagePassingBridgeArgsList.v2572")[b].slice(0,a);return b.map(function(a){return d[a]})});return o.apply(this,arguments)}g.initCompatibilityAdapter_v2572=m;g.selectArgsForIpc_v2572=a}),98);
__d("WAWebWindowsMessagePassingBridgeEventEmitter.v2572",["invariant","WAWebTypedEventEmitter"],(function(a,b,c,d,e,f,g,h){"use strict";a=function(a){function b(){return a.apply(this,arguments)||this}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.handleNativeEvent=function(a){a=a.split(",");var b=a.shift();switch(b){case"MessageNotificationAction":a.length>=3||h(0,89560);this.trigger("MessageNotificationAction",{key:a[0],action:a[1],additionalData:decodeURIComponent(a[2])});break;case"RequestOpenChat":a.length>=1||h(0,90387);this.trigger("RequestOpenChat",{chatJid:a[0]});break;case"OnIsAppInSystemTrayChanged":this.trigger("OnIsAppInSystemTrayChanged",{isAppInSystemTray:a[0]==="True"});break;case"RequestAllWebClientPreferences":this.trigger("RequestAllWebClientPreferences",{});break}};return b}(c("WAWebTypedEventEmitter"));g.WAWebWindowsMessagePassingBridgeEventEmitter_v2572=a}),98);
__d("WAWebWindowsMessagePassingBridge.v2572",["invariant","WALogger","WAParsableWapNode","WAResolvable","WAWap","WAWebSerializeVoipWapNode","WAWebWid","WAWebWindowsHybridBridgeFactory.v2572","WAWebWindowsMessagePassingBridgeCompatibilityAdapter.v2572","WAWebWindowsMessagePassingBridgeEventEmitter.v2572","asyncToGeneratorRuntime","err","nullthrows"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m,n,o,p,q,r=new Map([["CompatibilityGetSupportedNativeIpcs","CompatibilityGetSupportedNativeIpcs"],["ExecuteSqlite","RequestExecuteSqlite"],["ShowMessageNotification","ShowMessageNotification"],["CloseMessageNotification","CloseMessageNotification"],["IsNotificationEnabledInSystem","IsNotificationEnabledInSystem"],["OpenSystemNotificationsSettings","OpenSystemNotificationsSettings"],["UpdateTaskbarBadge","UpdateTaskbarBadge"],["UpdateLocalSetting","UpdateLocalSetting"],["GetStartupTaskState","GetStartupTaskState"],["UpdateStartupTask","UpdateStartupTask"]]);a=function(){function a(){var a=this;this.latestTransactionId=0;this.pendingCallIpcs=new Map();this.nativeEventEmitter=new(d("WAWebWindowsMessagePassingBridgeEventEmitter.v2572").WAWebWindowsMessagePassingBridgeEventEmitter_v2572)();var b=d("WAWebWindowsHybridBridgeFactory.v2572").getWebView_v2572("invokeWAWebWindowsWebViewNativeBridge: postMessage not available (not in the Windows WebView?)");b==null||b.addEventListener==null||b.addEventListener("message",function(b){typeof b.data==="string"&&a.handleNativeIpcResponseEvent(b.data)});b==null||b.addEventListener==null||b.addEventListener("message",function(b){typeof b.data==="string"&&a.nativeEventEmitter.handleNativeEvent(b.data)});void d("WAWebWindowsMessagePassingBridgeCompatibilityAdapter.v2572").initCompatibilityAdapter_v2572(this)}var e=a.prototype;e.call=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b===void 0&&(b={});d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Starting IPC call for method: ",""])),a);d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Arguments: ",""])),JSON.stringify(b));b=(yield d("WAWebWindowsMessagePassingBridgeCompatibilityAdapter.v2572").selectArgsForIpc_v2572(this,a,b));b=b.map(s).join(",");d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Processed arg string: ",""])),b);if(!r.has(a)){d("WALogger").ERROR(l||(l=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Invalid callable method: ",""])),a);throw c("err")("invokeWAWebWindowsWebViewNativeBridge: invalid callable method: "+a)}var e=c("nullthrows")(r.get(a));d("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Mapped IPC method name: ",""])),e);var f=new(d("WAResolvable").Resolvable)();this.pendingCallIpcs.set(++this.latestTransactionId,f);d("WALogger").LOG(n||(n=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Created transaction ID: ",""])),this.latestTransactionId);b=b.split(",");b.push(this.latestTransactionId.toString());var g=d("WAWebWindowsHybridBridgeFactory.v2572").getWebView_v2572("invokeWAWebWindowsWebViewNativeBridge: postMessage not available (not in the Windows WebView?)");e=e+","+b.join(",");d("WALogger").LOG(o||(o=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Sending message to native: ",""])),e);try{yield g==null||g.postMessage==null?void 0:g.postMessage(e);b=(yield f.promise);d("WALogger").LOG(p||(p=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Received successful response for "," (txId: ","): ",""])),a,this.latestTransactionId,b);return b}catch(b){d("WALogger").ERROR(q||(q=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: IPC call failed for "," (txId: ","): ",""])),a,this.latestTransactionId,b).devConsole(b);throw b}});function e(b,c){return a.apply(this,arguments)}return e}();e.handleNativeIpcResponseEvent=function(a){a=a.split(",");var b=parseInt(a.shift(),10),c=a.shift();if(Number.isNaN(b)||c!=="NativeResponseToJS")return;this.handleNativeResponseEvent(b,a)};e.handleNativeResponseEvent=function(a,b){var c=b.shift();c!=null||h(0,88527);c=c==="0";this.pendingCallIpcs.has(a)||h(0,88528,a);var d=this.pendingCallIpcs.get(a);this.pendingCallIpcs["delete"](a);a=b.join(",");c?d==null?void 0:d.resolve(a):d==null?void 0:d.reject(a)};return a}();function s(a){if(typeof a==="string")return encodeURIComponent(a);else if(typeof a==="boolean")return a?"true":"false";else if(typeof a==="number")return a.toString(10);else if(a instanceof d("WAWap").WapNode||a instanceof d("WAParsableWapNode").ParsableWapNode){var b=d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a);return encodeURIComponent(b)}else if(a instanceof c("WAWebWid"))return a.toString({legacy:!0});else if(Array.isArray(a))return"["+a.map(s).join("|")+"]";else if(a==null)return"";throw c("err")("Windows WebView2 bridge: invokeNative: Unsupported argument type.",a)}g.WAWebWindowsMessagePassingBridge_v2572=a}),98);
__d("WAWebWindowsHybridBridgeFactory.v2573",["WALogger","WAWebBuildConstants","WAWebEnvironment","WAWebWindowsHybridBridge.v2558","WAWebWindowsHybridBridge.v2559","WAWebWindowsHybridBridge.v2560","WAWebWindowsHybridBridge.v2562","WAWebWindowsHybridBridge.v2563","WAWebWindowsHybridBridge.v2564","WAWebWindowsHybridBridge.v2566","WAWebWindowsHybridBridge.v2567","WAWebWindowsHybridBridge.v2569","WAWebWindowsHybridBridge.v2570","WAWebWindowsHybridBridge.v2571","WAWebWindowsHybridBridge.v2572","WAWebWindowsHybridBridge.v2573","WAWebWindowsHybridBridgeCommon","WAWebWindowsHybridFlowHelpers","err","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m;e=new URLSearchParams((b=self.location.search)!=null?b:"");var n=e.get("bridgeError")==="1";function o(a){var b;if(!c("WAWebEnvironment").isWindows)return!1;if(((b=window.chrome)==null?void 0:b.webview)==null){if(c("gkx")("26258")||n)throw c("err")(a);d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[windows] bridge was not initialized: ",""])),a);return!1}return!0}function p(a){a===void 0&&(a="getWebView: no bridge available");return!o(a)?null:(a=window.chrome)==null?void 0:a.webview}function q(){try{var a=p();if(a!=null){a=r(a);d("WAWebWindowsHybridBridgeCommon").WAWebWindowsSetBridge(a);return a}}catch(a){d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["WinRTBridge: failed to initialize: ",""])),a)}return null}function r(a){try{if(d("WAWebBuildConstants").WINDOWS_BUILD!=null&&d("WAWebBuildConstants").WINDOWS_BUILD.startsWith("2559"))return new(d("WAWebWindowsHybridBridge.v2559").WindowsHybridBridge_v2559)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if(d("WAWebBuildConstants").WINDOWS_BUILD!=null&&d("WAWebBuildConstants").WINDOWS_BUILD.startsWith("2558"))return new(d("WAWebWindowsHybridBridge.v2558").WindowsHybridBridge_v2558)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if(d("WAWebBuildConstants").WINDOWS_BUILD!=null&&d("WAWebBuildConstants").WINDOWS_BUILD.startsWith("2560"))return new(d("WAWebWindowsHybridBridge.v2560").WindowsHybridBridge_v2560)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if(d("WAWebBuildConstants").WINDOWS_BUILD!=null&&d("WAWebBuildConstants").WINDOWS_BUILD.startsWith("2562"))return new(d("WAWebWindowsHybridBridge.v2562").WindowsHybridBridge_v2562)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if(d("WAWebBuildConstants").WINDOWS_BUILD!=null&&d("WAWebBuildConstants").WINDOWS_BUILD.startsWith("2563"))return new(d("WAWebWindowsHybridBridge.v2563").WindowsHybridBridge_v2563)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if(d("WAWebBuildConstants").WINDOWS_BUILD!=null&&d("WAWebBuildConstants").WINDOWS_BUILD.startsWith("2564"))return new(d("WAWebWindowsHybridBridge.v2564").WindowsHybridBridge_v2564)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if(d("WAWebBuildConstants").WINDOWS_BUILD!=null&&d("WAWebBuildConstants").WINDOWS_BUILD.startsWith("2566"))return new(d("WAWebWindowsHybridBridge.v2566").WindowsHybridBridge_v2566)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if(d("WAWebBuildConstants").WINDOWS_BUILD!=null&&d("WAWebBuildConstants").WINDOWS_BUILD.startsWith("2567"))return new(d("WAWebWindowsHybridBridge.v2567").WindowsHybridBridge_v2567)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if(d("WAWebBuildConstants").WINDOWS_BUILD!=null&&d("WAWebBuildConstants").WINDOWS_BUILD.startsWith("2569"))return new(d("WAWebWindowsHybridBridge.v2569").WindowsHybridBridge_v2569)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if(d("WAWebBuildConstants").WINDOWS_BUILD!=null&&d("WAWebBuildConstants").WINDOWS_BUILD.startsWith("2570"))return new(d("WAWebWindowsHybridBridge.v2570").WindowsHybridBridge_v2570)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if(d("WAWebBuildConstants").WINDOWS_BUILD!=null&&d("WAWebBuildConstants").WINDOWS_BUILD.startsWith("2571"))return new(d("WAWebWindowsHybridBridge.v2571").WindowsHybridBridge_v2571)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if(d("WAWebBuildConstants").WINDOWS_BUILD!=null&&d("WAWebBuildConstants").WINDOWS_BUILD.startsWith("2572"))return new(d("WAWebWindowsHybridBridge.v2572").WindowsHybridBridge_v2572)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["windows hybrid bridge: unsupported build version ",""])),d("WAWebBuildConstants").WINDOWS_BUILD).sendLogs("windows hybrid bridge version missing");return new(d("WAWebWindowsHybridBridge.v2573").WindowsHybridBridge_v2573)(a)}catch(a){d("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["WinRTBridge: failed to initialize bridge instance: ",""])),a)}}var s=null,t=0;function a(){if(s==null){t>0&&d("WALogger").ERROR(l||(l=babelHelpers.taggedTemplateLiteralLoose(["WinRTBridge: bridge is being initialized "," times for WINDOWS_BUILD ",""])),t,d("WAWebBuildConstants").WINDOWS_BUILD).sendLogs("windows bridge multiple init");t++;try{s=q()}catch(a){d("WALogger").ERROR(m||(m=babelHelpers.taggedTemplateLiteralLoose(["WinRTBridge: failed to initialize: ",""])),a).devConsole(a).sendLogs("windows bridge init error")}}return s}g.getIsBridgeReady_v2573=o;g.getWebView_v2573=p;g.getWindowsBridge_v2573=a}),98);
__d("WAWebWindowsMessagePassingBridgeArgsList.v2573",[],(function(a,b,c,d,e,f){a={CompatibilityGetSupportedNativeIpcs:[],ExecuteSqlite:["queries"],ShowMessageNotification:["key","tag","header","body","thumbnailPath","footer","contextMenu","replyInputPlaceholder","replyButtonContent","suppressBanner","suppressNotificationOnAppClosed"],CloseMessageNotification:["key","tag"],IsNotificationEnabledInSystem:[],OpenSystemNotificationsSettings:[],UpdateTaskbarBadge:["count","ignoreIfAppInSystemTray"],UpdateLocalSetting:["key","value","revision"],GetStartupTaskState:[],UpdateStartupTask:["enabled"]};f["default"]=a}),66);
__d("WAWebWindowsMessagePassingBridgeCompatibilityAdapter.v2573",["WALogger","WAResolvable","WAWebWindowsMessagePassingBridgeArgsList.v2573","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=null,l=null;function m(a){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(l!=null)return l.promise;l=new(d("WAResolvable").Resolvable)();try{d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["initCompatibilityAdapter: requesting list of IPCs from Native"])));a=(yield a.call("CompatibilityGetSupportedNativeIpcs"));k=JSON.parse(a);d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["initCompatibilityAdapter: received list of IPCs from Native"])));(a=l)==null||a.resolve()}catch(b){d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["initCompatibilityAdapter: failed with error ",""])),b).sendLogs("initCompatibilityAdapter: failed with error");(a=l)==null||a.reject(b)}l=null});return n.apply(this,arguments)}function a(a,b,c){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,d){if(k==null){if(b==="CompatibilityGetSupportedNativeIpcs")return[];yield m(a);if(k==null)throw c("err")("IPC_TO_NUM_ARGS should not be null after init")}a=k[b];b=c("WAWebWindowsMessagePassingBridgeArgsList.v2573")[b].slice(0,a);return b.map(function(a){return d[a]})});return o.apply(this,arguments)}g.initCompatibilityAdapter_v2573=m;g.selectArgsForIpc_v2573=a}),98);
__d("WAWebWindowsMessagePassingBridgeEventEmitter.v2573",["invariant","WAWebTypedEventEmitter"],(function(a,b,c,d,e,f,g,h){"use strict";a=function(a){function b(){return a.apply(this,arguments)||this}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.handleNativeEvent=function(a){a=a.split(",");var b=a.shift();switch(b){case"MessageNotificationAction":a.length>=3||h(0,89560);this.trigger("MessageNotificationAction",{key:a[0],action:a[1],additionalData:decodeURIComponent(a[2])});break;case"RequestOpenChat":a.length>=1||h(0,90387);this.trigger("RequestOpenChat",{chatJid:a[0]});break;case"OnIsAppInSystemTrayChanged":this.trigger("OnIsAppInSystemTrayChanged",{isAppInSystemTray:a[0]==="True"});break;case"RequestAllWebClientPreferences":this.trigger("RequestAllWebClientPreferences",{});break}};return b}(c("WAWebTypedEventEmitter"));g.WAWebWindowsMessagePassingBridgeEventEmitter_v2573=a}),98);
__d("WAWebWindowsMessagePassingBridge.v2573",["invariant","WALogger","WAParsableWapNode","WAResolvable","WAWap","WAWebSerializeVoipWapNode","WAWebWid","WAWebWindowsHybridBridgeFactory.v2573","WAWebWindowsMessagePassingBridgeCompatibilityAdapter.v2573","WAWebWindowsMessagePassingBridgeEventEmitter.v2573","asyncToGeneratorRuntime","err","nullthrows"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m,n,o,p,q,r=new Map([["CompatibilityGetSupportedNativeIpcs","CompatibilityGetSupportedNativeIpcs"],["ExecuteSqlite","RequestExecuteSqlite"],["ShowMessageNotification","ShowMessageNotification"],["CloseMessageNotification","CloseMessageNotification"],["IsNotificationEnabledInSystem","IsNotificationEnabledInSystem"],["OpenSystemNotificationsSettings","OpenSystemNotificationsSettings"],["UpdateTaskbarBadge","UpdateTaskbarBadge"],["UpdateLocalSetting","UpdateLocalSetting"],["GetStartupTaskState","GetStartupTaskState"],["UpdateStartupTask","UpdateStartupTask"]]);a=function(){function a(){var a=this;this.latestTransactionId=0;this.pendingCallIpcs=new Map();this.nativeEventEmitter=new(d("WAWebWindowsMessagePassingBridgeEventEmitter.v2573").WAWebWindowsMessagePassingBridgeEventEmitter_v2573)();var b=d("WAWebWindowsHybridBridgeFactory.v2573").getWebView_v2573("invokeWAWebWindowsWebViewNativeBridge: postMessage not available (not in the Windows WebView?)");b==null||b.addEventListener==null||b.addEventListener("message",function(b){typeof b.data==="string"&&a.handleNativeIpcResponseEvent(b.data)});b==null||b.addEventListener==null||b.addEventListener("message",function(b){typeof b.data==="string"&&a.nativeEventEmitter.handleNativeEvent(b.data)});void d("WAWebWindowsMessagePassingBridgeCompatibilityAdapter.v2573").initCompatibilityAdapter_v2573(this)}var e=a.prototype;e.call=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b===void 0&&(b={});d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Starting IPC call for method: ",""])),a);d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Arguments: ",""])),JSON.stringify(b));b=(yield d("WAWebWindowsMessagePassingBridgeCompatibilityAdapter.v2573").selectArgsForIpc_v2573(this,a,b));b=b.map(s).join(",");d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Processed arg string: ",""])),b);if(!r.has(a)){d("WALogger").ERROR(l||(l=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Invalid callable method: ",""])),a);throw c("err")("invokeWAWebWindowsWebViewNativeBridge: invalid callable method: "+a)}var e=c("nullthrows")(r.get(a));d("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Mapped IPC method name: ",""])),e);var f=new(d("WAResolvable").Resolvable)();this.pendingCallIpcs.set(++this.latestTransactionId,f);d("WALogger").LOG(n||(n=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Created transaction ID: ",""])),this.latestTransactionId);b=b.split(",");b.push(this.latestTransactionId.toString());var g=d("WAWebWindowsHybridBridgeFactory.v2573").getWebView_v2573("invokeWAWebWindowsWebViewNativeBridge: postMessage not available (not in the Windows WebView?)");e=e+","+b.join(",");d("WALogger").LOG(o||(o=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Sending message to native: ",""])),e);try{yield g==null||g.postMessage==null?void 0:g.postMessage(e);b=(yield f.promise);d("WALogger").LOG(p||(p=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Received successful response for "," (txId: ","): ",""])),a,this.latestTransactionId,b);return b}catch(b){d("WALogger").ERROR(q||(q=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: IPC call failed for "," (txId: ","): ",""])),a,this.latestTransactionId,b).devConsole(b);throw b}});function e(b,c){return a.apply(this,arguments)}return e}();e.handleNativeIpcResponseEvent=function(a){a=a.split(",");var b=parseInt(a.shift(),10),c=a.shift();if(Number.isNaN(b)||c!=="NativeResponseToJS")return;this.handleNativeResponseEvent(b,a)};e.handleNativeResponseEvent=function(a,b){var c=b.shift();c!=null||h(0,88527);c=c==="0";this.pendingCallIpcs.has(a)||h(0,88528,a);var d=this.pendingCallIpcs.get(a);this.pendingCallIpcs["delete"](a);a=b.join(",");c?d==null?void 0:d.resolve(a):d==null?void 0:d.reject(a)};return a}();function s(a){if(typeof a==="string")return encodeURIComponent(a);else if(typeof a==="boolean")return a?"true":"false";else if(typeof a==="number")return a.toString(10);else if(a instanceof d("WAWap").WapNode||a instanceof d("WAParsableWapNode").ParsableWapNode){var b=d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a);return encodeURIComponent(b)}else if(a instanceof c("WAWebWid"))return a.toString({legacy:!0});else if(Array.isArray(a))return"["+a.map(s).join("|")+"]";else if(a==null)return"";throw c("err")("Windows WebView2 bridge: invokeNative: Unsupported argument type.",a)}g.WAWebWindowsMessagePassingBridge_v2573=a}),98);
__d("WAWebWindowsHybridBridgeFactory.v2574",["WALogger","WAWebBuildConstants","WAWebEnvironment","WAWebWindowsHybridBridge.v2558","WAWebWindowsHybridBridge.v2559","WAWebWindowsHybridBridge.v2560","WAWebWindowsHybridBridge.v2562","WAWebWindowsHybridBridge.v2563","WAWebWindowsHybridBridge.v2564","WAWebWindowsHybridBridge.v2566","WAWebWindowsHybridBridge.v2567","WAWebWindowsHybridBridge.v2569","WAWebWindowsHybridBridge.v2570","WAWebWindowsHybridBridge.v2571","WAWebWindowsHybridBridge.v2572","WAWebWindowsHybridBridge.v2573","WAWebWindowsHybridBridge.v2574","WAWebWindowsHybridBridgeCommon","WAWebWindowsHybridFlowHelpers","err","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m;e=new URLSearchParams((b=self.location.search)!=null?b:"");var n=e.get("bridgeError")==="1";function o(a){var b;if(!c("WAWebEnvironment").isWindows)return!1;if(((b=window.chrome)==null?void 0:b.webview)==null){if(c("gkx")("26258")||n)throw c("err")(a);d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[windows] bridge was not initialized: ",""])),a);return!1}return!0}function p(a){a===void 0&&(a="getWebView: no bridge available");return!o(a)?null:(a=window.chrome)==null?void 0:a.webview}function q(){try{var a=p();if(a!=null){a=r(a);d("WAWebWindowsHybridBridgeCommon").WAWebWindowsSetBridge(a);return a}}catch(a){d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["WinRTBridge: failed to initialize: ",""])),a)}return null}function r(a){try{if(d("WAWebBuildConstants").WINDOWS_BUILD!=null&&d("WAWebBuildConstants").WINDOWS_BUILD.startsWith("2559"))return new(d("WAWebWindowsHybridBridge.v2559").WindowsHybridBridge_v2559)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if(d("WAWebBuildConstants").WINDOWS_BUILD!=null&&d("WAWebBuildConstants").WINDOWS_BUILD.startsWith("2558"))return new(d("WAWebWindowsHybridBridge.v2558").WindowsHybridBridge_v2558)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if(d("WAWebBuildConstants").WINDOWS_BUILD!=null&&d("WAWebBuildConstants").WINDOWS_BUILD.startsWith("2560"))return new(d("WAWebWindowsHybridBridge.v2560").WindowsHybridBridge_v2560)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if(d("WAWebBuildConstants").WINDOWS_BUILD!=null&&d("WAWebBuildConstants").WINDOWS_BUILD.startsWith("2562"))return new(d("WAWebWindowsHybridBridge.v2562").WindowsHybridBridge_v2562)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if(d("WAWebBuildConstants").WINDOWS_BUILD!=null&&d("WAWebBuildConstants").WINDOWS_BUILD.startsWith("2563"))return new(d("WAWebWindowsHybridBridge.v2563").WindowsHybridBridge_v2563)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if(d("WAWebBuildConstants").WINDOWS_BUILD!=null&&d("WAWebBuildConstants").WINDOWS_BUILD.startsWith("2564"))return new(d("WAWebWindowsHybridBridge.v2564").WindowsHybridBridge_v2564)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if(d("WAWebBuildConstants").WINDOWS_BUILD!=null&&d("WAWebBuildConstants").WINDOWS_BUILD.startsWith("2566"))return new(d("WAWebWindowsHybridBridge.v2566").WindowsHybridBridge_v2566)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if(d("WAWebBuildConstants").WINDOWS_BUILD!=null&&d("WAWebBuildConstants").WINDOWS_BUILD.startsWith("2567"))return new(d("WAWebWindowsHybridBridge.v2567").WindowsHybridBridge_v2567)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if(d("WAWebBuildConstants").WINDOWS_BUILD!=null&&d("WAWebBuildConstants").WINDOWS_BUILD.startsWith("2569"))return new(d("WAWebWindowsHybridBridge.v2569").WindowsHybridBridge_v2569)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if(d("WAWebBuildConstants").WINDOWS_BUILD!=null&&d("WAWebBuildConstants").WINDOWS_BUILD.startsWith("2570"))return new(d("WAWebWindowsHybridBridge.v2570").WindowsHybridBridge_v2570)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if(d("WAWebBuildConstants").WINDOWS_BUILD!=null&&d("WAWebBuildConstants").WINDOWS_BUILD.startsWith("2571"))return new(d("WAWebWindowsHybridBridge.v2571").WindowsHybridBridge_v2571)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if(d("WAWebBuildConstants").WINDOWS_BUILD!=null&&d("WAWebBuildConstants").WINDOWS_BUILD.startsWith("2572"))return new(d("WAWebWindowsHybridBridge.v2572").WindowsHybridBridge_v2572)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if(d("WAWebBuildConstants").WINDOWS_BUILD!=null&&d("WAWebBuildConstants").WINDOWS_BUILD.startsWith("2573"))return new(d("WAWebWindowsHybridBridge.v2573").WindowsHybridBridge_v2573)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["windows hybrid bridge: unsupported build version ",""])),d("WAWebBuildConstants").WINDOWS_BUILD).sendLogs("windows hybrid bridge version missing");return new(d("WAWebWindowsHybridBridge.v2574").WindowsHybridBridge_v2574)(a)}catch(a){d("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["WinRTBridge: failed to initialize bridge instance: ",""])),a)}}var s=null,t=0;function a(){if(s==null){t>0&&d("WALogger").ERROR(l||(l=babelHelpers.taggedTemplateLiteralLoose(["WinRTBridge: bridge is being initialized "," times for WINDOWS_BUILD ",""])),t,d("WAWebBuildConstants").WINDOWS_BUILD).sendLogs("windows bridge multiple init");t++;try{s=q()}catch(a){d("WALogger").ERROR(m||(m=babelHelpers.taggedTemplateLiteralLoose(["WinRTBridge: failed to initialize: ",""])),a).devConsole(a).sendLogs("windows bridge init error")}}return s}g.getIsBridgeReady_v2574=o;g.getWebView_v2574=p;g.getWindowsBridge_v2574=a}),98);
__d("WAWebWindowsMessagePassingBridgeArgsList.v2574",[],(function(a,b,c,d,e,f){a={CompatibilityGetSupportedNativeIpcs:[],ExecuteSqlite:["queries"],ShowMessageNotification:["key","tag","header","body","thumbnailPath","footer","contextMenu","replyInputPlaceholder","replyButtonContent","suppressBanner","suppressNotificationOnAppClosed"],CloseMessageNotification:["key","tag"],IsNotificationEnabledInSystem:[],OpenSystemNotificationsSettings:[],UpdateTaskbarBadge:["count","ignoreIfAppInSystemTray"],UpdateLocalSetting:["key","value","revision"],GetStartupTaskState:[],UpdateStartupTask:["enabled"]};f["default"]=a}),66);
__d("WAWebWindowsMessagePassingBridgeCompatibilityAdapter.v2574",["WALogger","WAResolvable","WAWebWindowsMessagePassingBridgeArgsList.v2574","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=null,l=null;function m(a){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(l!=null)return l.promise;l=new(d("WAResolvable").Resolvable)();try{d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["initCompatibilityAdapter: requesting list of IPCs from Native"])));a=(yield a.call("CompatibilityGetSupportedNativeIpcs"));k=JSON.parse(a);d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["initCompatibilityAdapter: received list of IPCs from Native"])));(a=l)==null||a.resolve()}catch(b){d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["initCompatibilityAdapter: failed with error ",""])),b).sendLogs("initCompatibilityAdapter: failed with error");(a=l)==null||a.reject(b)}l=null});return n.apply(this,arguments)}function a(a,b,c){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,d){if(k==null){if(b==="CompatibilityGetSupportedNativeIpcs")return[];yield m(a);if(k==null)throw c("err")("IPC_TO_NUM_ARGS should not be null after init")}a=k[b];b=c("WAWebWindowsMessagePassingBridgeArgsList.v2574")[b].slice(0,a);return b.map(function(a){return d[a]})});return o.apply(this,arguments)}g.initCompatibilityAdapter_v2574=m;g.selectArgsForIpc_v2574=a}),98);
__d("WAWebWindowsMessagePassingBridgeEventEmitter.v2574",["invariant","WAWebTypedEventEmitter"],(function(a,b,c,d,e,f,g,h){"use strict";a=function(a){function b(){return a.apply(this,arguments)||this}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.handleNativeEvent=function(a){a=a.split(",");var b=a.shift();switch(b){case"MessageNotificationAction":a.length>=3||h(0,89560);this.trigger("MessageNotificationAction",{key:a[0],action:a[1],additionalData:decodeURIComponent(a[2])});break;case"RequestOpenChat":a.length>=1||h(0,90387);this.trigger("RequestOpenChat",{chatJid:a[0]});break;case"OnIsAppInSystemTrayChanged":this.trigger("OnIsAppInSystemTrayChanged",{isAppInSystemTray:a[0]==="True"});break;case"RequestAllWebClientPreferences":this.trigger("RequestAllWebClientPreferences",{});break}};return b}(c("WAWebTypedEventEmitter"));g.WAWebWindowsMessagePassingBridgeEventEmitter_v2574=a}),98);
__d("WAWebWindowsMessagePassingBridge.v2574",["invariant","WALogger","WAParsableWapNode","WAResolvable","WAWap","WAWebSerializeVoipWapNode","WAWebWid","WAWebWindowsHybridBridgeFactory.v2574","WAWebWindowsMessagePassingBridgeCompatibilityAdapter.v2574","WAWebWindowsMessagePassingBridgeEventEmitter.v2574","asyncToGeneratorRuntime","err","nullthrows"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m,n,o,p,q,r=new Map([["CompatibilityGetSupportedNativeIpcs","CompatibilityGetSupportedNativeIpcs"],["ExecuteSqlite","RequestExecuteSqlite"],["ShowMessageNotification","ShowMessageNotification"],["CloseMessageNotification","CloseMessageNotification"],["IsNotificationEnabledInSystem","IsNotificationEnabledInSystem"],["OpenSystemNotificationsSettings","OpenSystemNotificationsSettings"],["UpdateTaskbarBadge","UpdateTaskbarBadge"],["UpdateLocalSetting","UpdateLocalSetting"],["GetStartupTaskState","GetStartupTaskState"],["UpdateStartupTask","UpdateStartupTask"]]);a=function(){function a(){var a=this;this.latestTransactionId=0;this.pendingCallIpcs=new Map();this.nativeEventEmitter=new(d("WAWebWindowsMessagePassingBridgeEventEmitter.v2574").WAWebWindowsMessagePassingBridgeEventEmitter_v2574)();var b=d("WAWebWindowsHybridBridgeFactory.v2574").getWebView_v2574("invokeWAWebWindowsWebViewNativeBridge: postMessage not available (not in the Windows WebView?)");b==null||b.addEventListener==null||b.addEventListener("message",function(b){typeof b.data==="string"&&a.handleNativeIpcResponseEvent(b.data)});b==null||b.addEventListener==null||b.addEventListener("message",function(b){typeof b.data==="string"&&a.nativeEventEmitter.handleNativeEvent(b.data)});void d("WAWebWindowsMessagePassingBridgeCompatibilityAdapter.v2574").initCompatibilityAdapter_v2574(this)}var e=a.prototype;e.call=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b===void 0&&(b={});d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Starting IPC call for method: ",""])),a);d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Arguments: ",""])),JSON.stringify(b));b=(yield d("WAWebWindowsMessagePassingBridgeCompatibilityAdapter.v2574").selectArgsForIpc_v2574(this,a,b));b=b.map(s).join(",");d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Processed arg string: ",""])),b);if(!r.has(a)){d("WALogger").ERROR(l||(l=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Invalid callable method: ",""])),a);throw c("err")("invokeWAWebWindowsWebViewNativeBridge: invalid callable method: "+a)}var e=c("nullthrows")(r.get(a));d("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Mapped IPC method name: ",""])),e);var f=new(d("WAResolvable").Resolvable)();this.pendingCallIpcs.set(++this.latestTransactionId,f);d("WALogger").LOG(n||(n=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Created transaction ID: ",""])),this.latestTransactionId);b=b.split(",");b.push(this.latestTransactionId.toString());var g=d("WAWebWindowsHybridBridgeFactory.v2574").getWebView_v2574("invokeWAWebWindowsWebViewNativeBridge: postMessage not available (not in the Windows WebView?)");e=e+","+b.join(",");d("WALogger").LOG(o||(o=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Sending message to native: ",""])),e);try{yield g==null||g.postMessage==null?void 0:g.postMessage(e);b=(yield f.promise);d("WALogger").LOG(p||(p=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Received successful response for "," (txId: ","): ",""])),a,this.latestTransactionId,b);return b}catch(b){d("WALogger").ERROR(q||(q=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: IPC call failed for "," (txId: ","): ",""])),a,this.latestTransactionId,b).devConsole(b);throw b}});function e(b,c){return a.apply(this,arguments)}return e}();e.handleNativeIpcResponseEvent=function(a){a=a.split(",");var b=parseInt(a.shift(),10),c=a.shift();if(Number.isNaN(b)||c!=="NativeResponseToJS")return;this.handleNativeResponseEvent(b,a)};e.handleNativeResponseEvent=function(a,b){var c=b.shift();c!=null||h(0,88527);c=c==="0";this.pendingCallIpcs.has(a)||h(0,88528,a);var d=this.pendingCallIpcs.get(a);this.pendingCallIpcs["delete"](a);a=b.join(",");c?d==null?void 0:d.resolve(a):d==null?void 0:d.reject(a)};return a}();function s(a){if(typeof a==="string")return encodeURIComponent(a);else if(typeof a==="boolean")return a?"true":"false";else if(typeof a==="number")return a.toString(10);else if(a instanceof d("WAWap").WapNode||a instanceof d("WAParsableWapNode").ParsableWapNode){var b=d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a);return encodeURIComponent(b)}else if(a instanceof c("WAWebWid"))return a.toString({legacy:!0});else if(Array.isArray(a))return"["+a.map(s).join("|")+"]";else if(a==null)return"";throw c("err")("Windows WebView2 bridge: invokeNative: Unsupported argument type.",a)}g.WAWebWindowsMessagePassingBridge_v2574=a}),98);
__d("WAWebWindowsHybridBridgeFactory.v2575",["WALogger","WAWebBuildConstants","WAWebEnvironment","WAWebWindowsHybridBridge.v2558","WAWebWindowsHybridBridge.v2559","WAWebWindowsHybridBridge.v2560","WAWebWindowsHybridBridge.v2562","WAWebWindowsHybridBridge.v2563","WAWebWindowsHybridBridge.v2564","WAWebWindowsHybridBridge.v2566","WAWebWindowsHybridBridge.v2567","WAWebWindowsHybridBridge.v2569","WAWebWindowsHybridBridge.v2570","WAWebWindowsHybridBridge.v2571","WAWebWindowsHybridBridge.v2572","WAWebWindowsHybridBridge.v2573","WAWebWindowsHybridBridge.v2574","WAWebWindowsHybridBridge.v2575","WAWebWindowsHybridBridgeCommon","WAWebWindowsHybridFlowHelpers","err","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m;e=new URLSearchParams((b=self.location.search)!=null?b:"");var n=e.get("bridgeError")==="1";function o(a){var b;if(!c("WAWebEnvironment").isWindows)return!1;if(((b=window.chrome)==null?void 0:b.webview)==null){if(c("gkx")("26258")||n)throw c("err")(a);d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[windows] bridge was not initialized: ",""])),a);return!1}return!0}function p(a){a===void 0&&(a="getWebView: no bridge available");return!o(a)?null:(a=window.chrome)==null?void 0:a.webview}function q(){try{var a=p();if(a!=null){a=r(a);d("WAWebWindowsHybridBridgeCommon").WAWebWindowsSetBridge(a);return a}}catch(a){d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["WinRTBridge: failed to initialize: ",""])),a)}return null}function r(a){try{if(d("WAWebBuildConstants").WINDOWS_BUILD!=null&&d("WAWebBuildConstants").WINDOWS_BUILD.startsWith("2559"))return new(d("WAWebWindowsHybridBridge.v2559").WindowsHybridBridge_v2559)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if(d("WAWebBuildConstants").WINDOWS_BUILD!=null&&d("WAWebBuildConstants").WINDOWS_BUILD.startsWith("2558"))return new(d("WAWebWindowsHybridBridge.v2558").WindowsHybridBridge_v2558)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if(d("WAWebBuildConstants").WINDOWS_BUILD!=null&&d("WAWebBuildConstants").WINDOWS_BUILD.startsWith("2560"))return new(d("WAWebWindowsHybridBridge.v2560").WindowsHybridBridge_v2560)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if(d("WAWebBuildConstants").WINDOWS_BUILD!=null&&d("WAWebBuildConstants").WINDOWS_BUILD.startsWith("2562"))return new(d("WAWebWindowsHybridBridge.v2562").WindowsHybridBridge_v2562)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if(d("WAWebBuildConstants").WINDOWS_BUILD!=null&&d("WAWebBuildConstants").WINDOWS_BUILD.startsWith("2563"))return new(d("WAWebWindowsHybridBridge.v2563").WindowsHybridBridge_v2563)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if(d("WAWebBuildConstants").WINDOWS_BUILD!=null&&d("WAWebBuildConstants").WINDOWS_BUILD.startsWith("2564"))return new(d("WAWebWindowsHybridBridge.v2564").WindowsHybridBridge_v2564)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if(d("WAWebBuildConstants").WINDOWS_BUILD!=null&&d("WAWebBuildConstants").WINDOWS_BUILD.startsWith("2566"))return new(d("WAWebWindowsHybridBridge.v2566").WindowsHybridBridge_v2566)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if(d("WAWebBuildConstants").WINDOWS_BUILD!=null&&d("WAWebBuildConstants").WINDOWS_BUILD.startsWith("2567"))return new(d("WAWebWindowsHybridBridge.v2567").WindowsHybridBridge_v2567)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if(d("WAWebBuildConstants").WINDOWS_BUILD!=null&&d("WAWebBuildConstants").WINDOWS_BUILD.startsWith("2569"))return new(d("WAWebWindowsHybridBridge.v2569").WindowsHybridBridge_v2569)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if(d("WAWebBuildConstants").WINDOWS_BUILD!=null&&d("WAWebBuildConstants").WINDOWS_BUILD.startsWith("2570"))return new(d("WAWebWindowsHybridBridge.v2570").WindowsHybridBridge_v2570)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if(d("WAWebBuildConstants").WINDOWS_BUILD!=null&&d("WAWebBuildConstants").WINDOWS_BUILD.startsWith("2571"))return new(d("WAWebWindowsHybridBridge.v2571").WindowsHybridBridge_v2571)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if(d("WAWebBuildConstants").WINDOWS_BUILD!=null&&d("WAWebBuildConstants").WINDOWS_BUILD.startsWith("2572"))return new(d("WAWebWindowsHybridBridge.v2572").WindowsHybridBridge_v2572)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if(d("WAWebBuildConstants").WINDOWS_BUILD!=null&&d("WAWebBuildConstants").WINDOWS_BUILD.startsWith("2573"))return new(d("WAWebWindowsHybridBridge.v2573").WindowsHybridBridge_v2573)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if(d("WAWebBuildConstants").WINDOWS_BUILD!=null&&d("WAWebBuildConstants").WINDOWS_BUILD.startsWith("2574"))return new(d("WAWebWindowsHybridBridge.v2574").WindowsHybridBridge_v2574)(a);d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["windows hybrid bridge: unsupported build version ",""])),d("WAWebBuildConstants").WINDOWS_BUILD).sendLogs("windows hybrid bridge version missing");return new(d("WAWebWindowsHybridBridge.v2575").WindowsHybridBridge_v2575)(a)}catch(a){d("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["WinRTBridge: failed to initialize bridge instance: ",""])),a)}}var s=null,t=0;function a(){if(s==null){t>0&&d("WALogger").ERROR(l||(l=babelHelpers.taggedTemplateLiteralLoose(["WinRTBridge: bridge is being initialized "," times for WINDOWS_BUILD ",""])),t,d("WAWebBuildConstants").WINDOWS_BUILD).sendLogs("windows bridge multiple init");t++;try{s=q()}catch(a){d("WALogger").ERROR(m||(m=babelHelpers.taggedTemplateLiteralLoose(["WinRTBridge: failed to initialize: ",""])),a).devConsole(a).sendLogs("windows bridge init error")}}return s}g.getIsBridgeReady_v2575=o;g.getWebView_v2575=p;g.getWindowsBridge_v2575=a}),98);
__d("WAWebWindowsMessagePassingBridgeArgsList.v2575",[],(function(a,b,c,d,e,f){a={CompatibilityGetSupportedNativeIpcs:[],ExecuteSqlite:["queries"],ShowMessageNotification:["key","tag","header","body","thumbnailPath","footer","contextMenu","replyInputPlaceholder","replyButtonContent","suppressBanner","suppressNotificationOnAppClosed"],CloseMessageNotification:["key","tag"],IsNotificationEnabledInSystem:[],OpenSystemNotificationsSettings:[],UpdateTaskbarBadge:["count","ignoreIfAppInSystemTray"],UpdateLocalSetting:["key","value","revision"],GetStartupTaskState:[],UpdateStartupTask:["enabled"]};f["default"]=a}),66);
__d("WAWebWindowsMessagePassingBridgeCompatibilityAdapter.v2575",["WALogger","WAResolvable","WAWebWindowsMessagePassingBridgeArgsList.v2575","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=null,l=null;function m(a){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(l!=null)return l.promise;l=new(d("WAResolvable").Resolvable)();try{d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["initCompatibilityAdapter: requesting list of IPCs from Native"])));a=(yield a.call("CompatibilityGetSupportedNativeIpcs"));k=JSON.parse(a);d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["initCompatibilityAdapter: received list of IPCs from Native"])));(a=l)==null||a.resolve()}catch(b){d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["initCompatibilityAdapter: failed with error ",""])),b).sendLogs("initCompatibilityAdapter: failed with error");(a=l)==null||a.reject(b)}l=null});return n.apply(this,arguments)}function a(a,b,c){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,d){if(k==null){if(b==="CompatibilityGetSupportedNativeIpcs")return[];yield m(a);if(k==null)throw c("err")("IPC_TO_NUM_ARGS should not be null after init")}a=k[b];b=c("WAWebWindowsMessagePassingBridgeArgsList.v2575")[b].slice(0,a);return b.map(function(a){return d[a]})});return o.apply(this,arguments)}g.initCompatibilityAdapter_v2575=m;g.selectArgsForIpc_v2575=a}),98);
__d("WAWebWindowsMessagePassingBridgeEventEmitter.v2575",["invariant","WAWebTypedEventEmitter"],(function(a,b,c,d,e,f,g,h){"use strict";a=function(a){function b(){return a.apply(this,arguments)||this}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.handleNativeEvent=function(a){a=a.split(",");var b=a.shift();switch(b){case"MessageNotificationAction":a.length>=3||h(0,89560);this.trigger("MessageNotificationAction",{key:a[0],action:a[1],additionalData:decodeURIComponent(a[2])});break;case"RequestOpenChat":a.length>=1||h(0,90387);this.trigger("RequestOpenChat",{chatJid:a[0]});break;case"OnIsAppInSystemTrayChanged":this.trigger("OnIsAppInSystemTrayChanged",{isAppInSystemTray:a[0]==="True"});break;case"RequestAllWebClientPreferences":this.trigger("RequestAllWebClientPreferences",{});break}};return b}(c("WAWebTypedEventEmitter"));g.WAWebWindowsMessagePassingBridgeEventEmitter_v2575=a}),98);
__d("WAWebWindowsMessagePassingBridge.v2575",["invariant","WALogger","WAParsableWapNode","WAResolvable","WAWap","WAWebSerializeVoipWapNode","WAWebWid","WAWebWindowsHybridBridgeFactory.v2575","WAWebWindowsMessagePassingBridgeCompatibilityAdapter.v2575","WAWebWindowsMessagePassingBridgeEventEmitter.v2575","asyncToGeneratorRuntime","err","nullthrows"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m,n,o,p,q,r=new Map([["CompatibilityGetSupportedNativeIpcs","CompatibilityGetSupportedNativeIpcs"],["ExecuteSqlite","RequestExecuteSqlite"],["ShowMessageNotification","ShowMessageNotification"],["CloseMessageNotification","CloseMessageNotification"],["IsNotificationEnabledInSystem","IsNotificationEnabledInSystem"],["OpenSystemNotificationsSettings","OpenSystemNotificationsSettings"],["UpdateTaskbarBadge","UpdateTaskbarBadge"],["UpdateLocalSetting","UpdateLocalSetting"],["GetStartupTaskState","GetStartupTaskState"],["UpdateStartupTask","UpdateStartupTask"]]);a=function(){function a(){var a=this;this.latestTransactionId=0;this.pendingCallIpcs=new Map();this.nativeEventEmitter=new(d("WAWebWindowsMessagePassingBridgeEventEmitter.v2575").WAWebWindowsMessagePassingBridgeEventEmitter_v2575)();var b=d("WAWebWindowsHybridBridgeFactory.v2575").getWebView_v2575("invokeWAWebWindowsWebViewNativeBridge: postMessage not available (not in the Windows WebView?)");b==null||b.addEventListener==null||b.addEventListener("message",function(b){typeof b.data==="string"&&a.handleNativeIpcResponseEvent(b.data)});b==null||b.addEventListener==null||b.addEventListener("message",function(b){typeof b.data==="string"&&a.nativeEventEmitter.handleNativeEvent(b.data)});void d("WAWebWindowsMessagePassingBridgeCompatibilityAdapter.v2575").initCompatibilityAdapter_v2575(this)}var e=a.prototype;e.call=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b===void 0&&(b={});d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Starting IPC call for method: ",""])),a);d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Arguments: ",""])),JSON.stringify(b));b=(yield d("WAWebWindowsMessagePassingBridgeCompatibilityAdapter.v2575").selectArgsForIpc_v2575(this,a,b));b=b.map(s).join(",");d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Processed arg string: ",""])),b);if(!r.has(a)){d("WALogger").ERROR(l||(l=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Invalid callable method: ",""])),a);throw c("err")("invokeWAWebWindowsWebViewNativeBridge: invalid callable method: "+a)}var e=c("nullthrows")(r.get(a));d("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Mapped IPC method name: ",""])),e);var f=new(d("WAResolvable").Resolvable)();this.pendingCallIpcs.set(++this.latestTransactionId,f);d("WALogger").LOG(n||(n=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Created transaction ID: ",""])),this.latestTransactionId);b=b.split(",");b.push(this.latestTransactionId.toString());var g=d("WAWebWindowsHybridBridgeFactory.v2575").getWebView_v2575("invokeWAWebWindowsWebViewNativeBridge: postMessage not available (not in the Windows WebView?)");e=e+","+b.join(",");d("WALogger").LOG(o||(o=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Sending message to native: ",""])),e);try{yield g==null||g.postMessage==null?void 0:g.postMessage(e);b=(yield f.promise);d("WALogger").LOG(p||(p=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Received successful response for "," (txId: ","): ",""])),a,this.latestTransactionId,b);return b}catch(b){d("WALogger").ERROR(q||(q=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: IPC call failed for "," (txId: ","): ",""])),a,this.latestTransactionId,b).devConsole(b);throw b}});function e(b,c){return a.apply(this,arguments)}return e}();e.handleNativeIpcResponseEvent=function(a){a=a.split(",");var b=parseInt(a.shift(),10),c=a.shift();if(Number.isNaN(b)||c!=="NativeResponseToJS")return;this.handleNativeResponseEvent(b,a)};e.handleNativeResponseEvent=function(a,b){var c=b.shift();c!=null||h(0,88527);c=c==="0";this.pendingCallIpcs.has(a)||h(0,88528,a);var d=this.pendingCallIpcs.get(a);this.pendingCallIpcs["delete"](a);a=b.join(",");c?d==null?void 0:d.resolve(a):d==null?void 0:d.reject(a)};return a}();function s(a){if(typeof a==="string")return encodeURIComponent(a);else if(typeof a==="boolean")return a?"true":"false";else if(typeof a==="number")return a.toString(10);else if(a instanceof d("WAWap").WapNode||a instanceof d("WAParsableWapNode").ParsableWapNode){var b=d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a);return encodeURIComponent(b)}else if(a instanceof c("WAWebWid"))return a.toString({legacy:!0});else if(Array.isArray(a))return"["+a.map(s).join("|")+"]";else if(a==null)return"";throw c("err")("Windows WebView2 bridge: invokeNative: Unsupported argument type.",a)}g.WAWebWindowsMessagePassingBridge_v2575=a}),98);
__d("WAWebWindowsHybridBridgeUtils.v2576",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(a==null||a.length!==6||!/^\d{6}$/.test(a))return a;var b=a.slice(0,4),c=a.slice(-2);b=parseInt(b,10);c=parseInt(c,10);if(b<2574||b>=2577)return a;a=b-2574;b=a*10+Math.floor(c/10);a=2574+b;b=c%10;return""+a+String(b).padStart(2,"0")}f.getBetaHybridVersionForBridgeCut_v2576=a}),66);
__d("WAWebWindowsHybridBridgeFactory.v2576",["WALogger","WAWebBuildConstants","WAWebEnvironment","WAWebWindowsHybridBridge.v2558","WAWebWindowsHybridBridge.v2559","WAWebWindowsHybridBridge.v2560","WAWebWindowsHybridBridge.v2562","WAWebWindowsHybridBridge.v2563","WAWebWindowsHybridBridge.v2564","WAWebWindowsHybridBridge.v2566","WAWebWindowsHybridBridge.v2567","WAWebWindowsHybridBridge.v2569","WAWebWindowsHybridBridge.v2570","WAWebWindowsHybridBridge.v2571","WAWebWindowsHybridBridge.v2572","WAWebWindowsHybridBridge.v2573","WAWebWindowsHybridBridge.v2574","WAWebWindowsHybridBridge.v2575","WAWebWindowsHybridBridge.v2576","WAWebWindowsHybridBridgeCommon","WAWebWindowsHybridBridgeUtils.v2576","WAWebWindowsHybridFlowHelpers","err","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m;e=new URLSearchParams((b=self.location.search)!=null?b:"");var n=e.get("bridgeError")==="1";function o(a){var b;if(!c("WAWebEnvironment").isWindows)return!1;if(((b=window.chrome)==null?void 0:b.webview)==null){if(c("gkx")("26258")||n)throw c("err")(a);d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[windows] bridge was not initialized: ",""])),a);return!1}return!0}function p(a){a===void 0&&(a="getWebView: no bridge available");return!o(a)?null:(a=window.chrome)==null?void 0:a.webview}function q(){try{var a=p();if(a!=null){a=r(a);d("WAWebWindowsHybridBridgeCommon").WAWebWindowsSetBridge(a);return a}}catch(a){d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["WinRTBridge: failed to initialize: ",""])),a)}return null}function r(a){try{var b,c=d("WAWebBuildConstants").WINDOWS_BUILD;c!=null&&(c=d("WAWebWindowsHybridBridgeUtils.v2576").getBetaHybridVersionForBridgeCut_v2576(c));if((b=c)!=null&&b.startsWith("2559"))return new(d("WAWebWindowsHybridBridge.v2559").WindowsHybridBridge_v2559)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if((b=c)!=null&&b.startsWith("2558"))return new(d("WAWebWindowsHybridBridge.v2558").WindowsHybridBridge_v2558)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if((b=c)!=null&&b.startsWith("2560"))return new(d("WAWebWindowsHybridBridge.v2560").WindowsHybridBridge_v2560)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if((b=c)!=null&&b.startsWith("2562"))return new(d("WAWebWindowsHybridBridge.v2562").WindowsHybridBridge_v2562)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if((b=c)!=null&&b.startsWith("2563"))return new(d("WAWebWindowsHybridBridge.v2563").WindowsHybridBridge_v2563)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if((b=c)!=null&&b.startsWith("2564"))return new(d("WAWebWindowsHybridBridge.v2564").WindowsHybridBridge_v2564)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if((b=c)!=null&&b.startsWith("2566"))return new(d("WAWebWindowsHybridBridge.v2566").WindowsHybridBridge_v2566)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if((b=c)!=null&&b.startsWith("2567"))return new(d("WAWebWindowsHybridBridge.v2567").WindowsHybridBridge_v2567)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if((b=c)!=null&&b.startsWith("2569"))return new(d("WAWebWindowsHybridBridge.v2569").WindowsHybridBridge_v2569)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if((b=c)!=null&&b.startsWith("2570"))return new(d("WAWebWindowsHybridBridge.v2570").WindowsHybridBridge_v2570)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if((b=c)!=null&&b.startsWith("2571"))return new(d("WAWebWindowsHybridBridge.v2571").WindowsHybridBridge_v2571)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if((b=c)!=null&&b.startsWith("2572"))return new(d("WAWebWindowsHybridBridge.v2572").WindowsHybridBridge_v2572)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if((b=c)!=null&&b.startsWith("2573"))return new(d("WAWebWindowsHybridBridge.v2573").WindowsHybridBridge_v2573)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if((b=c)!=null&&b.startsWith("2574"))return new(d("WAWebWindowsHybridBridge.v2574").WindowsHybridBridge_v2574)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if((b=c)!=null&&b.startsWith("2575"))return new(d("WAWebWindowsHybridBridge.v2575").WindowsHybridBridge_v2575)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["windows hybrid bridge: unsupported build version ",""])),c).sendLogs("windows hybrid bridge version missing");return new(d("WAWebWindowsHybridBridge.v2576").WindowsHybridBridge_v2576)(a)}catch(a){d("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["WinRTBridge: failed to initialize bridge instance: ",""])),a)}}var s=null,t=0;function a(){if(s==null){t>0&&d("WALogger").ERROR(l||(l=babelHelpers.taggedTemplateLiteralLoose(["WinRTBridge: bridge is being initialized "," times for WINDOWS_BUILD ",""])),t,d("WAWebBuildConstants").WINDOWS_BUILD).sendLogs("windows bridge multiple init");t++;try{s=q()}catch(a){d("WALogger").ERROR(m||(m=babelHelpers.taggedTemplateLiteralLoose(["WinRTBridge: failed to initialize: ",""])),a).devConsole(a).sendLogs("windows bridge init error")}}return s}g.getIsBridgeReady_v2576=o;g.getWebView_v2576=p;g.getWindowsBridge_v2576=a}),98);
__d("WAWebWindowsMessagePassingBridgeArgsList.v2576",[],(function(a,b,c,d,e,f){a={CompatibilityGetSupportedNativeIpcs:[],ExecuteSqlite:["queries"],ShowMessageNotification:["key","tag","header","body","thumbnailPath","footer","contextMenu","replyInputPlaceholder","replyButtonContent","suppressBanner","suppressNotificationOnAppClosed"],CloseMessageNotification:["key","tag"],IsNotificationEnabledInSystem:[],OpenSystemNotificationsSettings:[],UpdateTaskbarBadge:["count","ignoreIfAppInSystemTray"],UpdateLocalSetting:["key","value","revision"],GetStartupTaskState:[],UpdateStartupTask:["enabled"]};f["default"]=a}),66);
__d("WAWebWindowsMessagePassingBridgeCompatibilityAdapter.v2576",["WALogger","WAResolvable","WAWebWindowsMessagePassingBridgeArgsList.v2576","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=null,l=null;function m(a){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(l!=null)return l.promise;l=new(d("WAResolvable").Resolvable)();try{d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["initCompatibilityAdapter: requesting list of IPCs from Native"])));a=(yield a.call("CompatibilityGetSupportedNativeIpcs"));k=JSON.parse(a);d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["initCompatibilityAdapter: received list of IPCs from Native"])));(a=l)==null||a.resolve()}catch(b){d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["initCompatibilityAdapter: failed with error ",""])),b).sendLogs("initCompatibilityAdapter: failed with error");(a=l)==null||a.reject(b)}l=null});return n.apply(this,arguments)}function a(a,b,c){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,d){if(k==null){if(b==="CompatibilityGetSupportedNativeIpcs")return[];yield m(a);if(k==null)throw c("err")("IPC_TO_NUM_ARGS should not be null after init")}a=k[b];b=c("WAWebWindowsMessagePassingBridgeArgsList.v2576")[b].slice(0,a);return b.map(function(a){return d[a]})});return o.apply(this,arguments)}g.initCompatibilityAdapter_v2576=m;g.selectArgsForIpc_v2576=a}),98);
__d("WAWebWindowsMessagePassingBridgeEventEmitter.v2576",["invariant","WAWebTypedEventEmitter"],(function(a,b,c,d,e,f,g,h){"use strict";a=function(a){function b(){return a.apply(this,arguments)||this}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.handleNativeEvent=function(a){a=a.split(",");var b=a.shift();switch(b){case"MessageNotificationAction":a.length>=3||h(0,89560);this.trigger("MessageNotificationAction",{key:a[0],action:a[1],additionalData:decodeURIComponent(a[2])});break;case"RequestOpenChat":a.length>=1||h(0,90387);this.trigger("RequestOpenChat",{chatJid:a[0]});break;case"OnIsAppInSystemTrayChanged":this.trigger("OnIsAppInSystemTrayChanged",{isAppInSystemTray:a[0]==="True"});break;case"RequestAllWebClientPreferences":this.trigger("RequestAllWebClientPreferences",{});break}};return b}(c("WAWebTypedEventEmitter"));g.WAWebWindowsMessagePassingBridgeEventEmitter_v2576=a}),98);
__d("WAWebWindowsMessagePassingBridge.v2576",["invariant","WALogger","WAParsableWapNode","WAResolvable","WAWap","WAWebSerializeVoipWapNode","WAWebWid","WAWebWindowsHybridBridgeFactory.v2576","WAWebWindowsMessagePassingBridgeCompatibilityAdapter.v2576","WAWebWindowsMessagePassingBridgeEventEmitter.v2576","asyncToGeneratorRuntime","err","nullthrows"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m,n,o,p,q,r=new Map([["CompatibilityGetSupportedNativeIpcs","CompatibilityGetSupportedNativeIpcs"],["ExecuteSqlite","RequestExecuteSqlite"],["ShowMessageNotification","ShowMessageNotification"],["CloseMessageNotification","CloseMessageNotification"],["IsNotificationEnabledInSystem","IsNotificationEnabledInSystem"],["OpenSystemNotificationsSettings","OpenSystemNotificationsSettings"],["UpdateTaskbarBadge","UpdateTaskbarBadge"],["UpdateLocalSetting","UpdateLocalSetting"],["GetStartupTaskState","GetStartupTaskState"],["UpdateStartupTask","UpdateStartupTask"]]);a=function(){function a(){var a=this;this.latestTransactionId=0;this.pendingCallIpcs=new Map();this.nativeEventEmitter=new(d("WAWebWindowsMessagePassingBridgeEventEmitter.v2576").WAWebWindowsMessagePassingBridgeEventEmitter_v2576)();var b=d("WAWebWindowsHybridBridgeFactory.v2576").getWebView_v2576("invokeWAWebWindowsWebViewNativeBridge: postMessage not available (not in the Windows WebView?)");b==null||b.addEventListener==null||b.addEventListener("message",function(b){typeof b.data==="string"&&a.handleNativeIpcResponseEvent(b.data)});b==null||b.addEventListener==null||b.addEventListener("message",function(b){typeof b.data==="string"&&a.nativeEventEmitter.handleNativeEvent(b.data)});void d("WAWebWindowsMessagePassingBridgeCompatibilityAdapter.v2576").initCompatibilityAdapter_v2576(this)}var e=a.prototype;e.call=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b===void 0&&(b={});d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Starting IPC call for method: ",""])),a);d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Arguments: ",""])),JSON.stringify(b));b=(yield d("WAWebWindowsMessagePassingBridgeCompatibilityAdapter.v2576").selectArgsForIpc_v2576(this,a,b));b=b.map(s).join(",");d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Processed arg string: ",""])),b);if(!r.has(a)){d("WALogger").ERROR(l||(l=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Invalid callable method: ",""])),a);throw c("err")("invokeWAWebWindowsWebViewNativeBridge: invalid callable method: "+a)}var e=c("nullthrows")(r.get(a));d("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Mapped IPC method name: ",""])),e);var f=new(d("WAResolvable").Resolvable)();this.pendingCallIpcs.set(++this.latestTransactionId,f);d("WALogger").LOG(n||(n=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Created transaction ID: ",""])),this.latestTransactionId);b=b.split(",");b.push(this.latestTransactionId.toString());var g=d("WAWebWindowsHybridBridgeFactory.v2576").getWebView_v2576("invokeWAWebWindowsWebViewNativeBridge: postMessage not available (not in the Windows WebView?)");e=e+","+b.join(",");d("WALogger").LOG(o||(o=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Sending message to native: ",""])),e);try{yield g==null||g.postMessage==null?void 0:g.postMessage(e);b=(yield f.promise);d("WALogger").LOG(p||(p=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Received successful response for "," (txId: ","): ",""])),a,this.latestTransactionId,b);return b}catch(b){d("WALogger").ERROR(q||(q=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: IPC call failed for "," (txId: ","): ",""])),a,this.latestTransactionId,b).devConsole(b);throw b}});function e(b,c){return a.apply(this,arguments)}return e}();e.handleNativeIpcResponseEvent=function(a){a=a.split(",");var b=parseInt(a.shift(),10),c=a.shift();if(Number.isNaN(b)||c!=="NativeResponseToJS")return;this.handleNativeResponseEvent(b,a)};e.handleNativeResponseEvent=function(a,b){var c=b.shift();c!=null||h(0,88527);c=c==="0";this.pendingCallIpcs.has(a)||h(0,88528,a);var d=this.pendingCallIpcs.get(a);this.pendingCallIpcs["delete"](a);a=b.join(",");c?d==null?void 0:d.resolve(a):d==null?void 0:d.reject(a)};return a}();function s(a){if(typeof a==="string")return encodeURIComponent(a);else if(typeof a==="boolean")return a?"true":"false";else if(typeof a==="number")return a.toString(10);else if(a instanceof d("WAWap").WapNode||a instanceof d("WAParsableWapNode").ParsableWapNode){var b=d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a);return encodeURIComponent(b)}else if(a instanceof c("WAWebWid"))return a.toString({legacy:!0});else if(Array.isArray(a))return"["+a.map(s).join("|")+"]";else if(a==null)return"";throw c("err")("Windows WebView2 bridge: invokeNative: Unsupported argument type.",a)}g.WAWebWindowsMessagePassingBridge_v2576=a}),98);
__d("WAWebWindowsHybridBridgeUtils.v2577",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(a==null||a.length!==6||!/^\d{6}$/.test(a))return a;var b=a.slice(0,4),c=a.slice(-2);b=parseInt(b,10);c=parseInt(c,10);if(b<2574||b>=2577)return a;a=b-2574;b=a*10+Math.floor(c/10);a=2574+b;b=c%10;return""+a+String(b).padStart(2,"0")}f.getBetaHybridVersionForBridgeCut_v2577=a}),66);
__d("WAWebWindowsHybridBridgeFactory.v2577",["WALogger","WAWebBuildConstants","WAWebEnvironment","WAWebWindowsHybridBridge.v2558","WAWebWindowsHybridBridge.v2559","WAWebWindowsHybridBridge.v2560","WAWebWindowsHybridBridge.v2562","WAWebWindowsHybridBridge.v2563","WAWebWindowsHybridBridge.v2564","WAWebWindowsHybridBridge.v2566","WAWebWindowsHybridBridge.v2567","WAWebWindowsHybridBridge.v2569","WAWebWindowsHybridBridge.v2570","WAWebWindowsHybridBridge.v2571","WAWebWindowsHybridBridge.v2572","WAWebWindowsHybridBridge.v2573","WAWebWindowsHybridBridge.v2574","WAWebWindowsHybridBridge.v2575","WAWebWindowsHybridBridge.v2576","WAWebWindowsHybridBridge.v2577","WAWebWindowsHybridBridgeCommon","WAWebWindowsHybridBridgeUtils.v2577","WAWebWindowsHybridFlowHelpers","err","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m;e=new URLSearchParams((b=self.location.search)!=null?b:"");var n=e.get("bridgeError")==="1";function o(a){var b;if(!c("WAWebEnvironment").isWindows)return!1;if(((b=window.chrome)==null?void 0:b.webview)==null){if(c("gkx")("26258")||n)throw c("err")(a);d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[windows] bridge was not initialized: ",""])),a);return!1}return!0}function p(a){a===void 0&&(a="getWebView: no bridge available");return!o(a)?null:(a=window.chrome)==null?void 0:a.webview}function q(){try{var a=p();if(a!=null){a=r(a);d("WAWebWindowsHybridBridgeCommon").WAWebWindowsSetBridge(a);return a}}catch(a){d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["WinRTBridge: failed to initialize: ",""])),a)}return null}function r(a){try{var b,c=d("WAWebBuildConstants").WINDOWS_BUILD;c!=null&&(c=d("WAWebWindowsHybridBridgeUtils.v2577").getBetaHybridVersionForBridgeCut_v2577(c));if((b=c)!=null&&b.startsWith("2559"))return new(d("WAWebWindowsHybridBridge.v2559").WindowsHybridBridge_v2559)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if((b=c)!=null&&b.startsWith("2558"))return new(d("WAWebWindowsHybridBridge.v2558").WindowsHybridBridge_v2558)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if((b=c)!=null&&b.startsWith("2560"))return new(d("WAWebWindowsHybridBridge.v2560").WindowsHybridBridge_v2560)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if((b=c)!=null&&b.startsWith("2562"))return new(d("WAWebWindowsHybridBridge.v2562").WindowsHybridBridge_v2562)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if((b=c)!=null&&b.startsWith("2563"))return new(d("WAWebWindowsHybridBridge.v2563").WindowsHybridBridge_v2563)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if((b=c)!=null&&b.startsWith("2564"))return new(d("WAWebWindowsHybridBridge.v2564").WindowsHybridBridge_v2564)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if((b=c)!=null&&b.startsWith("2566"))return new(d("WAWebWindowsHybridBridge.v2566").WindowsHybridBridge_v2566)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if((b=c)!=null&&b.startsWith("2567"))return new(d("WAWebWindowsHybridBridge.v2567").WindowsHybridBridge_v2567)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if((b=c)!=null&&b.startsWith("2569"))return new(d("WAWebWindowsHybridBridge.v2569").WindowsHybridBridge_v2569)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if((b=c)!=null&&b.startsWith("2570"))return new(d("WAWebWindowsHybridBridge.v2570").WindowsHybridBridge_v2570)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if((b=c)!=null&&b.startsWith("2571"))return new(d("WAWebWindowsHybridBridge.v2571").WindowsHybridBridge_v2571)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if((b=c)!=null&&b.startsWith("2572"))return new(d("WAWebWindowsHybridBridge.v2572").WindowsHybridBridge_v2572)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if((b=c)!=null&&b.startsWith("2573"))return new(d("WAWebWindowsHybridBridge.v2573").WindowsHybridBridge_v2573)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if((b=c)!=null&&b.startsWith("2574"))return new(d("WAWebWindowsHybridBridge.v2574").WindowsHybridBridge_v2574)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if((b=c)!=null&&b.startsWith("2575"))return new(d("WAWebWindowsHybridBridge.v2575").WindowsHybridBridge_v2575)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if((b=c)!=null&&b.startsWith("2576"))return new(d("WAWebWindowsHybridBridge.v2576").WindowsHybridBridge_v2576)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["windows hybrid bridge: unsupported build version ",""])),c).sendLogs("windows hybrid bridge version missing");return new(d("WAWebWindowsHybridBridge.v2577").WindowsHybridBridge_v2577)(a)}catch(a){d("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["WinRTBridge: failed to initialize bridge instance: ",""])),a)}}var s=null,t=0;function a(){if(s==null){t>0&&d("WALogger").ERROR(l||(l=babelHelpers.taggedTemplateLiteralLoose(["WinRTBridge: bridge is being initialized "," times for WINDOWS_BUILD ",""])),t,d("WAWebBuildConstants").WINDOWS_BUILD).sendLogs("windows bridge multiple init");t++;try{s=q()}catch(a){d("WALogger").ERROR(m||(m=babelHelpers.taggedTemplateLiteralLoose(["WinRTBridge: failed to initialize: ",""])),a).devConsole(a).sendLogs("windows bridge init error")}}return s}g.getIsBridgeReady_v2577=o;g.getWebView_v2577=p;g.getWindowsBridge_v2577=a}),98);
__d("WAWebWindowsMessagePassingBridgeArgsList.v2577",[],(function(a,b,c,d,e,f){a={CompatibilityGetSupportedNativeIpcs:[],ExecuteSqlite:["queries"],ShowMessageNotification:["key","tag","header","body","thumbnailPath","footer","contextMenu","replyInputPlaceholder","replyButtonContent","suppressBanner","suppressNotificationOnAppClosed"],CloseMessageNotification:["key","tag"],IsNotificationEnabledInSystem:[],OpenSystemNotificationsSettings:[],UpdateTaskbarBadge:["count","ignoreIfAppInSystemTray"],UpdateLocalSetting:["key","value","revision"],GetStartupTaskState:[],UpdateStartupTask:["enabled"]};f["default"]=a}),66);
__d("WAWebWindowsMessagePassingBridgeCompatibilityAdapter.v2577",["WALogger","WAResolvable","WAWebWindowsMessagePassingBridgeArgsList.v2577","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=null,l=null;function m(a){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(l!=null)return l.promise;l=new(d("WAResolvable").Resolvable)();try{d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["initCompatibilityAdapter: requesting list of IPCs from Native"])));a=(yield a.call("CompatibilityGetSupportedNativeIpcs"));k=JSON.parse(a);d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["initCompatibilityAdapter: received list of IPCs from Native"])));(a=l)==null||a.resolve()}catch(b){d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["initCompatibilityAdapter: failed with error ",""])),b).sendLogs("initCompatibilityAdapter: failed with error");(a=l)==null||a.reject(b)}l=null});return n.apply(this,arguments)}function a(a,b,c){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,d){if(k==null){if(b==="CompatibilityGetSupportedNativeIpcs")return[];yield m(a);if(k==null)throw c("err")("IPC_TO_NUM_ARGS should not be null after init")}a=k[b];b=c("WAWebWindowsMessagePassingBridgeArgsList.v2577")[b].slice(0,a);return b.map(function(a){return d[a]})});return o.apply(this,arguments)}g.initCompatibilityAdapter_v2577=m;g.selectArgsForIpc_v2577=a}),98);
__d("WAWebWindowsMessagePassingBridgeEventEmitter.v2577",["invariant","WAWebTypedEventEmitter"],(function(a,b,c,d,e,f,g,h){"use strict";a=function(a){function b(){return a.apply(this,arguments)||this}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.handleNativeEvent=function(a){a=a.split(",");var b=a.shift();switch(b){case"MessageNotificationAction":a.length>=3||h(0,89560);this.trigger("MessageNotificationAction",{key:a[0],action:a[1],additionalData:decodeURIComponent(a[2])});break;case"RequestOpenChat":a.length>=1||h(0,90387);this.trigger("RequestOpenChat",{chatJid:a[0]});break;case"OnIsAppInSystemTrayChanged":this.trigger("OnIsAppInSystemTrayChanged",{isAppInSystemTray:a[0]==="True"});break;case"RequestAllWebClientPreferences":this.trigger("RequestAllWebClientPreferences",{});break}};return b}(c("WAWebTypedEventEmitter"));g.WAWebWindowsMessagePassingBridgeEventEmitter_v2577=a}),98);
__d("WAWebWindowsMessagePassingBridge.v2577",["invariant","WALogger","WAParsableWapNode","WAResolvable","WAWap","WAWebSerializeVoipWapNode","WAWebWid","WAWebWindowsHybridBridgeFactory.v2577","WAWebWindowsMessagePassingBridgeCompatibilityAdapter.v2577","WAWebWindowsMessagePassingBridgeEventEmitter.v2577","asyncToGeneratorRuntime","err","nullthrows"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m,n,o,p,q,r=new Map([["CompatibilityGetSupportedNativeIpcs","CompatibilityGetSupportedNativeIpcs"],["ExecuteSqlite","RequestExecuteSqlite"],["ShowMessageNotification","ShowMessageNotification"],["CloseMessageNotification","CloseMessageNotification"],["IsNotificationEnabledInSystem","IsNotificationEnabledInSystem"],["OpenSystemNotificationsSettings","OpenSystemNotificationsSettings"],["UpdateTaskbarBadge","UpdateTaskbarBadge"],["UpdateLocalSetting","UpdateLocalSetting"],["GetStartupTaskState","GetStartupTaskState"],["UpdateStartupTask","UpdateStartupTask"]]);a=function(){function a(){var a=this;this.latestTransactionId=0;this.pendingCallIpcs=new Map();this.nativeEventEmitter=new(d("WAWebWindowsMessagePassingBridgeEventEmitter.v2577").WAWebWindowsMessagePassingBridgeEventEmitter_v2577)();var b=d("WAWebWindowsHybridBridgeFactory.v2577").getWebView_v2577("invokeWAWebWindowsWebViewNativeBridge: postMessage not available (not in the Windows WebView?)");b==null||b.addEventListener==null||b.addEventListener("message",function(b){typeof b.data==="string"&&a.handleNativeIpcResponseEvent(b.data)});b==null||b.addEventListener==null||b.addEventListener("message",function(b){typeof b.data==="string"&&a.nativeEventEmitter.handleNativeEvent(b.data)});void d("WAWebWindowsMessagePassingBridgeCompatibilityAdapter.v2577").initCompatibilityAdapter_v2577(this)}var e=a.prototype;e.call=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b===void 0&&(b={});d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Starting IPC call for method: ",""])),a);d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Arguments: ",""])),JSON.stringify(b));b=(yield d("WAWebWindowsMessagePassingBridgeCompatibilityAdapter.v2577").selectArgsForIpc_v2577(this,a,b));b=b.map(s).join(",");d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Processed arg string: ",""])),b);if(!r.has(a)){d("WALogger").ERROR(l||(l=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Invalid callable method: ",""])),a);throw c("err")("invokeWAWebWindowsWebViewNativeBridge: invalid callable method: "+a)}var e=c("nullthrows")(r.get(a));d("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Mapped IPC method name: ",""])),e);var f=new(d("WAResolvable").Resolvable)();this.pendingCallIpcs.set(++this.latestTransactionId,f);d("WALogger").LOG(n||(n=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Created transaction ID: ",""])),this.latestTransactionId);b=b.split(",");b.push(this.latestTransactionId.toString());var g=d("WAWebWindowsHybridBridgeFactory.v2577").getWebView_v2577("invokeWAWebWindowsWebViewNativeBridge: postMessage not available (not in the Windows WebView?)");e=e+","+b.join(",");d("WALogger").LOG(o||(o=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Sending message to native: ",""])),e);try{yield g==null||g.postMessage==null?void 0:g.postMessage(e);b=(yield f.promise);d("WALogger").LOG(p||(p=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Received successful response for "," (txId: ","): ",""])),a,this.latestTransactionId,b);return b}catch(b){d("WALogger").ERROR(q||(q=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: IPC call failed for "," (txId: ","): ",""])),a,this.latestTransactionId,b).devConsole(b);throw b}});function e(b,c){return a.apply(this,arguments)}return e}();e.handleNativeIpcResponseEvent=function(a){a=a.split(",");var b=parseInt(a.shift(),10),c=a.shift();if(Number.isNaN(b)||c!=="NativeResponseToJS")return;this.handleNativeResponseEvent(b,a)};e.handleNativeResponseEvent=function(a,b){var c=b.shift();c!=null||h(0,88527);c=c==="0";this.pendingCallIpcs.has(a)||h(0,88528,a);var d=this.pendingCallIpcs.get(a);this.pendingCallIpcs["delete"](a);a=b.join(",");c?d==null?void 0:d.resolve(a):d==null?void 0:d.reject(a)};return a}();function s(a){if(typeof a==="string")return encodeURIComponent(a);else if(typeof a==="boolean")return a?"true":"false";else if(typeof a==="number")return a.toString(10);else if(a instanceof d("WAWap").WapNode||a instanceof d("WAParsableWapNode").ParsableWapNode){var b=d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a);return encodeURIComponent(b)}else if(a instanceof c("WAWebWid"))return a.toString({legacy:!0});else if(Array.isArray(a))return"["+a.map(s).join("|")+"]";else if(a==null)return"";throw c("err")("Windows WebView2 bridge: invokeNative: Unsupported argument type.",a)}g.WAWebWindowsMessagePassingBridge_v2577=a}),98);
__d("WAWebWindowsHybridBridgeUtils.v2579",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(a==null||a.length!==6||!/^\d{6}$/.test(a))return a;var b=a.slice(0,4),c=a.slice(-2);b=parseInt(b,10);c=parseInt(c,10);if(b<2574||b>=2577)return a;a=b-2574;b=a*10+Math.floor(c/10);a=2574+b;b=c%10;return""+a+String(b).padStart(2,"0")}f.getBetaHybridVersionForBridgeCut_v2579=a}),66);
__d("WAWebWindowsHybridBridgeFactory.v2579",["WALogger","WAWebBuildConstants","WAWebEnvironment","WAWebWindowsHybridBridge.v2558","WAWebWindowsHybridBridge.v2559","WAWebWindowsHybridBridge.v2560","WAWebWindowsHybridBridge.v2562","WAWebWindowsHybridBridge.v2563","WAWebWindowsHybridBridge.v2564","WAWebWindowsHybridBridge.v2566","WAWebWindowsHybridBridge.v2567","WAWebWindowsHybridBridge.v2569","WAWebWindowsHybridBridge.v2570","WAWebWindowsHybridBridge.v2571","WAWebWindowsHybridBridge.v2572","WAWebWindowsHybridBridge.v2573","WAWebWindowsHybridBridge.v2574","WAWebWindowsHybridBridge.v2575","WAWebWindowsHybridBridge.v2576","WAWebWindowsHybridBridge.v2577","WAWebWindowsHybridBridge.v2579","WAWebWindowsHybridBridgeCommon","WAWebWindowsHybridBridgeUtils.v2579","WAWebWindowsHybridFlowHelpers","err","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m;e=new URLSearchParams((b=self.location.search)!=null?b:"");var n=e.get("bridgeError")==="1";function o(a){var b;if(!c("WAWebEnvironment").isWindows)return!1;if(((b=window.chrome)==null?void 0:b.webview)==null){if(c("gkx")("26258")||n)throw c("err")(a);d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[windows] bridge was not initialized: ",""])),a);return!1}return!0}function p(a){a===void 0&&(a="getWebView: no bridge available");return!o(a)?null:(a=window.chrome)==null?void 0:a.webview}function q(){try{var a=p();if(a!=null){a=r(a);d("WAWebWindowsHybridBridgeCommon").WAWebWindowsSetBridge(a);return a}}catch(a){d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["WinRTBridge: failed to initialize: ",""])),a)}return null}function r(a){try{var b,c=d("WAWebBuildConstants").WINDOWS_BUILD;c!=null&&(c=d("WAWebWindowsHybridBridgeUtils.v2579").getBetaHybridVersionForBridgeCut_v2579(c));if((b=c)!=null&&b.startsWith("2559"))return new(d("WAWebWindowsHybridBridge.v2559").WindowsHybridBridge_v2559)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if((b=c)!=null&&b.startsWith("2558"))return new(d("WAWebWindowsHybridBridge.v2558").WindowsHybridBridge_v2558)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if((b=c)!=null&&b.startsWith("2560"))return new(d("WAWebWindowsHybridBridge.v2560").WindowsHybridBridge_v2560)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if((b=c)!=null&&b.startsWith("2562"))return new(d("WAWebWindowsHybridBridge.v2562").WindowsHybridBridge_v2562)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if((b=c)!=null&&b.startsWith("2563"))return new(d("WAWebWindowsHybridBridge.v2563").WindowsHybridBridge_v2563)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if((b=c)!=null&&b.startsWith("2564"))return new(d("WAWebWindowsHybridBridge.v2564").WindowsHybridBridge_v2564)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if((b=c)!=null&&b.startsWith("2566"))return new(d("WAWebWindowsHybridBridge.v2566").WindowsHybridBridge_v2566)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if((b=c)!=null&&b.startsWith("2567"))return new(d("WAWebWindowsHybridBridge.v2567").WindowsHybridBridge_v2567)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if((b=c)!=null&&b.startsWith("2569"))return new(d("WAWebWindowsHybridBridge.v2569").WindowsHybridBridge_v2569)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if((b=c)!=null&&b.startsWith("2570"))return new(d("WAWebWindowsHybridBridge.v2570").WindowsHybridBridge_v2570)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if((b=c)!=null&&b.startsWith("2571"))return new(d("WAWebWindowsHybridBridge.v2571").WindowsHybridBridge_v2571)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if((b=c)!=null&&b.startsWith("2572"))return new(d("WAWebWindowsHybridBridge.v2572").WindowsHybridBridge_v2572)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if((b=c)!=null&&b.startsWith("2573"))return new(d("WAWebWindowsHybridBridge.v2573").WindowsHybridBridge_v2573)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if((b=c)!=null&&b.startsWith("2574"))return new(d("WAWebWindowsHybridBridge.v2574").WindowsHybridBridge_v2574)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if((b=c)!=null&&b.startsWith("2575"))return new(d("WAWebWindowsHybridBridge.v2575").WindowsHybridBridge_v2575)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if((b=c)!=null&&b.startsWith("2576"))return new(d("WAWebWindowsHybridBridge.v2576").WindowsHybridBridge_v2576)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));else if((b=c)!=null&&b.startsWith("2577"))return new(d("WAWebWindowsHybridBridge.v2577").WindowsHybridBridge_v2577)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(a));d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["windows hybrid bridge: unsupported build version ",""])),c).sendLogs("windows hybrid bridge version missing");return new(d("WAWebWindowsHybridBridge.v2579").WindowsHybridBridge_v2579)(a)}catch(a){d("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["WinRTBridge: failed to initialize bridge instance: ",""])),a)}}var s=null,t=0;function a(){if(s==null){t>0&&d("WALogger").ERROR(l||(l=babelHelpers.taggedTemplateLiteralLoose(["WinRTBridge: bridge is being initialized "," times for WINDOWS_BUILD ",""])),t,d("WAWebBuildConstants").WINDOWS_BUILD).sendLogs("windows bridge multiple init");t++;try{s=q()}catch(a){d("WALogger").ERROR(m||(m=babelHelpers.taggedTemplateLiteralLoose(["WinRTBridge: failed to initialize: ",""])),a).devConsole(a).sendLogs("windows bridge init error")}}return s}g.getIsBridgeReady_v2579=o;g.getWebView_v2579=p;g.getWindowsBridge_v2579=a}),98);
__d("WAWebWindowsMessagePassingBridgeArgsList.v2579",[],(function(a,b,c,d,e,f){a={CompatibilityGetSupportedNativeIpcs:[],ExecuteSqlite:["queries"],ShowMessageNotification:["key","tag","header","body","thumbnailPath","footer","contextMenu","replyInputPlaceholder","replyButtonContent","suppressBanner","suppressNotificationOnAppClosed"],CloseMessageNotification:["key","tag"],IsNotificationEnabledInSystem:[],OpenSystemNotificationsSettings:[],UpdateTaskbarBadge:["count","ignoreIfAppInSystemTray"],UpdateLocalSetting:["key","value","revision"],GetStartupTaskState:[],UpdateStartupTask:["enabled"]};f["default"]=a}),66);
__d("WAWebWindowsMessagePassingBridgeCompatibilityAdapter.v2579",["WALogger","WAResolvable","WAWebWindowsMessagePassingBridgeArgsList.v2579","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=null,l=null;function m(a){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(l!=null)return l.promise;l=new(d("WAResolvable").Resolvable)();try{d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["initCompatibilityAdapter: requesting list of IPCs from Native"])));a=(yield a.call("CompatibilityGetSupportedNativeIpcs"));k=JSON.parse(a);d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["initCompatibilityAdapter: received list of IPCs from Native"])));(a=l)==null||a.resolve()}catch(b){d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["initCompatibilityAdapter: failed with error ",""])),b).sendLogs("initCompatibilityAdapter: failed with error");(a=l)==null||a.reject(b)}l=null});return n.apply(this,arguments)}function a(a,b,c){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,d){if(k==null){if(b==="CompatibilityGetSupportedNativeIpcs")return[];yield m(a);if(k==null)throw c("err")("IPC_TO_NUM_ARGS should not be null after init")}a=k[b];b=c("WAWebWindowsMessagePassingBridgeArgsList.v2579")[b].slice(0,a);return b.map(function(a){return d[a]})});return o.apply(this,arguments)}g.initCompatibilityAdapter_v2579=m;g.selectArgsForIpc_v2579=a}),98);
__d("WAWebWindowsMessagePassingBridgeEventEmitter.v2579",["invariant","WAWebTypedEventEmitter"],(function(a,b,c,d,e,f,g,h){"use strict";a=function(a){function b(){return a.apply(this,arguments)||this}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.handleNativeEvent=function(a){a=a.split(",");var b=a.shift();switch(b){case"MessageNotificationAction":a.length>=3||h(0,89560);this.trigger("MessageNotificationAction",{key:a[0],action:a[1],additionalData:decodeURIComponent(a[2])});break;case"RequestOpenChat":a.length>=1||h(0,90387);this.trigger("RequestOpenChat",{chatJid:a[0]});break;case"OnIsAppInSystemTrayChanged":this.trigger("OnIsAppInSystemTrayChanged",{isAppInSystemTray:a[0]==="True"});break;case"RequestAllWebClientPreferences":this.trigger("RequestAllWebClientPreferences",{});break}};return b}(c("WAWebTypedEventEmitter"));g.WAWebWindowsMessagePassingBridgeEventEmitter_v2579=a}),98);
__d("WAWebWindowsMessagePassingBridge.v2579",["invariant","WALogger","WAParsableWapNode","WAResolvable","WAWap","WAWebSerializeVoipWapNode","WAWebWid","WAWebWindowsHybridBridgeFactory.v2579","WAWebWindowsMessagePassingBridgeCompatibilityAdapter.v2579","WAWebWindowsMessagePassingBridgeEventEmitter.v2579","asyncToGeneratorRuntime","err","nullthrows"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m,n,o,p,q,r=new Map([["CompatibilityGetSupportedNativeIpcs","CompatibilityGetSupportedNativeIpcs"],["ExecuteSqlite","RequestExecuteSqlite"],["ShowMessageNotification","ShowMessageNotification"],["CloseMessageNotification","CloseMessageNotification"],["IsNotificationEnabledInSystem","IsNotificationEnabledInSystem"],["OpenSystemNotificationsSettings","OpenSystemNotificationsSettings"],["UpdateTaskbarBadge","UpdateTaskbarBadge"],["UpdateLocalSetting","UpdateLocalSetting"],["GetStartupTaskState","GetStartupTaskState"],["UpdateStartupTask","UpdateStartupTask"]]);a=function(){function a(){var a=this;this.latestTransactionId=0;this.pendingCallIpcs=new Map();this.nativeEventEmitter=new(d("WAWebWindowsMessagePassingBridgeEventEmitter.v2579").WAWebWindowsMessagePassingBridgeEventEmitter_v2579)();var b=d("WAWebWindowsHybridBridgeFactory.v2579").getWebView_v2579("invokeWAWebWindowsWebViewNativeBridge: postMessage not available (not in the Windows WebView?)");b==null||b.addEventListener==null||b.addEventListener("message",function(b){typeof b.data==="string"&&a.handleNativeIpcResponseEvent(b.data)});b==null||b.addEventListener==null||b.addEventListener("message",function(b){typeof b.data==="string"&&a.nativeEventEmitter.handleNativeEvent(b.data)});void d("WAWebWindowsMessagePassingBridgeCompatibilityAdapter.v2579").initCompatibilityAdapter_v2579(this)}var e=a.prototype;e.call=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b===void 0&&(b={});d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Starting IPC call for method: ",""])),a);d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Arguments: ",""])),JSON.stringify(b));b=(yield d("WAWebWindowsMessagePassingBridgeCompatibilityAdapter.v2579").selectArgsForIpc_v2579(this,a,b));b=b.map(s).join(",");d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Processed arg string: ",""])),b);if(!r.has(a)){d("WALogger").ERROR(l||(l=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Invalid callable method: ",""])),a);throw c("err")("invokeWAWebWindowsWebViewNativeBridge: invalid callable method: "+a)}var e=c("nullthrows")(r.get(a));d("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Mapped IPC method name: ",""])),e);var f=new(d("WAResolvable").Resolvable)();this.pendingCallIpcs.set(++this.latestTransactionId,f);d("WALogger").LOG(n||(n=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Created transaction ID: ",""])),this.latestTransactionId);b=b.split(",");b.push(this.latestTransactionId.toString());var g=d("WAWebWindowsHybridBridgeFactory.v2579").getWebView_v2579("invokeWAWebWindowsWebViewNativeBridge: postMessage not available (not in the Windows WebView?)");e=e+","+b.join(",");d("WALogger").LOG(o||(o=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Sending message to native: ",""])),e);try{yield g==null||g.postMessage==null?void 0:g.postMessage(e);b=(yield f.promise);d("WALogger").LOG(p||(p=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Received successful response for "," (txId: ","): ",""])),a,this.latestTransactionId,b);return b}catch(b){d("WALogger").ERROR(q||(q=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: IPC call failed for "," (txId: ","): ",""])),a,this.latestTransactionId,b).devConsole(b);throw b}});function e(b,c){return a.apply(this,arguments)}return e}();e.handleNativeIpcResponseEvent=function(a){a=a.split(",");var b=parseInt(a.shift(),10),c=a.shift();if(Number.isNaN(b)||c!=="NativeResponseToJS")return;this.handleNativeResponseEvent(b,a)};e.handleNativeResponseEvent=function(a,b){var c=b.shift();c!=null||h(0,88527);c=c==="0";this.pendingCallIpcs.has(a)||h(0,88528,a);var d=this.pendingCallIpcs.get(a);this.pendingCallIpcs["delete"](a);a=b.join(",");c?d==null?void 0:d.resolve(a):d==null?void 0:d.reject(a)};return a}();function s(a){if(typeof a==="string")return encodeURIComponent(a);else if(typeof a==="boolean")return a?"true":"false";else if(typeof a==="number")return a.toString(10);else if(a instanceof d("WAWap").WapNode||a instanceof d("WAParsableWapNode").ParsableWapNode){var b=d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a);return encodeURIComponent(b)}else if(a instanceof c("WAWebWid"))return a.toString({legacy:!0});else if(Array.isArray(a))return"["+a.map(s).join("|")+"]";else if(a==null)return"";throw c("err")("Windows WebView2 bridge: invokeNative: Unsupported argument type.",a)}g.WAWebWindowsMessagePassingBridge_v2579=a}),98);
__d("WAWebWindowsHybridBridgeUtils.v2580",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(a==null||a.length!==6||!/^\d{6}$/.test(a))return a;var b=a.slice(0,4),c=a.slice(-2);b=parseInt(b,10);c=parseInt(c,10);if(b<2574||b>=2577)return a;a=b-2574;b=a*10+Math.floor(c/10);a=2574+b;b=c%10;return""+a+String(b).padStart(2,"0")}f.getBetaHybridVersionForBridgeCut_v2580=a}),66);
__d("WAWebWindowsHybridBridgeFactory.v2580",["WALogger","WAWebBuildConstants","WAWebEnvironment","WAWebWindowsHybridBridge.v2558","WAWebWindowsHybridBridge.v2559","WAWebWindowsHybridBridge.v2560","WAWebWindowsHybridBridge.v2562","WAWebWindowsHybridBridge.v2563","WAWebWindowsHybridBridge.v2564","WAWebWindowsHybridBridge.v2566","WAWebWindowsHybridBridge.v2567","WAWebWindowsHybridBridge.v2569","WAWebWindowsHybridBridge.v2570","WAWebWindowsHybridBridge.v2571","WAWebWindowsHybridBridge.v2572","WAWebWindowsHybridBridge.v2573","WAWebWindowsHybridBridge.v2574","WAWebWindowsHybridBridge.v2575","WAWebWindowsHybridBridge.v2576","WAWebWindowsHybridBridge.v2577","WAWebWindowsHybridBridge.v2579","WAWebWindowsHybridBridge.v2580","WAWebWindowsHybridBridgeCommon","WAWebWindowsHybridBridgeUtils.v2580","WAWebWindowsHybridFlowHelpers","err","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m;e=new URLSearchParams((b=self.location.search)!=null?b:"");var n=e.get("bridgeError")==="1";function o(a){var b;if(!c("WAWebEnvironment").isWindows)return!1;if(((b=window.chrome)==null?void 0:b.webview)==null){if(c("gkx")("26258")||n)throw c("err")(a);d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[windows] bridge was not initialized: ",""])),a);return!1}return!0}function p(a){a===void 0&&(a="getWebView: no bridge available");return!o(a)?null:(a=window.chrome)==null?void 0:a.webview}function q(){try{var a=p();if(a!=null){var b=d("WAWebBuildConstants").WINDOWS_BUILD;b!=null&&(b=d("WAWebWindowsHybridBridgeUtils.v2580").getBetaHybridVersionForBridgeCut_v2580(b));b=r(b,a);d("WAWebWindowsHybridBridgeCommon").WAWebWindowsSetBridge(b);return b}}catch(a){d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["WinRTBridge: failed to initialize: ",""])),a)}return null}function r(a,b){try{if(a!=null&&a.startsWith("2559"))return new(d("WAWebWindowsHybridBridge.v2559").WindowsHybridBridge_v2559)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2558"))return new(d("WAWebWindowsHybridBridge.v2558").WindowsHybridBridge_v2558)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2560"))return new(d("WAWebWindowsHybridBridge.v2560").WindowsHybridBridge_v2560)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2562"))return new(d("WAWebWindowsHybridBridge.v2562").WindowsHybridBridge_v2562)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2563"))return new(d("WAWebWindowsHybridBridge.v2563").WindowsHybridBridge_v2563)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2564"))return new(d("WAWebWindowsHybridBridge.v2564").WindowsHybridBridge_v2564)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2566"))return new(d("WAWebWindowsHybridBridge.v2566").WindowsHybridBridge_v2566)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2567"))return new(d("WAWebWindowsHybridBridge.v2567").WindowsHybridBridge_v2567)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2569"))return new(d("WAWebWindowsHybridBridge.v2569").WindowsHybridBridge_v2569)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2570"))return new(d("WAWebWindowsHybridBridge.v2570").WindowsHybridBridge_v2570)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2571"))return new(d("WAWebWindowsHybridBridge.v2571").WindowsHybridBridge_v2571)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2572"))return new(d("WAWebWindowsHybridBridge.v2572").WindowsHybridBridge_v2572)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2573"))return new(d("WAWebWindowsHybridBridge.v2573").WindowsHybridBridge_v2573)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2574"))return new(d("WAWebWindowsHybridBridge.v2574").WindowsHybridBridge_v2574)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2575"))return new(d("WAWebWindowsHybridBridge.v2575").WindowsHybridBridge_v2575)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2576"))return new(d("WAWebWindowsHybridBridge.v2576").WindowsHybridBridge_v2576)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2577"))return new(d("WAWebWindowsHybridBridge.v2577").WindowsHybridBridge_v2577)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2579"))return new(d("WAWebWindowsHybridBridge.v2579").WindowsHybridBridge_v2579)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["windows hybrid bridge: unsupported build version ",""])),a).sendLogs("windows hybrid bridge version missing");return new(d("WAWebWindowsHybridBridge.v2580").WindowsHybridBridge_v2580)(b)}catch(a){d("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["WinRTBridge: failed to initialize bridge instance: ",""])),a)}}var s=null,t=0;function a(){if(s==null){t>0&&d("WALogger").ERROR(l||(l=babelHelpers.taggedTemplateLiteralLoose(["WinRTBridge: bridge is being initialized "," times for WINDOWS_BUILD ",""])),t,d("WAWebBuildConstants").WINDOWS_BUILD).sendLogs("windows bridge multiple init");t++;try{s=q()}catch(a){d("WALogger").ERROR(m||(m=babelHelpers.taggedTemplateLiteralLoose(["WinRTBridge: failed to initialize: ",""])),a).devConsole(a).sendLogs("windows bridge init error")}}return s}g.getIsBridgeReady_v2580=o;g.getWebView_v2580=p;g.getWindowsBridge_v2580=a}),98);
__d("WAWebWindowsMessagePassingBridgeArgsList.v2580",[],(function(a,b,c,d,e,f){a={CompatibilityGetSupportedNativeIpcs:[],ExecuteSqlite:["queries"],ShowMessageNotification:["key","tag","header","body","thumbnailPath","footer","contextMenu","replyInputPlaceholder","replyButtonContent","suppressBanner","suppressNotificationOnAppClosed"],CloseMessageNotification:["key","tag"],IsNotificationEnabledInSystem:[],OpenSystemNotificationsSettings:[],UpdateTaskbarBadge:["count","ignoreIfAppInSystemTray"],UpdateLocalSetting:["key","value","revision"],GetStartupTaskState:[],UpdateStartupTask:["enabled"]};f["default"]=a}),66);
__d("WAWebWindowsMessagePassingBridgeCompatibilityAdapter.v2580",["WALogger","WAResolvable","WAWebWindowsMessagePassingBridgeArgsList.v2580","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=null,l=null;function m(a){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(l!=null)return l.promise;l=new(d("WAResolvable").Resolvable)();try{d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["initCompatibilityAdapter: requesting list of IPCs from Native"])));a=(yield a.call("CompatibilityGetSupportedNativeIpcs"));k=JSON.parse(a);d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["initCompatibilityAdapter: received list of IPCs from Native"])));(a=l)==null||a.resolve()}catch(b){d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["initCompatibilityAdapter: failed with error ",""])),b).sendLogs("initCompatibilityAdapter: failed with error");(a=l)==null||a.reject(b)}l=null});return n.apply(this,arguments)}function a(a,b,c){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,d){if(k==null){if(b==="CompatibilityGetSupportedNativeIpcs")return[];yield m(a);if(k==null)throw c("err")("IPC_TO_NUM_ARGS should not be null after init")}a=k[b];b=c("WAWebWindowsMessagePassingBridgeArgsList.v2580")[b].slice(0,a);return b.map(function(a){return d[a]})});return o.apply(this,arguments)}g.initCompatibilityAdapter_v2580=m;g.selectArgsForIpc_v2580=a}),98);
__d("WAWebWindowsMessagePassingBridgeEventEmitter.v2580",["invariant","WAWebTypedEventEmitter"],(function(a,b,c,d,e,f,g,h){"use strict";a=function(a){function b(){return a.apply(this,arguments)||this}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.handleNativeEvent=function(a){a=a.split(",");var b=a.shift();switch(b){case"MessageNotificationAction":a.length>=3||h(0,89560);this.trigger("MessageNotificationAction",{key:a[0],action:a[1],additionalData:decodeURIComponent(a[2])});break;case"RequestOpenChat":a.length>=1||h(0,90387);this.trigger("RequestOpenChat",{chatJid:a[0]});break;case"OnIsAppInSystemTrayChanged":this.trigger("OnIsAppInSystemTrayChanged",{isAppInSystemTray:a[0]==="True"});break;case"RequestAllWebClientPreferences":this.trigger("RequestAllWebClientPreferences",{});break}};return b}(c("WAWebTypedEventEmitter"));g.WAWebWindowsMessagePassingBridgeEventEmitter_v2580=a}),98);
__d("WAWebWindowsMessagePassingBridge.v2580",["invariant","WALogger","WAParsableWapNode","WAResolvable","WAWap","WAWebSerializeVoipWapNode","WAWebWid","WAWebWindowsHybridBridgeFactory.v2580","WAWebWindowsMessagePassingBridgeCompatibilityAdapter.v2580","WAWebWindowsMessagePassingBridgeEventEmitter.v2580","asyncToGeneratorRuntime","err","nullthrows"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m,n,o,p,q,r=new Map([["CompatibilityGetSupportedNativeIpcs","CompatibilityGetSupportedNativeIpcs"],["ExecuteSqlite","RequestExecuteSqlite"],["ShowMessageNotification","ShowMessageNotification"],["CloseMessageNotification","CloseMessageNotification"],["IsNotificationEnabledInSystem","IsNotificationEnabledInSystem"],["OpenSystemNotificationsSettings","OpenSystemNotificationsSettings"],["UpdateTaskbarBadge","UpdateTaskbarBadge"],["UpdateLocalSetting","UpdateLocalSetting"],["GetStartupTaskState","GetStartupTaskState"],["UpdateStartupTask","UpdateStartupTask"]]);a=function(){function a(){var a=this;this.latestTransactionId=0;this.pendingCallIpcs=new Map();this.nativeEventEmitter=new(d("WAWebWindowsMessagePassingBridgeEventEmitter.v2580").WAWebWindowsMessagePassingBridgeEventEmitter_v2580)();var b=d("WAWebWindowsHybridBridgeFactory.v2580").getWebView_v2580("invokeWAWebWindowsWebViewNativeBridge: postMessage not available (not in the Windows WebView?)");b==null||b.addEventListener==null||b.addEventListener("message",function(b){typeof b.data==="string"&&a.handleNativeIpcResponseEvent(b.data)});b==null||b.addEventListener==null||b.addEventListener("message",function(b){typeof b.data==="string"&&a.nativeEventEmitter.handleNativeEvent(b.data)});void d("WAWebWindowsMessagePassingBridgeCompatibilityAdapter.v2580").initCompatibilityAdapter_v2580(this)}var e=a.prototype;e.call=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b===void 0&&(b={});d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Starting IPC call for method: ",""])),a);d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Arguments: ",""])),JSON.stringify(b));b=(yield d("WAWebWindowsMessagePassingBridgeCompatibilityAdapter.v2580").selectArgsForIpc_v2580(this,a,b));b=b.map(s).join(",");d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Processed arg string: ",""])),b);if(!r.has(a)){d("WALogger").ERROR(l||(l=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Invalid callable method: ",""])),a);throw c("err")("invokeWAWebWindowsWebViewNativeBridge: invalid callable method: "+a)}var e=c("nullthrows")(r.get(a));d("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Mapped IPC method name: ",""])),e);var f=new(d("WAResolvable").Resolvable)();this.pendingCallIpcs.set(++this.latestTransactionId,f);d("WALogger").LOG(n||(n=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Created transaction ID: ",""])),this.latestTransactionId);b=b.split(",");b.push(this.latestTransactionId.toString());var g=d("WAWebWindowsHybridBridgeFactory.v2580").getWebView_v2580("invokeWAWebWindowsWebViewNativeBridge: postMessage not available (not in the Windows WebView?)");e=e+","+b.join(",");d("WALogger").LOG(o||(o=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Sending message to native: ",""])),e);try{yield g==null||g.postMessage==null?void 0:g.postMessage(e);b=(yield f.promise);d("WALogger").LOG(p||(p=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Received successful response for "," (txId: ","): ",""])),a,this.latestTransactionId,b);return b}catch(b){d("WALogger").ERROR(q||(q=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: IPC call failed for "," (txId: ","): ",""])),a,this.latestTransactionId,b).devConsole(b);throw b}});function e(b,c){return a.apply(this,arguments)}return e}();e.handleNativeIpcResponseEvent=function(a){a=a.split(",");var b=parseInt(a.shift(),10),c=a.shift();if(Number.isNaN(b)||c!=="NativeResponseToJS")return;this.handleNativeResponseEvent(b,a)};e.handleNativeResponseEvent=function(a,b){var c=b.shift();c!=null||h(0,88527);c=c==="0";this.pendingCallIpcs.has(a)||h(0,88528,a);var d=this.pendingCallIpcs.get(a);this.pendingCallIpcs["delete"](a);a=b.join(",");c?d==null?void 0:d.resolve(a):d==null?void 0:d.reject(a)};return a}();function s(a){if(typeof a==="string")return encodeURIComponent(a);else if(typeof a==="boolean")return a?"true":"false";else if(typeof a==="number")return a.toString(10);else if(a instanceof d("WAWap").WapNode||a instanceof d("WAParsableWapNode").ParsableWapNode){var b=d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a);return encodeURIComponent(b)}else if(a instanceof c("WAWebWid"))return a.toString({legacy:!0});else if(Array.isArray(a))return"["+a.map(s).join("|")+"]";else if(a==null)return"";throw c("err")("Windows WebView2 bridge: invokeNative: Unsupported argument type.",a)}g.WAWebWindowsMessagePassingBridge_v2580=a}),98);
__d("WAWebWindowsHybridBridgeUtils.v2581",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(a==null||a.length!==6||!/^\d{6}$/.test(a))return a;var b=a.slice(0,4),c=a.slice(-2);b=parseInt(b,10);c=parseInt(c,10);if(b<2574||b>=2577)return a;a=b-2574;b=a*10+Math.floor(c/10);a=2574+b;b=c%10;return""+a+String(b).padStart(2,"0")}f.getBetaHybridVersionForBridgeCut_v2581=a}),66);
__d("WAWebWindowsHybridBridgeFactory.v2581",["WALogger","WAWebBuildConstants","WAWebEnvironment","WAWebWindowsHybridBridge.v2558","WAWebWindowsHybridBridge.v2559","WAWebWindowsHybridBridge.v2560","WAWebWindowsHybridBridge.v2562","WAWebWindowsHybridBridge.v2563","WAWebWindowsHybridBridge.v2564","WAWebWindowsHybridBridge.v2566","WAWebWindowsHybridBridge.v2567","WAWebWindowsHybridBridge.v2569","WAWebWindowsHybridBridge.v2570","WAWebWindowsHybridBridge.v2571","WAWebWindowsHybridBridge.v2572","WAWebWindowsHybridBridge.v2573","WAWebWindowsHybridBridge.v2574","WAWebWindowsHybridBridge.v2575","WAWebWindowsHybridBridge.v2576","WAWebWindowsHybridBridge.v2577","WAWebWindowsHybridBridge.v2579","WAWebWindowsHybridBridge.v2580","WAWebWindowsHybridBridge.v2581","WAWebWindowsHybridBridgeCommon","WAWebWindowsHybridBridgeUtils.v2581","WAWebWindowsHybridFlowHelpers","err","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m;e=new URLSearchParams((b=self.location.search)!=null?b:"");var n=e.get("bridgeError")==="1";function o(a){var b;if(!c("WAWebEnvironment").isWindows)return!1;if(((b=window.chrome)==null?void 0:b.webview)==null){if(c("gkx")("26258")||n)throw c("err")(a);d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[windows] bridge was not initialized: ",""])),a);return!1}return!0}function p(a){a===void 0&&(a="getWebView: no bridge available");return!o(a)?null:(a=window.chrome)==null?void 0:a.webview}function q(){try{var a=p();if(a!=null){var b=d("WAWebBuildConstants").WINDOWS_BUILD;b!=null&&(b=d("WAWebWindowsHybridBridgeUtils.v2581").getBetaHybridVersionForBridgeCut_v2581(b));b=r(b,a);d("WAWebWindowsHybridBridgeCommon").WAWebWindowsSetBridge(b);return b}}catch(a){d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["WinRTBridge: failed to initialize: ",""])),a)}return null}function r(a,b){try{if(a!=null&&a.startsWith("2559"))return new(d("WAWebWindowsHybridBridge.v2559").WindowsHybridBridge_v2559)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2558"))return new(d("WAWebWindowsHybridBridge.v2558").WindowsHybridBridge_v2558)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2560"))return new(d("WAWebWindowsHybridBridge.v2560").WindowsHybridBridge_v2560)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2562"))return new(d("WAWebWindowsHybridBridge.v2562").WindowsHybridBridge_v2562)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2563"))return new(d("WAWebWindowsHybridBridge.v2563").WindowsHybridBridge_v2563)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2564"))return new(d("WAWebWindowsHybridBridge.v2564").WindowsHybridBridge_v2564)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2566"))return new(d("WAWebWindowsHybridBridge.v2566").WindowsHybridBridge_v2566)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2567"))return new(d("WAWebWindowsHybridBridge.v2567").WindowsHybridBridge_v2567)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2569"))return new(d("WAWebWindowsHybridBridge.v2569").WindowsHybridBridge_v2569)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2570"))return new(d("WAWebWindowsHybridBridge.v2570").WindowsHybridBridge_v2570)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2571"))return new(d("WAWebWindowsHybridBridge.v2571").WindowsHybridBridge_v2571)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2572"))return new(d("WAWebWindowsHybridBridge.v2572").WindowsHybridBridge_v2572)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2573"))return new(d("WAWebWindowsHybridBridge.v2573").WindowsHybridBridge_v2573)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2574"))return new(d("WAWebWindowsHybridBridge.v2574").WindowsHybridBridge_v2574)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2575"))return new(d("WAWebWindowsHybridBridge.v2575").WindowsHybridBridge_v2575)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2576"))return new(d("WAWebWindowsHybridBridge.v2576").WindowsHybridBridge_v2576)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2577"))return new(d("WAWebWindowsHybridBridge.v2577").WindowsHybridBridge_v2577)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2579"))return new(d("WAWebWindowsHybridBridge.v2579").WindowsHybridBridge_v2579)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2580"))return new(d("WAWebWindowsHybridBridge.v2580").WindowsHybridBridge_v2580)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["windows hybrid bridge: unsupported build version ",""])),a).sendLogs("windows hybrid bridge version missing");return new(d("WAWebWindowsHybridBridge.v2581").WindowsHybridBridge_v2581)(b)}catch(a){d("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["WinRTBridge: failed to initialize bridge instance: ",""])),a)}}var s=null,t=0;function a(){if(s==null){t>0&&d("WALogger").ERROR(l||(l=babelHelpers.taggedTemplateLiteralLoose(["WinRTBridge: bridge is being initialized "," times for WINDOWS_BUILD ",""])),t,d("WAWebBuildConstants").WINDOWS_BUILD).sendLogs("windows bridge multiple init");t++;try{s=q()}catch(a){d("WALogger").ERROR(m||(m=babelHelpers.taggedTemplateLiteralLoose(["WinRTBridge: failed to initialize: ",""])),a).devConsole(a).sendLogs("windows bridge init error")}}return s}g.getIsBridgeReady_v2581=o;g.getWebView_v2581=p;g.getWindowsBridge_v2581=a}),98);
__d("WAWebWindowsMessagePassingBridgeArgsList.v2581",[],(function(a,b,c,d,e,f){a={CompatibilityGetSupportedNativeIpcs:[],ExecuteSqlite:["queries"],ShowMessageNotification:["key","tag","header","body","thumbnailPath","footer","contextMenu","replyInputPlaceholder","replyButtonContent","suppressBanner","suppressNotificationOnAppClosed"],CloseMessageNotification:["key","tag"],IsNotificationEnabledInSystem:[],OpenSystemNotificationsSettings:[],UpdateTaskbarBadge:["count","ignoreIfAppInSystemTray"],UpdateLocalSetting:["key","value","revision"],GetStartupTaskState:[],UpdateStartupTask:["enabled"]};f["default"]=a}),66);
__d("WAWebWindowsMessagePassingBridgeCompatibilityAdapter.v2581",["WALogger","WAResolvable","WAWebWindowsMessagePassingBridgeArgsList.v2581","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=null,l=null;function m(a){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(l!=null)return l.promise;l=new(d("WAResolvable").Resolvable)();try{d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["initCompatibilityAdapter: requesting list of IPCs from Native"])));a=(yield a.call("CompatibilityGetSupportedNativeIpcs"));k=JSON.parse(a);d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["initCompatibilityAdapter: received list of IPCs from Native"])));(a=l)==null||a.resolve()}catch(b){d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["initCompatibilityAdapter: failed with error ",""])),b).sendLogs("initCompatibilityAdapter: failed with error");(a=l)==null||a.reject(b)}l=null});return n.apply(this,arguments)}function a(a,b,c){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,d){if(k==null){if(b==="CompatibilityGetSupportedNativeIpcs")return[];yield m(a);if(k==null)throw c("err")("IPC_TO_NUM_ARGS should not be null after init")}a=k[b];b=c("WAWebWindowsMessagePassingBridgeArgsList.v2581")[b].slice(0,a);return b.map(function(a){return d[a]})});return o.apply(this,arguments)}g.initCompatibilityAdapter_v2581=m;g.selectArgsForIpc_v2581=a}),98);
__d("WAWebWindowsMessagePassingBridgeEventEmitter.v2581",["invariant","WAWebTypedEventEmitter"],(function(a,b,c,d,e,f,g,h){"use strict";a=function(a){function b(){return a.apply(this,arguments)||this}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.handleNativeEvent=function(a){a=a.split(",");var b=a.shift();switch(b){case"MessageNotificationAction":a.length>=3||h(0,89560);this.trigger("MessageNotificationAction",{key:a[0],action:a[1],additionalData:decodeURIComponent(a[2])});break;case"RequestOpenChat":a.length>=1||h(0,90387);this.trigger("RequestOpenChat",{chatJid:a[0]});break;case"OnIsAppInSystemTrayChanged":this.trigger("OnIsAppInSystemTrayChanged",{isAppInSystemTray:a[0]==="True"});break;case"RequestAllWebClientPreferences":this.trigger("RequestAllWebClientPreferences",{});break}};return b}(c("WAWebTypedEventEmitter"));g.WAWebWindowsMessagePassingBridgeEventEmitter_v2581=a}),98);
__d("WAWebWindowsMessagePassingBridge.v2581",["invariant","WALogger","WAParsableWapNode","WAResolvable","WAWap","WAWebSerializeVoipWapNode","WAWebWid","WAWebWindowsHybridBridgeFactory.v2581","WAWebWindowsMessagePassingBridgeCompatibilityAdapter.v2581","WAWebWindowsMessagePassingBridgeEventEmitter.v2581","asyncToGeneratorRuntime","err","nullthrows"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m,n,o,p,q,r=new Map([["CompatibilityGetSupportedNativeIpcs","CompatibilityGetSupportedNativeIpcs"],["ExecuteSqlite","RequestExecuteSqlite"],["ShowMessageNotification","ShowMessageNotification"],["CloseMessageNotification","CloseMessageNotification"],["IsNotificationEnabledInSystem","IsNotificationEnabledInSystem"],["OpenSystemNotificationsSettings","OpenSystemNotificationsSettings"],["UpdateTaskbarBadge","UpdateTaskbarBadge"],["UpdateLocalSetting","UpdateLocalSetting"],["GetStartupTaskState","GetStartupTaskState"],["UpdateStartupTask","UpdateStartupTask"]]);a=function(){function a(){var a=this;this.latestTransactionId=0;this.pendingCallIpcs=new Map();this.nativeEventEmitter=new(d("WAWebWindowsMessagePassingBridgeEventEmitter.v2581").WAWebWindowsMessagePassingBridgeEventEmitter_v2581)();var b=d("WAWebWindowsHybridBridgeFactory.v2581").getWebView_v2581("invokeWAWebWindowsWebViewNativeBridge: postMessage not available (not in the Windows WebView?)");b==null||b.addEventListener==null||b.addEventListener("message",function(b){typeof b.data==="string"&&a.handleNativeIpcResponseEvent(b.data)});b==null||b.addEventListener==null||b.addEventListener("message",function(b){typeof b.data==="string"&&a.nativeEventEmitter.handleNativeEvent(b.data)});void d("WAWebWindowsMessagePassingBridgeCompatibilityAdapter.v2581").initCompatibilityAdapter_v2581(this)}var e=a.prototype;e.call=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b===void 0&&(b={});d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Starting IPC call for method: ",""])),a);d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Arguments: ",""])),JSON.stringify(b));b=(yield d("WAWebWindowsMessagePassingBridgeCompatibilityAdapter.v2581").selectArgsForIpc_v2581(this,a,b));b=b.map(s).join(",");d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Processed arg string: ",""])),b);if(!r.has(a)){d("WALogger").ERROR(l||(l=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Invalid callable method: ",""])),a);throw c("err")("invokeWAWebWindowsWebViewNativeBridge: invalid callable method: "+a)}var e=c("nullthrows")(r.get(a));d("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Mapped IPC method name: ",""])),e);var f=new(d("WAResolvable").Resolvable)();this.pendingCallIpcs.set(++this.latestTransactionId,f);d("WALogger").LOG(n||(n=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Created transaction ID: ",""])),this.latestTransactionId);b=b.split(",");b.push(this.latestTransactionId.toString());var g=d("WAWebWindowsHybridBridgeFactory.v2581").getWebView_v2581("invokeWAWebWindowsWebViewNativeBridge: postMessage not available (not in the Windows WebView?)");e=e+","+b.join(",");d("WALogger").LOG(o||(o=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Sending message to native: ",""])),e);g==null||g.postMessage==null||g.postMessage(e);try{b=(yield f.promise);d("WALogger").LOG(p||(p=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Received successful response for "," (txId: ","): ",""])),a,this.latestTransactionId,b);return b}catch(b){d("WALogger").ERROR(q||(q=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: IPC call failed for "," (txId: ","): ",""])),a,this.latestTransactionId,b).devConsole(b);throw b}});function e(b,c){return a.apply(this,arguments)}return e}();e.handleNativeIpcResponseEvent=function(a){a=a.split(",");var b=parseInt(a.shift(),10),c=a.shift();if(Number.isNaN(b)||c!=="NativeResponseToJS")return;this.handleNativeResponseEvent(b,a)};e.handleNativeResponseEvent=function(a,b){var c=b.shift();c!=null||h(0,88527);c=c==="0";this.pendingCallIpcs.has(a)||h(0,88528,a);var d=this.pendingCallIpcs.get(a);this.pendingCallIpcs["delete"](a);a=b.join(",");c?d==null?void 0:d.resolve(a):d==null?void 0:d.reject(a)};return a}();function s(a){if(typeof a==="string")return encodeURIComponent(a);else if(typeof a==="boolean")return a?"true":"false";else if(typeof a==="number")return a.toString(10);else if(a instanceof d("WAWap").WapNode||a instanceof d("WAParsableWapNode").ParsableWapNode){var b=d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a);return encodeURIComponent(b)}else if(a instanceof c("WAWebWid"))return a.toString({legacy:!0});else if(Array.isArray(a))return"["+a.map(s).join("|")+"]";else if(a==null)return"";throw c("err")("Windows WebView2 bridge: invokeNative: Unsupported argument type.",a)}g.WAWebWindowsMessagePassingBridge_v2581=a}),98);
__d("WAWebWindowsHybridBridgeUtils.v2582",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(a==null||a.length!==6||!/^\d{6}$/.test(a))return a;var b=a.slice(0,4),c=a.slice(-2);b=parseInt(b,10);c=parseInt(c,10);if(b<2574||b>=2577)return a;a=b-2574;b=a*10+Math.floor(c/10);a=2574+b;b=c%10;return""+a+String(b).padStart(2,"0")}f.getBetaHybridVersionForBridgeCut_v2582=a}),66);
__d("WAWebWindowsHybridBridgeFactory.v2582",["WALogger","WAWebBuildConstants","WAWebEnvironment","WAWebWindowsHybridBridge.v2558","WAWebWindowsHybridBridge.v2559","WAWebWindowsHybridBridge.v2560","WAWebWindowsHybridBridge.v2562","WAWebWindowsHybridBridge.v2563","WAWebWindowsHybridBridge.v2564","WAWebWindowsHybridBridge.v2566","WAWebWindowsHybridBridge.v2567","WAWebWindowsHybridBridge.v2569","WAWebWindowsHybridBridge.v2570","WAWebWindowsHybridBridge.v2571","WAWebWindowsHybridBridge.v2572","WAWebWindowsHybridBridge.v2573","WAWebWindowsHybridBridge.v2574","WAWebWindowsHybridBridge.v2575","WAWebWindowsHybridBridge.v2576","WAWebWindowsHybridBridge.v2577","WAWebWindowsHybridBridge.v2579","WAWebWindowsHybridBridge.v2580","WAWebWindowsHybridBridge.v2581","WAWebWindowsHybridBridge.v2582","WAWebWindowsHybridBridgeCommon","WAWebWindowsHybridBridgeUtils.v2582","WAWebWindowsHybridFlowHelpers","err","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m;e=new URLSearchParams((b=self.location.search)!=null?b:"");var n=e.get("bridgeError")==="1";function o(a){var b;if(!c("WAWebEnvironment").isWindows)return!1;if(((b=window.chrome)==null?void 0:b.webview)==null){if(c("gkx")("26258")||n)throw c("err")(a);d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[windows] bridge was not initialized: ",""])),a);return!1}return!0}function p(a){a===void 0&&(a="getWebView: no bridge available");return!o(a)?null:(a=window.chrome)==null?void 0:a.webview}function q(){try{var a=p();if(a!=null){var b=d("WAWebBuildConstants").WINDOWS_BUILD;b!=null&&(b=d("WAWebWindowsHybridBridgeUtils.v2582").getBetaHybridVersionForBridgeCut_v2582(b));b=r(b,a);d("WAWebWindowsHybridBridgeCommon").WAWebWindowsSetBridge(b);return b}}catch(a){d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["WinRTBridge: failed to initialize: ",""])),a)}return null}function r(a,b){try{if(a!=null&&a.startsWith("2559"))return new(d("WAWebWindowsHybridBridge.v2559").WindowsHybridBridge_v2559)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2558"))return new(d("WAWebWindowsHybridBridge.v2558").WindowsHybridBridge_v2558)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2560"))return new(d("WAWebWindowsHybridBridge.v2560").WindowsHybridBridge_v2560)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2562"))return new(d("WAWebWindowsHybridBridge.v2562").WindowsHybridBridge_v2562)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2563"))return new(d("WAWebWindowsHybridBridge.v2563").WindowsHybridBridge_v2563)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2564"))return new(d("WAWebWindowsHybridBridge.v2564").WindowsHybridBridge_v2564)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2566"))return new(d("WAWebWindowsHybridBridge.v2566").WindowsHybridBridge_v2566)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2567"))return new(d("WAWebWindowsHybridBridge.v2567").WindowsHybridBridge_v2567)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2569"))return new(d("WAWebWindowsHybridBridge.v2569").WindowsHybridBridge_v2569)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2570"))return new(d("WAWebWindowsHybridBridge.v2570").WindowsHybridBridge_v2570)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2571"))return new(d("WAWebWindowsHybridBridge.v2571").WindowsHybridBridge_v2571)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2572"))return new(d("WAWebWindowsHybridBridge.v2572").WindowsHybridBridge_v2572)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2573"))return new(d("WAWebWindowsHybridBridge.v2573").WindowsHybridBridge_v2573)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2574"))return new(d("WAWebWindowsHybridBridge.v2574").WindowsHybridBridge_v2574)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2575"))return new(d("WAWebWindowsHybridBridge.v2575").WindowsHybridBridge_v2575)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2576"))return new(d("WAWebWindowsHybridBridge.v2576").WindowsHybridBridge_v2576)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2577"))return new(d("WAWebWindowsHybridBridge.v2577").WindowsHybridBridge_v2577)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2579"))return new(d("WAWebWindowsHybridBridge.v2579").WindowsHybridBridge_v2579)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2580"))return new(d("WAWebWindowsHybridBridge.v2580").WindowsHybridBridge_v2580)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2581"))return new(d("WAWebWindowsHybridBridge.v2581").WindowsHybridBridge_v2581)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["windows hybrid bridge: unsupported build version ",""])),a).sendLogs("windows hybrid bridge version missing");return new(d("WAWebWindowsHybridBridge.v2582").WindowsHybridBridge_v2582)(b)}catch(a){d("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["WinRTBridge: failed to initialize bridge instance: ",""])),a)}}var s=null,t=0;function a(){if(s==null){t>0&&d("WALogger").ERROR(l||(l=babelHelpers.taggedTemplateLiteralLoose(["WinRTBridge: bridge is being initialized "," times for WINDOWS_BUILD ",""])),t,d("WAWebBuildConstants").WINDOWS_BUILD).sendLogs("windows bridge multiple init");t++;try{s=q()}catch(a){d("WALogger").ERROR(m||(m=babelHelpers.taggedTemplateLiteralLoose(["WinRTBridge: failed to initialize: ",""])),a).devConsole(a).sendLogs("windows bridge init error")}}return s}g.getIsBridgeReady_v2582=o;g.getWebView_v2582=p;g.getWindowsBridge_v2582=a}),98);
__d("WAWebWindowsMessagePassingBridgeArgsList.v2582",[],(function(a,b,c,d,e,f){a={CompatibilityGetSupportedNativeIpcs:[],ExecuteSqlite:["queries"],ShowMessageNotification:["key","tag","header","body","thumbnailPath","footer","contextMenu","replyInputPlaceholder","replyButtonContent","suppressBanner","suppressNotificationOnAppClosed"],CloseMessageNotification:["key","tag"],IsNotificationEnabledInSystem:[],OpenSystemNotificationsSettings:[],UpdateTaskbarBadge:["count","ignoreIfAppInSystemTray"],UpdateLocalSetting:["key","value","revision"],GetStartupTaskState:[],UpdateStartupTask:["enabled"]};f["default"]=a}),66);
__d("WAWebWindowsMessagePassingBridgeCompatibilityAdapter.v2582",["WALogger","WAResolvable","WAWebWindowsMessagePassingBridgeArgsList.v2582","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=null,l=null;function m(a){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(l!=null)return l.promise;l=new(d("WAResolvable").Resolvable)();try{d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["initCompatibilityAdapter: requesting list of IPCs from Native"])));a=(yield a.call("CompatibilityGetSupportedNativeIpcs"));k=JSON.parse(a);d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["initCompatibilityAdapter: received list of IPCs from Native"])));(a=l)==null||a.resolve()}catch(b){d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["initCompatibilityAdapter: failed with error ",""])),b).sendLogs("initCompatibilityAdapter: failed with error");(a=l)==null||a.reject(b)}l=null});return n.apply(this,arguments)}function a(a,b,c){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,d){if(k==null){if(b==="CompatibilityGetSupportedNativeIpcs")return[];yield m(a);if(k==null)throw c("err")("IPC_TO_NUM_ARGS should not be null after init")}a=k[b];b=c("WAWebWindowsMessagePassingBridgeArgsList.v2582")[b].slice(0,a);return b.map(function(a){return d[a]})});return o.apply(this,arguments)}g.initCompatibilityAdapter_v2582=m;g.selectArgsForIpc_v2582=a}),98);
__d("WAWebWindowsMessagePassingBridgeEventEmitter.v2582",["invariant","WAWebTypedEventEmitter"],(function(a,b,c,d,e,f,g,h){"use strict";a=function(a){function b(){return a.apply(this,arguments)||this}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.handleNativeEvent=function(a){a=a.split(",");var b=a.shift();switch(b){case"MessageNotificationAction":a.length>=3||h(0,89560);this.trigger("MessageNotificationAction",{key:a[0],action:a[1],additionalData:decodeURIComponent(a[2])});break;case"RequestOpenChat":a.length>=1||h(0,90387);this.trigger("RequestOpenChat",{chatJid:a[0]});break;case"OnIsAppInSystemTrayChanged":this.trigger("OnIsAppInSystemTrayChanged",{isAppInSystemTray:a[0]==="True"});break;case"RequestAllWebClientPreferences":this.trigger("RequestAllWebClientPreferences",{});break}};return b}(c("WAWebTypedEventEmitter"));g.WAWebWindowsMessagePassingBridgeEventEmitter_v2582=a}),98);
__d("WAWebWindowsMessagePassingBridge.v2582",["invariant","WALogger","WAParsableWapNode","WAResolvable","WAWap","WAWebSerializeVoipWapNode","WAWebWid","WAWebWindowsHybridBridgeFactory.v2582","WAWebWindowsMessagePassingBridgeCompatibilityAdapter.v2582","WAWebWindowsMessagePassingBridgeEventEmitter.v2582","asyncToGeneratorRuntime","err","nullthrows"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m,n,o,p,q,r=new Map([["CompatibilityGetSupportedNativeIpcs","CompatibilityGetSupportedNativeIpcs"],["ExecuteSqlite","RequestExecuteSqlite"],["ShowMessageNotification","ShowMessageNotification"],["CloseMessageNotification","CloseMessageNotification"],["IsNotificationEnabledInSystem","IsNotificationEnabledInSystem"],["OpenSystemNotificationsSettings","OpenSystemNotificationsSettings"],["UpdateTaskbarBadge","UpdateTaskbarBadge"],["UpdateLocalSetting","UpdateLocalSetting"],["GetStartupTaskState","GetStartupTaskState"],["UpdateStartupTask","UpdateStartupTask"]]);a=function(){function a(){var a=this;this.latestTransactionId=0;this.pendingCallIpcs=new Map();this.nativeEventEmitter=new(d("WAWebWindowsMessagePassingBridgeEventEmitter.v2582").WAWebWindowsMessagePassingBridgeEventEmitter_v2582)();var b=d("WAWebWindowsHybridBridgeFactory.v2582").getWebView_v2582("invokeWAWebWindowsWebViewNativeBridge: postMessage not available (not in the Windows WebView?)");b==null||b.addEventListener==null||b.addEventListener("message",function(b){typeof b.data==="string"&&a.handleNativeIpcResponseEvent(b.data)});b==null||b.addEventListener==null||b.addEventListener("message",function(b){typeof b.data==="string"&&a.nativeEventEmitter.handleNativeEvent(b.data)});void d("WAWebWindowsMessagePassingBridgeCompatibilityAdapter.v2582").initCompatibilityAdapter_v2582(this)}var e=a.prototype;e.call=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b===void 0&&(b={});d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Starting IPC call for method: ",""])),a);d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Arguments: ",""])),JSON.stringify(b));b=(yield d("WAWebWindowsMessagePassingBridgeCompatibilityAdapter.v2582").selectArgsForIpc_v2582(this,a,b));b=b.map(s).join(",");d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Processed arg string: ",""])),b);if(!r.has(a)){d("WALogger").ERROR(l||(l=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Invalid callable method: ",""])),a);throw c("err")("invokeWAWebWindowsWebViewNativeBridge: invalid callable method: "+a)}var e=c("nullthrows")(r.get(a));d("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Mapped IPC method name: ",""])),e);var f=new(d("WAResolvable").Resolvable)();this.pendingCallIpcs.set(++this.latestTransactionId,f);d("WALogger").LOG(n||(n=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Created transaction ID: ",""])),this.latestTransactionId);b=b.split(",");b.push(this.latestTransactionId.toString());var g=d("WAWebWindowsHybridBridgeFactory.v2582").getWebView_v2582("invokeWAWebWindowsWebViewNativeBridge: postMessage not available (not in the Windows WebView?)");e=e+","+b.join(",");d("WALogger").LOG(o||(o=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Sending message to native: ",""])),e);try{yield g==null||g.postMessage==null?void 0:g.postMessage(e);b=(yield f.promise);d("WALogger").LOG(p||(p=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Received successful response for "," (txId: ","): ",""])),a,this.latestTransactionId,b);return b}catch(b){d("WALogger").ERROR(q||(q=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: IPC call failed for "," (txId: ","): ",""])),a,this.latestTransactionId,b).devConsole(b);throw b}});function e(b,c){return a.apply(this,arguments)}return e}();e.handleNativeIpcResponseEvent=function(a){a=a.split(",");var b=parseInt(a.shift(),10),c=a.shift();if(Number.isNaN(b)||c!=="NativeResponseToJS")return;this.handleNativeResponseEvent(b,a)};e.handleNativeResponseEvent=function(a,b){var c=b.shift();c!=null||h(0,88527);c=c==="0";this.pendingCallIpcs.has(a)||h(0,88528,a);var d=this.pendingCallIpcs.get(a);this.pendingCallIpcs["delete"](a);a=b.join(",");c?d==null?void 0:d.resolve(a):d==null?void 0:d.reject(a)};return a}();function s(a){if(typeof a==="string")return encodeURIComponent(a);else if(typeof a==="boolean")return a?"true":"false";else if(typeof a==="number")return a.toString(10);else if(a instanceof d("WAWap").WapNode||a instanceof d("WAParsableWapNode").ParsableWapNode){var b=d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a);return encodeURIComponent(b)}else if(a instanceof c("WAWebWid"))return a.toString({legacy:!0});else if(Array.isArray(a))return"["+a.map(s).join("|")+"]";else if(a==null)return"";throw c("err")("Windows WebView2 bridge: invokeNative: Unsupported argument type.",a)}g.WAWebWindowsMessagePassingBridge_v2582=a}),98);
__d("WAWebWindowsHybridBridgeUtils.v2583",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(a==null||a.length!==6||!/^\d{6}$/.test(a))return a;var b=a.slice(0,4),c=a.slice(-2);b=parseInt(b,10);c=parseInt(c,10);if(b<2574||b>=2577)return a;a=b-2574;b=a*10+Math.floor(c/10);a=2574+b;b=c%10;return""+a+String(b).padStart(2,"0")}f.getBetaHybridVersionForBridgeCut_v2583=a}),66);
__d("WAWebWindowsHybridBridgeFactory.v2583",["WALogger","WAWebBuildConstants","WAWebEnvironment","WAWebWindowsHybridBridge.v2558","WAWebWindowsHybridBridge.v2559","WAWebWindowsHybridBridge.v2560","WAWebWindowsHybridBridge.v2562","WAWebWindowsHybridBridge.v2563","WAWebWindowsHybridBridge.v2564","WAWebWindowsHybridBridge.v2566","WAWebWindowsHybridBridge.v2567","WAWebWindowsHybridBridge.v2569","WAWebWindowsHybridBridge.v2570","WAWebWindowsHybridBridge.v2571","WAWebWindowsHybridBridge.v2572","WAWebWindowsHybridBridge.v2573","WAWebWindowsHybridBridge.v2574","WAWebWindowsHybridBridge.v2575","WAWebWindowsHybridBridge.v2576","WAWebWindowsHybridBridge.v2577","WAWebWindowsHybridBridge.v2579","WAWebWindowsHybridBridge.v2580","WAWebWindowsHybridBridge.v2581","WAWebWindowsHybridBridge.v2582","WAWebWindowsHybridBridge.v2583","WAWebWindowsHybridBridgeCommon","WAWebWindowsHybridBridgeUtils.v2583","WAWebWindowsHybridFlowHelpers","err","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m;e=new URLSearchParams((b=self.location.search)!=null?b:"");var n=e.get("bridgeError")==="1";function o(a){var b;if(!c("WAWebEnvironment").isWindows)return!1;if(((b=window.chrome)==null?void 0:b.webview)==null){if(c("gkx")("26258")||n)throw c("err")(a);d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[windows] bridge was not initialized: ",""])),a);return!1}return!0}function p(a){a===void 0&&(a="getWebView: no bridge available");return!o(a)?null:(a=window.chrome)==null?void 0:a.webview}function q(){try{var a=p();if(a!=null){var b=d("WAWebBuildConstants").WINDOWS_BUILD;b!=null&&(b=d("WAWebWindowsHybridBridgeUtils.v2583").getBetaHybridVersionForBridgeCut_v2583(b));b=r(b,a);d("WAWebWindowsHybridBridgeCommon").WAWebWindowsSetBridge(b);return b}}catch(a){d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["WinRTBridge: failed to initialize: ",""])),a)}return null}function r(a,b){try{if(a!=null&&a.startsWith("2559"))return new(d("WAWebWindowsHybridBridge.v2559").WindowsHybridBridge_v2559)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2558"))return new(d("WAWebWindowsHybridBridge.v2558").WindowsHybridBridge_v2558)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2560"))return new(d("WAWebWindowsHybridBridge.v2560").WindowsHybridBridge_v2560)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2562"))return new(d("WAWebWindowsHybridBridge.v2562").WindowsHybridBridge_v2562)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2563"))return new(d("WAWebWindowsHybridBridge.v2563").WindowsHybridBridge_v2563)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2564"))return new(d("WAWebWindowsHybridBridge.v2564").WindowsHybridBridge_v2564)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2566"))return new(d("WAWebWindowsHybridBridge.v2566").WindowsHybridBridge_v2566)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2567"))return new(d("WAWebWindowsHybridBridge.v2567").WindowsHybridBridge_v2567)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2569"))return new(d("WAWebWindowsHybridBridge.v2569").WindowsHybridBridge_v2569)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2570"))return new(d("WAWebWindowsHybridBridge.v2570").WindowsHybridBridge_v2570)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2571"))return new(d("WAWebWindowsHybridBridge.v2571").WindowsHybridBridge_v2571)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2572"))return new(d("WAWebWindowsHybridBridge.v2572").WindowsHybridBridge_v2572)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2573"))return new(d("WAWebWindowsHybridBridge.v2573").WindowsHybridBridge_v2573)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2574"))return new(d("WAWebWindowsHybridBridge.v2574").WindowsHybridBridge_v2574)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2575"))return new(d("WAWebWindowsHybridBridge.v2575").WindowsHybridBridge_v2575)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2576"))return new(d("WAWebWindowsHybridBridge.v2576").WindowsHybridBridge_v2576)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2577"))return new(d("WAWebWindowsHybridBridge.v2577").WindowsHybridBridge_v2577)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2579"))return new(d("WAWebWindowsHybridBridge.v2579").WindowsHybridBridge_v2579)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2580"))return new(d("WAWebWindowsHybridBridge.v2580").WindowsHybridBridge_v2580)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2581"))return new(d("WAWebWindowsHybridBridge.v2581").WindowsHybridBridge_v2581)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2582"))return new(d("WAWebWindowsHybridBridge.v2582").WindowsHybridBridge_v2582)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["windows hybrid bridge: unsupported build version ",""])),a).sendLogs("windows hybrid bridge version missing");return new(d("WAWebWindowsHybridBridge.v2583").WindowsHybridBridge_v2583)(b)}catch(a){d("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["WinRTBridge: failed to initialize bridge instance: ",""])),a)}}var s=null,t=0;function a(){if(s==null){t>0&&d("WALogger").ERROR(l||(l=babelHelpers.taggedTemplateLiteralLoose(["WinRTBridge: bridge is being initialized "," times for WINDOWS_BUILD ",""])),t,d("WAWebBuildConstants").WINDOWS_BUILD).sendLogs("windows bridge multiple init");t++;try{s=q()}catch(a){d("WALogger").ERROR(m||(m=babelHelpers.taggedTemplateLiteralLoose(["WinRTBridge: failed to initialize: ",""])),a).devConsole(a).sendLogs("windows bridge init error")}}return s}g.getIsBridgeReady_v2583=o;g.getWebView_v2583=p;g.getWindowsBridge_v2583=a}),98);
__d("WAWebWindowsMessagePassingBridgeArgsList.v2583",[],(function(a,b,c,d,e,f){a={CompatibilityGetSupportedNativeIpcs:[],ExecuteSqlite:["queries"],ShowMessageNotification:["key","tag","header","body","thumbnailPath","footer","contextMenu","replyInputPlaceholder","replyButtonContent","suppressBanner","suppressNotificationOnAppClosed"],CloseMessageNotification:["key","tag"],IsNotificationEnabledInSystem:[],OpenSystemNotificationsSettings:[],UpdateTaskbarBadge:["count","ignoreIfAppInSystemTray"],UpdateLocalSetting:["key","value","revision"],GetStartupTaskState:[],UpdateStartupTask:["enabled"]};f["default"]=a}),66);
__d("WAWebWindowsMessagePassingBridgeCompatibilityAdapter.v2583",["WALogger","WAResolvable","WAWebWindowsMessagePassingBridgeArgsList.v2583","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=null,l=null;function m(a){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(l!=null)return l.promise;l=new(d("WAResolvable").Resolvable)();try{d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["initCompatibilityAdapter: requesting list of IPCs from Native"])));a=(yield a.call("CompatibilityGetSupportedNativeIpcs"));k=JSON.parse(a);d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["initCompatibilityAdapter: received list of IPCs from Native"])));(a=l)==null||a.resolve()}catch(b){d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["initCompatibilityAdapter: failed with error ",""])),b).sendLogs("initCompatibilityAdapter: failed with error");(a=l)==null||a.reject(b)}l=null});return n.apply(this,arguments)}function a(a,b,c){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,d){if(k==null){if(b==="CompatibilityGetSupportedNativeIpcs")return[];yield m(a);if(k==null)throw c("err")("IPC_TO_NUM_ARGS should not be null after init")}a=k[b];b=c("WAWebWindowsMessagePassingBridgeArgsList.v2583")[b].slice(0,a);return b.map(function(a){return d[a]})});return o.apply(this,arguments)}g.initCompatibilityAdapter_v2583=m;g.selectArgsForIpc_v2583=a}),98);
__d("WAWebWindowsMessagePassingBridgeEventEmitter.v2583",["invariant","WAWebTypedEventEmitter"],(function(a,b,c,d,e,f,g,h){"use strict";a=function(a){function b(){return a.apply(this,arguments)||this}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.handleNativeEvent=function(a){a=a.split(",");var b=a.shift();switch(b){case"MessageNotificationAction":a.length>=3||h(0,89560);this.trigger("MessageNotificationAction",{key:a[0],action:a[1],additionalData:decodeURIComponent(a[2])});break;case"RequestOpenChat":a.length>=1||h(0,90387);this.trigger("RequestOpenChat",{chatJid:a[0]});break;case"OnIsAppInSystemTrayChanged":this.trigger("OnIsAppInSystemTrayChanged",{isAppInSystemTray:a[0]==="True"});break;case"RequestAllWebClientPreferences":this.trigger("RequestAllWebClientPreferences",{});break}};return b}(c("WAWebTypedEventEmitter"));g.WAWebWindowsMessagePassingBridgeEventEmitter_v2583=a}),98);
__d("WAWebWindowsMessagePassingBridge.v2583",["invariant","WALogger","WAParsableWapNode","WAResolvable","WAWap","WAWebSerializeVoipWapNode","WAWebWid","WAWebWindowsHybridBridgeFactory.v2583","WAWebWindowsMessagePassingBridgeCompatibilityAdapter.v2583","WAWebWindowsMessagePassingBridgeEventEmitter.v2583","asyncToGeneratorRuntime","err","nullthrows"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m,n,o,p,q,r=new Map([["CompatibilityGetSupportedNativeIpcs","CompatibilityGetSupportedNativeIpcs"],["ExecuteSqlite","RequestExecuteSqlite"],["ShowMessageNotification","ShowMessageNotification"],["CloseMessageNotification","CloseMessageNotification"],["IsNotificationEnabledInSystem","IsNotificationEnabledInSystem"],["OpenSystemNotificationsSettings","OpenSystemNotificationsSettings"],["UpdateTaskbarBadge","UpdateTaskbarBadge"],["UpdateLocalSetting","UpdateLocalSetting"],["GetStartupTaskState","GetStartupTaskState"],["UpdateStartupTask","UpdateStartupTask"]]);a=function(){function a(){var a=this;this.latestTransactionId=0;this.pendingCallIpcs=new Map();this.nativeEventEmitter=new(d("WAWebWindowsMessagePassingBridgeEventEmitter.v2583").WAWebWindowsMessagePassingBridgeEventEmitter_v2583)();var b=d("WAWebWindowsHybridBridgeFactory.v2583").getWebView_v2583("invokeWAWebWindowsWebViewNativeBridge: postMessage not available (not in the Windows WebView?)");b==null||b.addEventListener==null||b.addEventListener("message",function(b){typeof b.data==="string"&&a.handleNativeIpcResponseEvent(b.data)});b==null||b.addEventListener==null||b.addEventListener("message",function(b){typeof b.data==="string"&&a.nativeEventEmitter.handleNativeEvent(b.data)});void d("WAWebWindowsMessagePassingBridgeCompatibilityAdapter.v2583").initCompatibilityAdapter_v2583(this)}var e=a.prototype;e.call=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b===void 0&&(b={});d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Starting IPC call for method: ",""])),a);d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Arguments: ",""])),JSON.stringify(b));b=(yield d("WAWebWindowsMessagePassingBridgeCompatibilityAdapter.v2583").selectArgsForIpc_v2583(this,a,b));b=b.map(s).join(",");d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Processed arg string: ",""])),b);if(!r.has(a)){d("WALogger").ERROR(l||(l=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Invalid callable method: ",""])),a);throw c("err")("invokeWAWebWindowsWebViewNativeBridge: invalid callable method: "+a)}var e=c("nullthrows")(r.get(a));d("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Mapped IPC method name: ",""])),e);var f=new(d("WAResolvable").Resolvable)();this.pendingCallIpcs.set(++this.latestTransactionId,f);d("WALogger").LOG(n||(n=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Created transaction ID: ",""])),this.latestTransactionId);b=b.split(",");b.push(this.latestTransactionId.toString());var g=d("WAWebWindowsHybridBridgeFactory.v2583").getWebView_v2583("invokeWAWebWindowsWebViewNativeBridge: postMessage not available (not in the Windows WebView?)");e=e+","+b.join(",");d("WALogger").LOG(o||(o=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Sending message to native: ",""])),e);try{yield g==null||g.postMessage==null?void 0:g.postMessage(e);b=(yield f.promise);d("WALogger").LOG(p||(p=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Received successful response for "," (txId: ","): ",""])),a,this.latestTransactionId,b);return b}catch(b){d("WALogger").ERROR(q||(q=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: IPC call failed for "," (txId: ","): ",""])),a,this.latestTransactionId,b).devConsole(b);throw b}});function e(b,c){return a.apply(this,arguments)}return e}();e.handleNativeIpcResponseEvent=function(a){a=a.split(",");var b=parseInt(a.shift(),10),c=a.shift();if(Number.isNaN(b)||c!=="NativeResponseToJS")return;this.handleNativeResponseEvent(b,a)};e.handleNativeResponseEvent=function(a,b){var c=b.shift();c!=null||h(0,88527);c=c==="0";this.pendingCallIpcs.has(a)||h(0,88528,a);var d=this.pendingCallIpcs.get(a);this.pendingCallIpcs["delete"](a);a=b.join(",");c?d==null?void 0:d.resolve(a):d==null?void 0:d.reject(a)};return a}();function s(a){if(typeof a==="string")return encodeURIComponent(a);else if(typeof a==="boolean")return a?"true":"false";else if(typeof a==="number")return a.toString(10);else if(a instanceof d("WAWap").WapNode||a instanceof d("WAParsableWapNode").ParsableWapNode){var b=d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a);return encodeURIComponent(b)}else if(a instanceof c("WAWebWid"))return a.toString({legacy:!0});else if(Array.isArray(a))return"["+a.map(s).join("|")+"]";else if(a==null)return"";throw c("err")("Windows WebView2 bridge: invokeNative: Unsupported argument type.",a)}g.WAWebWindowsMessagePassingBridge_v2583=a}),98);
__d("WAWebWindowsHybridBridgeUtils.v2584",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(a==null||a.length!==6||!/^\d{6}$/.test(a))return a;var b=a.slice(0,4),c=a.slice(-2);b=parseInt(b,10);c=parseInt(c,10);if(b<2574||b>=2577)return a;a=b-2574;b=a*10+Math.floor(c/10);a=2574+b;b=c%10;return""+a+String(b).padStart(2,"0")}f.getBetaHybridVersionForBridgeCut_v2584=a}),66);
__d("WAWebWindowsHybridBridgeFactory.v2584",["WALogger","WAWebBuildConstants","WAWebEnvironment","WAWebWindowsHybridBridge.v2558","WAWebWindowsHybridBridge.v2559","WAWebWindowsHybridBridge.v2560","WAWebWindowsHybridBridge.v2562","WAWebWindowsHybridBridge.v2563","WAWebWindowsHybridBridge.v2564","WAWebWindowsHybridBridge.v2566","WAWebWindowsHybridBridge.v2567","WAWebWindowsHybridBridge.v2569","WAWebWindowsHybridBridge.v2570","WAWebWindowsHybridBridge.v2571","WAWebWindowsHybridBridge.v2572","WAWebWindowsHybridBridge.v2573","WAWebWindowsHybridBridge.v2574","WAWebWindowsHybridBridge.v2575","WAWebWindowsHybridBridge.v2576","WAWebWindowsHybridBridge.v2577","WAWebWindowsHybridBridge.v2579","WAWebWindowsHybridBridge.v2580","WAWebWindowsHybridBridge.v2581","WAWebWindowsHybridBridge.v2582","WAWebWindowsHybridBridge.v2583","WAWebWindowsHybridBridge.v2584","WAWebWindowsHybridBridgeCommon","WAWebWindowsHybridBridgeUtils.v2584","WAWebWindowsHybridFlowHelpers","err","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m;e=new URLSearchParams((b=self.location.search)!=null?b:"");var n=e.get("bridgeError")==="1";function o(a){var b;if(!c("WAWebEnvironment").isWindows)return!1;if(((b=window.chrome)==null?void 0:b.webview)==null){if(c("gkx")("26258")||n)throw c("err")(a);d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[windows] bridge was not initialized: ",""])),a);return!1}return!0}function p(a){a===void 0&&(a="getWebView: no bridge available");return!o(a)?null:(a=window.chrome)==null?void 0:a.webview}function q(){try{var a=p();if(a!=null){var b=d("WAWebBuildConstants").WINDOWS_BUILD;b!=null&&(b=d("WAWebWindowsHybridBridgeUtils.v2584").getBetaHybridVersionForBridgeCut_v2584(b));b=r(b,a);d("WAWebWindowsHybridBridgeCommon").WAWebWindowsSetBridge(b);return b}}catch(a){d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["WinRTBridge: failed to initialize: ",""])),a)}return null}function r(a,b){try{if(a!=null&&a.startsWith("2559"))return new(d("WAWebWindowsHybridBridge.v2559").WindowsHybridBridge_v2559)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2558"))return new(d("WAWebWindowsHybridBridge.v2558").WindowsHybridBridge_v2558)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2560"))return new(d("WAWebWindowsHybridBridge.v2560").WindowsHybridBridge_v2560)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2562"))return new(d("WAWebWindowsHybridBridge.v2562").WindowsHybridBridge_v2562)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2563"))return new(d("WAWebWindowsHybridBridge.v2563").WindowsHybridBridge_v2563)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2564"))return new(d("WAWebWindowsHybridBridge.v2564").WindowsHybridBridge_v2564)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2566"))return new(d("WAWebWindowsHybridBridge.v2566").WindowsHybridBridge_v2566)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2567"))return new(d("WAWebWindowsHybridBridge.v2567").WindowsHybridBridge_v2567)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2569"))return new(d("WAWebWindowsHybridBridge.v2569").WindowsHybridBridge_v2569)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2570"))return new(d("WAWebWindowsHybridBridge.v2570").WindowsHybridBridge_v2570)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2571"))return new(d("WAWebWindowsHybridBridge.v2571").WindowsHybridBridge_v2571)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2572"))return new(d("WAWebWindowsHybridBridge.v2572").WindowsHybridBridge_v2572)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2573"))return new(d("WAWebWindowsHybridBridge.v2573").WindowsHybridBridge_v2573)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2574"))return new(d("WAWebWindowsHybridBridge.v2574").WindowsHybridBridge_v2574)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2575"))return new(d("WAWebWindowsHybridBridge.v2575").WindowsHybridBridge_v2575)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2576"))return new(d("WAWebWindowsHybridBridge.v2576").WindowsHybridBridge_v2576)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2577"))return new(d("WAWebWindowsHybridBridge.v2577").WindowsHybridBridge_v2577)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2579"))return new(d("WAWebWindowsHybridBridge.v2579").WindowsHybridBridge_v2579)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2580"))return new(d("WAWebWindowsHybridBridge.v2580").WindowsHybridBridge_v2580)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2581"))return new(d("WAWebWindowsHybridBridge.v2581").WindowsHybridBridge_v2581)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2582"))return new(d("WAWebWindowsHybridBridge.v2582").WindowsHybridBridge_v2582)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));else if(a!=null&&a.startsWith("2583"))return new(d("WAWebWindowsHybridBridge.v2583").WindowsHybridBridge_v2583)(d("WAWebWindowsHybridFlowHelpers").unsafeCastCustomWebView(b));d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["windows hybrid bridge: unsupported build version ",""])),a).sendLogs("windows hybrid bridge version missing");return new(d("WAWebWindowsHybridBridge.v2584").WindowsHybridBridge_v2584)(b)}catch(a){d("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["WinRTBridge: failed to initialize bridge instance: ",""])),a)}}var s=null,t=0;function a(){if(s==null){t>0&&d("WALogger").ERROR(l||(l=babelHelpers.taggedTemplateLiteralLoose(["WinRTBridge: bridge is being initialized "," times for WINDOWS_BUILD ",""])),t,d("WAWebBuildConstants").WINDOWS_BUILD).sendLogs("windows bridge multiple init");t++;try{s=q()}catch(a){d("WALogger").ERROR(m||(m=babelHelpers.taggedTemplateLiteralLoose(["WinRTBridge: failed to initialize: ",""])),a).devConsole(a).sendLogs("windows bridge init error")}}return s}g.getIsBridgeReady_v2584=o;g.getWebView_v2584=p;g.getWindowsBridge_v2584=a}),98);
__d("WAWebWindowsMessagePassingBridgeArgsList.v2584",[],(function(a,b,c,d,e,f){a={CompatibilityGetSupportedNativeIpcs:[],ExecuteSqlite:["queries"],ShowMessageNotification:["key","tag","header","body","thumbnailPath","footer","contextMenu","replyInputPlaceholder","replyButtonContent","suppressBanner","suppressNotificationOnAppClosed"],CloseMessageNotification:["key","tag"],IsNotificationEnabledInSystem:[],OpenSystemNotificationsSettings:[],UpdateTaskbarBadge:["count","ignoreIfAppInSystemTray"],UpdateLocalSetting:["key","value","revision"],GetStartupTaskState:[],UpdateStartupTask:["enabled"]};f["default"]=a}),66);
__d("WAWebWindowsMessagePassingBridgeCompatibilityAdapter.v2584",["WALogger","WAResolvable","WAWebWindowsMessagePassingBridgeArgsList.v2584","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=null,l=null;function m(a){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(l!=null)return l.promise;l=new(d("WAResolvable").Resolvable)();try{d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["initCompatibilityAdapter: requesting list of IPCs from Native"])));a=(yield a.call("CompatibilityGetSupportedNativeIpcs"));k=JSON.parse(a);d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["initCompatibilityAdapter: received list of IPCs from Native"])));(a=l)==null||a.resolve()}catch(b){d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["initCompatibilityAdapter: failed with error ",""])),b).sendLogs("initCompatibilityAdapter: failed with error");(a=l)==null||a.reject(b)}l=null});return n.apply(this,arguments)}function a(a,b,c){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,d){if(k==null){if(b==="CompatibilityGetSupportedNativeIpcs")return[];yield m(a);if(k==null)throw c("err")("IPC_TO_NUM_ARGS should not be null after init")}a=k[b];b=c("WAWebWindowsMessagePassingBridgeArgsList.v2584")[b].slice(0,a);return b.map(function(a){return d[a]})});return o.apply(this,arguments)}g.initCompatibilityAdapter_v2584=m;g.selectArgsForIpc_v2584=a}),98);
__d("WAWebWindowsMessagePassingBridgeEventEmitter.v2584",["invariant","WAWebTypedEventEmitter"],(function(a,b,c,d,e,f,g,h){"use strict";a=function(a){function b(){return a.apply(this,arguments)||this}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.handleNativeEvent=function(a){a=a.split(",");var b=a.shift();switch(b){case"MessageNotificationAction":a.length>=3||h(0,89560);this.trigger("MessageNotificationAction",{key:a[0],action:a[1],additionalData:decodeURIComponent(a[2])});break;case"RequestOpenChat":a.length>=1||h(0,90387);this.trigger("RequestOpenChat",{chatJid:a[0]});break;case"OnIsAppInSystemTrayChanged":this.trigger("OnIsAppInSystemTrayChanged",{isAppInSystemTray:a[0]==="True"});break;case"RequestAllWebClientPreferences":this.trigger("RequestAllWebClientPreferences",{});break}};return b}(c("WAWebTypedEventEmitter"));g.WAWebWindowsMessagePassingBridgeEventEmitter_v2584=a}),98);
__d("WAWebWindowsMessagePassingBridge.v2584",["invariant","WALogger","WAParsableWapNode","WAResolvable","WAWap","WAWebSerializeVoipWapNode","WAWebWid","WAWebWindowsHybridBridgeFactory.v2584","WAWebWindowsMessagePassingBridgeCompatibilityAdapter.v2584","WAWebWindowsMessagePassingBridgeEventEmitter.v2584","asyncToGeneratorRuntime","err","nullthrows"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m,n,o,p,q,r=new Map([["CompatibilityGetSupportedNativeIpcs","CompatibilityGetSupportedNativeIpcs"],["ExecuteSqlite","RequestExecuteSqlite"],["ShowMessageNotification","ShowMessageNotification"],["CloseMessageNotification","CloseMessageNotification"],["IsNotificationEnabledInSystem","IsNotificationEnabledInSystem"],["OpenSystemNotificationsSettings","OpenSystemNotificationsSettings"],["UpdateTaskbarBadge","UpdateTaskbarBadge"],["UpdateLocalSetting","UpdateLocalSetting"],["GetStartupTaskState","GetStartupTaskState"],["UpdateStartupTask","UpdateStartupTask"]]);a=function(){function a(){var a=this;this.latestTransactionId=0;this.pendingCallIpcs=new Map();this.nativeEventEmitter=new(d("WAWebWindowsMessagePassingBridgeEventEmitter.v2584").WAWebWindowsMessagePassingBridgeEventEmitter_v2584)();var b=d("WAWebWindowsHybridBridgeFactory.v2584").getWebView_v2584("invokeWAWebWindowsWebViewNativeBridge: postMessage not available (not in the Windows WebView?)");b==null||b.addEventListener==null||b.addEventListener("message",function(b){typeof b.data==="string"&&a.handleNativeIpcResponseEvent(b.data)});b==null||b.addEventListener==null||b.addEventListener("message",function(b){typeof b.data==="string"&&a.nativeEventEmitter.handleNativeEvent(b.data)});void d("WAWebWindowsMessagePassingBridgeCompatibilityAdapter.v2584").initCompatibilityAdapter_v2584(this)}var e=a.prototype;e.call=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b===void 0&&(b={});d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Starting IPC call for method: ",""])),a);d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Arguments: ",""])),JSON.stringify(b));b=(yield d("WAWebWindowsMessagePassingBridgeCompatibilityAdapter.v2584").selectArgsForIpc_v2584(this,a,b));b=b.map(s).join(",");d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Processed arg string: ",""])),b);if(!r.has(a)){d("WALogger").ERROR(l||(l=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Invalid callable method: ",""])),a);throw c("err")("invokeWAWebWindowsWebViewNativeBridge: invalid callable method: "+a)}var e=c("nullthrows")(r.get(a));d("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Mapped IPC method name: ",""])),e);var f=new(d("WAResolvable").Resolvable)();this.pendingCallIpcs.set(++this.latestTransactionId,f);d("WALogger").LOG(n||(n=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Created transaction ID: ",""])),this.latestTransactionId);b=b.split(",");b.push(this.latestTransactionId.toString());var g=d("WAWebWindowsHybridBridgeFactory.v2584").getWebView_v2584("invokeWAWebWindowsWebViewNativeBridge: postMessage not available (not in the Windows WebView?)");e=e+","+b.join(",");d("WALogger").LOG(o||(o=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Sending message to native: ",""])),e);try{yield g==null||g.postMessage==null?void 0:g.postMessage(e);b=(yield f.promise);d("WALogger").LOG(p||(p=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: Received successful response for "," (txId: ","): ",""])),a,this.latestTransactionId,b);return b}catch(b){d("WALogger").ERROR(q||(q=babelHelpers.taggedTemplateLiteralLoose(["WAWebWindowsMessagePassingBridge.call: IPC call failed for "," (txId: ","): ",""])),a,this.latestTransactionId,b).devConsole(b);throw b}});function e(b,c){return a.apply(this,arguments)}return e}();e.handleNativeIpcResponseEvent=function(a){a=a.split(",");var b=parseInt(a.shift(),10),c=a.shift();if(Number.isNaN(b)||c!=="NativeResponseToJS")return;this.handleNativeResponseEvent(b,a)};e.handleNativeResponseEvent=function(a,b){var c=b.shift();c!=null||h(0,88527);c=c==="0";this.pendingCallIpcs.has(a)||h(0,88528,a);var d=this.pendingCallIpcs.get(a);this.pendingCallIpcs["delete"](a);a=b.join(",");c?d==null?void 0:d.resolve(a):d==null?void 0:d.reject(a)};return a}();function s(a){if(typeof a==="string")return encodeURIComponent(a);else if(typeof a==="boolean")return a?"true":"false";else if(typeof a==="number")return a.toString(10);else if(a instanceof d("WAWap").WapNode||a instanceof d("WAParsableWapNode").ParsableWapNode){var b=d("WAWebSerializeVoipWapNode").serializeVoipWapNode(a);return encodeURIComponent(b)}else if(a instanceof c("WAWebWid"))return a.toString({legacy:!0});else if(Array.isArray(a))return"["+a.map(s).join("|")+"]";else if(a==null)return"";throw c("err")("Windows WebView2 bridge: invokeNative: Unsupported argument type.",a)}g.WAWebWindowsMessagePassingBridge_v2584=a}),98);
__d("WAWebWindowsMessagePassingBridgeFactory",["WALogger","WAWebBuildConstants","WAWebWindowsHybridBridgeUtils","WAWebWindowsMessagePassingBridge","WAWebWindowsMessagePassingBridge.v2558","WAWebWindowsMessagePassingBridge.v2559","WAWebWindowsMessagePassingBridge.v2560","WAWebWindowsMessagePassingBridge.v2562","WAWebWindowsMessagePassingBridge.v2563","WAWebWindowsMessagePassingBridge.v2564","WAWebWindowsMessagePassingBridge.v2566","WAWebWindowsMessagePassingBridge.v2567","WAWebWindowsMessagePassingBridge.v2569","WAWebWindowsMessagePassingBridge.v2570","WAWebWindowsMessagePassingBridge.v2571","WAWebWindowsMessagePassingBridge.v2572","WAWebWindowsMessagePassingBridge.v2573","WAWebWindowsMessagePassingBridge.v2574","WAWebWindowsMessagePassingBridge.v2575","WAWebWindowsMessagePassingBridge.v2576","WAWebWindowsMessagePassingBridge.v2577","WAWebWindowsMessagePassingBridge.v2579","WAWebWindowsMessagePassingBridge.v2580","WAWebWindowsMessagePassingBridge.v2581","WAWebWindowsMessagePassingBridge.v2582","WAWebWindowsMessagePassingBridge.v2583","WAWebWindowsMessagePassingBridge.v2584"],(function(a,b,c,d,e,f,g){var h;function i(a){if(a!=null&&a.startsWith("2559"))return new(d("WAWebWindowsMessagePassingBridge.v2559").WAWebWindowsMessagePassingBridge_v2559)();else if(a!=null&&a.startsWith("2558"))return new(d("WAWebWindowsMessagePassingBridge.v2558").WAWebWindowsMessagePassingBridge_v2558)();else if(a!=null&&a.startsWith("2560"))return new(d("WAWebWindowsMessagePassingBridge.v2560").WAWebWindowsMessagePassingBridge_v2560)();else if(a!=null&&a.startsWith("2562"))return new(d("WAWebWindowsMessagePassingBridge.v2562").WAWebWindowsMessagePassingBridge_v2562)();else if(a!=null&&a.startsWith("2563"))return new(d("WAWebWindowsMessagePassingBridge.v2563").WAWebWindowsMessagePassingBridge_v2563)();else if(a!=null&&a.startsWith("2564"))return new(d("WAWebWindowsMessagePassingBridge.v2564").WAWebWindowsMessagePassingBridge_v2564)();else if(a!=null&&a.startsWith("2566"))return new(d("WAWebWindowsMessagePassingBridge.v2566").WAWebWindowsMessagePassingBridge_v2566)();else if(a!=null&&a.startsWith("2567"))return new(d("WAWebWindowsMessagePassingBridge.v2567").WAWebWindowsMessagePassingBridge_v2567)();else if(a!=null&&a.startsWith("2569"))return new(d("WAWebWindowsMessagePassingBridge.v2569").WAWebWindowsMessagePassingBridge_v2569)();else if(a!=null&&a.startsWith("2570"))return new(d("WAWebWindowsMessagePassingBridge.v2570").WAWebWindowsMessagePassingBridge_v2570)();else if(a!=null&&a.startsWith("2571"))return new(d("WAWebWindowsMessagePassingBridge.v2571").WAWebWindowsMessagePassingBridge_v2571)();else if(a!=null&&a.startsWith("2572"))return new(d("WAWebWindowsMessagePassingBridge.v2572").WAWebWindowsMessagePassingBridge_v2572)();else if(a!=null&&a.startsWith("2573"))return new(d("WAWebWindowsMessagePassingBridge.v2573").WAWebWindowsMessagePassingBridge_v2573)();else if(a!=null&&a.startsWith("2574"))return new(d("WAWebWindowsMessagePassingBridge.v2574").WAWebWindowsMessagePassingBridge_v2574)();else if(a!=null&&a.startsWith("2575"))return new(d("WAWebWindowsMessagePassingBridge.v2575").WAWebWindowsMessagePassingBridge_v2575)();else if(a!=null&&a.startsWith("2576"))return new(d("WAWebWindowsMessagePassingBridge.v2576").WAWebWindowsMessagePassingBridge_v2576)();else if(d("WAWebBuildConstants").WINDOWS_BUILD!=null&&d("WAWebBuildConstants").WINDOWS_BUILD.startsWith("2577"))return new(d("WAWebWindowsMessagePassingBridge.v2577").WAWebWindowsMessagePassingBridge_v2577)();else if(d("WAWebBuildConstants").WINDOWS_BUILD!=null&&d("WAWebBuildConstants").WINDOWS_BUILD.startsWith("2579"))return new(d("WAWebWindowsMessagePassingBridge.v2579").WAWebWindowsMessagePassingBridge_v2579)();else if(a!=null&&a.startsWith("2580"))return new(d("WAWebWindowsMessagePassingBridge.v2580").WAWebWindowsMessagePassingBridge_v2580)();else if(a!=null&&a.startsWith("2581"))return new(d("WAWebWindowsMessagePassingBridge.v2581").WAWebWindowsMessagePassingBridge_v2581)();else if(a!=null&&a.startsWith("2582"))return new(d("WAWebWindowsMessagePassingBridge.v2582").WAWebWindowsMessagePassingBridge_v2582)();else if(a!=null&&a.startsWith("2583"))return new(d("WAWebWindowsMessagePassingBridge.v2583").WAWebWindowsMessagePassingBridge_v2583)();else if(a!=null&&a.startsWith("2584"))return new(d("WAWebWindowsMessagePassingBridge.v2584").WAWebWindowsMessagePassingBridge_v2584)();d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["windows message passing bridge: unsupported build version ",""])),a).sendLogs("windows message-passing bridge version missing");return new(d("WAWebWindowsMessagePassingBridge").WAWebWindowsMessagePassingBridge)()}var j=null;function a(){if(j==null){var a=d("WAWebBuildConstants").WINDOWS_BUILD;a!=null&&(a=d("WAWebWindowsHybridBridgeUtils").getBetaHybridVersionForBridgeCut(a));j=i(a)}return j}g.getWindowsMessagePassingBridge=a}),98);
__d("WAFtsSQLiteClient",["Promise","WAFtsIsSearchQueryEligibleForMessageSearch","WAFtsMultiLangTokenizer","WALogger","WAWebFtsClientMessageIdResolver","WAWebFtsGenRequestId","WAWebFtsWorkerAdapter","WAWebWindowsHybridBridgeFactory","WAWebWindowsMessagePassingBridgeFactory","asyncToGeneratorRuntime","err","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l;function m(a){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){return a});return n.apply(this,arguments)}a=function(){function a(){this.$1=new(c("WAFtsMultiLangTokenizer"))(),this.$3=new Map()}var e=a.prototype;e.initialize=function(){var a=this;if(!this.$2){var b=function(b){b=b;b.executeSqlite?a.$4(b):a.$5(b)},c=function(b){return a.$6(b)};b=d("WAWebFtsWorkerAdapter").getFtsWorker(b,c);this.$2=b}};e.$6=function(a){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[fts][client] worker error: ",""])),a)};e.$4=function(a){void this.$7(a.executeSqlite)};e.$7=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b,c=d("WAWebWindowsHybridBridgeFactory").getWindowsBridge();if((c==null?void 0:c.sqlite)==null){var e,f;b=(yield d("WAWebWindowsMessagePassingBridgeFactory").getWindowsMessagePassingBridge==null||(e=(f=d("WAWebWindowsMessagePassingBridgeFactory").getWindowsMessagePassingBridge()).call)==null?void 0:e.call(f,"ExecuteSqlite",{queries:a})["catch"](function(a){d("WALogger").WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[fts][client] call to native bridge failed: ",""])),a)}))}else b=(yield m(c.sqlite.executeSqlite(JSON.stringify(a)))["catch"](function(a){d("WALogger").WARN(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[fts][client] call to native bridge failed: ",""])),a)}));return b==null||b===""?[]:JSON.parse(b)});function c(b){return a.apply(this,arguments)}return c}();e.$5=function(a){var b=a.reqId,e=this.$3.get(b);e&&(a.error?(d("WALogger").WARN(k||(k=babelHelpers.taggedTemplateLiteralLoose(["[fts][client] worker completed job "," with error"])),e.command.operation),e.reject(c("err")("FTS worker error"))):e.resolve(a.result),this.$8(b))};e.index=function(){return this.$9({operation:"consume"})};e.startIndexer=function(){return this.$9({operation:"start-indexer"})};e.indexFull=function(a){return this.$9({operation:"run"})};e.clearInitializationPromises=function(){return this.$9({operation:"clear-init"})};e.purge=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(a.length===0)return{eof:!0,status:200,messages:[]};yield this.$7([["DELETE FROM message WHERE id IN ("+a.map(function(a){return"?"}).join(",")+")"].concat(a)]);return{eof:!0,status:200,messages:[]}});function c(b){return a.apply(this,arguments)}return c}();e.purgeRange=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.chatId,c=a.startRowId;a=a.endRowId;yield this.$7([["DELETE FROM message WHERE chatId = ? AND id BETWEEN ? AND ?",b,String(c),String(a)]]);return{eof:!0,status:200,messages:[]}});function c(b){return a.apply(this,arguments)}return c}();e.reInit=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield this.destroyExternalStorage();return this.$9({operation:"re-init"})});function c(){return a.apply(this,arguments)}return c}();e.destroyExternalStorage=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield this.$7([["BEGIN TRANSACTION;"],["DELETE FROM message;"],["INSERT INTO message_fts(message_fts) VALUES('delete-all');"],["END TRANSACTION;"]])});function c(){return a.apply(this,arguments)}return c}();e.initExternalStorage=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield this.$7([["CREATE TABLE IF NOT EXISTS message (\n          rowid INTEGER PRIMARY KEY,\n          id TEXT,\n          chatId TEXT,\n          timestamp TEXT,\n          text TEXT);"],["CREATE INDEX IF NOT EXISTS idx_message_id ON message(id);"],["CREATE INDEX IF NOT EXISTS idx_message_chatId_id ON message(chatId, id);"],["CREATE VIRTUAL TABLE IF NOT EXISTS message_fts USING fts5(text, content='', prefix=2, tokenize='unicode61');"],["CREATE TRIGGER IF NOT EXISTS t1_message AFTER INSERT ON message\n          BEGIN\n          INSERT INTO message_fts(rowid, text) VALUES (new.rowid, new.text);\n          END;"],["CREATE TRIGGER IF NOT EXISTS t1_message_del AFTER DELETE ON message\n        BEGIN\n        INSERT INTO message_fts(message_fts, rowid, text) VALUES('delete', old.rowid, old.text);\n        END;"],["CREATE TRIGGER IF NOT EXISTS t1_message_up AFTER UPDATE ON message\n        BEGIN\n        INSERT INTO message_fts(message_fts, rowid, text) VALUES('delete', old.rowid, old.text);\n        INSERT INTO message_fts(rowid, text) VALUES (new.rowid, new.text);\n        END;"]])});function c(){return a.apply(this,arguments)}return c}();e.search=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,d){a=Array.from(this.$1.tokenize(a)).filter(c("WAFtsIsSearchQueryEligibleForMessageSearch"));if(a.length===0)return(l||(l=b("Promise"))).resolve({canceled:!1,eof:!0,status:200,messages:[]});a=[a.map(function(a){a=a.replaceAll('"','""');return'"'+a+'"*'}).join(" AND ")];var e=["message_fts MATCH ?"];d=d==null?void 0:d.remote;d!=null&&d&&(e.push("AND chatId = ?"),a.push(d));d=(yield this.$7([["SELECT t.rowid, t.id, t.chatId, t.timestamp, t.text, rank\n      FROM message t JOIN message_fts f ON t.rowid = f.rowid\n      WHERE "+e.join(" ")+"\n      ORDER BY rank"].concat(a)]));if(d==null||d.length!==1)return(l||(l=b("Promise"))).resolve({canceled:!1,eof:!0,status:404,messages:[]});a=((e=d[0].Rows)!=null?e:[]).map(function(a){return{id:String(a[1]),chatId:String(a[2]),timestamp:parseInt(a[3],10)}});return this.$10({eof:!0,status:200,messages:a})});function d(b,c){return a.apply(this,arguments)}return d}();e.$10=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(Array.isArray(a)||typeof a==="boolean")return{canceled:!1,eof:!0,status:404,messages:[]};var b=(yield d("WAWebFtsClientMessageIdResolver").resolveMsgIds(a.messages)),c=b.resolved;b=b.unresolved;var e=a.eof;a=a.status;b.length>0&&this.purge(b);return{canceled:!1,eof:e,status:a,messages:c}});function c(b){return a.apply(this,arguments)}return c}();e.$9=function(a){var d=this;this.initialize();var e=c("WAWebFtsGenRequestId")();return new(l||(l=b("Promise")))(function(b,c){var f={command:a,reqId:e};d.$3.set(e,{resolve:b,reject:c,command:a});d.$11(f)})["finally"](function(){d.$8(e)})};e.$8=function(a){this.$3["delete"](a)};e.$11=function(a){c("nullthrows")(this.$2).postMessage(a)};return a}();g.FtsSQLiteClient=a}),98);
__d("WAWebCallLogParticipantsList.react",["fbt","WAWebChatRefreshedIcon.react","WAWebContactCollection","WAWebDetailImage.react","WAWebDropdown.react","WAWebDropdownItem.react","WAWebDropdownItemSeparator.react","WAWebFlex.react","WAWebFrontendContactGetters","WAWebMoreRefreshedIcon.react","WAWebMsgGetters","WAWebName.react","WAWebNoop","WAWebPhoneIcon.react","WAWebText.react","WAWebUISpacing","WAWebUserPrefsMeUser","WAWebVideoCallRefreshedIcon.react","WAWebVoipActionRequestOpenChat","WAWebVoipStartCall","WAWebVoipWaCallEnums","WAWebWamEnumCallFromUi","WAWebWamEnumLobbyEntryPointType","WDSMenuBarItem.react","react","useWAWebMsgValues"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react"),k={participantItem:{width:"xh8yej3",$$css:!0},avatar:{width:"x100vrsf",height:"x1vqgdyp",flexShrink:"x2lah0s",$$css:!0},participantInfo:{minWidth:"xeuugli",flexGrow:"x1iyjqo2",$$css:!0},participantName:{overflowX:"x6ikm8r",overflowY:"x10wlt62",textOverflow:"xlyipyv",whiteSpace:"xuxw1ft",lineHeight:"x1fc57z9",minHeight:"xisnujt",$$css:!0},callStatus:{fontSize:"x1nxh6w3",lineHeight:"xd4r4e8",minHeight:"xvrgn94",marginTop:"xfl633f",$$css:!0}};function a(a){var b,c=a.callLogMsg;a=d("useWAWebMsgValues").useMsgValues(c.id,[d("WAWebMsgGetters").getCallParticipants]);a=a[0];if(!a||a.length===0)return null;b=(b=a.some(function(a){return a.participant.isLid()}))!=null?b:!1;var e=b?d("WAWebUserPrefsMeUser").getMeLidUserOrThrow():d("WAWebUserPrefsMeUser").getMePnUserOrThrow();b=a.filter(function(a){return!a.participant.equals(e)}).sort(function(a,b){a=a.outcome===d("WAWebVoipWaCallEnums").CallParticipantState.Connected;b=b.outcome===d("WAWebVoipWaCallEnums").CallParticipantState.Connected;if(a&&!b)return-1;return!a&&b?1:0});return b.length===0?null:j.jsxs(d("WAWebFlex.react").FlexColumn,{children:[j.jsx(d("WAWebFlex.react").FlexItem,{xstyle:[d("WAWebUISpacing").uiMargin.bottom8,d("WAWebUISpacing").uiPadding.horiz4],children:j.jsx(d("WAWebText.react").WAWebTextMuted,{children:h._(/*BTDS*/"Participants")})}),b.map(function(a){return j.jsx(l,{participant:a,callLogMsg:c},a.participant.toString())})]})}a.displayName=a.name+" [from "+f.id+"]";function l(a){var b=a.callLogMsg,e=a.participant;a=d("WAWebContactCollection").ContactCollection.gadd(e.participant);var f=function(){var a=!d("WAWebMsgGetters").getIsSentByMe(b),c=d("WAWebMsgGetters").getSender(b);a=a&&c!=null&&e.participant.equals(c);if(a)return h._(/*BTDS*/"Called you");switch(e.outcome){case d("WAWebVoipWaCallEnums").CallParticipantState.Connected:return h._(/*BTDS*/"Joined");default:return null}},g=function(){d("WAWebVoipActionRequestOpenChat").requestOpenChat(e.participant)},i=function(){d("WAWebVoipStartCall").startWAWebVoipCall(e.participant,!0,d("WAWebWamEnumCallFromUi").CALL_FROM_UI.CALLS_TAB_BOTTOM_SHEET,d("WAWebWamEnumLobbyEntryPointType").LOBBY_ENTRY_POINT_TYPE.NOT_OPENED)["catch"](c("WAWebNoop"))},l=function(){d("WAWebVoipStartCall").startWAWebVoipCall(e.participant,!1,d("WAWebWamEnumCallFromUi").CALL_FROM_UI.CALLS_TAB_BOTTOM_SHEET,d("WAWebWamEnumLobbyEntryPointType").LOBBY_ENTRY_POINT_TYPE.NOT_OPENED)["catch"](c("WAWebNoop"))},m=a!=null?d("WAWebFrontendContactGetters").getDisplayName(a):e.participant.toString();m=[j.jsx(d("WAWebText.react").WAWebTextTitle,{weight:"semibold",children:m},"header"),j.jsx(d("WAWebDropdownItemSeparator.react").DropdownItemSeparator,{},"separator"),j.jsx(d("WAWebDropdownItem.react").DropdownItem,{action:g,icon:j.jsx(d("WAWebChatRefreshedIcon.react").ChatRefreshedIcon,{}),children:h._(/*BTDS*/"Message")},"message"),j.jsx(d("WAWebDropdownItem.react").DropdownItem,{action:i,icon:j.jsx(d("WAWebVideoCallRefreshedIcon.react").VideoCallRefreshedIcon,{}),children:h._(/*BTDS*/"Video call")},"video"),j.jsx(d("WAWebDropdownItem.react").DropdownItem,{action:l,icon:j.jsx(d("WAWebPhoneIcon.react").PhoneIcon,{}),children:h._(/*BTDS*/"Voice call")},"voice")];return j.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",xstyle:[k.participantItem,d("WAWebUISpacing").uiPadding.vert8,d("WAWebUISpacing").uiPadding.horiz4],children:[j.jsx(d("WAWebFlex.react").FlexItem,{xstyle:[k.avatar,d("WAWebUISpacing").uiMargin.end12],children:j.jsx(d("WAWebDetailImage.react").DetailImage,{id:e.participant,size:40})}),j.jsxs(d("WAWebFlex.react").FlexColumn,{xstyle:k.participantInfo,children:[j.jsx(d("WAWebFlex.react").FlexItem,{xstyle:k.participantName,children:j.jsx(d("WAWebName.react").Name,{contact:a,showNotifyName:!0,elevatedPushNamesEnabled:!0})}),f()&&j.jsx(d("WAWebFlex.react").FlexItem,{xstyle:k.callStatus,children:j.jsx(d("WAWebText.react").WAWebTextMuted,{children:f()})})]}),j.jsx(c("WDSMenuBarItem.react"),{testid:void 0,icon:d("WAWebMoreRefreshedIcon.react").MoreRefreshedIcon,title:h._(/*BTDS*/"More options"),dropdownMenu:{menu:m,type:d("WAWebDropdown.react").MenuType.Dropdown,flipOnRTL:!0,dirX:d("WAWebDropdown.react").DirX.RIGHT,dirY:d("WAWebDropdown.react").DirY.BOTTOM}})]})}l.displayName=l.name+" [from "+f.id+"]";g.WAWebCallLogParticipantsList=a}),226);
__d("WAWebCallLogEntryDetails.react",["fbt","$InternalEnum","WAWebCallButtonsSurface","WAWebCallLogEntryCell.react","WAWebCallLogEntryChatImage.react","WAWebCallLogMsgData.flow","WAWebCallLogParticipantsList.react","WAWebCallLogTitle.react","WAWebClock","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerHeader.react","WAWebDrawerSection.react","WAWebFlex.react","WAWebFlexBox.react","WAWebFrontendMsgGetters","WAWebMsgGetters","WAWebSvgButton.react","WAWebText.react","WAWebUISpacing","WAWebVoipCallButtonsLoadable","WAWebVoipCallsTabPanelManager","WAWebWamEnumCallFromUi","WAWebWamEnumLobbyEntryPointType","WAWebXIcon.react","WDSMenuBarItem.react","err","react","useWAWebABPropConfigValue","useWAWebMsgValues"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||c("react"),k={closeButton:{display:"x78zum5",alignItems:"x6s0dn4",justifyContent:"xl56j7k",borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",width:"x100vrsf",height:"x1vqgdyp",":hover_backgroundColor":"x1ubxc9n",$$css:!0},drawerWithBorder:{borderInlineStartWidth:"xpilrb4",borderInlineStartStyle:"x1t7ytsu",borderInlineStartColor:"x1vb5itz",$$css:!0},topPanelWrapper:{borderTopWidth:"x178xt8z",borderInlineEndWidth:"x1lun4ml",borderBottomWidth:"xso031l",borderInlineStartWidth:"xpilrb4",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopColor:"xx42vgk",borderInlineEndColor:"xbogo7e",borderBottomColor:"x120ee7l",borderInlineStartColor:"x1vb5itz",borderStartStartRadius:"x1xn7y0n",borderStartEndRadius:"x1uxb8k9",$$css:!0},bottomPanelWrapper:{borderTopWidth:"x178xt8z",borderInlineEndWidth:"x1lun4ml",borderBottomWidth:"xso031l",borderInlineStartWidth:"xpilrb4",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopColor:"xx42vgk",borderInlineEndColor:"xbogo7e",borderBottomColor:"x120ee7l",borderInlineStartColor:"x1vb5itz",borderEndEndRadius:"x1vmbcc8",borderEndStartRadius:"x16xm01d",borderStartStartRadius:"x1bczwif",borderStartEndRadius:"x17un8ov",$$css:!0},headerWrapper:{borderBottomStyle:"x1sy0etr",$$css:!0},panelHeader:{width:"xh8yej3",boxSizing:"x9f619",$$css:!0},image:{minWidth:"xayfy2v",$$css:!0},callBtnsWrapper:{marginInlineStart:"xvc5jky",$$css:!0},callLogRow:{width:"xh8yej3",$$css:!0},participantsListContainer:{width:"xh8yej3",boxSizing:"x9f619",$$css:!0}};function a(a){a=a.callLogMsgs;if(a.length===0)throw c("err")("Call log entry details panel requires at least one call log msg");var b=a[0],e=d("WAWebFrontendMsgGetters").getChat(b),f=d("WAWebMsgGetters").getIsGroupCall(b),g=d("useWAWebABPropConfigValue").useABPropConfigValue("wds_web_button"),i=d("useWAWebMsgValues").useMsgValues(b.id,[d("WAWebMsgGetters").getCallParticipants,d("WAWebMsgGetters").getCallLinkToken,d("WAWebMsgGetters").getIsVideoCall]),m=i[0],n=i[1];i=i[2];var o=[];m!=null&&(o=m.map(function(a){return a.participant}));a=a.reduce(function(b,a){var c=d("WAWebClock").Clock.relativeDateStr(a.t);b.has(c.toString())||b.set(c.toString(),[]);(c=b.get(c.toString()))==null||c.push(a);return b},new Map());var p=function(){c("WAWebVoipCallsTabPanelManager").trigger("closeCallLogInfoPanel")};return j.jsxs(c("WAWebDrawer.react"),{theme:"white-bg",xstyle:k.drawerWithBorder,children:[j.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{type:"tab",children:j.jsxs(d("WAWebFlexBox.react").FlexRow,{align:"center",justify:"all",children:[h._(/*BTDS*/"Call info"),g?j.jsx(c("WDSMenuBarItem.react"),{icon:d("WAWebXIcon.react").XIcon,onClick:p,testid:void 0,title:h._(/*BTDS*/"Close")}):j.jsx(c("WAWebSvgButton.react"),{Icon:d("WAWebXIcon.react").XIcon,onClick:p,testid:void 0,"aria-label":h._(/*BTDS*/"Close"),width:24,height:24,xstyle:k.closeButton})]})}),j.jsx(c("WAWebDrawerBody.react"),{children:j.jsxs(c("WAWebDrawerSection.react"),{theme:"refresh-new",children:[j.jsx(d("WAWebFlex.react").FlexColumn,{xstyle:[k.topPanelWrapper,k.headerWrapper],children:j.jsxs(d("WAWebFlexBox.react").FlexRow,{align:"center",justify:"all",xstyle:[d("WAWebUISpacing").uiPadding.all12,k.panelHeader],children:[j.jsx(d("WAWebFlex.react").FlexItem,{xstyle:[k.image,d("WAWebUISpacing").uiMargin.start4,d("WAWebUISpacing").uiMargin.end8],children:j.jsx(c("WAWebCallLogEntryChatImage.react"),{msg:b})}),j.jsx(d("WAWebFlex.react").FlexItem,{xstyle:d("WAWebUISpacing").uiMargin.horiz4,grow:1,children:j.jsx(c("WAWebCallLogTitle.react"),{callLogMsg:b,isCallInfoHeader:!0})}),j.jsx(d("WAWebFlexBox.react").FlexRow,{xstyle:k.callBtnsWrapper,children:j.jsx(d("WAWebVoipCallButtonsLoadable").WAWebCallButtonsLoadable,{callFromUI:f?d("WAWebWamEnumCallFromUi").CALL_FROM_UI.GROUP_CALL_INFO:d("WAWebWamEnumCallFromUi").CALL_FROM_UI.CALL_INFO,lobbyEntryPoint:d("WAWebWamEnumLobbyEntryPointType").LOBBY_ENTRY_POINT_TYPE.NOT_OPENED,surface:d("WAWebCallButtonsSurface").WAWebCallButtonsSurface.CallLogDetails,chat:e,participants:o,callLinkCode:n!=null?n:"",isCallLinkVideo:i!=null?i:!1})})]})}),j.jsxs(d("WAWebFlex.react").FlexColumn,{xstyle:[k.bottomPanelWrapper,d("WAWebUISpacing").uiPadding.all12,d("WAWebUISpacing").uiPadding.start16],children:[a.entries().map(function(a){var b=a[0];a=a[1];return j.jsx(l,{callLogMsgs:a,date:b},b)}),f&&m&&m.length>1&&j.jsx(d("WAWebFlex.react").FlexItem,{xstyle:[d("WAWebUISpacing").uiMargin.top16,k.participantsListContainer],children:j.jsx(d("WAWebCallLogParticipantsList.react").WAWebCallLogParticipantsList,{callLogMsg:b})})]})]})})]})}a.displayName=a.name+" [from "+f.id+"]";function l(a){var b=a.callLogMsgs;a=a.date;return j.jsxs(d("WAWebFlex.react").FlexColumn,{xstyle:k.panelHeader,children:[j.jsx(d("WAWebFlex.react").FlexItem,{xstyle:d("WAWebUISpacing").uiMargin.vert8,children:j.jsx(d("WAWebText.react").WAWebTextMuted,{children:a})}),b.map(function(a){var b;return j.jsxs(d("WAWebFlexBox.react").FlexRow,{align:"start",justify:"all",xstyle:[d("WAWebUISpacing").uiMargin.vert8,k.callLogRow],children:[j.jsxs(d("WAWebFlexBox.react").FlexRow,{align:"start",children:[j.jsx(d("WAWebCallLogEntryCell.react").CallLogIcon,{iconHeight:20,isMissedCall:d("WAWebMsgGetters").getIsMissedCall(a),isVideoCall:d("WAWebMsgGetters").getIsVideoCall(a),isFromMe:d("WAWebMsgGetters").getIsSentByMe(a),isCallLink:(b=d("WAWebMsgGetters").getIsCallLink(a))!=null?b:!1,xstyle:d("WAWebUISpacing").uiMargin.end8}),"\xa0",j.jsx(n,{msg:a})]}),j.jsx(o,{msg:a})]},a.id.toString())})]})}l.displayName=l.name+" [from "+f.id+"]";var m=b("$InternalEnum").Mirrored(["MISSED","OUTGOING","INCOMING","CALLLINKVIDEO","CALLLINKVOICE"]);function n(a){var b,c;a=a.msg;var e=(c=d("WAWebMsgGetters")).getIsMissedCall(a),f=c.getIsSentByMe(a),g=c.getIsVideoCall(a);c=c.getIsGroupCall(a);b=(b=d("WAWebMsgGetters").getIsCallLink(a))!=null?b:!1;e?e=m.MISSED:b?e=g===!0?m.CALLLINKVIDEO:m.CALLLINKVOICE:e=f?m.OUTGOING:m.INCOMING;b?f="NONE":g?f="VIDEO":f="VOICE";return j.jsx(d("WAWebText.react").WAWebTextMuted,{color:"primary",children:h._(/*BTDS*/"_j{\"MISSED\":{\"0\":{\"VOICE\":{\"*\":\"Missed voice call at {call-log-entry-time}\"},\"VIDEO\":{\"*\":\"Missed video call at {call-log-entry-time}\"},\"NONE\":{\"*\":\"Missed call at {call-log-entry-time}\"}},\"1\":{\"VOICE\":{\"*\":\"Missed group voice call at {call-log-entry-time}\"},\"VIDEO\":{\"*\":\"Missed group video call at {call-log-entry-time}\"},\"NONE\":{\"*\":\"Missed group call at {call-log-entry-time}\"}}},\"OUTGOING\":{\"0\":{\"VOICE\":{\"*\":\"Outgoing voice call at {call-log-entry-time}\"},\"VIDEO\":{\"*\":\"Outgoing video call at {call-log-entry-time}\"},\"NONE\":{\"*\":\"Outgoing call at {call-log-entry-time}\"}},\"1\":{\"VOICE\":{\"*\":\"Outgoing group voice call at {call-log-entry-time}\"},\"VIDEO\":{\"*\":\"Outgoing group video call at {call-log-entry-time}\"},\"NONE\":{\"*\":\"Outgoing group call at {call-log-entry-time}\"}}},\"INCOMING\":{\"0\":{\"VOICE\":{\"*\":\"Incoming voice call at {call-log-entry-time}\"},\"VIDEO\":{\"*\":\"Incoming video call at {call-log-entry-time}\"},\"NONE\":{\"*\":\"Incoming call at {call-log-entry-time}\"}},\"1\":{\"VOICE\":{\"*\":\"Incoming group voice call at {call-log-entry-time}\"},\"VIDEO\":{\"*\":\"Incoming group video call at {call-log-entry-time}\"},\"NONE\":{\"*\":\"Incoming group call at {call-log-entry-time}\"}}},\"CALLLINKVIDEO\":{\"0\":{\"VOICE\":{\"*\":\"Video voice call at {call-log-entry-time}\"},\"VIDEO\":{\"*\":\"Video video call at {call-log-entry-time}\"},\"NONE\":{\"*\":\"Video call at {call-log-entry-time}\"}},\"1\":{\"VOICE\":{\"*\":\"Video group voice call at {call-log-entry-time}\"},\"VIDEO\":{\"*\":\"Video group video call at {call-log-entry-time}\"},\"NONE\":{\"*\":\"Video group call at {call-log-entry-time}\"}}},\"CALLLINKVOICE\":{\"0\":{\"VOICE\":{\"*\":\"Voice voice call at {call-log-entry-time}\"},\"VIDEO\":{\"*\":\"Voice video call at {call-log-entry-time}\"},\"NONE\":{\"*\":\"Voice call at {call-log-entry-time}\"}},\"1\":{\"VOICE\":{\"*\":\"Voice group voice call at {call-log-entry-time}\"},\"VIDEO\":{\"*\":\"Voice group video call at {call-log-entry-time}\"},\"NONE\":{\"*\":\"Voice group call at {call-log-entry-time}\"}}}}",[h._enum(e,{MISSED:"Missed",OUTGOING:"Outgoing",INCOMING:"Incoming",CALLLINKVIDEO:"Video",CALLLINKVOICE:"Voice"}),h._enum(c&&!b?1:0,{0:"",1:" group "}),h._enum(f,{VOICE:"voice",VIDEO:"video",NONE:""}),h._param("call-log-entry-time",d("WAWebClock").Clock.timestampStr(a.t),[0,d("WAWebClock").Clock.timestampHour(a.t)])])})}n.displayName=n.name+" [from "+f.id+"]";function o(a){var b;a=a.msg;var c=d("WAWebMsgGetters").getCallDuration(a);b=(b=d("WAWebMsgGetters").getCallOutcome(a))!=null?b:d("WAWebCallLogMsgData.flow").CallOutcome.Unknown;c!=null&&b===d("WAWebCallLogMsgData.flow").CallOutcome.Completed?c=d("WAWebClock").Clock.callDurationStr(c):b===d("WAWebCallLogMsgData.flow").CallOutcome.AcceptedElsewhere?c=h._(/*BTDS*/"Accepted on another device"):b===d("WAWebCallLogMsgData.flow").CallOutcome.Completed||b===d("WAWebCallLogMsgData.flow").CallOutcome.Unknown?c=h._(/*BTDS*/"Unknown"):b===d("WAWebCallLogMsgData.flow").CallOutcome.Missed&&d("WAWebMsgGetters").getIsCallSilenced(a)?c=h._(/*BTDS*/"Silenced"):c=h._(/*BTDS*/"Unanswered");return j.jsx(d("WAWebText.react").WAWebTextMuted,{children:c})}o.displayName=o.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebIcVideoCallIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h=["iconXstyle","height","width","name","viewBox"],i,j,k=i||c("react"),l="ic-video-call";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.name,i=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var m;if(i){var n=i.x;n=n===void 0?0:n;var o=i.y;o=o===void 0?0:o;var p=i.width;p=p===void 0?0:p;i=i.height;i=i===void 0?0:i;m=[n,o,p,i].join(" ")}n=24;o=24;(e!=null||f!=null)&&(n=e,o=f);return k.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:g!=null?g:l},a,{children:k.jsxs("svg",{viewBox:m,height:n,width:o,preserveAspectRatio:"xMidYMid meet",className:(j||(j=c("stylex")))(b),fill:"none",children:[k.jsx("title",{children:g!=null?g:l}),k.jsx("path",{fill:"currentColor",d:"M10 16c.28 0 .52-.1.71-.29.2-.19.29-.43.29-.71v-2h2c.28 0 .52-.1.71-.29.2-.19.29-.43.29-.71 0-.28-.1-.52-.29-.71A.97.97 0 0 0 13 11h-2V9c0-.28-.1-.52-.29-.71A.97.97 0 0 0 10 8c-.28 0-.52.1-.71.29-.2.19-.29.43-.29.71v2H7c-.28 0-.52.1-.71.29-.2.19-.29.43-.29.71 0 .28.1.52.29.71.19.2.43.29.71.29h2v2c0 .28.1.52.29.71.19.2.43.29.71.29Zm-6 4c-.55 0-1.02-.2-1.41-.59-.4-.39-.59-.86-.59-1.41V6c0-.55.2-1.02.59-1.41C2.98 4.19 3.45 4 4 4h12c.55 0 1.02.2 1.41.59.4.39.59.86.59 1.41v4.5l3.15-3.15c.15-.15.33-.19.54-.11.2.07.31.23.31.46v8.6c0 .23-.1.39-.31.46-.21.08-.39.04-.54-.11L18 13.5V18c0 .55-.2 1.02-.59 1.41-.39.4-.86.59-1.41.59H4Zm0-2h12V6H4v12Z"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.IcVideoCallIcon=a}),98);
__d("WAWebTextBoxReadonly.react",["WAWebCopyPasteSelectable.react","WAWebFlex.react","WAWebUISpacing","WAWebUnstyledButton.react","WDSColorStyles.stylex","WDSFontTokenStyles","nullthrows","react","vulture"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=i||d("react");var j=h||(h=c("react")),k=b.useRef,l=b.useState,m={container:{height:"x1vqgdyp",width:"xh8yej3",borderTopWidth:"x178xt8z",borderInlineEndWidth:"x1lun4ml",borderBottomWidth:"xso031l",borderInlineStartWidth:"xpilrb4",borderTopColor:"x1v8p93f",borderInlineEndColor:"x1o3jo1z",borderBottomColor:"x16stqrj",borderInlineStartColor:"xv5lvn5",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderStartStartRadius:"x12ol6y4",borderStartEndRadius:"x180vkcf",borderEndEndRadius:"x1khw62d",borderEndStartRadius:"x709u02",cursor:"x1ed109x",$$css:!0},containerFocused:{borderTopColor:"xlze6vy",borderInlineEndColor:"x47fsot",borderBottomColor:"x1rrvw3c",borderInlineStartColor:"x18djku1",$$css:!0},inputContainer:{width:"xh8yej3",$$css:!0},input:{borderTopWidth:"x972fbf",borderInlineEndWidth:"x10w94by",borderBottomWidth:"x1qhh985",borderInlineStartWidth:"x14e42zd",backgroundColor:"xjbqb8w",width:"xh8yej3",color:"x18cpw0e",caretColor:"xbuiw85",cursor:"x1ed109x",textAlign:"x1yc453h",textWrap:"xebhuq6",overflowX:"x6ikm8r",overflowY:"x10wlt62",whiteSpace:"xuxw1ft",textOverflow:"xlyipyv",":focus_outline":"x1uvtmcs",$$css:!0},addOnAfterContainer:{minWidth:"xnei2rj",$$css:!0}};function a(a){var b=a.addOnAfter,e=a.ariaLabel,f=a.inputContainerXstyle,g=a.text;a=a.xstyle;c("vulture")("xAbx51OHQ-nyygcNyVEAm9ylcQo=");var h=l(!1),i=h[0],n=h[1],o=k(null);h=function(){n(!0);if(o.current){var a;(a=window.getSelection())==null||a.selectAllChildren(c("nullthrows")(o.current))}};var p=function(){n(!1);if(o.current){var a;(a=window.getSelection())==null||a.removeAllRanges()}};return j.jsxs(d("WAWebFlex.react").FlexRow,{xstyle:[m.container,d("WDSColorStyles.stylex").WDSBackgroundColorStyles.surfaceHighlight,i&&m.containerFocused,a],align:"center",children:[j.jsx(d("WAWebFlex.react").FlexItem,{xstyle:[m.inputContainer,d("WAWebUISpacing").uiPadding.horiz20,f],children:j.jsx(c("WAWebUnstyledButton.react"),{ref:o,xstyle:[m.input,d("WAWebUISpacing").uiPadding.all0,d("WDSFontTokenStyles").WDSFontTokenStyles.Body2],"aria-label":e,onFocus:h,onBlur:p,children:j.jsx(d("WAWebCopyPasteSelectable.react").SelectableSpan,{plainText:g.toString(),selectable:!0,children:g})})}),b!=null?j.jsx(d("WAWebFlex.react").FlexRow,{xstyle:[m.addOnAfterContainer,d("WAWebUISpacing").uiPadding.all8],children:b}):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebVoipCallLinksPopupTypeDropDown.react",["fbt","$InternalEnum","WALogger","WAWebCallRefreshedIcon.react","WAWebDropdownV2.react","WAWebFlex.react","WAWebSelectMenuItem.react","WAWebText.react","WAWebUISpacing","WAWebVideoCallRefreshedIcon.react","WDSButton.react","react"],(function(a,b,c,d,e,f,g,h){var i,j,k=j||c("react"),l={buttonCustomizations:{borderStartStartRadius:"xyi3aci",borderStartEndRadius:"xwf5gio",borderEndEndRadius:"x1p453bz",borderEndStartRadius:"x1suzm8a",$$css:!0}},m=b("$InternalEnum").Mirrored(["VIDEO","VOICE"]);function a(a){var b=a.callLinkType,e=a.onCallLinkTypeSelectionChanged;a=k.jsx(d("WAWebVideoCallRefreshedIcon.react").VideoCallRefreshedIcon,{});var f=k.jsx(d("WAWebCallRefreshedIcon.react").CallRefreshedIcon,{}),g=k.createRef(),j=k.createRef();return k.jsxs(d("WAWebFlex.react").FlexColumn,{gap:16,children:[k.jsx(d("WAWebFlex.react").FlexItem,{xstyle:d("WAWebUISpacing").uiPadding.end15,children:k.jsx(c("WDSButton.react"),{variant:"outline",size:"medium",type:"default",ref:g,xstyle:[l.buttonCustomizations,d("WAWebUISpacing").uiPadding.end0,d("WAWebUISpacing").uiPadding.start8],Icon:b===m.VIDEO?d("WAWebVideoCallRefreshedIcon.react").VideoCallRefreshedIcon:d("WAWebCallRefreshedIcon.react").CallRefreshedIcon,label:h._(/*BTDS*/"_j{\"VIDEO\":\"Video\",\"VOICE\":\"Voice\"}",[h._enum(b,{VIDEO:"Video",VOICE:"Voice"})]),showEndDropdownIcon:!0,onPress:function(){var a;(a=j.current)==null||a.showPopover()}})}),k.jsx(d("WAWebDropdownV2.react").DropdownV2Menu,{controllerRef:j,position:d("WAWebDropdownV2.react").PopoverPosition.Bottom,alignment:d("WAWebDropdownV2.react").PopoverAlignment.Center,minWidth:140,target:g,children:k.jsxs(d("WAWebSelectMenuItem.react").SelectMenuItemGroup,{multiselect:!1,initialSelection:b,onSelect:function(a){var b=m.cast(a);if(b==null){d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["call links popup dropdown: unexpected invalid call type: ",""])),a);return}e(b)},children:[k.jsx(d("WAWebSelectMenuItem.react").SelectMenuItem,{optionId:m.VIDEO,primary:k.jsx(n,{icon:a,text:h._(/*BTDS*/"Video")})}),k.jsx(d("WAWebSelectMenuItem.react").SelectMenuItem,{optionId:m.VOICE,primary:k.jsx(n,{icon:f,text:h._(/*BTDS*/"Voice")})})]})})]})}a.displayName=a.name+" [from "+f.id+"]";function n(a){var b=a.icon;a=a.text;return k.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",justify:"start",children:[k.jsx(d("WAWebFlex.react").FlexItem,{children:b}),k.jsx(d("WAWebFlex.react").FlexItem,{xstyle:[d("WAWebUISpacing").uiPadding.vert12,d("WAWebUISpacing").uiMargin.start8],align:"start",children:k.jsx(d("WAWebText.react").WAWebTextSectionTitle,{color:"primary",children:a})})]})}n.displayName=n.name+" [from "+f.id+"]";g.CallLinkType=m;g.WAWebVoipCallLinksPopupTypeDropDown=a}),226);
__d("WAWebVoipCallsTabScheduleCallModal.react",["fbt","WALogger","WATimeUtils","WAWebContactCollection","WAWebDrawerManager","WAWebEventsCreateEventModalFlow.react","WAWebFrontendContactGetters","WAWebModalManager","fbs","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||c("react"),m=(j||(j=d("react"))).useMemo;function n(a){a=a.targetChat;var b=m(function(){return o()},[]),e=m(function(){return p(b)},[b]),f=d("WAWebContactCollection").ContactCollection.getMeContact();if(f==null){d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["schedule call modal: me contact is null"]))).sendLogs("schedule-call-me-null");return null}return l.jsx(c("WAWebEventsCreateEventModalFlow.react"),{isScheduledCall:!0,callLinkRequired:!0,preselectedChat:a!=null?a:null,prefilledData:{eventName:c("fbs")._(/*BTDS*/"{user-full-name}\u2019s call",[c("fbs")._param("user-full-name",d("WAWebFrontendContactGetters").getDisplayName(f))]).toString(),eventCallType:"video",eventStartTime:b,eventEndTime:e},title:h._(/*BTDS*/"Schedule call"),nameInputTitle:h._(/*BTDS*/"Call name"),nameInputPlaceholder:h._(/*BTDS*/"Call name"),showLocationField:!1,showRemoveEndTimeButton:!0,onSend:function(){d("WAWebDrawerManager").DrawerManager.closeDrawerLeft()}})}n.displayName=n.name+" [from "+f.id+"]";function o(){var a=d("WATimeUtils").unixTime(),b=30*60;a=Math.ceil(a/b)*b;return d("WATimeUtils").castToUnixTime(a)}function p(a){return d("WATimeUtils").futureUnixTime(30*d("WATimeUtils").MINUTE_SECONDS,a)}function a(a){d("WAWebModalManager").ModalManager.open(l.jsx(n,{targetChat:a}))}g.WAWebVoipCallsTabScheduleCallModal=n;g.handleScheduleCallForChat=a}),226);
__d("WAWebVoipCreateCallLinksPopup.react",["fbt","WALogger","WAWebApiParse","WAWebComposeBoxActions","WAWebConfirmPopup.react","WAWebCopyRefreshedIcon.react","WAWebCopyToClipboard","WAWebDrawerManager","WAWebExecApiCmd","WAWebFbtCommon","WAWebFlex.react","WAWebForwardRefreshedIcon.react","WAWebModal.react","WAWebModalManager","WAWebSendTextFlow.react","WAWebSpinner.react","WAWebSvgButton.react","WAWebText.react","WAWebTextBoxReadonly.react","WAWebToast.react","WAWebToastManager","WAWebUISpacing","WAWebVoipCallLinksPopupTypeDropDown.react","WAWebVoipCreateCallLink","asyncToGeneratorRuntime","fbs","react","useWAWebAsync"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m,n,o,p,q,r;e=r||d("react");var s=q||(q=c("react")),t=e.useEffect,u=e.useState,v={forwardIcon:{verticalAlign:"xxymvpz",$$css:!0},modalContainer:{maxWidth:"x65f84u",$$css:!0},textContainer:{borderStartStartRadius:"xyi3aci",borderStartEndRadius:"xwf5gio",borderEndEndRadius:"x1p453bz",borderEndStartRadius:"x1suzm8a",$$css:!0}};function w(a){return x.apply(this,arguments)}function x(){x=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["handleCallLinkClick: handleCallLinkClick"])));if(a==null){d("WALogger").ERROR(n||(n=babelHelpers.taggedTemplateLiteralLoose(["handleCallLinkClick: callLink is null"]))).sendLogs("click-call-link-error");return}a=d("WAWebApiParse").parseAPICmd(a);c("WAWebExecApiCmd")({cmdData:a,isExternal:!1})});return x.apply(this,arguments)}function a(){return y.apply(this,arguments)}function y(){y=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WALogger").LOG(o||(o=babelHelpers.taggedTemplateLiteralLoose(["handleGenerateCallLinkClick BEGIN"])));try{d("WAWebModalManager").ModalManager.open(s.jsx(z,{}))}catch(a){d("WALogger").LOG(p||(p=babelHelpers.taggedTemplateLiteralLoose(["handleGenerateCallLinkClick: error=",""])),a)}});return y.apply(this,arguments)}function z(a){var e=a.targetChat;a=u(d("WAWebVoipCallLinksPopupTypeDropDown.react").CallLinkType.VIDEO);var f=a[0],g=a[1];a=c("useWAWebAsync")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["createCallLinkAsync: creating call link of type ",""])),f);var a=(yield d("WAWebVoipCreateCallLink").createCallLink({callType:f===d("WAWebVoipCallLinksPopupTypeDropDown.react").CallLinkType.VIDEO?"video":"audio"}));d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["createCallLinkAsync: The call link created is ",""])),a);return a}),[f]);a.error&&d("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["createCallLinkAsync: Failed to create call link in popup, error: ",""])),a.error).sendLogs("create-call-link-error");var m=a.loading?null:a.value;function n(){if(m==null)return;d("WALogger").LOG(l||(l=babelHelpers.taggedTemplateLiteralLoose(["handleGenerateCallLinkClick: handleSendLinkOnWhatsApp"])));if(e!=null){d("WAWebComposeBoxActions").ComposeBoxActions.paste(null,m);d("WAWebModalManager").ModalManager.close();return}d("WAWebModalManager").ModalManager.open(s.jsx(c("WAWebSendTextFlow.react"),{title:h._(/*BTDS*/"Send link to"),text:m,onSend:function(){d("WAWebDrawerManager").DrawerManager.closeDrawerLeft()}}))}return s.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{type:d("WAWebModal.react").ModalTheme.CDS,onOK:n,okText:e!=null?h._(/*BTDS*/"{=m0} Send link to chat",[h._implicitParam("=m0",s.jsx(d("WAWebForwardRefreshedIcon.react").ForwardRefreshedIcon,{displayInline:!0,xstyle:v.forwardIcon,children:h._(/*BTDS*/"")}))]):h._(/*BTDS*/"{=m0} Send link via WhatsApp",[h._implicitParam("=m0",s.jsx(d("WAWebForwardRefreshedIcon.react").ForwardRefreshedIcon,{displayInline:!0,xstyle:v.forwardIcon,children:h._(/*BTDS*/"")}))]),onCancel:function(){return d("WAWebModalManager").ModalManager.close()},cancelText:c("WAWebFbtCommon")("Close"),extraButtonProps:{type:"simplified",onClick:function(){return w(m)},text:c("fbs")._(/*BTDS*/"Join call")},buttonsDirection:"horizontal",buttonGroupStyle:[d("WAWebUISpacing").uiMargin.all20,d("WAWebUISpacing").uiPadding.vert0],children:s.jsx(d("WAWebFlex.react").FlexRow,{children:s.jsx(d("WAWebFlex.react").FlexColumn,{align:"stretch",xstyle:v.modalContainer,children:s.jsxs(d("WAWebFlex.react").FlexColumn,{align:"stretch",gap:12,children:[s.jsx(d("WAWebFlex.react").FlexItem,{xstyle:[d("WAWebUISpacing").uiPadding.all25,d("WAWebUISpacing").uiPadding.bottom0],children:s.jsx(d("WAWebText.react").WAWebTextLargeRefreshed,{color:"primary",children:h._(/*BTDS*/"New call link")})}),s.jsxs(d("WAWebFlex.react").FlexRow,{xstyle:d("WAWebUISpacing").uiMargin.horiz25,align:"center",children:[s.jsx(d("WAWebFlex.react").FlexItem,{shrink:0,children:s.jsx(d("WAWebVoipCallLinksPopupTypeDropDown.react").WAWebVoipCallLinksPopupTypeDropDown,{callLinkType:f,onCallLinkTypeSelectionChanged:function(a){g(a)}})}),s.jsx(d("WAWebFlex.react").FlexItem,{grow:1,children:s.jsx(c("WAWebTextBoxReadonly.react"),{addOnAfter:m==null?s.jsx(d("WAWebSpinner.react").Spinner,{size:24}):s.jsx(A,{textToCopy:m}),ariaLabel:c("fbs")._(/*BTDS*/"Call link text"),text:m!=null?m:"",xstyle:v.textContainer,inputContainerXstyle:[d("WAWebUISpacing").uiPadding.start10,d("WAWebUISpacing").uiPadding.end0]})})]}),s.jsx(d("WAWebFlex.react").FlexItem,{xstyle:[d("WAWebUISpacing").uiPadding.vert5,d("WAWebUISpacing").uiPadding.horiz25],children:s.jsx(d("WAWebText.react").WAWebTextSmall,{textWrap:"wrap",children:h._(/*BTDS*/"Anyone with WhatsApp can use this link to join this call. Only share it with people you trust.")})})]})})})})}z.displayName=z.name+" [from "+f.id+"]";function A(a){var b=a.textToCopy;a=u(!1);var e=a[0],f=a[1];t(function(){var a=new AbortController();e&&void d("WAWebCopyToClipboard").copyTextToClipboard(b).then(function(){if(a.signal.aborted)return;f(!1);d("WAWebToastManager").ToastManager.open(s.jsx(d("WAWebToast.react").Toast,{msg:h._(/*BTDS*/"Link copied")}))});return function(){a.abort()}},[e,b]);return s.jsx(c("WAWebSvgButton.react"),{Icon:d("WAWebCopyRefreshedIcon.react").CopyRefreshedIcon,"aria-label":c("fbs")._(/*BTDS*/"Copy Call link"),onClick:function(){f(!0)}})}A.displayName=A.name+" [from "+f.id+"]";g.handleGenerateCallLinkClick=a;g.WAWebVoipCreateCallLinksPopup=z}),226);
__d("WAWebVoipCallsTabEmptyStateButtons.react",["fbt","Promise","WALogger","WAWebABProps","WAWebApiParse","WAWebCalendarMonthIcon.react","WAWebCallDialerRefreshedIcon.react","WAWebContactCollection","WAWebDialerPadFlowLoadable","WAWebDrawerManager","WAWebFlex.react","WAWebFrontendContactGetters","WAWebIcVideoCallIcon.react","WAWebLinkRefreshedIcon.react","WAWebSvgButton.react","WAWebToast.react","WAWebToastManager","WAWebVoipCallsTabNavigateTo","WAWebVoipCallsTabScheduleCallModal.react","WAWebVoipCreateCallLink","WAWebVoipCreateCallLinksPopup.react","WAWebVoipStackInterface","WAWebWamEnumLobbyEntryPointType","WDSColorStyles.stylex","WDSText.react","asyncToGeneratorRuntime","err","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=l||c("react"),n={button:{borderStartStartRadius:"x12ol6y4",borderStartEndRadius:"x180vkcf",borderEndEndRadius:"x1khw62d",borderEndStartRadius:"x709u02",borderTopWidth:"x178xt8z",borderInlineEndWidth:"x1lun4ml",borderBottomWidth:"xso031l",borderInlineStartWidth:"xpilrb4",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopColor:"xnj1f2r",borderInlineEndColor:"x2uibgs",borderBottomColor:"xkveyfu",borderInlineStartColor:"x12llq9",$$css:!0},columnContainer:{width:"xygnafs",textAlign:"x2b8uid",rowGap:"x1qvou4u",columnGap:"x1s70e7g",$$css:!0},gridContainer:{rowGap:"xlxy9ep",columnGap:"xf91ah9",$$css:!0},iconContainer:{paddingTop:"xl7twdi",paddingBottom:"xvg22vi",paddingInlineStart:"xb0esv5",paddingInlineEnd:"xyo0t3i",paddingLeft:null,paddingRight:null,$$css:!0},rowContainer:{rowGap:"xlxy9ep",columnGap:"xf91ah9",$$css:!0},startCallButton:{color:"x1v5yvga",$$css:!0},textContainer:{paddingTop:"xl7twdi",paddingBottom:"xvg22vi",paddingInlineStart:"xb0esv5",paddingInlineEnd:"xyo0t3i",paddingLeft:null,paddingRight:null,$$css:!0}};function o(a){var b=a.Icon,e=a.iconXstyle,f=a.onClick,g=a.text;a=a.viewBox;return m.jsxs(d("WAWebFlex.react").FlexColumn,{align:"center",xstyle:n.columnContainer,children:[m.jsx(c("WAWebSvgButton.react"),{Icon:b,onClick:f,height:56,viewBox:a,xstyle:[n.button,d("WDSColorStyles.stylex").WDSBackgroundColorStyles.surfaceDefault],iconXstyle:[n.iconContainer,e]}),m.jsx(d("WAWebFlex.react").FlexItem,{xstyle:n.textContainer,align:"center",children:m.jsx(c("WDSText.react"),{type:"Body2Emphasized",colorName:"contentDefault",maxLines:1,children:g})})]})}o.displayName=o.name+" [from "+f.id+"]";function a(){var a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{var a=d("WAWebABProps").getABPropConfigValue("enable_hybrid_call_links_join");if(!a||d("WAWebVoipStackInterface").getVoipStackInterface==null)throw c("err")("call links not enabled or not in windows env");a=(yield (k||(k=b("Promise"))).all([d("WAWebVoipStackInterface").getVoipStackInterface(),d("WAWebVoipCreateCallLink").createCallLink({callType:"video"})]));var e=a[0];a=a[1];var f=d("WAWebApiParse").parseCallLink(a);if(f==null){d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["voip: landing page: start call failed since call link is malformed: ","."])),a).sendLogs("voip-landing-page-start-call-link-malformed");return}a=d("WAWebContactCollection").ContactCollection.getMeContact();a=a?d("WAWebFrontendContactGetters").getUsername(a):null;var g=f.data.callType==="video",l=d("WAWebABProps").getABPropConfigValue("calling_lid_version")>0;yield e==null?void 0:e.previewAndJoinCallLink(f.data.token,g,l,d("WAWebWamEnumLobbyEntryPointType").LOBBY_ENTRY_POINT_TYPE.START_CALL,a)}catch(a){d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["voip: landing page: start call failed to create call link: ",""])),a).sendLogs("voip-landing-page-start-call-call-link-creation-failed"),d("WAWebToastManager").ToastManager.open(m.jsx(d("WAWebToast.react").Toast,{msg:h._(/*BTDS*/"Could not start a new call. Try again after waiting for a few minutes.")}))}});return function(){return a.apply(this,arguments)}}(),e=function(){d("WAWebVoipCallsTabScheduleCallModal.react").handleScheduleCallForChat()},f=function(){d("WAWebDrawerManager").DrawerManager.openDrawerLeft(m.jsx(d("WAWebDialerPadFlowLoadable").WAWebDialerPadFlowLoadable,{onEnd:function(){d("WAWebVoipCallsTabNavigateTo").navigateToVoipCallsTab({})},entryPoint:"calls_tab"}))},g=d("WAWebABProps").getABPropConfigValue("calling_dialer_enable");return g?m.jsxs(d("WAWebFlex.react").FlexColumn,{justify:"center",align:"center",xstyle:n.gridContainer,children:[m.jsxs(d("WAWebFlex.react").FlexRow,{justify:"center",align:"center",xstyle:n.rowContainer,children:[m.jsx(o,{Icon:d("WAWebIcVideoCallIcon.react").IcVideoCallIcon,iconXstyle:n.startCallButton,onClick:function(){return void a()},text:h._(/*BTDS*/"Start call"),viewBox:{x:0,y:0,width:24,height:24}}),m.jsx(o,{Icon:d("WAWebLinkRefreshedIcon.react").LinkRefreshedIcon,onClick:function(){return void d("WAWebVoipCreateCallLinksPopup.react").handleGenerateCallLinkClick()},text:h._(/*BTDS*/"New call link")})]}),m.jsxs(d("WAWebFlex.react").FlexRow,{justify:"center",align:"center",xstyle:n.rowContainer,children:[m.jsx(o,{Icon:d("WAWebCallDialerRefreshedIcon.react").CallDialerRefreshedIcon,onClick:f,text:h._(/*BTDS*/"Call a number")}),m.jsx(o,{Icon:d("WAWebCalendarMonthIcon.react").CalendarMonthIcon,onClick:e,text:h._(/*BTDS*/"Schedule call"),viewBox:{x:-3,y:-2,width:24,height:24}})]})]}):m.jsxs(d("WAWebFlex.react").FlexRow,{justify:"center",align:"center",xstyle:n.rowContainer,children:[m.jsx(o,{Icon:d("WAWebIcVideoCallIcon.react").IcVideoCallIcon,iconXstyle:n.startCallButton,onClick:function(){return void a()},text:h._(/*BTDS*/"Start call"),viewBox:{x:0,y:0,width:24,height:24}}),m.jsx(o,{Icon:d("WAWebLinkRefreshedIcon.react").LinkRefreshedIcon,onClick:function(){return void d("WAWebVoipCreateCallLinksPopup.react").handleGenerateCallLinkClick()},text:h._(/*BTDS*/"New call link")}),m.jsx(o,{Icon:d("WAWebCalendarMonthIcon.react").CalendarMonthIcon,onClick:e,text:h._(/*BTDS*/"Schedule call"),viewBox:{x:-3,y:-2,width:24,height:24}})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebVoipCallsTabEmptyState.react",["fbt","WAWebCallLogEntryDetails.react","WAWebDrawer.react","WAWebDrawerBody.react","WAWebIntroPanel.scss","WAWebLockOutlineIcon.react","WAWebVoipCallsTabEmptyStateButtons.react","WAWebVoipCallsTabPanelManager","WAWebWaLogoIcon.react","react","useWAWebABPropConfigValue","useWAWebListener"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||c("react"),l=(i||(i=d("react"))).useState,m={whatsappLogo:{color:"x1vef352",display:"x1rg5ohu",$$css:!0},drawerWithBorder:{borderInlineStartWidth:"xpilrb4",borderInlineStartStyle:"x1t7ytsu",borderInlineStartColor:"x1vb5itz",$$css:!0}};function a(){var a=l(null),b=a[0],e=a[1];d("useWAWebListener").useListener(c("WAWebVoipCallsTabPanelManager"),"openCallLogInfoPanel",function(a){e(a)});d("useWAWebListener").useListener(c("WAWebVoipCallsTabPanelManager"),"closeCallLogInfoPanel",function(){e(null)});d("useWAWebListener").useListener(c("WAWebVoipCallsTabPanelManager"),"updateActveCallLogInfo",function(a){a.length!==(b==null?void 0:b.length)&&e(a)});a=d("useWAWebABPropConfigValue").useABPropConfigValue("web_calls_tab_empty_state_buttons");if(b!=null)return k.jsx(c("WAWebCallLogEntryDetails.react"),{callLogMsgs:b});a=a?k.jsx(c("WAWebVoipCallsTabEmptyStateButtons.react"),{}):k.jsx(d("WAWebWaLogoIcon.react").WaLogoIcon,{height:56,width:56,iconXstyle:m.whatsappLogo});var f=k.jsxs("div",{className:c("WAWebIntroPanel.scss").encrypted,children:[k.jsx(d("WAWebLockOutlineIcon.react").LockOutlineIcon,{height:20,width:20})," ",h._(/*BTDS*/"Your personal calls are end-to-end encrypted")]});return k.jsx(c("WAWebDrawer.react"),{theme:"white-bg",testid:void 0,xstyle:m.drawerWithBorder,children:k.jsx(c("WAWebDrawerBody.react"),{children:k.jsx("div",{className:c("WAWebIntroPanel.scss").intro,children:k.jsxs("div",{className:c("WAWebIntroPanel.scss").body,children:[k.jsx("div",{children:a}),f]})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebWindowsWelcomeScreen.react",["fbt","$InternalEnum","WAWebButton.react","WAWebFlex.react","WAWebHelpDrawerDoodle.react","WAWebUISpacing","react","vulture"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react"),k=b("$InternalEnum").Mirrored(["DEBUG","ALPHA","BETA","RELEASE"]),l={title:{color:"x14ug900",fontSize:"x1aueamr",$$css:!0},subtitle:{color:"x14ug900",fontSize:"x1jchvi3",$$css:!0}};function a(a){c("vulture")("FSuk24hMWFe3vzYHAZuH5oWKvG0=");var b=function(){switch(a.buildType){case k.DEBUG:return"Debug";case k.ALPHA:return"Alpha";case k.BETA:return"Beta";default:return""}}(),e=a.buildType===k.RELEASE?h._(/*BTDS*/"Welcome to WhatsApp"):h._(/*BTDS*/"WhatsApp {build}",[h._param("build",b)]);b=a.buildType===k.RELEASE?h._(/*BTDS*/"A simple, reliable, and private way to use WhatsApp on your computer."):h._(/*BTDS*/"Welcome! Thank you for trying the new {build} version.",[h._param("build",b)]);var f=h._(/*BTDS*/"Version {version}",[h._param("version",a.version)]),g=h._(/*BTDS*/"Get started");return j.jsxs(d("WAWebFlex.react").FlexColumn,{align:"center",className:"xp8kixx x1dr59a3 x141ej1v xw2csxc x1odjw0f xyinxu5 xp48ta0 x1g2khh7 xtssl2i xp9ttsr x6s0dn4 x9f619 xvmahel xdounpk",children:[j.jsx(d("WAWebFlex.react").FlexItem,{xstyle:[d("WAWebUISpacing").marginTop48,d("WAWebUISpacing").marginBottom28],children:j.jsx(d("WAWebHelpDrawerDoodle.react").WAWebHelpDrawerDoodle,{size:d("WAWebHelpDrawerDoodle.react").Size.SCALING})}),j.jsx(d("WAWebFlex.react").FlexItem,{xstyle:[l.title,d("WAWebUISpacing").marginBottom24],children:e}),j.jsx(d("WAWebFlex.react").FlexItem,{xstyle:l.subtitle,children:b}),j.jsx(d("WAWebFlex.react").FlexItem,{xstyle:[d("WAWebUISpacing").marginBottom32,d("WAWebUISpacing").marginTop32],children:j.jsx(d("WAWebButton.react").WAWebButtonPrimary,{onClick:function(){return a.onClickHandler()},children:g})}),j.jsx(d("WAWebFlex.react").FlexItem,{xstyle:l.subtitle,children:f})]})}a.displayName=a.name+" [from "+f.id+"]";g.BuildType=k;g.WindowsWelcomeScreen=a}),226);
__d("WAWebWindowsBuildType",["WALogger","WAWebWindowsWelcomeScreen.react"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){var a;a=new URLSearchParams((a=window.location.search)!=null?a:"");a=a.get("windowsBuildType");switch(a){case"DEBUG":return d("WAWebWindowsWelcomeScreen.react").BuildType.DEBUG;case"ALPHA":return d("WAWebWindowsWelcomeScreen.react").BuildType.ALPHA;case"BETA":return d("WAWebWindowsWelcomeScreen.react").BuildType.BETA;case"RELEASE":return d("WAWebWindowsWelcomeScreen.react").BuildType.RELEASE;default:d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[windows] build type mismatch, given "," didn't match anything, defaulting to DEBUG"])),a);return d("WAWebWindowsWelcomeScreen.react").BuildType.DEBUG}}g.getWindowsBuildType=a}),98);
__d("WAWebWindowsGatingUtils",["WAWebABProps","WAWebEnvironment"],(function(a,b,c,d,e,f,g){function h(){return c("WAWebEnvironment").isWindows===!0}function a(){return h()&&d("WAWebABProps").getABPropConfigValue("wa_hybrid_new_chat_flyout_enabled")===!0}function b(){return d("WAWebABProps").getABPropConfigValue("hybrid_nux_beta_50_enabled")}function e(){return h()&&d("WAWebABProps").getABPropConfigValue("enable_sharing_files_from_web_windows_hybrid")===!0}g.isWindowsHybridEnabled=h;g.isWindowsNewChatFlyoutEnabled=a;g.isHybridNuxBeta50Enabled=b;g.isWindowsShareSheetEnabled=e}),98);
__d("WAWebWindowsHandleNotificationAction",["WALogger","WAWebBannerContextMenuActions","WAWebChatCollection","WAWebChatEntryPoint","WAWebChatMessageSearch","WAWebCmd","WAWebEnvironment","WAWebMsgKey","WAWebWidFactory","WAWebWindowsHybridBridgeFactory","WAWebWindowsMessagePassingBridgeFactory"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m,n,o,p;a=function(){function a(a){this.$1=a,this.$2()}var b=a.prototype;b.$2=function(){var a,b=this;if(!c("WAWebEnvironment").isWindows)return;a=(a=d("WAWebWindowsHybridBridgeFactory").getWindowsBridge())==null?void 0:a.systemIntegrationsBridge;if(a!=null){a.events.on("MessageNotificationAction",function(a){b.$3(a)});return}d("WAWebWindowsMessagePassingBridgeFactory").getWindowsMessagePassingBridge().nativeEventEmitter.on("MessageNotificationAction",function(a){b.$3(a)})};b.$3=function(a){var b=a.action,e=a.key;a=a.additionalData;var f=this.$1.getNotification(e);if(f==null){d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["WANotificationController: cannot find notification in map with key: ",""])),e);this.$4(e,b);return}e=f.notificationBanner;if(e==null){d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["WANotificationController: notification banner is null"])));return}switch(b){case"Click":e.click();break;case"QuickReply":e.quickReply(a)["catch"](function(a){d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["WANotificationController: quick reply failed: ",""])),a)});break;case"ContextMenuClick":e.contextMenuClick((f=c("WAWebBannerContextMenuActions").cast(a))!=null?f:c("WAWebBannerContextMenuActions").None);break;default:d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["WANotificationController: unknown action: ",""])),b);break}};b.$4=function(a,b){if(a.startsWith("msg:")&&b==="Click"){b=a.substr(4).split("_");if(b.length===3){a=b[0]==="true";var e=b[1];b=b[2];try{a=new(c("WAWebMsgKey"))({fromMe:a,remote:d("WAWebWidFactory").createWidFromWidLike(e),id:b});d("WALogger").LOG(l||(l=babelHelpers.taggedTemplateLiteralLoose(["WANotificationController: created MsgKey from notification key: ",""])),a.toString());e=d("WAWebChatCollection").ChatCollection.get(a.remote);if(e){b=d("WAWebChatMessageSearch").getSearchContext(e,a);void d("WAWebCmd").Cmd.openChatAt({chat:e,msgContext:b,chatEntryPoint:d("WAWebChatEntryPoint").ChatEntryPoint.Notification}).then(function(a){a?d("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["WANotificationController: successfully navigated to chat from notification key"]))):d("WALogger").LOG(n||(n=babelHelpers.taggedTemplateLiteralLoose(["WANotificationController: failed to navigate to chat from notification key"])))})}else d("WALogger").LOG(o||(o=babelHelpers.taggedTemplateLiteralLoose(["WANotificationController: chat not found for remote WID"])))}catch(a){d("WALogger").LOG(p||(p=babelHelpers.taggedTemplateLiteralLoose(["WANotificationController: failed to create MsgKey from notification key: ",""])),a)}}}};return a}();g["default"]=a}),98);
__d("WAWebWindowsHybridTranscoderHelper",["WALogger","WAWebABProps","WAWebEnvironment","WAWebWindowsHybridBridgeMediaTranscoder.v2577","asyncToGeneratorRuntime","cr:17219"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v=0;function w(){return c("WAWebEnvironment").isWindows&&d("WAWebABProps").getABPropConfigValue("enable_hybrid_video_transcoding")}function a(){return w()&&d("WAWebABProps").getABPropConfigValue("enable_hybrid_video_transcoding_for_valid_mp4")}function e(a,b,c,d,e){return x.apply(this,arguments)}function x(){x=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e,f,g){var w;d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[transcodeVideo] Starting video transcoding for file of size ",", type ",""])),a.size,a.type);var x=b("cr:17219")==null||(w=b("cr:17219").getWindowsBridge())==null?void 0:w.mediaTranscodeBridge;if(x==null){d("WALogger").DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[transcodeVideo] Media transcode bridge not available"])));return null}var y,z,A,B=!1;try{d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[transcodeVideo] Requesting source buffer for file size ",""])),a.size);var C=(yield x.requestSharedBufferForTranscoding(v++,a.size)),D=C[0];C=C[1];y=D;d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["[transcodeVideo] Received source buffer with id ",""])),D);c&&!(x instanceof d("WAWebWindowsHybridBridgeMediaTranscoder.v2577").WindowsHybridBridgeMediaTranscoder_v2577)&&x.setProgressCallback(y,c);d("WALogger").DEV(l||(l=babelHelpers.taggedTemplateLiteralLoose(["[transcodeVideo] Copying file content to source shared buffer"])));D=(yield a.arrayBuffer());a=new Uint8Array(C);C=new Uint8Array(D);a.set(C);d("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["[transcodeVideo] File content copied to source buffer"])));g!=null&&g("video/mp4");if(e!=null&&!(x instanceof d("WAWebWindowsHybridBridgeMediaTranscoder.v2577").WindowsHybridBridgeMediaTranscoder_v2577))try{D=(yield x.getVideoPreviewFrameFromSharedBuffer(y,v++));a=D[0];C=D[1];g=D[2];D=D[3];A=a;e(C,g,D);B=!0}catch(a){d("WALogger").ERROR(n||(n=babelHelpers.taggedTemplateLiteralLoose(["[transcodeVideo] Error getting video preview frame: ",""])),String(a))}a=d("WAWebABProps").getABPropConfigValue("default_video_limit_mb")*1024*1024;d("WALogger").LOG(o||(o=babelHelpers.taggedTemplateLiteralLoose(["[transcodeVideo] Starting transcoding from sourceBufferId=",""])),y);e=(yield x.performVideoTranscodingFromSharedBuffer(y,v++,a));C=e[0];g=e[1];z=C;d("WALogger").LOG(p||(p=babelHelpers.taggedTemplateLiteralLoose(["[transcodeVideo] Transcoding completed successfully, result bufferId=",", transcoded size=",""])),C,g.byteLength);D=new Blob([g],{type:"video/mp4"});d("WALogger").LOG(q||(q=babelHelpers.taggedTemplateLiteralLoose(["[transcodeVideo] Video transcoding completed successfully"])));return[D,B]}catch(a){d("WALogger").ERROR(r||(r=babelHelpers.taggedTemplateLiteralLoose(["[transcodeVideo] Error during video transcoding: ",""])),String(a));f!=null&&B&&f();throw a}finally{y!=null&&(d("WALogger").DEV(s||(s=babelHelpers.taggedTemplateLiteralLoose(["[transcodeVideo] Releasing source buffer ",""])),y),x.releaseSharedBuffer(y)),z!=null&&(d("WALogger").DEV(t||(t=babelHelpers.taggedTemplateLiteralLoose(["[transcodeVideo] Releasing result buffer ",""])),z),x.releaseSharedBuffer(z)),A!=null&&(d("WALogger").DEV(u||(u=babelHelpers.taggedTemplateLiteralLoose(["[transcodeVideo] Releasing preview buffer ",""])),A),x.releaseSharedBuffer(A)),c&&y!=null&&!(x instanceof d("WAWebWindowsHybridBridgeMediaTranscoder.v2577").WindowsHybridBridgeMediaTranscoder_v2577)&&x.clearProgressCallback(y)}});return x.apply(this,arguments)}g.isWindowsHybridTranscoderEnabled=w;g.isWindowsHybridTranscoderEnabledForMp4=a;g.transcodeVideo=e}),98);
__d("WAWebWindowsNotificationStrings",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";function a(){return h._(/*BTDS*/"Type a reply")}function b(){return h._(/*BTDS*/"Send")}function c(){return h._(/*BTDS*/"Message")}function d(a){a===void 0&&(a=1);if(a<2)return null;var b="\u2709  ";return h._(/*BTDS*/"_j{\"*\":\"{unread-msg-icon}{unreadMessagesCount} unread messages\",\"_1\":\"{unread-msg-icon}1 unread message\"}",[h._plural(a,"unreadMessagesCount"),h._param("unread-msg-icon",b)])}function e(){return h._(/*BTDS*/"Mute chat for 8 hours")}function f(){return h._(/*BTDS*/"Mute chat for 1 week")}function i(){return h._(/*BTDS*/"Mute notifications")}function j(){return h._(/*BTDS*/"Disable notifications for all messages")}function k(){return h._(/*BTDS*/"Show notification banner")}g.getNotificationReplyInputPlaceholder=a;g.getNotificationReplyButtonContent=b;g.getNotificationBodyForPreviewOff=c;g.getMessageNotificationFooter=d;g.getMute8HoursLabel=e;g.getMuteOneWeekLabel=f;g.getMuteNotificationsLabel=i;g.getDisableNotificationsLabel=j;g.showNotificationBannerTitle=k}),226);
__d("WAWebWindowsNotificationSettingsHelpers",["WAWebABProps","WAWebSettingsConst","WAWebWamEnumSettingsItemType","WAWebWindowsNotificationStrings"],(function(a,b,c,d,e,f,g){a={step:d("WAWebSettingsConst").SettingsSteps.ShowNotificationBanner,id:"show_notification_banner",isAvailable:!0,searchCriteria:String(d("WAWebWindowsNotificationStrings").showNotificationBannerTitle()).toLowerCase(),title:d("WAWebWindowsNotificationStrings").showNotificationBannerTitle,testid:"li-show-notification-banner",wamName:d("WAWebWamEnumSettingsItemType").SETTINGS_ITEM_TYPE.NOTIFICATIONS};b=function(){return d("WAWebABProps").getABPropConfigValue("custom_notification_tones")};g.ShowNotificationBannerSettingsItem=a;g.isCustomNotificationTonesEnabled=b}),98);
__d("WAWebWindowsNotificationToneOption",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({None:0,Default:1,Alert1:2,Alert2:3,Alert3:4,Alert4:5,Alert5:6,Alert6:7,Alert7:8,Alert8:9,Alert9:10,Alert10:11});f.NotificationToneOption=a}),66);
__d("WAWebWindowsShowNotificationBannerOption",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum").Mirrored(["Always","Never","OnlyWhenAppIsOpen"]);f.ShowNotificationBannerOption=a}),66);
__d("WAWebWindowsTaskbarNotificationOption",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum").Mirrored(["Always","Never","OnlyWhenAppIsOpen"]);f.TaskbarNotificationOption=a}),66);
__d("WAWebWindowsUserPrefsNotifications",["WAWebUserPrefsKeys","WAWebUserPrefsStore","WAWebWindowsNotificationToneOption","WAWebWindowsShowNotificationBannerOption","WAWebWindowsTaskbarNotificationOption"],(function(a,b,c,d,e,f,g){var h=!0;function a(a){c("WAWebUserPrefsStore").setUser(d("WAWebUserPrefsKeys").UserPrefs.WindowsNotificationBannerSetting,a)}function i(){var a=c("WAWebUserPrefsStore").getUser(d("WAWebUserPrefsKeys").UserPrefs.WindowsNotificationBannerSetting);return a==null||typeof a!=="string"?d("WAWebWindowsShowNotificationBannerOption").ShowNotificationBannerOption.Always:(a=d("WAWebWindowsShowNotificationBannerOption").ShowNotificationBannerOption.cast(a))!=null?a:d("WAWebWindowsShowNotificationBannerOption").ShowNotificationBannerOption.Always}function b(){var a=c("WAWebUserPrefsStore").getUser(d("WAWebUserPrefsKeys").UserPrefs.WindowsStatusReactionsSetting);return a===!1?!1:h}function e(a){c("WAWebUserPrefsStore").setUser(d("WAWebUserPrefsKeys").UserPrefs.WindowsStatusReactionsSetting,a)}function f(a){c("WAWebUserPrefsStore").setUser(d("WAWebUserPrefsKeys").UserPrefs.WindowsTaskbarNotificationSetting,a)}function j(){var a=c("WAWebUserPrefsStore").getUser(d("WAWebUserPrefsKeys").UserPrefs.WindowsTaskbarNotificationSetting);return a==null||typeof a!=="string"?d("WAWebWindowsTaskbarNotificationOption").TaskbarNotificationOption.Always:(a=d("WAWebWindowsTaskbarNotificationOption").TaskbarNotificationOption.cast(a))!=null?a:d("WAWebWindowsTaskbarNotificationOption").TaskbarNotificationOption.Always}function k(a){c("WAWebUserPrefsStore").setUser(String(d("WAWebUserPrefsKeys").UserPrefs.WindowsNotificationToneSetting),a)}function l(){var a=c("WAWebUserPrefsStore").getUser(String(d("WAWebUserPrefsKeys").UserPrefs.WindowsNotificationToneSetting));return a==null||typeof a!=="number"?d("WAWebWindowsNotificationToneOption").NotificationToneOption.Default:(a=d("WAWebWindowsNotificationToneOption").NotificationToneOption.cast(a))!=null?a:d("WAWebWindowsNotificationToneOption").NotificationToneOption.Default}function m(a){c("WAWebUserPrefsStore").setUser(String(d("WAWebUserPrefsKeys").UserPrefs.WindowsGroupNotificationToneSetting),a)}function n(){var a=c("WAWebUserPrefsStore").getUser(String(d("WAWebUserPrefsKeys").UserPrefs.WindowsGroupNotificationToneSetting));return a==null||typeof a!=="number"?d("WAWebWindowsNotificationToneOption").NotificationToneOption.Default:(a=d("WAWebWindowsNotificationToneOption").NotificationToneOption.cast(a))!=null?a:d("WAWebWindowsNotificationToneOption").NotificationToneOption.Default}function o(){return i()!==d("WAWebWindowsShowNotificationBannerOption").ShowNotificationBannerOption.Never}g.setNotificationBannerSetting=a;g.getNotificationBannerSetting=i;g.getStatusReactionsSetting=b;g.setStatusReactionsSetting=e;g.setTaskbarNotificationSetting=f;g.getTaskbarNotificationSetting=j;g.setNotificationToneSetting=k;g.getNotificationToneSetting=l;g.setNotificationToneGroupSetting=m;g.getNotificationToneGroupSetting=n;g.isNotificationBannerEnabled=o}),98);
__d("WAWebWindowsNotificationHelpers",["WAAbortError","WALogger","WAWebBannerContextMenuActions","WAWebChatGetters","WAWebEnvironment","WAWebFrontendMsgGetters","WAWebMsgGetters","WAWebMuteCollection","WAWebNoop","WAWebNotificationHelpers","WAWebNotificationMuteReason","WAWebWindowsHybridBridgeFactory","WAWebWindowsHybridBridgeSystemIntegrations.v2567","WAWebWindowsHybridBridgeSystemIntegrations.v2569","WAWebWindowsHybridBridgeSystemIntegrations.v2570","WAWebWindowsHybridBridgeSystemIntegrations.v2571","WAWebWindowsHybridBridgeSystemIntegrations.v2572","WAWebWindowsHybridBridgeSystemIntegrations.v2573","WAWebWindowsMessagePassingBridgeFactory","WAWebWindowsNotificationSettingsHelpers","WAWebWindowsNotificationStrings","WAWebWindowsNotificationToneOption","WAWebWindowsShowNotificationBannerOption","WAWebWindowsUserPrefsNotifications","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H;function a(a){return c("WAWebEnvironment").isWindows&&d("WAWebMsgGetters").getIsGroupMsg(a)&&d("WAWebNotificationHelpers").isMeUserMentionedOrQuoted(a)}function e(a){return c("WAWebEnvironment").isWindows&&(a===c("WAWebNotificationMuteReason").GroupFlood||a===c("WAWebNotificationMuteReason").OfflineResumeInProgress)}function f(a,b){var e;if(!c("WAWebEnvironment").isWindows)return;e=(e=d("WAWebWindowsHybridBridgeFactory").getWindowsBridge())==null?void 0:e.systemIntegrationsBridge;if(e!=null){e.closeMessageNotification(a,b);return}d("WAWebWindowsMessagePassingBridgeFactory").getWindowsMessagePassingBridge().call("CloseMessageNotification",{key:a,tag:b})["catch"](c("WAWebNoop"))}function I(b){d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["showMessageNotification: Starting notification display with key: ",""])),b.key);if(!c("WAWebEnvironment").isWindows){d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["showMessageNotification: Skipping notification - not Windows environment"])));return}var a=b.isReplyable,e=b.key,f=b.tag,g=b.title,x=b.body,y=b.icon,z=b.footer,A=b.contextMenuItems,B=b.suppressBanner;b=b.chat;d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["showMessageNotification: Config - key: ",", tag: ",", isReplyable: ",", suppressBanner: ",""])),e,f!=null?f:"null",a,B);var C=null,D=null;a&&(d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["showMessageNotification: Setting up reply functionality"]))),C=d("WAWebWindowsNotificationStrings").getNotificationReplyInputPlaceholder().toString(),D=d("WAWebWindowsNotificationStrings").getNotificationReplyButtonContent().toString());var E=[];A==null||A.forEach(function(a){E.push([a.content,a.action])});d("WALogger").LOG(l||(l=babelHelpers.taggedTemplateLiteralLoose(["showMessageNotification: Context menu items count: ",""])),E.length);a=d("WAWebWindowsUserPrefsNotifications").getNotificationBannerSetting();d("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["showMessageNotification: Banner notification setting: ",""])),a);if(a===d("WAWebWindowsShowNotificationBannerOption").ShowNotificationBannerOption.Never){d("WALogger").LOG(n||(n=babelHelpers.taggedTemplateLiteralLoose(["showMessageNotification: Aborting - banner notifications disabled"])));throw new(d("WAAbortError").AbortError)("Notification muted due to show banner notification config")}A=a===d("WAWebWindowsShowNotificationBannerOption").ShowNotificationBannerOption.OnlyWhenAppIsOpen;d("WALogger").LOG(o||(o=babelHelpers.taggedTemplateLiteralLoose(["showMessageNotification: Suppress notification on app closed: ",""])),A);a=(a=d("WAWebWindowsHybridBridgeFactory").getWindowsBridge())==null?void 0:a.systemIntegrationsBridge;if(a!=null){d("WALogger").LOG(p||(p=babelHelpers.taggedTemplateLiteralLoose(["showMessageNotification: Using WindowsHybridBridgeSystemIntegrations"])));if(a instanceof d("WAWebWindowsHybridBridgeSystemIntegrations.v2567").WindowsHybridBridgeSystemIntegrations_v2567||a instanceof d("WAWebWindowsHybridBridgeSystemIntegrations.v2569").WindowsHybridBridgeSystemIntegrations_v2569||a instanceof d("WAWebWindowsHybridBridgeSystemIntegrations.v2570").WindowsHybridBridgeSystemIntegrations_v2570||a instanceof d("WAWebWindowsHybridBridgeSystemIntegrations.v2571").WindowsHybridBridgeSystemIntegrations_v2571||a instanceof d("WAWebWindowsHybridBridgeSystemIntegrations.v2572").WindowsHybridBridgeSystemIntegrations_v2572)try{a.showMessageNotification(e,f,g,x,y,z,E.map(function(a){return a[0]}),E.map(function(a){return a[1]}),C,D,B),d("WALogger").LOG(q||(q=babelHelpers.taggedTemplateLiteralLoose(["showMessageNotification: Successfully called hybrid bridge notification"])))}catch(a){d("WALogger").ERROR(r||(r=babelHelpers.taggedTemplateLiteralLoose(["showMessageNotification: Hybrid bridge error: ",""])),a).devConsole(a);throw a}else try{b=Q(b);a.showMessageNotification(e,f,g,x,y,z,E.map(function(a){return a[0]}),E.map(function(a){return a[1]}),C,D,B,Number(b));d("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["showMessageNotification: Successfully called hybrid bridge notification"])))}catch(a){d("WALogger").ERROR(t||(t=babelHelpers.taggedTemplateLiteralLoose(["showMessageNotification: Hybrid bridge error: ",""])),a).devConsole(a);throw a}return}d("WALogger").LOG(u||(u=babelHelpers.taggedTemplateLiteralLoose(["showMessageNotification: Using WindowsMessagePassingBridge"])));d("WAWebWindowsMessagePassingBridgeFactory").getWindowsMessagePassingBridge().call("ShowMessageNotification",{key:e,tag:f,header:g,body:x,thumbnailPath:y,footer:z,contextMenu:E,replyInputPlaceholder:C,replyButtonContent:D,suppressBanner:B,suppressNotificationOnAppClosed:A}).then(function(){d("WALogger").LOG(v||(v=babelHelpers.taggedTemplateLiteralLoose(["showMessageNotification: Successfully called message passing bridge notification"])))})["catch"](function(a){d("WALogger").ERROR(w||(w=babelHelpers.taggedTemplateLiteralLoose(["showMessageNotification: Message passing bridge error: ",""])),a).devConsole(a)})}function J(a){var b;if(!c("WAWebEnvironment").isWindows){d("WALogger").LOG(x||(x=babelHelpers.taggedTemplateLiteralLoose(["playTone: Skipping playing tone - not Windows environment"])));return}b=(b=d("WAWebWindowsHybridBridgeFactory").getWindowsBridge())==null?void 0:b.systemIntegrationsBridge;if(b==null||b instanceof d("WAWebWindowsHybridBridgeSystemIntegrations.v2567").WindowsHybridBridgeSystemIntegrations_v2567||b instanceof d("WAWebWindowsHybridBridgeSystemIntegrations.v2569").WindowsHybridBridgeSystemIntegrations_v2569||b instanceof d("WAWebWindowsHybridBridgeSystemIntegrations.v2570").WindowsHybridBridgeSystemIntegrations_v2570||b instanceof d("WAWebWindowsHybridBridgeSystemIntegrations.v2571").WindowsHybridBridgeSystemIntegrations_v2571||b instanceof d("WAWebWindowsHybridBridgeSystemIntegrations.v2572").WindowsHybridBridgeSystemIntegrations_v2572||b instanceof d("WAWebWindowsHybridBridgeSystemIntegrations.v2573").WindowsHybridBridgeSystemIntegrations_v2573){d("WALogger").LOG(y||(y=babelHelpers.taggedTemplateLiteralLoose(["playTone: unsupported bridge for playing tone"])));return}d("WALogger").LOG(z||(z=babelHelpers.taggedTemplateLiteralLoose(["playTone: ",""])),a);b.playTone(Number(a));return}function K(){return c("WAWebEnvironment").isWindows&&d("WAWebMuteCollection").MuteCollection.getGlobalNotifications()}function L(a){if(!c("WAWebEnvironment").isWindows)return!1;if(!a.shouldShowNotificationPreview())return!1;a=d("WAWebFrontendMsgGetters").getChat(a);return a.canSend}function M(a){if(!c("WAWebEnvironment").isWindows)return[];a=d("WAWebFrontendMsgGetters").getChat(a);var b=[];a.mute.canMute()&&b.push.apply(b,[{content:d("WAWebWindowsNotificationStrings").getMute8HoursLabel().toString(),action:c("WAWebBannerContextMenuActions").MuteChatForEightHours},{content:d("WAWebWindowsNotificationStrings").getMuteOneWeekLabel().toString(),action:c("WAWebBannerContextMenuActions").MuteChatForOneWeek},{content:d("WAWebWindowsNotificationStrings").getMuteNotificationsLabel().toString(),action:c("WAWebBannerContextMenuActions").MuteChat}]);b.push({content:d("WAWebWindowsNotificationStrings").getDisableNotificationsLabel().toString(),action:c("WAWebBannerContextMenuActions").DisableNotifications});return b}function N(){return O.apply(this,arguments)}function O(){O=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a;d("WALogger").LOG(B||(B=babelHelpers.taggedTemplateLiteralLoose(["IsNotificationsEnabledInSystem: Checking system notification status"])));a=(a=d("WAWebWindowsHybridBridgeFactory").getWindowsBridge())==null?void 0:a.systemIntegrationsBridge;if(a!=null){d("WALogger").LOG(C||(C=babelHelpers.taggedTemplateLiteralLoose(["IsNotificationsEnabledInSystem: Using WindowsHybridBridgeSystemIntegrations"])));a=(yield a.isNotificationEnabledInSystem());d("WALogger").LOG(D||(D=babelHelpers.taggedTemplateLiteralLoose(["IsNotificationsEnabledInSystem: Result from hybrid bridge: ",""])),a);return a}d("WALogger").LOG(E||(E=babelHelpers.taggedTemplateLiteralLoose(["IsNotificationsEnabledInSystem: Using WindowsMessagePassingBridge"])));try{a=(yield d("WAWebWindowsMessagePassingBridgeFactory").getWindowsMessagePassingBridge().call("IsNotificationEnabledInSystem"));var b=a==="true";d("WALogger").LOG(F||(F=babelHelpers.taggedTemplateLiteralLoose(["IsNotificationsEnabledInSystem: Raw result: ",", parsed: ",""])),a,b);return b}catch(a){d("WALogger").ERROR(G||(G=babelHelpers.taggedTemplateLiteralLoose(["IsNotificationsEnabledInSystem: windows native notification error: ",""])),a).devConsole(a);d("WALogger").LOG(H||(H=babelHelpers.taggedTemplateLiteralLoose(["IsNotificationsEnabledInSystem: Returning false due to error"])));return!1}});return O.apply(this,arguments)}function P(){window.open("ms-settings:notifications")}function Q(a){if(!d("WAWebMuteCollection").MuteCollection.getGlobalSounds())return d("WAWebWindowsNotificationToneOption").NotificationToneOption.None;if(!d("WAWebWindowsNotificationSettingsHelpers").isCustomNotificationTonesEnabled())return d("WAWebWindowsNotificationToneOption").NotificationToneOption.Default;if(a!=null&&a.toneId!=null){var b=d("WAWebWindowsNotificationToneOption").NotificationToneOption.cast(a.toneId);if(b!=null)return b;d("WALogger").LOG(A||(A=babelHelpers.taggedTemplateLiteralLoose(["selectNotificationTone: Invalid toneId: ",""])),a.toneId)}return a&&d("WAWebChatGetters").getIsGroup(a)?d("WAWebWindowsUserPrefsNotifications").getNotificationToneGroupSetting():d("WAWebWindowsUserPrefsNotifications").getNotificationToneSetting()}g.shouldIgnoreSquelchForGroupMention=a;g.shouldSuppressBanner=e;g.closeMessageNotification=f;g.showMessageNotification=I;g.playTone=J;g.shouldShowBanner=K;g.isReplyable=L;g.getContextMenuItems=M;g.IsNotificationsEnabledInSystem=N;g.OpenSystemNotificationsSettings=P}),98);
__d("WAWebWindowsScalingControlConstants",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({ZeroEight:.8,ZeroNine:.9,One:1,OneOne:1.1,OneTwoFive:1.25,OneThreeFive:1.35,OneFive:1.5});c=2e3;d=5e3;e="ppncngpjbffnoddcfkinoiplldkmafkc";f.AllowedZoomLevel=a;f.BRIDGE_MESSAGE_TIMEOUT=c;f.BRIDGE_MESSAGE_TIMEOUT_RETRY=d;f.ZOOM_BROWSER_EXTENSION_ID=e}),66);
__d("WAWebWindowsScalingControlActions",["WACustomError","WALogger","WAPromiseTimeout","WAWebWindowsHybridBridge.v2558","WAWebWindowsHybridBridge.v2559","WAWebWindowsHybridBridge.v2560","WAWebWindowsHybridBridge.v2562","WAWebWindowsHybridBridge.v2563","WAWebWindowsHybridBridge.v2564","WAWebWindowsHybridBridge.v2566","WAWebWindowsHybridBridge.v2567","WAWebWindowsHybridBridge.v2569","WAWebWindowsHybridBridgeFactory","WAWebWindowsScalingControlConstants","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J=function(){var a=d("WAWebWindowsHybridBridgeFactory").getWindowsBridge(),b=a==null?void 0:a.browserExtensionsBridge;b==null&&!(a instanceof d("WAWebWindowsHybridBridge.v2569").WindowsHybridBridge_v2569)&&!(a instanceof d("WAWebWindowsHybridBridge.v2567").WindowsHybridBridge_v2567)&&!(a instanceof d("WAWebWindowsHybridBridge.v2566").WindowsHybridBridge_v2566)&&!(a instanceof d("WAWebWindowsHybridBridge.v2564").WindowsHybridBridge_v2564)&&!(a instanceof d("WAWebWindowsHybridBridge.v2563").WindowsHybridBridge_v2563)&&!(a instanceof d("WAWebWindowsHybridBridge.v2562").WindowsHybridBridge_v2562)&&!(a instanceof d("WAWebWindowsHybridBridge.v2560").WindowsHybridBridge_v2560)&&!(a instanceof d("WAWebWindowsHybridBridge.v2559").WindowsHybridBridge_v2559)&&!(a instanceof d("WAWebWindowsHybridBridge.v2558").WindowsHybridBridge_v2558)&&d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[debug][scaling control] browserExtensionsBridge extension bridge is not available"]))).tags("hybrid").sendLogs("hybrid-scaling-control-extension-bridge-not-available");return b},K=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=J();if(a==null)return!1;try{var b=(yield d("WAPromiseTimeout").promiseTimeout(a.hasBootstrappedSuccessfully(),d("WAWebWindowsScalingControlConstants").BRIDGE_MESSAGE_TIMEOUT,"[hybrid][scaling control] Waiting for hasBootstrappedSuccessfully timed out after "+d("WAWebWindowsScalingControlConstants").BRIDGE_MESSAGE_TIMEOUT+"ms"));if(!b){d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[debug][scaling control] browserExtensionsBridge extension hasn't bootstrapped"]))).tags("hybrid").sendLogs("hybrid-scaling-control-extension-not-bootstrapped");return!1}d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[debug][scaling control] Extension has bootstrapped successfully"])))}catch(a){if(a instanceof d("WACustomError").TimeoutError){d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["[scaling control] Timeout error occurred while waiting for hasBootstrappedSuccessfully"]))).tags("hybrid").devConsole(a);return!1}throw a}b=(yield a.getBrowserExtensionsInfoAsync());if(b==null||!Array.isArray(b)){d("WALogger").LOG(l||(l=babelHelpers.taggedTemplateLiteralLoose(["[debug][scaling control] browserExtensionsBridge extension info is not available"]))).tags("hybrid").sendLogs("hybrid-scaling-control-extension-info-not-available");return!1}a=b.find(function(a){return a.id===d("WAWebWindowsScalingControlConstants").ZOOM_BROWSER_EXTENSION_ID});if(a==null){d("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["[debug][scaling control] Zoom extension data is missing in extension info"]))).tags("hybrid").sendLogs("hybrid-scaling-control-zoom-extension-data-missing");return!1}b=a.isEnabled===!0;d("WALogger").LOG(n||(n=babelHelpers.taggedTemplateLiteralLoose(["[debug][scaling control] Zoom extension enabled: ",""])),b);return b});return function(){return a.apply(this,arguments)}}(),L=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield K());if(a)return!0;d("WALogger").LOG(o||(o=babelHelpers.taggedTemplateLiteralLoose(["[scaling control] Font size extension is not enabled"])));a=(yield M());if(!a){d("WALogger").LOG(p||(p=babelHelpers.taggedTemplateLiteralLoose(["[scaling control] Could not reload the extension"])));return!1}a=(yield K());if(!a){d("WALogger").LOG(q||(q=babelHelpers.taggedTemplateLiteralLoose(["[scaling control] Font size extension is not enabled after reload"]))).tags("hybrid").sendLogs("hybrid-scaling-control-extension-not-enabled-after-reload");return!1}return!0});return function(){return a.apply(this,arguments)}}(),M=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=J();if(a==null)return!1;try{yield a.removeBrowserExtensionAsync(d("WAWebWindowsScalingControlConstants").ZOOM_BROWSER_EXTENSION_ID),d("WALogger").LOG(r||(r=babelHelpers.taggedTemplateLiteralLoose(["[debug][scaling control] Zoom extension is removed"]))).tags("hybrid")}catch(a){d("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["[debug][scaling control] Error while removing Zoom extension"]))).tags("hybrid").sendLogs("hybrid-scaling-control-extension-error-while-removing-extension")}try{yield a.installZoomBrowserExtensionAsync(),d("WALogger").LOG(t||(t=babelHelpers.taggedTemplateLiteralLoose(["[debug][scaling control] Zoom extension is installed"]))).tags("hybrid")}catch(a){d("WALogger").LOG(u||(u=babelHelpers.taggedTemplateLiteralLoose(["[debug][scaling control] Error while installing Zoom extension"]))).tags("hybrid").sendLogs("hybrid-scaling-control-extension-error-while-installing-extension");return!1}try{yield a.enableBrowserExtensionAsync(d("WAWebWindowsScalingControlConstants").ZOOM_BROWSER_EXTENSION_ID,!0),d("WALogger").LOG(v||(v=babelHelpers.taggedTemplateLiteralLoose(["[debug][scaling control] Zoom extension is enabled"]))).tags("hybrid")}catch(a){d("WALogger").LOG(w||(w=babelHelpers.taggedTemplateLiteralLoose(["[debug][scaling control] Error while enabling Zoom extension"]))).tags("hybrid").sendLogs("hybrid-scaling-control-extension-error-while-enabling-extension");return!1}return!0});return function(){return a.apply(this,arguments)}}(),N=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){d("WALogger").LOG(x||(x=babelHelpers.taggedTemplateLiteralLoose(["[scaling control] Starting zoom operation retry - ",""])),b);b=J();if(b==null){d("WALogger").LOG(y||(y=babelHelpers.taggedTemplateLiteralLoose(["[scaling control] Browser Extension Bridge is not available"])));return null}try{yield b.enableBrowserExtensionAsync(d("WAWebWindowsScalingControlConstants").ZOOM_BROWSER_EXTENSION_ID,!1),d("WALogger").LOG(z||(z=babelHelpers.taggedTemplateLiteralLoose(["[scaling control] Zoom extension is disabled successfully"])))}catch(a){d("WALogger").LOG(A||(A=babelHelpers.taggedTemplateLiteralLoose(["[scaling control] Error while disabling Zoom extension "]))).tags("hybrid").sendLogs("hybrid-scaling-control-extension-error-while-disabling-extension-in-retry");return null}try{yield b.enableBrowserExtensionAsync(d("WAWebWindowsScalingControlConstants").ZOOM_BROWSER_EXTENSION_ID,!0),d("WALogger").LOG(B||(B=babelHelpers.taggedTemplateLiteralLoose(["[scaling control] Zoom extension is enabled successfully"])))}catch(a){d("WALogger").LOG(C||(C=babelHelpers.taggedTemplateLiteralLoose(["[scaling control] Error while enabling Zoom extension"]))).tags("hybrid").sendLogs("hybrid-scaling-control-extension-error-while-enabling-extension-in-retry");return null}try{b=(yield d("WAPromiseTimeout").promiseTimeout(a(),d("WAWebWindowsScalingControlConstants").BRIDGE_MESSAGE_TIMEOUT_RETRY,"[hybrid][scaling control] Zoom operation timed out again after extension restart"));if(b!=null&&b.zoom!=null){d("WALogger").LOG(D||(D=babelHelpers.taggedTemplateLiteralLoose(["[scaling control] Zoom success after extension restart"]))).tags("hybrid").sendLogs("hybrid-scaling-control-retry-success-after-restart");return null}return b}catch(a){a instanceof d("WACustomError").TimeoutError?d("WALogger").ERROR(E||(E=babelHelpers.taggedTemplateLiteralLoose(["[scaling control] Timeout error occurred while waiting for zoom extension response after extension restart"]))).tags("hybrid").devConsole(a).sendLogs("hybrid-scaling-control-timeout-error-after-retry"):d("WALogger").ERROR(F||(F=babelHelpers.taggedTemplateLiteralLoose(["[scaling control] Timeout error occurred while waiting for zoom extension response"]))).tags("hybrid").devConsole(a).sendLogs("hybrid-scaling-control-unknown-error-after-retry");throw a}});return function(b,c){return a.apply(this,arguments)}}();a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){try{d("WALogger").LOG(G||(G=babelHelpers.taggedTemplateLiteralLoose(["[scaling control] Starting to fetch Zoom level"])));var c=(yield L());if(!c)return null;c=(yield d("WAPromiseTimeout").promiseTimeout(a(),d("WAWebWindowsScalingControlConstants").BRIDGE_MESSAGE_TIMEOUT,"[hybrid][scaling control] Zoom operation timed out"));return c}catch(e){if(e instanceof d("WACustomError").TimeoutError){d("WALogger").LOG(H||(H=babelHelpers.taggedTemplateLiteralLoose(["[scaling control] Timeout error occurred while waiting for zoom extension response"]))).tags("hybrid").devConsole(e);c=(yield N(a,b));return c}d("WALogger").ERROR(I||(I=babelHelpers.taggedTemplateLiteralLoose(["[scaling control] Unknown error occurred while waiting for zoom extension response"]))).tags("hybrid").devConsole(e).sendLogs("hybrid-scaling-control-"+b+"-unknown-error");throw e}});return function(b,c){return a.apply(this,arguments)}}();g.doZoomOperationWithExtensionCheckAndRestart=a}),98);
__d("WAWebWindowsScalingControl.react",["invariant","$InternalEnum","WALogger","WAWebWindowsHybridBridgeFactory","WAWebWindowsScalingControlActions","WAWebWindowsScalingControlConstants","WAWebWindowsScalingControlEventEmitter","asyncToGeneratorRuntime","useWAWebListener"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=b("$InternalEnum")({ZoomIn:"zoom-in",ZoomOut:"zoom-out",ZoomReset:"zoom-reset",GetZoom:"get-zoom",SetZoom:"set-zoom"}),m=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b;d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[scaling control] sending message to the browser extension"])));var c=window==null||(b=window.chrome)==null?void 0:b.runtime;c==null&&d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[scaling control] runtime should be available in the browser extension"])));c!=null||h(0,92250);c=(yield c.sendMessage(d("WAWebWindowsScalingControlConstants").ZOOM_BROWSER_EXTENSION_ID,a));d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["[scaling control] received response from the browser extension = ",""])),JSON.stringify(c));return c});return function(b){return a.apply(this,arguments)}}(),n=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b===void 0&&(b={});b=babelHelpers["extends"]({},b,{type:a});return m(b)});return function(b,c){return a.apply(this,arguments)}}(),o=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){b===void 0&&(b={});b=(yield n(a,b));if(b==null||a===l.GetZoom)return;(a=d("WAWebWindowsHybridBridgeFactory").getWindowsBridge())==null||(a=a.getScalingControl())==null||a.showScalingControl(b.zoom);c(b);return b});return function(b,c,d){return a.apply(this,arguments)}}();e=function(){function a(){this.sendZoomUpdateNotification=function(a){c("WAWebWindowsScalingControlEventEmitter").trigger("zoomUpdate",a.zoom)}}var e=a.prototype;e.getZoomLevel=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=this,b=l.GetZoom,c=(yield d("WAWebWindowsScalingControlActions").doZoomOperationWithExtensionCheckAndRestart(function(){return o(b,void 0,a.sendZoomUpdateNotification)},b));return c==null?void 0:c.zoom});function c(){return a.apply(this,arguments)}return c}();e.setZoomLevel=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=this,c=l.SetZoom;return d("WAWebWindowsScalingControlActions").doZoomOperationWithExtensionCheckAndRestart(function(){return o(c,{zoom:a},b.sendZoomUpdateNotification)},c)});function c(b){return a.apply(this,arguments)}return c}();e.zoomIn=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=this,b=l.ZoomIn;return d("WAWebWindowsScalingControlActions").doZoomOperationWithExtensionCheckAndRestart(function(){return o(b,void 0,a.sendZoomUpdateNotification)},b)});function c(){return a.apply(this,arguments)}return c}();e.zoomOut=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=this,b=l.ZoomOut;return d("WAWebWindowsScalingControlActions").doZoomOperationWithExtensionCheckAndRestart(function(){return o(b,void 0,a.sendZoomUpdateNotification)},b)});function c(){return a.apply(this,arguments)}return c}();e.zoomReset=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=this,b=l.ZoomReset;return d("WAWebWindowsScalingControlActions").doZoomOperationWithExtensionCheckAndRestart(function(){return o(b,void 0,a.sendZoomUpdateNotification)},b)});function c(){return a.apply(this,arguments)}return c}();return a}();var p=new e();function a(){var a,b;(b=d("useWAWebListener")).useListener(a=c("WAWebWindowsScalingControlEventEmitter"),"requestZoomIn",function(){void p.zoomIn()});b.useListener(a,"requestZoomOut",function(){void p.zoomOut()});b.useListener(a,"requestZoomReset",function(){void p.zoomReset()});b.useListener(a,"requestSpecificZoom",function(a){void p.setZoomLevel(a)});return null}g.WAWebScalingControlManager=p;g.WAWebWindowsScalingControl=a}),98);
__d("WAWebWindowsSelectedDevicesPrefs",["WAWebMediaCaptureStreamType","WAWebUserPrefsStore"],(function(a,b,c,d,e,f,g){var h="selected_audio_input",i="selected_video_input",j="selected_audio_output";function k(a){a=c("WAWebUserPrefsStore").getUser(a);return typeof a==="string"?a:""}function l(){return k(h)}function a(a){c("WAWebUserPrefsStore").setUser(h,a)}function m(){return k(i)}function b(a){c("WAWebUserPrefsStore").setUser(i,a)}function e(){return k(j)}function f(a){c("WAWebUserPrefsStore").setUser(j,a)}function n(a,b){return[].concat(a===d("WAWebMediaCaptureStreamType").WAWebMediaCaptureStreamType.CAMERA?o(b):a===d("WAWebMediaCaptureStreamType").WAWebMediaCaptureStreamType.MICROPHONE?p(b):a===d("WAWebMediaCaptureStreamType").WAWebMediaCaptureStreamType.CAMERA_AND_MICROPHONE?[].concat(o(b),p(b)):function(){throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+a)}(),b)}function o(a){var b=m().trim();return q(b,a,"video")}function p(a){var b=l().trim();return q(b,a,"audio")}function q(a,b,c){var d=[];if(a!=="")for(var e of[!0,!1])for(var f of b){var g=r(f[c],a,e);if(g){var h;d.push((h={},h[c]=g,h))}}return d}function r(a,b,c){var d={};a!=null&&typeof a==="object"&&(d=a);return c?babelHelpers["extends"]({deviceId:{exact:b}},d):babelHelpers["extends"]({deviceId:b},d)}g.getSelectedAudioInput=l;g.setSelectedAudioInput=a;g.getSelectedVideoInput=m;g.setSelectedVideoInput=b;g.getSelectedAudioOutput=e;g.setSelectedAudioOutput=f;g.addSelectedDeviceConstraints=n}),98);
__d("WAWebWindowsTaskbarController",["WALogger","WAWebChatCollection","WAWebCmd","WAWebWindowsHybridBridgeFactory","WAWebWindowsMessagePassingBridgeFactory","WAWebWindowsTaskbarNotificationOption","WAWebWindowsUserPrefsNotifications"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(){var a=this;this.$1=function(){a.ResetTaskbarBadge()};d("WAWebCmd").Cmd.on("starting_logout",this.$1)}var b=a.prototype;b.UpdateTaskbarBadge=function(a){var b,c=d("WAWebWindowsUserPrefsNotifications").getTaskbarNotificationSetting();b=(b=d("WAWebWindowsHybridBridgeFactory").getWindowsBridge())==null?void 0:b.systemIntegrationsBridge;if(b!=null){b.updateTaskbarBadge(a);return}d("WAWebWindowsMessagePassingBridgeFactory").getWindowsMessagePassingBridge().call("UpdateTaskbarBadge",{count:c===d("WAWebWindowsTaskbarNotificationOption").TaskbarNotificationOption.Never?0:a,ignoreIfAppInSystemTray:d("WAWebWindowsUserPrefsNotifications").getTaskbarNotificationSetting()===d("WAWebWindowsTaskbarNotificationOption").TaskbarNotificationOption.OnlyWhenAppIsOpen})["catch"](function(a){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["windows native notification error"]))).devConsole(a)})};b.ChangeTaskbarNotificationSetting=function(a){d("WAWebWindowsUserPrefsNotifications").setTaskbarNotificationSetting(a),a===d("WAWebWindowsTaskbarNotificationOption").TaskbarNotificationOption.Never?this.ResetTaskbarBadge():this.$2()};b.ResetTaskbarBadge=function(){this.UpdateTaskbarBadge(0)};b.$2=function(){var a=d("WAWebChatCollection").ChatCollection.getUnreadCount();this.UpdateTaskbarBadge(a)};b.OnIsAppInSystemTrayChanged=function(a){switch(d("WAWebWindowsUserPrefsNotifications").getTaskbarNotificationSetting()){case d("WAWebWindowsTaskbarNotificationOption").TaskbarNotificationOption.Always:break;case d("WAWebWindowsTaskbarNotificationOption").TaskbarNotificationOption.OnlyWhenAppIsOpen:a?this.ResetTaskbarBadge():this.$2();break;case d("WAWebWindowsTaskbarNotificationOption").TaskbarNotificationOption.Never:this.ResetTaskbarBadge();break}};return a}();b=new a();g.WATaskbarController=b}),98);
__d("WAWebWindowsVoipLinkPreviewCallLink",["fbt","WAWebABProps","WAWebConfirmPopup.react","WAWebContactCollection","WAWebFrontendContactGetters","WAWebModalManager","WAWebVoipStackInterface","asyncToGeneratorRuntime","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||c("react");function a(a,b){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=a.data;var c=a.token;a=a.callType;b===void 0&&(b=0);var e=d("WAWebABProps").getABPropConfigValue("enable_hybrid_call_links_join"),f=d("WAWebABProps").getABPropConfigValue("enable_lid_call_link"),g=d("WAWebContactCollection").ContactCollection.getMeContact();g=g?d("WAWebFrontendContactGetters").getUsername(g):null;if(e){e=a==="video";a=(yield d("WAWebVoipStackInterface").getVoipStackInterface());yield a==null?void 0:a.previewCallLink(c,e,f,b,g)}else d("WAWebModalManager").ModalManager.open(j.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{title:h._(/*BTDS*/"Call links not supported"),onOK:function(){d("WAWebModalManager").ModalManager.close()},children:h._(/*BTDS*/"WhatsApp Beta does not currently support call links. {line-break} Please use your phone to join this call.",[h._param("line-break",j.jsx("br",{}))])}))});return k.apply(this,arguments)}g.handleClickCallLink=a}),226);