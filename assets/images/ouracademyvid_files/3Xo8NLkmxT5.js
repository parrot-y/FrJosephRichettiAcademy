;/*FB_PKG_DELIM*/

__d("WAWebCartDeleteIcon.react",["fbt","WAWebDeleteIcon.react","WAWebSvgButton.react","react","vulture"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react"),k={deleteIcon:{color:"xhslqc4",":hover_color":"x12ln5q2",$$css:!0}};function a(a){a=a.onClick;c("vulture")("SJKPNyrg7VbCxcivcjiUbizee5k=");return j.jsx(c("WAWebSvgButton.react"),{"aria-label":h._(/*BTDS*/"Remove from cart"),Icon:d("WAWebDeleteIcon.react").DeleteIcon,title:h._(/*BTDS*/"Remove from cart"),xstyle:k.deleteIcon,onClick:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebOrderIcons",["WAWebCircledPlusCustomIcon","WAWebListMsgIconIcon.react","WAWebProductCatalogProductThumb.react","WAWebUISpacing","react","vulture"],(function(a,b,c,d,e,f,g){var h,i=h||c("react"),j={addItemSVG:{borderTopWidth:"x1ktv7sr",borderInlineEndWidth:"x142x0oa",borderBottomWidth:"xv7zg05",borderInlineStartWidth:"x12dgle5",color:"xx2jlie",$$css:!0},customItemSVG:{color:"xx2jlie",$$css:!0}};function k(){return i.jsx("div",{className:"x6s0dn4 x16kknjp xyi3aci xwf5gio x1p453bz x1suzm8a xuh0odg x78zum5 xsdox4t x1useyqa",children:i.jsx(d("WAWebListMsgIconIcon.react").ListMsgIconIcon,{xstyle:[j.customItemSVG,d("WAWebUISpacing").uiMargin.allAuto]})})}k.displayName=k.name+" [from "+f.id+"]";function a(){c("vulture")("t7Dg8kWIRBfEEJgLZxvtrXsFBKo=");return i.jsx("div",{className:"x6s0dn4 x16kknjp xyi3aci xwf5gio x1p453bz x1suzm8a xuh0odg x78zum5 xsdox4t x1useyqa",children:i.jsx(d("WAWebCircledPlusCustomIcon").CircledPlusCustomIcon,{wrapperStyles:[j.addItemSVG,d("WAWebUISpacing").uiMargin.allAuto],height:18})})}a.displayName=a.name+" [from "+f.id+"]";function b(a){var b=a.mediaData;a=a.useCustomIcon;return a||b==null?i.jsx(k,{}):i.jsx(d("WAWebProductCatalogProductThumb.react").ProductThumb,{mediaData:b,theme:"orderSquareThumb"})}b.displayName=b.name+" [from "+f.id+"]";g.AddItemIcon=a;g.OrderItemIcon=b}),98);
__d("WAWebOrderAddItem",["WAWebCellFrame.react","WAWebOrderIcons","react","vulture"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function a(a){var b=a.onClick;a=a.title;c("vulture")("Qrzp7BdykGN_zAxPC-UIzqsrWmE=");return i.jsx(c("WAWebCellFrame.react"),{testid:void 0,image:i.jsx(d("WAWebOrderIcons").AddItemIcon,{}),primary:a,theme:"add-order-item",onClick:b})}a.displayName=a.name+" [from "+f.id+"]";g.AddOrderItem=a}),98);
__d("WAWebOrderDetailErrorUtils",["fbt","WATypeUtils","WAWebCurrencyUtils","WAWebOrderDetailMath","WAWebToast.react","WAWebToastManager","react"],(function(a,b,c,d,e,f,g,h){var i,j,k=j||c("react"),l=(i||(i=d("react"))).useEffect;function a(a){l(function(){for(var b in a){var c=a[b];c!=null&&d("WAWebToastManager").ToastManager.open(k.jsx(d("WAWebToast.react").Toast,{duration:1e4,id:b+c.toString(),msg:c,action:{actionText:h._(/*BTDS*/"OK"),dismiss:!0,theme:"success"}}))}},[a])}function m(){return h._(/*BTDS*/"Enter a valid number")}m.displayName=m.name+" [from "+f.id+"]";function n(){return h._(/*BTDS*/"Enter a positive number")}n.displayName=n.name+" [from "+f.id+"]";var o=function(a){return h._(/*BTDS*/"{input_label} cannot be more than 100\u0025",[h._param("input_label",a)])},p=function(a){return h._(/*BTDS*/"{input_label} cannot be more than subtotal",[h._param("input_label",a)])};function b(a){var b=a.currency,c=a.enablePercentValueCheck,e=a.fieldType,f=a.label,g=a.maxFlatValue;a=a.value;if(!d("WAWebCurrencyUtils").validatePriceString(b,a))return m();b=d("WAWebCurrencyUtils").valueFromString(b,a)/d("WAWebOrderDetailMath").DEFAULT_OFFSET;if(b<0)return n();if(e===d("WAWebOrderDetailMath").PERCENTAGE_SYMBOL){if(Boolean(c)&&b>100)return o(f!=null?f:"")}else if(d("WATypeUtils").isNumber(g)&&b>g)return p(f!=null?f:"");return""}g.useShowToastErrors=a;g.getOrderDetailInvalidNumberErrorMessage=m;g.getOrderDetailNegativeNumberErrorMessage=n;g.errorMessageBigPercentageValue=o;g.errorMessageBigFlatValue=p;g.additionalChargeErrorHandler=b}),226);
__d("WAWebOrderDetailAmountInput",["fbt","WAWebCurrencyUtils","WAWebOrderDetailErrorUtils","WAWebOrderDetailMath","WAWebRichTextField.react","WAWebUISpacing","react","stylex","vulture"],(function(a,b,c,d,e,f,g,h){var i,j,k,l=k||c("react"),m=(i||(i=d("react"))).useState;function n(a,b){if(a==null||!a.length||!d("WAWebCurrencyUtils").validatePriceString(b,a))return h._(/*BTDS*/"Enter a valid price");b=d("WAWebCurrencyUtils").valueFromString(b,a)/d("WAWebOrderDetailMath").DEFAULT_OFFSET;if(b<0)return h._(/*BTDS*/"Enter a positive price")}var o={container:{marginTop:"xs9mwh0",overflowX:"x6ikm8r",overflowY:"x10wlt62",textAlign:"x1yc453h",width:"x1dmp6jm",$$css:!0}};function a(a){var b=a.currency,e=a.onCancel,f=a.onSave;a=a.value;c("vulture")("VjrWJfLlIrDQFVjs-uC6KTzP440=");var g=m(null),i=g[0],k=g[1];g=m(a);var p=g[0],q=g[1];d("WAWebOrderDetailErrorUtils").useShowToastErrors({productPriceError:i});return l.jsx("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props([o.container,d("WAWebUISpacing").uiPadding.end2]),{children:l.jsx(d("WAWebRichTextField.react").RichTextField,{managed:!0,constrainedWidth:!0,hideFloatingLabel:!0,focusOnMount:!0,editable:!0,lockable:!0,startActive:!0,placeholder:h._(/*BTDS*/"Price"),value:p,theme:"default",maxLength:12,customStyleThemes:["disabledLabel","noErrorInfo"],testid:void 0,validate:function(a){a=n(a,b);k(a);return!a},onChange:function(a){a=a.text;q(a);k(n(a,b))},onSave:function(){f(p)},onCancel:e,error:i})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebOrderDetailSharedStyles",[],(function(a,b,c,d,e,f,g){a={clickableText:{color:"x1ph7ams",cursor:"x1ypdohk",fontWeight:"xo1l8bm",letterSpacing:"x12oo3zp",lineHeight:"x15bjb6t",":hover_textDecoration":"xt0b8zv",$$css:!0}};g["default"]=a}),98);
__d("WAWebOrderCatalogProductPrice",["fbt","$InternalEnum","WAWebCurrencyUtils","WAWebFlex.react","WAWebOrderDetailAmountInput","WAWebOrderDetailSharedStyles","WAWebUISpacing","react","stylex"],(function(a,b,c,d,e,f,g,h){var i,j,k=i||c("react"),l=b("$InternalEnum").Mirrored(["Readonly","EditableBlank","EditableFilled","Editing"]);function a(a){var b=a.currency;a.onEnter;var e=a.onPriceChange,f=a.onPriceStageChange,g=a.orderItem,i=a.price;a=a.priceStage;switch(a){case l.Editing:return k.jsx("div",{role:"textbox",onClick:function(a){return a.stopPropagation()},"data-testid":void 0,children:k.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",children:[k.jsx("span",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(d("WAWebUISpacing").uiPadding.end3),{children:d("WAWebCurrencyUtils").formatAmount1000ToParts(b,0).symbol})),k.jsx(c("WAWebOrderDetailAmountInput"),{currency:b,value:i!=null?String(i/1e3):"",onSave:function(a){f(l.EditableFilled),e(d("WAWebCurrencyUtils").valueFromString(b,a))},onCancel:function(){f(i==null?l.EditableBlank:l.EditableFilled)}})]})});case l.EditableFilled:return k.jsx("div",babelHelpers["extends"]({role:"button"},(j||(j=c("stylex"))).props(c("WAWebOrderDetailSharedStyles").clickableText),{onClick:function(a){f(l.Editing),a.stopPropagation()},"data-testid":void 0,children:d("WAWebCurrencyUtils").formatAmount1000(b,Number(i))}));case l.EditableBlank:return k.jsx("span",babelHelpers["extends"]({role:"button"},(j||(j=c("stylex"))).props(c("WAWebOrderDetailSharedStyles").clickableText),{onClick:function(a){f(l.Editing),a.stopPropagation()},"data-testid":void 0,children:h._(/*BTDS*/"Enter price")}));default:return k.jsx("div",{"data-testid":void 0,children:d("WAWebCurrencyUtils").formatAmount1000(b,g.price)})}}a.displayName=a.name+" [from "+f.id+"]";g.PriceStage=l;g.CatalogProductPrice=a}),226);
__d("WAWebOrderDetailItems",["fbt","WAWebBizGatingUtils","WAWebCartDeleteIcon.react","WAWebCellFrame.react","WAWebCommonQuantityControls.react","WAWebConfirmPopup.react","WAWebFlex.react","WAWebModalManager","WAWebOrderAddItem","WAWebOrderCatalogProductPrice","WAWebOrderIcons","WAWebOrderItemGetters","WAWebText_DONOTUSE.react","WAWebUISpacing","react","stylex"],(function(a,b,c,d,e,f,g,h){var i,j,k;b=k||d("react");var l=i||(i=c("react")),m=b.useCallback,n=b.useState,o={orderItemsContainer:{marginTop:"x7wgvq7",marginInlineEnd:"x14z9mp",marginBottom:"xh3wvx0",marginInlineStart:"x1lziwak",$$css:!0}};function p(a,b){d("WAWebModalManager").ModalManager.open(l.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{title:h._(/*BTDS*/"Delete {order_item_name} from order?",[h._param("order_item_name",b)]),okText:h._(/*BTDS*/"Delete"),onOK:function(){a==null||a(),d("WAWebModalManager").ModalManager.close()},cancelText:h._(/*BTDS*/"Cancel"),onCancel:function(){d("WAWebModalManager").ModalManager.close()}}))}function a(a){var b=a.currency,e=a.details,f=a.items,g=a.onAddItem,i=a.onDeleteItem,k=a.onItemQuantityChange,q=a.onPriceChange,r=a.priceMap;a=n(null);var s=a[0],t=a[1];a=n({});var u=a[0],v=a[1],w=m(function(a){if(a.price!=null)return d("WAWebOrderCatalogProductPrice").PriceStage.Readonly;else if((r==null?void 0:r[a.id])!=null)return d("WAWebOrderCatalogProductPrice").PriceStage.EditableFilled;return d("WAWebOrderCatalogProductPrice").PriceStage.EditableBlank},[r]),x=m(function(a,b){v(function(c){return babelHelpers["extends"]({},c,(c={},c[b.id]=a,c))})},[]),y=Boolean(e),z=function(a,e){var f;return l.jsxs("div",{className:"x6s0dn4 x78zum5",children:[l.jsx(d("WAWebOrderCatalogProductPrice").CatalogProductPrice,{price:(f=r==null?void 0:r[a.id])!=null?f:null,priceStage:(f=u[a.id])!=null?f:w(a),currency:b,orderItem:a,onPriceChange:function(b){return q==null?void 0:q(b,a.id)},onPriceStageChange:function(b){x(b,a)},onEnter:function(){t(null)}}),e===s&&l.jsx("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(d("WAWebUISpacing").uiMargin.start5),{children:l.jsx(c("WAWebCartDeleteIcon.react"),{onClick:function(b){b.stopPropagation(),p(function(){return i==null?void 0:i(e)},a.name)}})}))]})};return l.jsxs(d("WAWebFlex.react").FlexColumn,{align:"stretch",xstyle:o.orderItemsContainer,children:[!y&&(d("WAWebBizGatingUtils").orderDetailsFromCatalogEnabled()||d("WAWebBizGatingUtils").orderDetailsCustomItemEnabled())&&l.jsx(d("WAWebOrderAddItem").AddOrderItem,{title:h._(/*BTDS*/"Add items"),onClick:function(){return g==null?void 0:g()}}),f.map(function(a,b){var e,f=[];(e=a.properties)==null||e.forEach(function(a){var b=a[0];a=a[1];f.push(l.jsxs(d("WAWebFlex.react").FlexRow,{children:[l.jsxs(d("WAWebText_DONOTUSE.react").TextSpan,{children:[b,":\xa0"]}),l.jsx(d("WAWebText_DONOTUSE.react").TextSpan,{children:a})]}))});e=h._(/*BTDS*/"Quantity {item-quantity}",[h._param("item-quantity",a.quantity)]);e=l.jsxs(d("WAWebFlex.react").FlexColumn,{children:[y?e:l.jsx(c("WAWebCommonQuantityControls.react"),{quantity:a.quantity,onAddOneClick:function(){return k==null?void 0:k(b,a.quantity+1)},onRemoveOneClick:function(){return k==null?void 0:k(b,a.quantity-1)}}),f.length>0&&l.jsx(d("WAWebFlex.react").FlexColumn,{children:f})]});return l.jsx(c("WAWebCellFrame.react"),babelHelpers["extends"]({testid:void 0,className:(j||(j=c("stylex")))(b>0&&d("WAWebUISpacing").uiPadding.top10),disabled:!0,image:l.jsx(d("WAWebOrderIcons").OrderItemIcon,{mediaData:a.thumbnailUrl?d("WAWebOrderItemGetters").getMediaData(a):null,useCustomIcon:a.isCustomItem}),primary:l.jsx("span",{className:"x14ug900 x6ikm8r x10wlt62 xlyipyv xuxw1ft",title:a.name,children:a.name}),secondary:e,theme:"add-order-item",detail:z(a,b)},y?void 0:{onMouseEnter:function(){return t(b)},onMouseLeave:function(){return t(null)}}),b)})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebOrderDetailSectionContainer.react",["WAWebFlex.react","react"],(function(a,b,c,d,e,f,g){var h,i,j=i||c("react"),k=(h||(h=d("react"))).Children,l={container:{rowGap:"xgpatz3",columnGap:"x40hh3e",$$css:!0}};function a(a){a=a.children;return j.jsx(d("WAWebFlex.react").FlexColumn,{xstyle:l.container,align:"stretch",children:k.map(a,function(a,b){return j.jsxs(j.Fragment,{children:[b!==0?j.jsx("div",{className:"xx42vgk xlya59e x178xt8z xqtp20y"}):null,a]})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebOrderDetailSellerProfile.react",["fbt","WAWebBizGatingUtils","WAWebContactCollection","WAWebDetailImage.react","WAWebFlex.react","WAWebName.react","WAWebText_DONOTUSE.react","WAWebUISpacing","react","stylex"],(function(a,b,c,d,e,f,g,h){var i,j,k=i||c("react"),l={container:{columnGap:"x1amjocr",rowGap:"x1b8z93w",$$css:!0},uppercase:{textTransform:"xtvhhri",$$css:!0}};function a(a){var b=a.orderId,e=a.orderStatus,f=a.sellerWid;a=a.testid;a=d("WAWebContactCollection").ContactCollection.get(f);f=a?k.jsxs(k.Fragment,{children:[k.jsx(d("WAWebFlex.react").FlexRow,{children:k.jsx(d("WAWebDetailImage.react").DetailImage,{id:f,size:48})}),k.jsxs(d("WAWebFlex.react").FlexColumn,{align:"center",children:[k.jsx(d("WAWebName.react").Name,{className:"x14ug900 x1603h9y xk50ysn x1u7k74",useDisplayName:!0,contact:a}),b!=null?k.jsx(d("WAWebText_DONOTUSE.react").TextDiv,{color:"secondary",weight:"medium",className:(j||(j=c("stylex")))(l.uppercase,d("WAWebUISpacing").uiMargin.top4),children:d("WAWebBizGatingUtils").isOrderContentOptimizationEnabled()?h._(/*BTDS*/"charge #{order-id}",[h._param("order-id",b)]):h._(/*BTDS*/"order #{order-id}",[h._param("order-id",b)])}):null]})]}):null;return k.jsxs(d("WAWebFlex.react").FlexColumn,{align:"center",xstyle:[l.container,d("WAWebUISpacing").uiPadding.horiz16],testid:void 0,children:[f,e]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebOrderEphemeralExemptionPopup.react",["fbt","WAWebBizGatingUtils","WAWebCheckBox.react","WAWebConfirmPopup.react","WAWebFrontendContactGetters","WAWebModalManager","WAWebText.react","WAWebUISpacing","WAWebUserPrefsKeys","WAWebUserPrefsStore","react","stylex","vulture"],(function(a,b,c,d,e,f,g,h){var i,j,k,l=k||c("react"),m=(i||(i=d("react"))).useState;function a(a){var b=a.chat,e=a.onSubmit;c("vulture")("fcb1USQs1wkVjfyQpw7Ab2xgMls=");a=d("WAWebFrontendContactGetters").getFormattedUser(b.contact);b=m(!1);var f=b[0],g=b[1];b=function(){g(!f)};var i=function(){f&&c("WAWebUserPrefsStore").set(d("WAWebUserPrefsKeys").KEYS.DISAPPEARING_MSG_DISCLAIMER_DIMISSED,!0),d("WAWebModalManager").ModalManager.close(),e()},k=function(){d("WAWebModalManager").ModalManager.close()};return l.jsxs(d("WAWebConfirmPopup.react").ConfirmPopup,{testid:void 0,title:h._(/*BTDS*/"Disappearing messages are turned on"),onOK:i,onCancel:k,children:[l.jsx(d("WAWebText.react").WAWebTextSectionTitle,{children:d("WAWebBizGatingUtils").isOrderContentOptimizationEnabled()?h._(/*BTDS*/"Disappearing messages are turned on in your chat with {contact-name}, but this charge will not disappear.",[h._param("contact-name",a)]):h._(/*BTDS*/"Disappearing messages are turned on in your chat with {contact-name}, but this order will not disappear.",[h._param("contact-name",a)])}),l.jsx("div",{children:l.jsxs("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(d("WAWebUISpacing").uiPadding.vert6),{children:[l.jsx(d("WAWebCheckBox.react").CheckBox,{testid:void 0,id:"order-ephemeral-exemption-popup-skip-checkbox-id",checked:f,onChange:b}),l.jsx("label",babelHelpers["extends"]({htmlFor:"order-ephemeral-exemption-popup-skip-checkbox-id"},j.props(d("WAWebUISpacing").uiMargin.start8),{children:h._(/*BTDS*/"Don't show me this again")}))]}))})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebOrderTotalPrice",["fbt","WAWebBizEntryPoint","WAWebButton.react","WAWebOrdersExpansionUtils","WAWebText_DONOTUSE.react","WAWebUISpacing","react","stylex","vulture"],(function(a,b,c,d,e,f,g,h){var i,j,k=i||c("react"),l={buttonWrapper:{alignItems:"x6s0dn4",display:"x78zum5",flexDirection:"xdt5ytf",$$css:!0},errorLabel:{textAlign:"x2b8uid",$$css:!0}};function m(a){var b=a.disabled,e=a.onClick,f=a.testid;f=a.title;return k.jsx("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(l.buttonWrapper,d("WAWebUISpacing").uiMargin.top16),{children:k.jsx(d("WAWebButton.react").Button,{type:"primary",disabled:b,onClick:e,testid:void 0,children:f})}))}m.displayName=m.name+" [from "+f.id+"]";function n(a){var b=a.entryPoint;b=b===void 0?null:b;a=a.onClick;a=a===void 0?null:a;c("vulture")("zk_0AHIURibwuKYeXzQw1hbEhU4=");return b===c("WAWebBizEntryPoint").FROM_CART&&a!=null&&d("WAWebOrdersExpansionUtils").isOrderExpansionEnabled()?k.jsx("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(l.buttonWrapper,d("WAWebUISpacing").uiMargin.top16),{children:k.jsx(d("WAWebButton.react").Button,{type:"secondary",onClick:a,testid:void 0,children:h._(/*BTDS*/"Decline cart")})})):null}n.displayName=n.name+" [from "+f.id+"]";function a(a){var b=a.confirmTitle,e=a.disabled,f=a.entryPoint;f=f===void 0?null:f;var g=a.error;g=g===void 0?null:g;var h=a.onConfirm,i=a.onDeclineOrder;i=i===void 0?null:i;var j=a.testid;j=a.title;var o=a.totalPrice,p=a.visible;a=a.xstyle;c("vulture")("M9C9D-CSyVrUntQJPOmP1hwzq-0=");return p?k.jsxs(d("WAWebText_DONOTUSE.react").TextDiv,{xstyle:a,children:[g==null?k.jsxs("div",{className:"x78zum5 x1q0g3np x117nqv4 x1qughib","data-testid":void 0,children:[j,k.jsx("p",{children:o})]}):k.jsx(d("WAWebText_DONOTUSE.react").TextDiv,{color:"danger",size:"16",xstyle:l.errorLabel,children:g}),k.jsx(m,{title:b,onClick:h,disabled:e||Boolean(g),testid:void 0}),k.jsx(n,{entryPoint:f,onClick:i})]}):null}a.displayName=a.name+" [from "+f.id+"]";g.OrderApplyChangesButton=m;g.OrderTotalPrice=a}),226);
__d("WAWebWamEnumOrderSignalType",[],(function(a,b,c,d,e,f){a=Object.freeze({CREATED:0,UPDATED:1});f.ORDER_SIGNAL_TYPE=a}),66);
__d("WAWebWamEnumOrderStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({PROCESSING:0,SHIPPED:1,COMPLETED:2,CANCELLED:3,PENDING:4,PARTIALLY_SHIPPED:5,PAID_CHANGE:6});f.ORDER_STATUS=a}),66);
__d("WAWebCtwaOrderSignalWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumCustomerAdsSharingSettingEnabled","WAWebWamEnumOrderSignalType","WAWebWamEnumOrderStatus"],(function(a,b,c,d,e,f,g){b=(a=d("WAWebWamCodegenUtils")).defineEvents({CtwaOrderSignal:[4264,{ctwaOrderSignalVersion:[1,a.TYPES.INTEGER],ctwaSignalMetadata:[10,a.TYPES.STRING],customerAdsSharingSettingEnabled:[11,d("WAWebWamEnumCustomerAdsSharingSettingEnabled").CUSTOMER_ADS_SHARING_SETTING_ENABLED],deepLinkConversionData:[2,a.TYPES.STRING],deepLinkConversionSource:[3,a.TYPES.STRING],eventSharingSettingEnabled:[4,a.TYPES.BOOLEAN],globalSharingSettingEnabled:[5,a.TYPES.BOOLEAN],orderPaid:[8,a.TYPES.BOOLEAN],orderSignalType:[6,d("WAWebWamEnumOrderSignalType").ORDER_SIGNAL_TYPE],orderStatus:[7,d("WAWebWamEnumOrderStatus").ORDER_STATUS],threadIdHmac:[9,a.TYPES.STRING]},[1,1,1],"regular"]},{CtwaOrderSignal:[]});g.CtwaOrderSignalWamEvent=b}),98);
__d("WAWebSmbMarkAsXOrderAction",["WASmaxInBizSettingsEnums","WAWebBizGatingUtils","WAWebCTWADataSharingModel","WAWebCommonCTWADataSharing","WAWebCtwaOrderSignalWamEvent","WAWebOrderStatus","WAWebWamEnumCustomerAdsSharingSettingEnabled","WAWebWamEnumOrderSignalType","WAWebWamEnumOrderStatus"],(function(a,b,c,d,e,f,g){var h=function(a){switch(a){case d("WAWebOrderStatus").OrderStatus.Processing:case d("WAWebOrderStatus").OrderStatus.PreparingToShip:return d("WAWebWamEnumOrderStatus").ORDER_STATUS.PROCESSING;case d("WAWebOrderStatus").OrderStatus.Shipped:return d("WAWebWamEnumOrderStatus").ORDER_STATUS.SHIPPED;case d("WAWebOrderStatus").OrderStatus.Complete:case d("WAWebOrderStatus").OrderStatus.Delivered:return d("WAWebWamEnumOrderStatus").ORDER_STATUS.COMPLETED;case d("WAWebOrderStatus").OrderStatus.Canceled:return d("WAWebWamEnumOrderStatus").ORDER_STATUS.CANCELLED;case d("WAWebOrderStatus").OrderStatus.Pending:case d("WAWebOrderStatus").OrderStatus.PartiallyShipped:case d("WAWebOrderStatus").OrderStatus.PaymentRequested:case d("WAWebOrderStatus").OrderStatus.Confirmed:case d("WAWebOrderStatus").OrderStatus.Delayed:case d("WAWebOrderStatus").OrderStatus.Failed:case d("WAWebOrderStatus").OrderStatus.OutForDelivery:case d("WAWebOrderStatus").OrderStatus.Refunded:return null}},i=function(a){var b=d("WAWebCTWADataSharingModel").CTWADataSharingModel.getValue();b===d("WASmaxInBizSettingsEnums").ENUM_FALSE_NOTSET_TRUE["true"]?a={globalSharingSettingEnabled:!0,eventSharingSettingEnabled:a}:b===d("WASmaxInBizSettingsEnums").ENUM_FALSE_NOTSET_TRUE["false"]?a={globalSharingSettingEnabled:!1}:a=null;return a};a=function(a,b,e,f){e=h(e);if(e==null)return;a=c("WAWebCommonCTWADataSharing").getCTWAEligibilityFromChat(a);if(a==null||!d("WAWebBizGatingUtils").smbDataSharingConsentEnabled())return;a={ctwaOrderSignalVersion:1,deepLinkConversionSource:a.source,orderPaid:f,orderSignalType:d("WAWebWamEnumOrderSignalType").ORDER_SIGNAL_TYPE.UPDATED,orderStatus:e,customerAdsSharingSettingEnabled:d("WAWebWamEnumCustomerAdsSharingSettingEnabled").CUSTOMER_ADS_SHARING_SETTING_ENABLED.UNSET};new(d("WAWebCtwaOrderSignalWamEvent").CtwaOrderSignalWamEvent)(babelHelpers["extends"]({},a,i(b))).commit()};b=function(a,b){a=c("WAWebCommonCTWADataSharing").getCTWAEligibilityFromChat(a);if(a==null||!d("WAWebBizGatingUtils").smbDataSharingConsentEnabled())return;a={ctwaOrderSignalVersion:1,deepLinkConversionSource:a.source,orderPaid:!1,orderSignalType:d("WAWebWamEnumOrderSignalType").ORDER_SIGNAL_TYPE.CREATED,orderStatus:d("WAWebWamEnumOrderStatus").ORDER_STATUS.PROCESSING,customerAdsSharingSettingEnabled:d("WAWebWamEnumCustomerAdsSharingSettingEnabled").CUSTOMER_ADS_SHARING_SETTING_ENABLED.UNSET};new(d("WAWebCtwaOrderSignalWamEvent").CtwaOrderSignalWamEvent)(babelHelpers["extends"]({},a,i(b))).commit()};g.markOrderAsUpdatedStatusAction=a;g.markOrderAsCreatedAction=b}),98);
__d("WAWebOrderSummaryDrawer",["fbt","WASmaxInBizSettingsEnums","WAWebBizGatingUtils","WAWebCTWADataSharingModel","WAWebChatEphemerality","WAWebClickableLink.react","WAWebCommonCTWADataSharing","WAWebCurrencyUtils","WAWebDataSharingOptOutOrUpsell","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerHeader.react","WAWebDrawerSection.react","WAWebFlex.react","WAWebModalManager","WAWebOrderDetailItems","WAWebOrderDetailMath","WAWebOrderDetailSectionContainer.react","WAWebOrderDetailSellerProfile.react","WAWebOrderDetailSharedStyles","WAWebOrderEphemeralExemptionPopup.react","WAWebOrderExpansionNotSupportedPopup.react","WAWebOrderStatus","WAWebOrderTotalPrice","WAWebOrdersExpansionUtils","WAWebSmb3pdConversionSignalAction","WAWebSmbMarkAsXOrderAction","WAWebText_DONOTUSE.react","WAWebUISpacing","WAWebUserPrefsKeys","WAWebUserPrefsMeUser","WAWebUserPrefsStore","react","stylex","vulture"],(function(a,b,c,d,e,f,g,h){var i,j,k;b=k||d("react");var l=i||(i=c("react")),m=b.useEffect,n=b.useState,o={orderFieldsContainer:{columnGap:"x1mn2tih",rowGap:"x121sasi",$$css:!0},orderItemsContainer:{flexShrink:"xs83m0k",overflowY:"x1odjw0f",$$css:!0}},p=function(a,b,c,e){if(!a)return h._(/*BTDS*/"Items must all have a price").toString();a=d("WAWebBizGatingUtils").orderDetailsTotalOrderMinimumValue()*1e3;e=d("WAWebBizGatingUtils").orderDetailsTotalMaxValue(e)*1e3;if(b<a)return h._(/*BTDS*/"Total cannot be less than {order_min_allowed_amount}",[h._param("order_min_allowed_amount",d("WAWebCurrencyUtils").formatAmount1000(c,a))]).toString();return b>e?h._(/*BTDS*/"Total cannot be more than {order_max_allowed_amount}",[h._param("order_max_allowed_amount",d("WAWebCurrencyUtils").formatAmount1000(c,e))]).toString():null};function q(a){var b=a.additionalCharges,e=a.canChangeAdditionalCharges,f=a.canDisplayAdditionalCharges,g=a.currency,i=a.discount,k=a.onAdditionalCharges,m=a.shipping,n=a.subtotal;a=a.tax;var p=b!=null&&b.discountText&&b.discountType===d("WAWebOrderDetailMath").PERCENTAGE_SYMBOL?h._(/*BTDS*/"({discount_percent}\u0025)",[h._param("discount_percent",b.discountText)]):null;b=b!=null&&b.taxText&&b.taxType===d("WAWebOrderDetailMath").PERCENTAGE_SYMBOL?h._(/*BTDS*/"({tax_percent}\u0025)",[h._param("tax_percent",b.taxText)]):null;return l.jsxs(d("WAWebFlex.react").FlexColumn,{align:"stretch",xstyle:[o.orderFieldsContainer,d("WAWebUISpacing").uiPadding.horiz16,d("WAWebUISpacing").uiPadding.bottom20],children:[l.jsxs(d("WAWebFlex.react").FlexRow,{justify:"all",testid:void 0,children:[l.jsx(d("WAWebText_DONOTUSE.react").TextSpan,{color:"secondary",size:"16",children:h._(/*BTDS*/"Subtotal")}),l.jsx(d("WAWebText_DONOTUSE.react").TextSpan,{color:"secondary",size:"16",children:d("WAWebCurrencyUtils").formatAmount1000(g,n)})]}),Boolean(f)&&l.jsxs(l.Fragment,{children:[i!=null&&l.jsxs(d("WAWebFlex.react").FlexRow,{justify:"all",testid:void 0,children:[l.jsxs(d("WAWebText_DONOTUSE.react").TextSpan,{color:"secondary",size:"16",children:[h._(/*BTDS*/"Discount")," ",p]}),l.jsx(d("WAWebText_DONOTUSE.react").TextSpan,{color:"secondary",size:"16",children:d("WAWebCurrencyUtils").formatAmount1000(g,-i)})]}),m!=null&&l.jsxs(d("WAWebFlex.react").FlexRow,{justify:"all",testid:void 0,children:[l.jsx(d("WAWebText_DONOTUSE.react").TextSpan,{color:"secondary",size:"16",children:h._(/*BTDS*/"Shipping")}),l.jsx(d("WAWebText_DONOTUSE.react").TextSpan,{color:"secondary",size:"16",children:d("WAWebCurrencyUtils").formatAmount1000(g,m)})]}),a!=null&&l.jsxs(d("WAWebFlex.react").FlexRow,{justify:"all",testid:void 0,children:[l.jsxs(d("WAWebText_DONOTUSE.react").TextSpan,{color:"secondary",size:"16",children:[h._(/*BTDS*/"Tax")," ",b]}),l.jsx(d("WAWebText_DONOTUSE.react").TextSpan,{color:"secondary",size:"16",children:d("WAWebCurrencyUtils").formatAmount1000(g,a)})]}),Boolean(e)&&l.jsx(d("WAWebFlex.react").FlexRow,{justify:"all",align:"center",children:l.jsx(c("WAWebClickableLink.react"),{onClick:function(){return k==null?void 0:k()},testid:void 0,className:(j||(j=c("stylex")))(c("WAWebOrderDetailSharedStyles").clickableText,d("WAWebUISpacing").uiMargin.bottom0),children:l.jsx("span",{children:h._(/*BTDS*/"Add discount, shipping or tax")})})})]})]})}q.displayName=q.name+" [from "+f.id+"]";var r=function(a,b,e,f){if(c("WAWebCommonCTWADataSharing").shouldDisplayDataSharingOrderOptOutOrUpsell(a,"order-create",b))return l.jsx(d("WAWebDataSharingOptOutOrUpsell").DataSharingOptOutOrUpsell,{checkboxValue:e,onCheckboxToggle:f,theme:"order-create"})},s=function(){return d("WAWebCTWADataSharingModel").CTWADataSharingModel.getValue()===d("WASmaxInBizSettingsEnums").ENUM_FALSE_NOTSET_TRUE["true"]},t=function(a){var b=a.amount,e=a.chat,f=a.currency,g=a.onSubmit,h=a.smbOptOut;a=!d("WAWebOrdersExpansionUtils").isOrderExpansionEnabled()&&d("WAWebOrdersExpansionUtils").isSellerCountrySameAsBuyer(e)||d("WAWebOrdersExpansionUtils").isContactCountrySupported(e);if(!a){d("WAWebModalManager").ModalManager.open(l.jsx(c("WAWebOrderExpansionNotSupportedPopup.react"),{chat:e}));return}a=function(){d("WAWebSmbMarkAsXOrderAction").markOrderAsCreatedAction(e,h),d("WAWebSmb3pdConversionSignalAction").log3pdConversionSignalForOrders({chat:e,orderStatus:d("WAWebOrderStatus").OrderStatus.Processing,paidData:{amount:String(b),currency:f,paid:!1},type:"order_created"},h),g()};c("WAWebUserPrefsStore").get(d("WAWebUserPrefsKeys").KEYS.DISAPPEARING_MSG_DISCLAIMER_DIMISSED)!==!0&&d("WAWebBizGatingUtils").inOrderMessagesEphemeralExceptionEnabled()&&d("WAWebChatEphemerality").isEphemeralSettingOn(e)?d("WAWebModalManager").ModalManager.open(l.jsx(c("WAWebOrderEphemeralExemptionPopup.react"),{chat:e,onSubmit:a})):a()};function a(a){var b=a.additionalCharges,e=a.chat,f=a.currency,g=a.entryPoint;g=g===void 0?null:g;var i=a.flatAmounts,j=a.onAddItem,k=a.onAdditionalCharges,u=a.onBack,v=a.onDeclineOrder;v=v===void 0?null:v;var w=a.onDeleteItem,x=a.onItemQuantityChange,y=a.onPriceChange,z=a.onSubmit,A=a.orderItems,B=a.orderSubtotal,C=a.priceMap;c("vulture")("LoyxB5z1h-L8xUlQqXjyeHj5y28=");a=n(s);var D=a[0],E=a[1];m(function(){var a=function(){var a=d("WAWebCTWADataSharingModel").CTWADataSharingModel.getValue()===d("WASmaxInBizSettingsEnums").ENUM_FALSE_NOTSET_TRUE["true"];E(a)};d("WAWebCTWADataSharingModel").CTWADataSharingModel.subscribeForUpdates(a);return function(){d("WAWebCTWADataSharingModel").CTWADataSharingModel.unsubscribeFromUpdates(a)}},[]);a=A.every(function(a){var b;return Number.isInteger((b=a.price)!=null?b:C[a.id])});var F=A.length!==0;return l.jsxs(c("WAWebDrawer.react"),{children:[l.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:d("WAWebBizGatingUtils").isOrderContentOptimizationEnabled()?h._(/*BTDS*/"Charge buyer"):h._(/*BTDS*/"Create order"),onBack:u,type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.SMALL}),l.jsxs(c("WAWebDrawerBody.react"),{children:[l.jsxs(c("WAWebDrawerSection.react"),{xstyle:[o.orderItemsContainer,d("WAWebUISpacing").uiPadding.top20,d("WAWebUISpacing").uiMargin.bottom0],theme:"refresh-padding-title",children:[l.jsxs(c("WAWebOrderDetailSectionContainer.react"),{children:[l.jsx(c("WAWebOrderDetailSellerProfile.react"),{sellerWid:d("WAWebUserPrefsMeUser").getMePnUserOrThrow()}),l.jsx(c("WAWebOrderDetailItems"),{currency:f,priceMap:C,items:A,onDeleteItem:w,onPriceChange:y,onAddItem:j,onItemQuantityChange:x}),l.jsx(q,{tax:i.tax,discount:i.discount,shipping:i.shipping,currency:f,subtotal:B,additionalCharges:b,canDisplayAdditionalCharges:F,canChangeAdditionalCharges:F,onAdditionalCharges:k})]}),r(e,A.length,D,function(){return E(!D)})]}),l.jsx(c("WAWebDrawerSection.react"),{children:l.jsx(d("WAWebOrderTotalPrice").OrderTotalPrice,{xstyle:d("WAWebUISpacing").uiPadding.all16,visible:F,disabled:!a,testid:void 0,totalPrice:d("WAWebCurrencyUtils").formatAmount1000(f,i.total),title:h._(/*BTDS*/"Total"),onConfirm:function(){return t({amount:i.total/1e3,chat:e,currency:f,onSubmit:z,smbOptOut:D})},confirmTitle:d("WAWebBizGatingUtils").isOrderContentOptimizationEnabled()?h._(/*BTDS*/"Send charge request"):h._(/*BTDS*/"Send order"),error:p(a,i.total,f,e),entryPoint:g,onDeclineOrder:v})})]})]})}a.displayName=a.name+" [from "+f.id+"]";g.getErrorLabel=p;g.OrderValues=q;g.getDataSharing=r;g.maybeShowDialogOnSubmit=t;g.OrderSummaryDrawer=a}),226);