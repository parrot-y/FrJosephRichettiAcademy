/* ===== SMOOTH SCROLLING & ANTI-FLICKER FIX ===== */
/* Professional scrolling experience without flickering */

/* SMOOTH SCROLLING FOR ENTIRE PAGE */
html {
    scroll-behavior: smooth !important;
    scroll-padding-top: 80px !important;
}

body {
    scroll-behavior: smooth !important;
    overflow-x: hidden !important;
    -webkit-overflow-scrolling: touch !important;
}

/* PREVENT FLICKERING DURING SCROLL */
* {
    -webkit-backface-visibility: hidden !important;
    backface-visibility: hidden !important;
    -webkit-transform: translateZ(0) !important;
    transform: translateZ(0) !important;
    -webkit-perspective: 1000 !important;
    perspective: 1000 !important;
}

/* SMOOTH HEADER TRANSITIONS */
.header-area {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
    will-change: transform, background-color !important;
    -webkit-transform: translateZ(0) !important;
    transform: translateZ(0) !important;
}

.header-area.background-header {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
}

/* SMOOTH LOGO TRANSITIONS */
.header-area .main-nav .logo {
    transition: all 0.3s ease !important;
    will-change: transform !important;
    -webkit-transform: translateZ(0) !important;
    transform: translateZ(0) !important;
}

.header-area .main-nav .logo img {
    transition: all 0.3s ease !important;
    will-change: transform !important;
}

/* SMOOTH NAVIGATION LINKS */
.header-area .main-nav .nav li a {
    transition: all 0.3s ease !important;
    will-change: color, background-color !important;
}

/* PREVENT SECTION JUMPING */
.section {
    scroll-margin-top: 80px !important;
    transition: all 0.3s ease !important;
    will-change: transform !important;
    -webkit-transform: translateZ(0) !important;
    transform: translateZ(0) !important;
}

/* SMOOTH CONTENT TRANSITIONS */
.main-banner,
.heading-page {
    transition: all 0.3s ease !important;
    will-change: transform !important;
    -webkit-transform: translateZ(0) !important;
    transform: translateZ(0) !important;
}

/* SMOOTH CAROUSEL TRANSITIONS */
.owl-carousel {
    transition: all 0.3s ease !important;
    will-change: transform !important;
    -webkit-transform: translateZ(0) !important;
    transform: translateZ(0) !important;
}

.owl-carousel .owl-item {
    transition: all 0.3s ease !important;
    will-change: transform !important;
    -webkit-transform: translateZ(0) !important;
    transform: translateZ(0) !important;
}

/* SMOOTH CARD ANIMATIONS */
.meeting-item,
.meeting-single-item,
.card {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
    will-change: transform, box-shadow !important;
    -webkit-transform: translateZ(0) !important;
    transform: translateZ(0) !important;
}

/* SMOOTH BUTTON INTERACTIONS */
button,
.btn,
.main-button-red a,
.main-button-yellow a {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
    will-change: transform, background-color, color !important;
    -webkit-transform: translateZ(0) !important;
    transform: translateZ(0) !important;
}

/* SMOOTH IMAGE LOADING */
img {
    transition: opacity 0.3s ease !important;
    will-change: opacity !important;
    -webkit-transform: translateZ(0) !important;
    transform: translateZ(0) !important;
}

/* PREVENT LAYOUT SHIFTS */
.container {
    will-change: auto !important;
    -webkit-transform: translateZ(0) !important;
    transform: translateZ(0) !important;
}

.row {
    will-change: auto !important;
    -webkit-transform: translateZ(0) !important;
    transform: translateZ(0) !important;
}

/* SMOOTH MOBILE MENU TRANSITIONS */
@media (max-width: 767px) {
    .header-area .main-nav .nav {
        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1) !important;
        will-change: transform, opacity !important;
        -webkit-transform: translateZ(0) !important;
        transform: translateZ(0) !important;
    }
    
    .header-area .main-nav .nav.active {
        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1) !important;
    }
    
    .menu-trigger {
        transition: all 0.3s ease !important;
        will-change: transform !important;
        -webkit-transform: translateZ(0) !important;
        transform: translateZ(0) !important;
    }
}

/* OPTIMIZE SCROLL PERFORMANCE */
.header-area,
.main-banner,
.section,
.footer {
    contain: layout style paint !important;
}

/* SMOOTH FADE EFFECTS */
.fade-in {
    transition: opacity 0.6s cubic-bezier(0.4, 0, 0.2, 1), 
                transform 0.6s cubic-bezier(0.4, 0, 0.2, 1) !important;
    will-change: opacity, transform !important;
}

.fade-in.visible {
    transition: opacity 0.6s cubic-bezier(0.4, 0, 0.2, 1), 
                transform 0.6s cubic-bezier(0.4, 0, 0.2, 1) !important;
}

/* PREVENT FLICKER ON HOVER */
a:hover,
button:hover,
.btn:hover {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
    will-change: transform, color, background-color !important;
}

/* SMOOTH FOCUS TRANSITIONS */
a:focus,
button:focus,
input:focus,
textarea:focus {
    transition: all 0.3s ease !important;
    will-change: border-color, box-shadow !important;
}

/* OPTIMIZE FOR 60FPS */
@media (prefers-reduced-motion: no-preference) {
    * {
        animation-duration: 0.3s !important;
        animation-timing-function: cubic-bezier(0.4, 0, 0.2, 1) !important;
    }
}

/* RESPECT REDUCED MOTION PREFERENCES */
@media (prefers-reduced-motion: reduce) {
    * {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
        scroll-behavior: auto !important;
    }
    
    html {
        scroll-behavior: auto !important;
    }
}

/* SMOOTH SCROLLBAR */
::-webkit-scrollbar {
    width: 8px !important;
}

::-webkit-scrollbar-track {
    background: rgba(0, 0, 0, 0.1) !important;
}

::-webkit-scrollbar-thumb {
    background: rgba(0, 188, 212, 0.6) !important;
    border-radius: 4px !important;
    transition: background 0.3s ease !important;
}

::-webkit-scrollbar-thumb:hover {
    background: rgba(0, 188, 212, 0.8) !important;
}

/* PREVENT CONTENT JUMP */
.sub-header {
    transition: all 0.3s ease !important;
    will-change: transform !important;
    -webkit-transform: translateZ(0) !important;
    transform: translateZ(0) !important;
}

/* SMOOTH VIDEO TRANSITIONS */
video {
    transition: opacity 0.3s ease !important;
    will-change: opacity !important;
    -webkit-transform: translateZ(0) !important;
    transform: translateZ(0) !important;
}

/* OPTIMIZE COMPOSITE LAYERS */
.header-area,
.main-banner video,
.owl-carousel,
.meeting-item:hover,
.btn:hover {
    -webkit-transform: translateZ(0) !important;
    transform: translateZ(0) !important;
    will-change: transform !important;
}

/* SMOOTH PARALLAX (if any) */
.parallax {
    transition: transform 0.1s linear !important;
    will-change: transform !important;
    -webkit-transform: translateZ(0) !important;
    transform: translateZ(0) !important;
}

/* PREVENT LAYOUT THRASHING */
.container,
.row,
[class*="col-"] {
    contain: layout !important;
}

/* SMOOTH ANCHOR SCROLLING */
a[href^="#"] {
    scroll-behavior: smooth !important;
}

/* OPTIMIZE REPAINTS */
.header-area .main-nav .logo,
.header-area .main-nav .nav,
.menu-trigger {
    contain: layout style !important;
}

/* SMOOTH FORM INTERACTIONS */
input,
textarea,
select {
    transition: all 0.3s ease !important;
    will-change: border-color, box-shadow, background-color !important;
}

/* PREVENT FLICKER ON LOAD */
body.loading * {
    transition: none !important;
    animation: none !important;
}

body.loaded * {
    transition: all 0.3s ease !important;
}

/* SMOOTH MODAL/POPUP TRANSITIONS */
.modal,
.popup,
.dropdown {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
    will-change: opacity, transform !important;
    -webkit-transform: translateZ(0) !important;
    transform: translateZ(0) !important;
}

/* GPU ACCELERATION FOR CRITICAL ELEMENTS */
.header-area,
.main-banner,
.owl-carousel,
.meeting-item,
.btn {
    -webkit-transform: translate3d(0, 0, 0) !important;
    transform: translate3d(0, 0, 0) !important;
    -webkit-backface-visibility: hidden !important;
    backface-visibility: hidden !important;
}

/* SMOOTH STICKY BEHAVIOR */
.header-sticky {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
    will-change: transform, background-color !important;
}

/* OPTIMIZE FOR MOBILE SCROLLING */
@media (max-width: 768px) {
    body {
        -webkit-overflow-scrolling: touch !important;
        overflow-scrolling: touch !important;
    }
    
    .section {
        scroll-margin-top: 70px !important;
    }
    
    /* Reduce motion on mobile for better performance */
    * {
        transition-duration: 0.2s !important;
    }
}

/* PREVENT FLICKER DURING ORIENTATION CHANGE */
@media (orientation: landscape), (orientation: portrait) {
    * {
        -webkit-transform: translateZ(0) !important;
        transform: translateZ(0) !important;
    }
}
